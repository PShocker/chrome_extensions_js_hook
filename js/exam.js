require = function() {
    function e(n, a, t) {
        function i(r, l) {
            if (!a[r]) {
                if (!n[r]) {
                    var o = "function" == typeof require && require;
                    if (!l && o)
                        return o(r, !0);
                    if (s)
                        return s(r, !0);
                    var c = new Error("Cannot find module '" + r + "'");
                    throw c.code = "MODULE_NOT_FOUND",
                    c
                }
                var u = a[r] = {
                    exports: {}
                };
                n[r][0].call(u.exports, function(e) {
                    return i(n[r][1][e] || e)
                }, u, u.exports, e, n, a, t)
            }
            return a[r].exports
        }
        for (var s = "function" == typeof require && require, r = 0; r < t.length; r++)
            i(t[r]);
        return i
    }
    return e
}()({
    "./app/exam/evaluate-questionary/select-evaluate-questionary/add-research-refrence/index": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/add-research-refrence/index")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        i.assign(s, {
            RESEARCH_TYPE: 3
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/add-research-refrence/index": "./app/exam/research-questionary/select-research-questionary/add-research-refrence/index",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-questionary/add-research-refrence/questionary/index": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/index")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = e("./app/util/strings")
          , l = i.assign({}, t)
          , o = i.assign({}, l.items)
          , c = i.assign({}, l.store.callbacks)
          , u = i.assign({}, l.store.models)
          , d = i.assign({}, l.store.models.dimensions.mixin);
        l.items = o,
        i.assign(l.items, {
            "picker/select-dimension": {
                isModule: !0
            }
        }),
        l.store.models = u,
        i.assign(l.store.models, {
            batchDimension: {
                url: "../exam/dimension/batch-insert"
            }
        }),
        l.store.models.dimensions.mixin = d,
        i.assign(l.store.models.dimensions.mixin, {
            filterInsert: function(e) {
                var n = this
                  , a = [];
                return s.forEach(e, function(e) {
                    s.find(n.data, ["code", e.code]) || (i.assign(e, {
                        order: n.data.length + 1,
                        isSelect: e.isInit
                    }),
                    a.push(e))
                }),
                a
            },
            batchInsert: function(e) {
                var n = this
                  , a = [];
                return s.forEach(e, function(e, t) {
                    0 === t && i.assign(e, {
                        checked: !0
                    }),
                    s.find(n.data, ["code", e.code]) || (i.assign(e, {
                        order: n.data.length + 1
                    }),
                    n.data.push(e),
                    a.push(e))
                }),
                a
            }
        }),
        l.store.callbacks = c,
        i.assign(l.store.callbacks, {
            saveSelectDimension: function(e) {
                var n = this
                  , a = this.models.dimensions
                  , t = this.models.batchDimension
                  , i = a.filterInsert(e.dimensions) || [];
                return (!i || 0 !== i.length) && (t.set({
                    dimensions: JSON.stringify(i)
                }),
                this.post(t).then(function() {
                    a.batchInsert(t.data),
                    a.changed(),
                    n.app.message.success(r.get("save-success"))
                }))
            }
        }),
        n.exports = l
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/index": "./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/index",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-questionary/add-research-refrence/questionary/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="row col-sm-left exam-base-style">\n        <div class="col-sm-9" data-region="main"></div>\n        <div class="col-sm-3" data-region="side"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i, s, r) {
                var l;
                return '    <h3 class="m-top m-bottom">' + e.escapeExpression(e.lambda(null != (l = null != n ? n.research : n) ? l.name : l, n)) + '</h3>\n    <form class="vertical">\n        <ul id="questions" class="question-list paper research-act-topic-box">' + (null != (l = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "</ul>\n    </form>\n"
            },
            4: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {};
                return "\n            <p>\n" + (null != (l = (a.compare || n && n.compare || a.helperMissing).call(o, null != n ? n.isEmpty : n, "ne", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "            </p>\n" + (null != (l = a.each.call(o, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "        "
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                    " + o((s = null != (s = a.dimensionIndex || (null != n ? n.dimensionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "dimensionIndex",
                    hash: {},
                    data: i
                }) : s)) + '\n                    <span class="p-left">' + o((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "</span>\n"
            },
            7: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '                <li class="question-item"><div class="row col-xs-left">\n                    <div class="col-md-12 research-act-topic">\n                        \x3c!-- span.research-act-topic-s > echo(questionIndex typeDesc) --\x3e\n                        <span class="research-act-topic-s">' + d((o = null != (o = a.questionIndex || (null != n ? n.questionIndex : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : o)) + '</span>\n                        <div data-dynamic-key="' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '"></div>\n                    </div>\n                    <div class="col-md-12"><div class="row col-xs-left">\n                        <div class="col-xs-6"></div>\n                        <div class="col-xs-6"><div class="text-right">\n                            <div class="inline-block"><div class="row">\n' + (null != (l = (a.compare || n && n.compare || u).call(c, null != n ? n.questionIndex : n, "ne", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.compare || n && n.compare || u).call(c, null != r[1] ? r[1].questionsLength : r[1], "ne", null != n ? n.questionIndex : n, {
                    name: "compare",
                    hash: {},
                    fn: e.program(10, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '                                <div class="col-xs-3"><i class="iconfont icon-edit pointer" id="edit-question-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '"></i></div>\n                                <div class="col-xs-3"><i class="iconfont icon-delete pointer" id="delete-question-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '"></i></div>\n                            </div></div>\n                        </div></div>\n                    </div></div>\n                </div></li>\n'
            },
            8: function(e, n, a, t, i) {
                var s;
                return '                                    <div class="col-xs-3"><i class="iconfont icon-arrow-up pointer" id="up-question-' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></i></div>\n'
            },
            10: function(e, n, a, t, i) {
                var s;
                return '                                    <div class="col-xs-3"><i class="iconfont icon-arrow-down pointer" id="down-question-' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></i></div>\n'
            },
            12: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {}, c = a.helperMissing, u = e.escapeExpression;
                return '<form class="vertical"><div class="row exam-base-style-btn">\n    <div class="col-sm-12 m-top">\n        <h3 class="clearfix">' + u((a.string || n && n.string || c).call(o, "exam.research-questionary.select-research-questionary.content-list", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</h3>\n        <h4 class="clearfix border bottom p-bottom m-top m-bottom">\n            <div id="add-dimension" class="btn pull-right">' + u((a.string || n && n.string || c).call(o, "exam.research-questionary.select-research-questionary.add-dimension", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            <div id="select-dimension" class="btn pull-right m-right">' + u((a.string || n && n.string || c).call(o, "select", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            " + u((a.string || n && n.string || c).call(o, "exam.research-questionary.select-research-questionary.dimension-management", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        </h4>\n        <ul class="m-top">' + (null != (l = a.each.call(o, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(13, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '</ul>\n    </div>\n    <div class="col-sm-12 m-top">\n        <h4 class="clearfix border bottom p-bottom m-top m-bottom">\n            <div id="import" class="btn pull-right">' + u((a.string || n && n.string || c).call(o, "exam.research-questionary.select-research-questionary.import-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            " + u((a.string || n && n.string || c).call(o, "exam.research-questionary.select-research-questionary.add-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        </h4>\n        <div class="border bottom p-bottom">\n            <div id="question-1" class="inline-block pointer m-right">\n                ' + u((a.string || n && n.string || c).call(o, "exam.signle-option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                <i class="iconfont icon-add-full custom-color-4"></i>\n            </div>\n            <div id="question-5" class="inline-block pointer">\n                ' + u((a.string || n && n.string || c).call(o, "exam.question-and-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                <i class="iconfont icon-add-full custom-color-4"></i>\n            </div>\n        </div>\n    </div>\n    <div class="col-sm-12 m-top text-center">\n        <div id="preview" class="btn">' + u((a.string || n && n.string || c).call(o, "preview", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n    </div>\n</div>\n</form>"
            },
            13: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '\n            <li>\n                <div class="clearfix">\n                    <input class="inline-block" ' + (null != (l = a.if.call(c, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + ' type="radio" id="d-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" name="dimension-radio" value="' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '"/>\n                    <div class="inline-block">\n                        <label>' + d((o = null != (o = a.name || (null != n ? n.name : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "name",
                    hash: {},
                    data: i
                }) : o)) + '</label>\n                    </div>\n                    <i class="pointer m-right iconfont icon-delete-solid custom-color-3 pull-right" id="delete-dimension-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" title="' + d((a.string || n && n.string || u).call(c, "remove", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"></i>\n' + (null != (l = (a.compare || n && n.compare || u).call(c, null != n ? n.isEmpty : n, "ne", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.compare || n && n.compare || u).call(c, null != n ? n.dimensionIndex : n, "ne", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.compare || n && n.compare || u).call(c, null != r[1] ? r[1].dimensionsLength : r[1], "ne", null != n ? n.dimensionIndex : n, {
                    name: "compare",
                    hash: {},
                    fn: e.program(20, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '                </div>\n                <div class="research-list-num clearfix p-left">' + (null != (l = a.each.call(c, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(22, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '</div>\n                <div class="hr" style="border:none;border-top:1px dashed #ddd;"></div>\n            </li>\n        '
            },
            14: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <i class="pointer m-right iconfont icon-edit-solid custom-color-4 pull-right" id="edit-dimension-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-type="' + o((s = null != (s = a.businessType || (null != n ? n.businessType : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "businessType",
                    hash: {},
                    data: i
                }) : s)) + '" title="' + o((a.string || n && n.string || l).call(r, "edit", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"></i>\n'
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2 pull-right" id="up-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-type="up" title="' + o((a.string || n && n.string || l).call(r, "up", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"></i>\n'
            },
            20: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2 pull-right" id="down-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-type="down" title="' + o((a.string || n && n.string || l).call(r, "dowm", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"></i>\n'
            },
            22: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '\n                    <span><a href="#qi-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a></span>\n                "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + (null != (l = (a.view || n && n.view || d).call(u, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.view || n && n.view || d).call(u, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(12, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n"
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-questionary/add-research-refrence/questionary/view-main": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/view-main")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        i.assign(s, {
            SOURCE_TYPE: 4,
            HIDE_SCORE: !1,
            OPTION_SCORE_MODE: 1
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/view-main": "./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/view-main",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-questionary/add-research-refrence/questionary/view-side": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/view-side")
          , i = e("drizzlejs")
          , s = i.assign({}, t)
          , r = i.assign({}, s.events)
          , l = i.assign({}, s.handlers);
        i.assign(s, {
            HIDE_SCORE: !1,
            SOURCE_TYPE: 4,
            QUESTIONARY_TYPE: 3
        }),
        s.events = r,
        i.assign(s.events, {
            "click select-dimension": "selectDimension"
        }),
        s.handlers = l,
        i.assign(s.handlers, {
            selectDimension: function() {
                var e = this.module.items["picker/select-dimension"]
                  , n = this;
                this.app.viewport.popup(e, {
                    callback: function(e) {
                        return n.module.dispatch("saveSelectDimension", {
                            dimensions: e
                        })
                    }
                })
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/view-side": "./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/view-side",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-questionary/add-research-refrence/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <form class="vertical">\n        <div class="exam-base-info row">\n            <div class="col-sm-12">\n                <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.evaluate.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <input class="input mark" x-rule="required,maxLength:100" name="name" id="name" value="' + o(e.lambda(null != (s = null != n ? n.research : n) ? s.name : s, n)) + '"/>\n            </div>\n            <div class="col-sm-12">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.research.questionary-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <textarea id="questionary-detail" class="input" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.research.questionary-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '..." rows="5" x-rule="maxLength:1000">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.research : n) ? s.questionaryDetailRich : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</textarea>\n            </div>\n        </div>\n        <div data-dynamic-key=""></div>\n    </form>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-questionary/add-research-refrence/view-main": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/add-research-refrence/view-main")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        i.assign(s, {
            ADD_QUESTIONARY: "exam/evaluate-questionary/select-evaluate-questionary/add-research-refrence/questionary"
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/add-research-refrence/view-main": "./app/exam/research-questionary/select-research-questionary/add-research-refrence/view-main",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-questionary/index": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/index")
          , i = e("./app/util/strings")
          , s = e("drizzlejs")
          , r = s.assign({}, t)
          , l = s.assign({}, r.items);
        r.items = l,
        s.assign(r.items, {
            "exam/evaluate-questionary/select-evaluate-questionary/add-research-refrence": {
                isModule: !0
            }
        }),
        s.assign(r, {
            title: function() {
                return i.get("exam.questionnaire.add")
            },
            SELECT_MODULE: "exam/evaluate-questionary/select-evaluate-questionary/add-research-refrence",
            RESEARCH_TYPE: 3
        }),
        n.exports = r
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/index": "./app/exam/research-questionary/select-research-questionary/index",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-questionary/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="search"></div>\n    <div data-region="content"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <form id="searchbar" class="vertical">\n        <div class="row col-sm-left">\n            <div class="col-sm-6">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.evaluate.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n                <input class="input" name="name"/>\n            </div>\n            <div class="col-sm-6">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.research.publish-member", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n                <input class="input" name="publishMember"/>\n            </div>\n        </div>\n        <div class="row col-sm-left">\n            <div class="col-sm-6">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.research.publish-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n                <input id="publish-time" class="input" name="publishTime"/>\n            </div>\n            <div class="col-sm-6">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.research.questionary-type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ':</label>\n                <select id="status" class="input width-2" name="type" x-marker="selectize">\n                    <option value="0">全部</option>\n' + (null != (s = a.each.call(r, null != n ? n.questionaryTypes : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                </select>\n            </div>\n        </div>\n        <br/>\n        <div class="row col-sm-left">\n            <div class="col-sm-12">\n                <div class="text-right"><div id="search" class="btn inline-block">' + o((a.string || n && n.string || l).call(r, "search", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n            </div>\n        </div>\n    </form>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <option value="' + o((s = null != (s = a.key || (null != n ? n.key : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "key",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.value || (null != n ? n.value : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "value",
                    hash: {},
                    data: i
                }) : s)) + "</option>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="list m-top">\n        <table class="table table2 text-center">\n            <thead><tr>\n                <th width="50">' + o((a.string || n && n.string || l).call(r, "select", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.evaluate.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research.questionary-type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research.publish-member", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research.publish-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.all.operator", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            </tr></thead>\n            <tbody>" + (null != (s = a.each.call(r, null != n ? n.researchActivities : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(10, i, 0),
                    data: i
                })) ? s : "") + '</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression;
                return "\n                <tr>\n                    <td><input " + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="select-research" value="' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"/></td>\n                    <td><div class="td-content" title="' + u((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "</div></td>\n                    <td>" + u((a.map || n && n.map || o).call(l, "evaluate-questionary-type", null != n ? n.type : n, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "</td>\n                    <td>" + u(e.lambda(null != (s = null != n ? n.publishMember : n) ? s.fullName : s, n)) + "</td>\n                    <td>" + u((a.dateMinute || n && n.dateMinute || o).call(l, null != n ? n.publishTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + '</td>\n                    <td class="operation">\n                        <a id="preview-' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="id" data-value="' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((a.string || n && n.string || o).call(l, "preview", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                    </td>\n"
            },
            8: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            10: function(e, n, a, t, i) {
                return '                    <tr class="nothing-content"><td colspan="5">\n                        <div class="content-empty">\n                            <div class="img img-type-1"></div>\n                            <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                        </div>\n                    </td></tr>\n                </tr>\n            "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "search", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-questionary/view-content": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/view-content")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        n.exports = s
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/view-content": "./app/exam/research-questionary/select-research-questionary/view-content",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-questionary/view-search": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/view-search")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        n.exports = s,
        i.assign(s, {
            components: [{
                id: "publish-time",
                name: "flatpickr",
                options: {
                    mode: "range"
                }
            }, {
                id: "status",
                name: "selectize"
            }],
            dataForTemplate: {
                questionaryTypes: function() {
                    return [{
                        key: 3,
                        value: "评估问卷"
                    }, {
                        key: 4,
                        value: "满意度问卷"
                    }]
                }
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/view-search": "./app/exam/research-questionary/select-research-questionary/view-search",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-satisfaction/add-research-refrence/index": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/add-research-refrence/index")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        i.assign(s, {
            RESEARCH_TYPE: 4
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/add-research-refrence/index": "./app/exam/research-questionary/select-research-questionary/add-research-refrence/index",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-satisfaction/add-research-refrence/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <form class="vertical">\n        <div class="exam-base-info row col-sm-left">\n            <div class="col-sm-12">\n                <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.evaluate.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <div class="row"><div class="col-md-12"><input class="input mark textLength" x-rule="required,maxLength:100" name="name" id="name" value="' + o(e.lambda(null != (s = null != n ? n.research : n) ? s.name : s, n)) + '"/><div class="tips otips">0/100</div></div></div>\n            </div>\n            <div class="col-sm-12">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.research.questionary-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <textarea id="questionary-detail" class="input" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.research.questionary-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '..." rows="5" x-rule="maxLength:1000">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.research : n) ? s.questionaryDetailRich : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</textarea>\n            </div>\n        </div>\n        <div data-dynamic-key=""></div>\n    </form>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-satisfaction/add-research-refrence/view-main": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/add-research-refrence/view-main")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        i.assign(s, {
            ADD_QUESTIONARY: "exam/evaluate-questionary/select-evaluate-questionary/add-research-refrence/questionary"
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/add-research-refrence/view-main": "./app/exam/research-questionary/select-research-questionary/add-research-refrence/view-main",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-satisfaction/index": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/index")
          , i = e("./app/util/strings")
          , s = e("drizzlejs")
          , r = s.assign({}, t)
          , l = s.assign({}, r.items);
        r.items = l,
        s.assign(r.items, {
            "exam/evaluate-questionary/select-evaluate-satisfaction/add-research-refrence": {
                isModule: !0
            }
        }),
        s.assign(r, {
            title: function() {
                return 1 === this.renderOptions.showTextType ? "添加问卷" : i.get("exam.questionnaire.add")
            },
            SELECT_MODULE: "exam/evaluate-questionary/select-evaluate-satisfaction/add-research-refrence",
            RESEARCH_TYPE: 4
        }),
        n.exports = r
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/index": "./app/exam/research-questionary/select-research-questionary/index",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-satisfaction/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="search"></div>\n    <div data-region="content"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s = null != n ? n : {}
                  , r = a.helperMissing
                  , l = e.escapeExpression;
                return '    <form id="searchbar" class="vertical">\n        <div class="row col-sm-left">\n            <div class="col-sm-6">\n                <label>' + l((a.string || n && n.string || r).call(s, "exam.evaluate.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n                <input class="input" name="name"/>\n            </div>\n            <div class="col-sm-6">\n                <label>' + l((a.string || n && n.string || r).call(s, "exam.research.publish-member", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n                <input class="input" name="publishMember"/>\n            </div>\n        </div>\n        <div class="row col-sm-left">\n            <div class="col-sm-12">\n                <label>' + l((a.string || n && n.string || r).call(s, "exam.research.publish-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n                <input id="publish-time" class="input" name="publishTime"/>\n            </div>\n        </div>\n        <br/>\n        <div class="row col-sm-left">\n            <div class="col-sm-12">\n                <div class="text-right"><div id="search" class="btn inline-block">' + l((a.string || n && n.string || r).call(s, "search", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n            </div>\n        </div>\n    </form>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="list m-top">\n        <table class="table table-add border around">\n            <thead><tr>\n                <th width="50">' + o((a.string || n && n.string || l).call(r, "select", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.evaluate.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research.questionary-type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research.publish-member", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research.publish-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.all.operator", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            </tr></thead>\n            <tbody>" + (null != (s = a.each.call(r, null != n ? n.researchActivities : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression;
                return '\n                <tr>\n                    <td><div class="radio no-margin">\n                        <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="select-research" id="check-item' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                        <label for="check-item' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                    </div></td>\n                    <td><div class="td-content" title="' + u((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "</div></td>\n                    <td>" + u((a.map || n && n.map || o).call(l, "evaluate-questionary-type", null != n ? n.type : n, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "</td>\n                    <td>" + u(e.lambda(null != (s = null != n ? n.publishMember : n) ? s.fullName : s, n)) + "</td>\n                    <td>" + u((a.dateMinute || n && n.dateMinute || o).call(l, null != n ? n.publishTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + '</td>\n                    <td class="operation">\n                        <a id="preview-' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="id" data-value="' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((a.string || n && n.string || o).call(l, "preview", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                    </td>\n"
            },
            7: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            9: function(e, n, a, t, i) {
                return '                    <tr class="nothing-content"><td colspan="5">\n                        <div class="content-empty">\n                            <div class="img img-type-1"></div>\n                            <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                        </div>\n                    </td></tr>\n                </tr>\n            "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "search", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-satisfaction/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/evaluate-questionary/select-evaluate-questionary/view-content"][0].apply(a, arguments)
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/view-content": "./app/exam/research-questionary/select-research-questionary/view-content",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/evaluate-questionary/select-evaluate-questionary/view-content"
    }],
    "./app/exam/evaluate-questionary/select-evaluate-satisfaction/view-search": [function(e, n, a) {
        var t = e("./app/exam/research-questionary/select-research-questionary/view-search")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        n.exports = s,
        i.assign(s, {
            components: [{
                id: "publish-time",
                name: "flatpickr",
                options: {
                    mode: "range"
                }
            }]
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-questionary/select-research-questionary/view-search": "./app/exam/research-questionary/select-research-questionary/view-search",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam-question-types": [function(e, n, a) {
        var t = {
            1: "choise",
            2: "choise",
            3: "judgement",
            4: "sentence-completion",
            5: "question-answer",
            6: "reading-comprehension",
            7: "line",
            8: "sorting"
        }
          , i = {
            1: "edit",
            2: "preview",
            3: "answer",
            4: "mark"
        }
          , s = function(e, n) {
            return "exam/exam/question/types/" + i[n] + "/" + t[e]
        };
        a.get = function(e, n) {
            return s(e, n)
        }
        ,
        a.map = t
    }
    , {}],
    "./app/exam/exam-websocket": [function(e, n, a) {
        var t = window.WebSocket || null
          , i = e("drizzlejs")
          , s = {};
        a.connect = function(e, n) {
            s.open(window.app, e, n)
        }
        ,
        a.disconnect = function() {
            s.close()
        }
        ,
        s = {
            open: function(e, n, a) {
                var t = e.options.urlRoot + "/exam"
                  , s = "http:" === window.setlocationProtocol() ? "ws://" : "wss://";
                s += window.setlocationHost(),
                "/" === s.slice(-1) && (s = s.slice(0, -1)),
                i.assign(this, {
                    app: e,
                    url: s + t + "/ws/exam",
                    requests: {},
                    lastTime: (new Date).getTime(),
                    examId: n,
                    callbacks: a
                }),
                this.connect()
            },
            connect: function() {
                this.isActive() || t && (this.socket = this.createSocket(s.url))
            },
            createSocket: function(e) {
                var n = new t(e)
                  , a = this;
                return n.onopen = function() {
                    a.callbacks && a.onMessage && a.onOpen()
                }
                ,
                n.onmessage = function(e) {
                    "PANG" !== e.data && a.callbacks && a.onMessage && a.onMessage(e.data)
                }
                ,
                n.onclose = function(e) {
                    a.callbacks && a.onClose && a.onClose(e)
                }
                ,
                n
            },
            send: function(e) {
                var n = {
                    headers: {}
                }
                  , a = this.app.global.OAuth
                  , t = this.requests;
                return a && function() {
                    n.headers.Authorization = a.tokenType + "__" + a.token.access_token
                }(),
                i.assign(n, {
                    data: e,
                    id: i.uniqueId("S"),
                    url: ""
                }),
                this.socket.send(JSON.stringify(n)),
                this.lastTime = (new Date).getTime(),
                this.app.Promise.create(function(e, a) {
                    t[n.id] = {
                        resolve: e,
                        reject: a,
                        timeoutId: void 0
                    }
                })
            },
            close: function() {
                this.isActive() && this.socket.close(),
                delete this.socket
            },
            onOpen: function() {
                var e = this;
                this.send({
                    examId: this.examId
                }).then(function() {
                    e.startHeartBeat()
                }, function() {
                    e.connect()
                }),
                e.startHeartBeat()
            },
            onMessage: function(e) {
                var n = this.callbacks;
                "submitPaper" === e && n.submitPaper(),
                e && e.indexOf("timeExpand_") > -1 && n.timeExpand({
                    time: e.substring(11, e.indexOf("#")),
                    current: e.substring(e.indexOf("#") + 1)
                }),
                e && e.indexOf("resume_") > -1 && n.timeResume({
                    time: e.substring(7, e.indexOf("#")),
                    current: e.substring(e.indexOf("#") + 1)
                }),
                "mutipleClientLogin" === e && n.mutipleClientLogin(),
                "researchCancel" === e && n.researchCancel()
            },
            onClose: function(e) {
                1013 !== e.code && 1006 !== e.code || this.connect()
            },
            startHeartBeat: function() {
                var e = this;
                this.stopHeartBeat(),
                this.heartBeat = setInterval(function() {
                    var n = (new Date).getTime()
                      , a = n - e.lastTime;
                    if (!e.isActive())
                        return void e.stopHeartBeat();
                    a > 5e3 && (e.send({
                        PING: "PING",
                        examId: e.examId
                    }),
                    e.lastTime = (new Date).getTime())
                }, 1e4)
            },
            stopHeartBeat: function() {
                this.heartBeat && (clearInterval(this.heartBeat),
                delete this.heartBeat)
            },
            isActive: function() {
                return this.socket && this.socket.readyState === t.OPEN
            }
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/answer-paper/answer-helper": [function(e, n, a) {
        var t, i, s, r, l, o, c, u, d = e("./app/exam/exam-websocket"), p = e("./app/util/strings"), m = e("crypto-js"), h = e("lodash/collection"), v = {
            Auto: "Auto",
            Hand: "Hand"
        }, f = {
            AUTO: 1,
            HAND: 2,
            TIMEOUT: 3,
            FORCE: 4,
            FULL_SWICH: 5
        };
        t = {
            connect: function(e, n, a, t, i) {
                d.connect(e, {
                    submitPaper: n,
                    timeExpand: a,
                    timeResume: i,
                    mutipleClientLogin: t
                })
            },
            closeConnect: function() {
                d.disconnect()
            }
        },
        i = {
            cancel: function() {
                clearTimeout(this.timeOutId),
                delete this.timeOutId
            },
            timeOutId: -1
        },
        s = function(e) {
            var n = this
              , a = e.isAllowSwitch;
            a && 1 === a && (window.onblur = function() {
                return 
            }
            )
        }
        ,
        l = function(e) {
            var n = this;
            window.onbeforeunload = function() {
                return o(),
                n.dispatch("submitPaper", {
                    submitType: v.Auto,
                    submitTipsType: f.AUTO
                }),
                e
            }
        }
        ,
        u = function() {
            var e = this;
            window.addEventListener("offline", function() {
                e.app.message.alert(p.get("exam.exam.answer-paper.no-internet"))
            }),
            window.addEventListener("online", function() {
                e.app.message.alert(p.get("exam.exam.answer-paper.internet-ok"))
            })
        }
        ,
        c = function() {
            window.onbeforeunload = function() {}
        }
        ,
        r = function(e, n) {
            var a = m.enc.Hex.parse(e)
              , t = m.enc.Base64.stringify(a)
              , i = m.AES.decrypt(t, m.enc.Utf8.parse(n), {
                iv: m.enc.Utf8.parse("1234567890123456"),
                mode: m.mode.CBC,
                padding: m.pad.Pkcs7
            });
            return m.enc.Utf8.stringify(i).toString()
        }
        ,
        o = function() {
            var e, n = window.opener && window.opener.app;
            return n ? !(e = function(e) {
                var a;
                return h.forEach(n._modules, function(n, t) {
                    t.indexOf(e) > -1 && (a = n)
                }),
                a
            }("exam/exam/exam-detail")) || e.render() : ""
        }
        ,
        n.exports = {
            WS: t,
            TO: i,
            switchScreen: s,
            decryptAnswer: r,
            closeListener: l,
            refreshParentWindow: o,
            removeCloseListener: c,
            onOrOffLineListener: u
        }
    }
    , {
        "./app/exam/exam-websocket": "./app/exam/exam-websocket",
        "./app/util/strings": "./app/util/strings",
        "crypto-js": "crypto-js",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/answer-paper/count-down/index": [function(e, n, a) {
        var t, i, s = e("drizzlejs"), r = e("./app/util/strings");
        a.items = {
            main: "main",
            tips: ""
        },
        a.store = {
            models: {
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n, a = this.models.state;
                    e.data.isDelay && s.assign(a.data, {
                        isDelay: e.data.isDelay,
                        delay: e.data.delay
                    }),
                    e.data.endTime && e.data.endTime > new Date(e.data.startTime).getTime() ? (n = function(e, n) {
                        return ((new Date(e).getTime() - new Date(n).getTime()) / 6e4).toFixed(2)
                    }(e.data.endTime, e.data.startTime),
                    s.assign(a.data, {
                        duration: n
                    })) : s.assign(a.data, {
                        duration: 0
                    }),
                    a.callback = e.callback
                },
                setInterval: function(e) {
                    s.assign(this.models.state.data, e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.afterRender = function() {
            var e = this.store.models.state.data
              , n = this;
            return e.isDelay ? this.app.viewport.modal(this.items.tips, {
                tips: r.get("exam.exam.answer-paper.delay") + e.delay + r.get("minute")
            }).then(function() {
                n.renderOptions.resetDelay && n.renderOptions.resetDelay()
            }) : t.call(this)
        }
        ,
        a.beforeClose = function() {
            return i.call(this)
        }
        ,
        a.mixin = {
            clearIntervalIt: function() {
                var e = this.store.models.state.data.timerId;
                clearInterval(e)
            },
            pause: function(e) {
                return e ? this.store.models.state.data.timer.pause(function() {
                    return ((e.endTime - e.lastPauseTime) / 6e4).toFixed(2)
                }()) : this.store.models.state.data.timer.pause()
            },
            start: function() {
                return this.store.models.state.data.timer.start()
            }
        },
        t = function() {
            this.app.askbar.on("count.down.pause", this.pause, this),
            this.app.askbar.on("count.down.start", this.start, this)
        }
        ,
        i = function() {
            this.app.askbar.off("count.down.pause", this.pause, this),
            this.app.askbar.off("count.donw.start", this.start, this)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/answer-paper/count-down/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                return '    <div id="time" class="time"></div>\n'
            },
            5: function(e, n, a, t, i) {
                var s;
                return '    <div class="exam-notes-content">\n        ' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.tips : s, n)) + "\n    </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "tips", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/answer-paper/count-down/view-main": [function(e, n, a) {
        var t, i = e("lodash/collection");
        a.bindings = {
            state: !0
        },
        a.afterRender = function() {
            var e, n, a, s, r, l, o = this.bindings.state.data.duration, c = this.bindings.state.callback, u = this.$("time"), d = this, p = function(e) {
                var n, a, t, i, s = e;
                return n = Math.floor(s / 1440),
                a = Math.floor((s - 1440 * n) / 60),
                s %= 60,
                t = Math.floor(s),
                i = 0 === s ? 0 : Math.floor(60 * Number(s.toFixed(2).toString().split(".")[1] / 100)),
                {
                    day: n,
                    hour: a,
                    minitus: t,
                    second: i
                }
            }, m = function(e, n, a, t) {
                return [e.toString(), 1 === n.toString().length ? "0" + n : n, 1 === a.toString().length ? "0" + a : a, 1 === t.toString().length ? "0" + t : t].join(":")
            }, h = function(e) {
                var n = c;
                return i.forEach(n, function(n) {
                    var a = p(n.time);
                    m(a.day, a.hour, a.minitus, a.second) === e && n.doing()
                }),
                d.module.renderOptions.remainDuration(e),
                e
            };
            return n = p(o),
            a = n.day,
            s = n.hour,
            r = n.minitus,
            l = n.second,
            u.innerHTML = h(m(a, s, r, l)),
            clearInterval(t),
            e = function(e, n, a, i) {
                return setInterval(function() {
                    if (0 === i)
                        return 0 === a ? 0 === n ? 0 === e ? void clearInterval(t) : (e -= 1,
                        n = 23,
                        a = 59,
                        i = 59,
                        void (u.innerHTML = h(m(e, n, a, i)))) : (n -= 1,
                        a = 59,
                        i = 59,
                        void (u.innerHTML = h(m(e, n, a, i)))) : (a -= 1,
                        i = 59,
                        void (u.innerHTML = h(m(e, n, a, i))));
                    i -= 1,
                    u.innerHTML = h(m(e, n, a, i))
                }, 1e3)
            }
            ,
            t = e(a, s, r, l),
            e.pause = function(e) {
                return e && (n = p(e),
                a = n.day,
                s = n.hour,
                r = n.minitus,
                l = n.second,
                u.innerHTML = h(m(a, s, r, l))),
                setTimeout(function() {
                    clearInterval(t)
                }, 0),
                clearInterval(t)
            }
            ,
            e.start = function() {
                return clearInterval(t),
                t = e(a, s, r, l)
            }
            ,
            this.module.dispatch("setInterval", {
                timerId: t,
                timer: e
            })
        }
        ,
        a.beforeClose = function() {
            clearInterval(t)
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/answer-paper/count-down/view-tips": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.bindings = {
            state: !0
        },
        a.title = t.get("warm-tips"),
        a.auto = !0,
        a.dataForTemplate = {
            state: function() {
                return {
                    tips: this.renderOptions.tips
                }
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/exam/answer-paper/face/face-prompt-force/index": [function(e, n, a) {
        var t, i, s = e("jquery");
        a.items = {
            main: "main"
        },
        a.small = !0,
        a.title = "人脸信息采集",
        a.store = {
            models: {
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.state
                      , a = this;
                    130005 == +e.errorCode && (n.data.num = 10,
                    n.data.faceImg = localStorage.getItem("faceImgUrl" + e.examId),
                    n.changed(),
                    setTimeout(function() {
                        a.module.closeDown.call(a)
                    }, 0))
                }
            }
        },
        a.mixin = {
            closeDown: function() {
                var e, n = s(".count"), a = 5;
                e = setInterval(function() {
                    n.html("返回(" + a + "s)"),
                    0 === a && (clearTimeout(e),
                    window.close()),
                    a--
                }, 1e3)
            },
            closeModal: function() {
                this.app.viewport.closeModal()
            }
        },
        a.afterRender = function() {
            return s(".dialog").addClass("dialog-cover"),
            t.call(this),
            this.dispatch("init", this.renderOptions)
        }
        ,
        a.beforeClose = function() {
            i.call(this)
        }
        ,
        t = function() {
            this.app.askbar.on("exam.after.force-submit", this.closeModal, this)
        }
        ,
        i = function() {
            this.app.askbar.off("exam.after.force-submit", this.closeModal, this)
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/face/face-prompt-force/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="detect-face" data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <div class="camera">          \n        <div class="face-box">\n            <div class="gather-face">\n                <div class="corner-top-mark"></div>\n                <div class="corner-bottom-mark"></div>\n                <img class="face-mask" src="images/face-jiaoyan.jpg"/>\n                <img src="' + l(r(null != (s = null != n ? n.state : n) ? s.faceImg : s, n)) + '" style="width:215px;height:215px;"/>\n            </div>\n            <div class="prompt">\n                <div class="' + l(r(null != (s = null != n ? n.prompt : n) ? s.color : s, n)) + '"><i class="m-right iconfont icon-' + l(r(null != (s = null != n ? n.prompt : n) ? s.icon : s, n)) + '"></i>' + l(r(null != (s = null != n ? n.prompt : n) ? s.msg : s, n)) + '</div>\n            </div>\n        </div>\n        <div class="operation">\n' + (null != (s = a.each.call(null != n ? n : {}, null != (s = null != n ? n.prompt : n) ? s.btn : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <div class="btn button count ' + o((s = null != (s = a.color || (null != n ? n.color : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "color",
                    hash: {},
                    data: i
                }) : s)) + '" id="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.text || (null != n ? n.text : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "text",
                    hash: {},
                    data: i
                }) : s)) + "</div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/answer-paper/face/face-prompt-force/view-main": [function(e, n, a) {
        var t = {
            10: {
                color: "blue",
                icon: "images/detect-face.png",
                msg: "人脸验证未通过,暂时无法继续考试,管理员复核后可继续考试.",
                btn: [{
                    id: "conform",
                    text: "返回",
                    color: "bgbtn"
                }]
            }
        };
        a.bindings = {
            state: !0
        },
        a.events = {
            "click conform": "conform"
        },
        a.dataForTemplate = {
            num: function() {
                return this.bindings.state.data.num || 0
            },
            prompt: function() {
                var e = this.bindings.state.data;
                return t[e.num || 0]
            }
        },
        a.handlers = {
            conform: function() {
                window.close()
            }
        }
    }
    , {}],
    "./app/exam/exam/answer-paper/face/face-prompt/index": [function(e, n, a) {
        var t, i, s = e("jquery");
        a.items = {
            main: "main"
        },
        a.small = !0,
        a.title = "提示",
        a.afterRender = function() {
            s(".dialog").addClass("dialog-cover"),
            t.call(this)
        }
        ,
        a.beforeClose = function() {
            i.call(this)
        }
        ,
        a.mixin = {
            closeModal: function() {
                this.app.viewport.closeModal()
            }
        },
        t = function() {
            this.app.askbar.on("exam.after.force-submit", this.closeModal, this)
        }
        ,
        i = function() {
            this.app.askbar.off("exam.after.force-submit", this.closeModal, this)
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/face/face-prompt/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="face-register" data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                return '    <div class="m-bottom">当前考试已启用人脸对比/人脸拍照，请逐一检查以下内容：</div>\n    <div class="m-bottom">1、图像采集设备（摄像头）正常；</div>\n    <div class="m-bottom">2、所处环境光线良好；</div>\n    <div class="div">3、脸部无遮挡物</div>\n    <div class="operation">\n        <div id="confirm" class="btn button bgbtn">确认</div>\n    </div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/answer-paper/face/face-prompt/view-main": [function(e, n, a) {
        a.events = {
            "click confirm": "confirm"
        },
        a.handlers = {
            confirm: function() {
                var e = this;
                this.app.viewport.closeModal(!0).then(function() {
                    e.module.renderOptions.callback && e.module.renderOptions.callback()
                })
            }
        }
    }
    , {}],
    "./app/exam/exam/answer-paper/face/face-recheck-init/index": [function(e, n, a) {
        var t, i, s = e("jquery");
        a.items = {
            main: "main"
        },
        a.small = !0,
        a.title = "人脸信息采集",
        a.store = {
            models: {
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.state
                      , a = this;
                    n.data.faceImg = localStorage.getItem("faceImgUrl" + e.examId),
                    130007 === e.errorCode && (n.data.num = 8,
                    n.changed(),
                    setTimeout(function() {
                        a.module.closeDown.call(a)
                    }, 0))
                }
            }
        },
        a.afterRender = function() {
            return s(".dialog").addClass("dialog-cover"),
            t.call(this),
            this.app.askbar.trigger("count.down.pause"),
            this.dispatch("init", this.renderOptions)
        }
        ,
        a.mixin = {
            closeDown: function() {
                var e, n = s(".count"), a = 5;
                e = setInterval(function() {
                    n.html("返回(" + a + "s)"),
                    0 === a && (clearTimeout(e),
                    window.close()),
                    a--
                }, 1e3)
            },
            closeModal: function() {
                this.app.viewport.closeModal()
            }
        },
        a.beforeClose = function() {
            i.call(this)
        }
        ,
        t = function() {
            this.app.askbar.on("exam.after.force-submit", this.closeModal, this)
        }
        ,
        i = function() {
            this.app.askbar.off("exam.after.force-submit", this.closeModal, this)
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/face/face-recheck-init/templates": [function(e, n, a) {
        arguments[4]["./app/exam/exam/answer-paper/face/face-prompt-force/templates"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/answer-paper/face/face-prompt-force/templates",
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/answer-paper/face/face-recheck-init/view-main": [function(e, n, a) {
        var t = {
            8: {
                color: "orange",
                icon: "renliandenglu",
                msg: "等待复核中...",
                btn: [{
                    id: "closePaper",
                    text: "返回",
                    color: "bgbtn"
                }]
            }
        };
        a.bindings = {
            state: !0
        },
        a.events = {
            "click closePaper": "closePaper"
        },
        a.dataForTemplate = {
            num: function() {
                return this.bindings.state.data.num || 0
            },
            prompt: function() {
                var e = this.bindings.state.data;
                return t[e.num || 0]
            }
        },
        a.handlers = {
            closePaper: function() {
                window.close()
            }
        }
    }
    , {}],
    "./app/exam/exam/answer-paper/face/face-register-validate/index": [function(e, n, a) {
        var t = e("jquery");
        a.items = {
            main: "main"
        },
        a.title = "人脸注册",
        a.store = {
            models: {
                validate: {
                    url: "../human/face/accessSecret-validate",
                    security: !0
                },
                state: {}
            },
            callbacks: {
                faceValidate: function(e) {
                    var n = this.models.validate
                      , a = this.module.renderOptions;
                    return n.set({
                        accessSecret: e[2].value
                    }),
                    this.put(n).then(function(e) {
                        return 1 == +e[0].status ? this.app.viewport.closeModal().then(function() {
                            localStorage.passValidate = !0,
                            this.app.message.success("密码校验通过"),
                            a.callback && a.callback()
                        }) : this.app.message.error("密码校验不通过"),
                        !1
                    })
                }
            }
        },
        a.small = !0,
        a.afterRender = function() {
            t(".dialog").addClass("dialog-cover")
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/face/face-register-validate/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="face-register" data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                return '<form class="vertical">\n    <div class="text-center o-text-center">\n        <div class="row">\n            <div class="col-sm-12 m-bottom text-left">\n                &nbsp;&nbsp;&nbsp;&nbsp;当前账号暂未注册人脸信息, 请在输入框内输入登录密码后,进行人脸注册。\n            </div>\n            <div class="col-sm-12 pull-left m-bottom login-input password-so-tips">\n                \x3c!--  添加隐藏文本域防止浏览器记住密码 --\x3e\n                <input type="text" name="disUserName" style="display:none"/>\n                <input type="password" name="disPassword" placeholder="请输入密码" autocomplete="off" style="display:none"/>\n                <input id="enter" class="input" type="password" name="disPassword" x-rule="required" placeholder="请输入登录密码"/>\n                <span id="toggle" class="so-tips-btn iconfont icon-biyanjing"></span>\n            </div>\n        </div>\n    </div>\n    <div class="operation">\n        <div id="close" class="btn button whiteBtn">关闭</div>\n        <div id="confirm" class="btn button bgbtn">确认</div>\n    </div>\n</form>'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/answer-paper/face/face-register-validate/view-main": [function(e, n, a) {
        var t = e("jquery");
        a.mixin = {
            getData: function() {
                return t(this.$$("form")[0]).serializeArray()
            }
        },
        a.events = {
            "keypress enter": "enter",
            "click confirm": "confirm",
            "click close": "close",
            "click toggle": "toggle"
        },
        a.handlers = {
            toggle: function(e) {
                var n = t(e.target);
                n.hasClass("icon-fanganyifaxian") ? (n.prev().attr("type", "password"),
                n.removeClass("icon-fanganyifaxian").addClass("icon-biyanjing")) : (n.prev().attr("type", "text"),
                n.removeClass("icon-biyanjing").addClass("icon-fanganyifaxian"))
            },
            enter: function(e) {
                return 13 !== e.keyCode ? "" : this.getData()[2].value ? this.module.dispatch("faceValidate", this.getData()) : this.app.message.error("请输入密码")
            },
            confirm: function() {
                return this.getData()[2].value ? this.module.dispatch("faceValidate", this.getData()) : this.app.message.error("请输入密码")
            },
            close: function() {
                this.app.viewport.closeModal()
            }
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/face/index": [function(e, n, a) {
        var t, i, s, r, l, o = e("jquery"), c = e("./app/util/strings"), u = e("drizzlejs"), d = {
            url: 1,
            base64: 2,
            token: 3
        }, p = window.setlocationProtocol() + "//" + window.setlocationHost() + "/";
        a.small = !0,
        a.items = {
            main: "main",
            "exam/exam/answer-paper/face/face-register-validate": {
                isModule: !0
            },
            "exam/exam/answer-paper/face/face-prompt": {
                isModule: !0
            },
            "exam/exam/answer-paper/face/face-prompt-force": {
                isModule: !0
            },
            "exam/exam/answer-paper/face/face-recheck-init": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                faceRegister: {
                    url: "../human/face/addOrUpdate-face"
                },
                faceCollect: {
                    url: "../exam/face/front/collect"
                },
                faceUpload: {
                    url: "../system/file/cropper-upload"
                },
                exam: {
                    url: "../exam/exam/front/exam-paper"
                },
                examInfo: {
                    url: "../exam/exam/front/simple-data/"
                },
                faceSystemRule: {
                    url: "../system/rule-config/key?key=FACE_CONFIG"
                },
                state: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = u.assign({
                                num: 0,
                                process: 0,
                                faceImg: "",
                                isGatherFace: !1,
                                faceMode: 1,
                                faceImgUrl: ""
                            }, e)
                        }
                    }
                },
                collectErrorCode: {}
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.examInfo
                      , a = this.models.state
                      , i = this;
                    return n.set({
                        id: e.examId
                    }),
                    a.init(),
                    void 0 !== e.errorCode ? t.call(i, e) : e.num && (0 == +e.num ? a.init() : a.data.num = e.num,
                    a.changed()),
                    this.get(n)
                },
                checkCompanyFaceRuleSupport: function() {
                    var e = this.models.faceSystemRule;
                    return e.clear(),
                    this.get(e)
                },
                faceUpload: function() {
                    var e = this.models.faceUpload
                      , n = this.models.state
                      , a = this;
                    return e.set({
                        image: n.data.faceImg
                    }),
                    e.options.progressFn = function(e) {
                        a.module.animate(e)
                    }
                    ,
                    this.post(e)
                },
                faceRegister: function() {
                    var e, n = this.models.faceRegister, a = this.models.state, i = this.models.collectErrorCode, s = this;
                    return n.set({
                        imageStr: a.data.faceImg.split(",")[1]
                    }),
                    this.put(n).then(function(n) {
                        var a = n[0];
                        +a.error_code ? (222202 == +a.error_code && (a.error_code = 222202),
                        90137 == +a.error_code ? a.error_code = 90137 : a.error_code = 130004,
                        t.call(s, {
                            errorCode: a.error_code
                        })) : (clearTimeout(e),
                        e = 2130006 === i.data.errorCode ? setTimeout(function() {
                            s.module.dispatch("faceCheck")
                        }, 3e3) : setTimeout(function() {
                            s.module.dispatch("faceInitExam")
                        }, 3e3))
                    }, function(e) {
                        t.call(s, e)
                    })
                },
                startGatherFace: function() {
                    return this.module.dispatch("faceUpload")
                },
                faceInitExam: function() {
                    var e, n, a = this.models.exam, i = this.module.renderOptions, s = this.models.examInfo.data, r = this.models.faceUpload.data, l = this.models.collectErrorCode.data, o = this, c = function() {
                        localStorage.isOpenExam = !0,
                        localStorage.removeItem("faceImgUrl" + i.examId),
                        localStorage.removeItem("errorCode"),
                        l.errorCode = "",
                        window.location.reload()
                    };
                    return e = r && JSON.parse(r).path,
                    localStorage.setItem("faceImgUrl" + i.examId, e),
                    a.params = {
                        examId: i.examId,
                        clientType: 1,
                        imageType: d.url,
                        image: p + (r && JSON.parse(r).path)
                    },
                    o.get(a).then(function(e) {
                        var n = e[0] || {};
                        2 === s.faceMode ? c.call(o, e) : o.module.showFaceRecheck.call(o, n, "faceInitExam") && c.call(o, e)
                    }, function(e) {
                        n = e.errorCode || JSON.parse(e[0].responseText).errorCode,
                        130007 == +n ? t.call(o, {
                            errorCode: 1130007
                        }) : 130006 == +n ? t.call(o, {
                            errorCode: 1130006
                        }) : 130005 == +n ? t.call(o, {
                            errorCode: 1130005
                        }) : t.call(o, e)
                    })
                },
                faceCheck: function() {
                    var e, n, a = this.models.state, i = this.models.faceCollect, s = this.module.renderOptions, r = this.models.examInfo.data, l = this.models.faceUpload.data, o = this.models.collectErrorCode.data, c = this, u = function(e) {
                        c.app.viewport.hasModalOpen() && c.app.viewport.closeModal(!0).then(function() {
                            a.data.num = 0,
                            a.data.isGatherFace = !1,
                            a.data.faceImg = "",
                            localStorage.removeItem("faceImgUrl" + s.examId),
                            localStorage.removeItem("errorCode"),
                            o.errorCode = "",
                            c.app.askbar.trigger("count.down.start"),
                            s.updateCount && s.updateCount(e[0], {
                                forceRefreshPaper: !1
                            })
                        })
                    }, m = function(e) {
                        a.data.num = 9,
                        a.changed(),
                        c.app.askbar.trigger("count.down.start"),
                        localStorage.removeItem("faceImgUrl" + s.examId),
                        localStorage.removeItem("errorCode"),
                        o.errorCode = "",
                        s.updateCount && s.updateCount(e[0], {
                            forceRefreshPaper: !1
                        })
                    };
                    return n = l && JSON.parse(l).path,
                    localStorage.setItem("faceImgUrl" + s.examId, n),
                    i.set({
                        image: p + (l && JSON.parse(l).path),
                        imageType: d.url,
                        examId: s.examId,
                        currentCount: s.currentCount,
                        examRecordId: s.exam.data.examRecord && s.exam.data.examRecord.id
                    }),
                    c.post(i).then(function(e) {
                        var n = e[0] || {};
                        2 == +r.faceMode ? u.call(c, e) : 1 == +r.faceMode && 1 == +n.result ? m.call(c, e) : c.module.showFaceRecheck.call(c, n, "faceCheck") && (a.data.num = 5,
                        a.changed())
                    }, function(n) {
                        e = n.errorCode || JSON.parse(n[0].responseText).errorCode,
                        130006 == +e ? t.call(c, {
                            errorCode: 2130006
                        }) : t.call(c, n)
                    })
                },
                initExam: function() {
                    var e = this.models.exam
                      , n = this.module.renderOptions;
                    return e.params = {
                        examId: n.examId,
                        clientType: 1
                    },
                    this.get(e)
                }
            }
        },
        a.afterRender = function() {
            return o(".detect-face").parents(".dialog").addClass("dialog-cover"),
            o(".dialog-footer").remove(),
            r.call(this),
            this.app.askbar.trigger("count.down.pause"),
            this.dispatch("init", this.renderOptions)
        }
        ,
        a.beforeClose = function() {
            l.call(this)
        }
        ,
        a.mixin = {
            noticeExamPause: function() {
                this.app.askbar.trigger("count.down.pause")
            },
            animate: function(e) {
                var n, a = 0, t = 0, r = 0, l = 0, c = 0, u = 0, d = 0, p = null;
                e.lengthComputable && (u = (e.loaded / e.total).toFixed(2),
                d = 860 * u,
                n = i(function() {
                    u <= .25 ? (c = d / 10,
                    r <= d && (r += c),
                    p = "M0 0 H" + r) : u > .25 && u <= .5 ? (l <= d - 215 && (l += c),
                    p = "M0 0 H215 V" + l) : u > .5 && u <= .75 ? (a = 645 - d,
                    a > 0 && (a -= c),
                    p = "M0 0 H215 V215 H" + a) : u > .75 && (t = 860 - d,
                    t > 0 && (t -= c),
                    p = "M0 0 H215 V215 H0 V" + t),
                    o(".progress").attr("d", p),
                    o(".prompt-text").append('<div class="loading">正在上传中<dot>...</dot></div>'),
                    "M0 0 H215 V215 H0 V0" === p && (s(n),
                    setTimeout(function() {
                        o(".progress").attr("d", "")
                    }, 300))
                }))
            },
            closeModal: function() {
                this.app.viewport.closeModal()
            },
            closeSkipModal: function() {
                var e = this.renderOptions
                  , n = this.store.models.state
                  , a = this;
                n.init({
                    exam: n.data.exam
                }),
                localStorage.removeItem("faceImgUrl" + e.examId),
                e.exam && "{}" !== JSON.stringify(e.exam.data) ? a.app.viewport.hasModalOpen() && this.app.viewport.closeModal(!0).then(function() {
                    a.app.askbar.trigger("count.down.start"),
                    e.updateCount && e.updateCount(n.data.exam)
                }) : (localStorage.isOpenExam = !0,
                window.location.reload())
            },
            closeRecheckModal: function() {
                var e, n = this.renderOptions, a = this.store.models.state, t = this;
                a.init({
                    exam: a.data.exam
                }),
                localStorage.removeItem("faceImgUrl" + n.examId),
                n.exam && "{}" !== JSON.stringify(n.exam.data) ? t.app.viewport.hasModalOpen() && this.app.viewport.closeModal(!0).then(function() {
                    t.app.askbar.trigger("count.down.start"),
                    n.updatePaper && n.updatePaper(a.data.exam),
                    n.updateCount && n.updateCount(a.data.exam)
                }) : this.store.module.dispatch("initExam").then(function(a) {
                    t.app.viewport.hasModalOpen() && t.app.viewport.closeModal(!0).then(function() {
                        e = a[0].examRecord,
                        t.app.askbar.trigger("count.down.start"),
                        n.updatePaper && n.updatePaper(a[0], {
                            forceRefreshPaper: !0
                        }),
                        n.updateCount && n.updateCount(e)
                    })
                })
            },
            showFaceRecheck: function(e, n) {
                var a, i = this.store.models.examInfo.data, s = this;
                return !(e.examRecord && e.examRecord.examFaceStatistics && e.examRecord.examFaceStatistics.overLimit || e.examFaceStatistics && e.examFaceStatistics.overLimit) || ("faceInitExam" === n ? (0 === i.faceFailedRule && (a = 1300061),
                1 === i.faceFailedRule && (a = 1130007),
                2 === i.faceFailedRule && (a = 1130005)) : (0 === i.faceFailedRule && (a = 1300061),
                1 === i.faceFailedRule && (a = 1300062),
                2 === i.faceFailedRule && (a = 1300063)),
                t.call(s, {
                    errorCode: a,
                    exam: e
                }),
                !1)
            }
        },
        i = function() {
            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(e) {
                window.setTimeout(e, 1e3 / 60)
            }
        }(),
        s = function() {
            return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.msCancelAnimationFrame || window.oCancelAnimationFrame || function(e) {
                window.clearTimeout(e)
            }
        }(),
        t = function(e) {
            var n = this.models ? this.models.state : this.store.models.state
              , a = this.models ? this.models.collectErrorCode : this.store.models.collectErrorCode
              , t = this
              , i = this.module.renderOptions
              , s = e.errorCode || JSON.parse(e[0].responseText).errorCode;
            if (s) {
                switch (a.data.errorCode = s,
                s) {
                case 130001:
                case 130002:
                    n.data.num = 4,
                    n.data.isGatherFace = !0;
                    break;
                case 1130008:
                case 130008:
                    n.init(),
                    n.data.currentCount = 1;
                    break;
                case 1130007:
                    t.app.viewport.hasModalOpen() && t.app.viewport.closeModal(!0).then(function() {
                        t.app.viewport.modal(t.module.items["exam/exam/answer-paper/face/face-recheck-init"], {
                            errorCode: 130007,
                            examId: i.examId
                        })
                    });
                    break;
                case 1130006:
                    n.init();
                    break;
                case 130006:
                case 2130006:
                    n.init(),
                    n.data.num = 3,
                    n.data.faceImg = localStorage.getItem("faceImgUrl" + i.examId),
                    n.data.isGatherFace = !0,
                    n.data.currentCount = 1,
                    localStorage.errorCode = 2130006;
                    break;
                case 20100:
                    n.data.num = 14,
                    n.data.isGatherFace = !0;
                    break;
                case 90137:
                    n.data.num = 15,
                    n.data.isGatherFace = !0;
                    break;
                case 222202:
                    n.data.num = 3,
                    n.data.isGatherFace = !0;
                    break;
                case 1130005:
                    t.app.viewport.hasModalOpen() && t.app.viewport.closeModal(!0).then(function() {
                        t.app.viewport.modal(t.module.items["exam/exam/answer-paper/face/face-prompt-force"], {
                            errorCode: 130005,
                            examId: i.examId
                        })
                    });
                    break;
                case 1300061:
                    n.data.num = 6,
                    n.data.isGatherFace = !0,
                    n.data.exam = e.exam || {};
                    break;
                case 1300062:
                    n.data.num = 8,
                    n.data.faceImg = localStorage.getItem("faceImgUrl" + i.examId),
                    n.data.isGatherFace = !0,
                    n.data.exam = e.exam || {};
                    break;
                case 1300063:
                case 130005:
                    n.data.num = 10,
                    n.data.isGatherFace = !1,
                    n.data.exam = e.exam || {};
                    break;
                case 130004:
                    n.data.num = 3,
                    n.data.isGatherFace = !0;
                    break;
                case 130007:
                    n.data.num = 8,
                    n.data.faceImg = localStorage.getItem("faceImgUrl" + i.examId),
                    n.data.isGatherFace = !0;
                    break;
                case 20151:
                    n.data.num = 33,
                    n.data.isGatherFace = !0;
                    break;
                case 30157:
                    t.app.message.error(c.get("exam.exam.exam-detail.exam-check-enter")),
                    setTimeout(function() {
                        window.close()
                    }, 5e3)
                }
                n.changed()
            } else
                s = JSON.parse(e[0].responseText).errorCode,
                500 === e[0].status ? (n.data.num = 4,
                n.data.isGatherFace = !0,
                t.app.message.alert(c.get("exam.exam.answer-paper.no-internet"))) : (n.data.num = 3,
                n.data.isGatherFace = !0);
            n.changed()
        }
        ,
        r = function() {
            this.app.askbar.on("exam.after.force-submit", this.closeModal, this),
            this.app.askbar.on("exam.after.recheck", this.closeRecheckModal, this),
            this.app.askbar.on("notice.exam.pause", this.noticeExamPause, this)
        }
        ,
        l = function() {
            this.app.askbar.off("exam.after.force-submit", this.closeModal, this),
            this.app.askbar.off("exam.after.recheck", this.closeRecheckModal, this),
            this.app.askbar.off("notice.exam.pause", this.noticeExamPause, this)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/face/prompts": [function(e, n, a) {
        a.prompts = [{
            0: {
                color: "blue",
                icon: "images/detect-face.gif",
                msg: "点击按钮开始人脸采集",
                btn: [{
                    id: "gatherFace",
                    text: "开始采集",
                    color: "bgbtn"
                }]
            },
            1: {
                color: "blue",
                icon: "",
                msg: "",
                btn: [{
                    id: "startGatherFace",
                    text: "拍照",
                    color: "bgbtn"
                }]
            },
            11: {
                color: "blue",
                icon: "renliandenglu",
                msg: "人脸信息已采集",
                btn: [{
                    id: "checkFace",
                    text: "确认",
                    color: "bgbtn"
                }, {
                    id: "reGatherFace",
                    text: "重新拍照",
                    color: "whiteBtn"
                }]
            },
            12: {
                color: "blue",
                icon: "",
                msg: "",
                btn: [{
                    id: "",
                    text: "确认",
                    color: "grayBtn"
                }, {
                    id: "reGatherFace",
                    text: "重新拍照",
                    color: "whiteBtn"
                }]
            },
            13: {
                color: "blue",
                icon: "",
                msg: "网络异常",
                btn: [{
                    id: "checkFace",
                    text: "确认",
                    color: "bgbtn"
                }, {
                    id: "reGatherFace",
                    text: "重新拍照",
                    color: "whiteBtn"
                }]
            },
            14: {
                color: "blue",
                icon: "",
                msg: "另外一台设备正在做相同的操作，请稍后重试",
                btn: [{
                    id: "tryAgainGatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            15: {
                color: "blue",
                icon: "",
                msg: "很抱歉，企业未开通人脸权限",
                btn: [{
                    id: "tryAgainGatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            2: {
                color: "blue",
                icon: "xiaoyan",
                msg: "正在进行人脸校验",
                btn: [{
                    id: "",
                    text: "重新采集",
                    color: "grayBtn"
                }]
            },
            3: {
                color: "orange",
                icon: "tixing2",
                msg: "没有检测到人脸或人脸不匹配",
                btn: [{
                    id: "tryAgainGatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            31: {
                color: "orange",
                icon: "tixing2",
                msg: "没有检测到人脸或人脸不匹配",
                btn: [{
                    id: "gatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            33: {
                color: "orange",
                icon: "tixing2",
                msg: "您已绑定其他账号",
                btn: [{
                    id: "tryAgainGatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            4: {
                color: "orange",
                icon: "tixing2",
                msg: "当前人脸服务正忙,请您稍后再试或联系管理处理。",
                btn: [{
                    id: "tryAgain",
                    text: "重试",
                    color: "bgbtn"
                }]
            },
            5: {
                color: "orange",
                icon: "tixing2",
                msg: "没有检测到人脸或人脸不匹配",
                btn: [{
                    id: "tryAgainGatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            6: {
                color: "orange",
                icon: "tixing2",
                msg: "验证中断",
                btn: [{
                    id: "passVerify",
                    text: "跳过验证",
                    color: "bgbtn"
                }]
            },
            7: {
                color: "orange",
                icon: "tixing2",
                msg: "当前人脸验证未通过,请确认采集条件正常且为本人后再重新采集验证。",
                btn: [{
                    id: "recheck",
                    text: "申请复核",
                    color: "bgbtn"
                }]
            },
            8: {
                color: "orange",
                icon: "renliandenglu",
                msg: "等待复核中...",
                btn: [{
                    id: "",
                    text: "已申请复核",
                    color: "grayBtn"
                }]
            },
            88: {
                color: "orange",
                icon: "renliandenglu",
                msg: "当前人脸正在复核中...",
                btn: [{
                    id: "",
                    text: "已申请复核",
                    color: "grayBtn"
                }]
            },
            9: {
                color: "green",
                icon: "xingzhuang",
                msg: "验证通过",
                btn: [{
                    id: "goOnExam",
                    text: "继续考试",
                    color: "bgbtn"
                }]
            },
            10: {
                color: "green",
                icon: "images/detect-face.png",
                msg: "人脸验证未通过，本次考试已被强制交卷",
                btn: [{
                    id: "closePaper",
                    text: "返回",
                    color: "bgbtn"
                }]
            }
        }, {
            0: {
                color: "blue",
                icon: "images/detect-face.gif",
                msg: "点击按钮开始人脸拍照",
                btn: [{
                    id: "gatherFace",
                    text: "开始拍照",
                    color: "bgbtn"
                }]
            },
            1: {
                color: "blue",
                icon: "",
                msg: "",
                btn: [{
                    id: "startGatherFace",
                    text: "拍照",
                    color: "bgbtn"
                }]
            },
            11: {
                color: "blue",
                icon: "renliandenglu",
                msg: "采集完成",
                btn: [{
                    id: "checkFace",
                    text: "确认",
                    color: "bgbtn"
                }, {
                    id: "reGatherFace",
                    text: "重新拍照",
                    color: "whiteBtn"
                }]
            },
            12: {
                color: "blue",
                icon: "",
                msg: "",
                btn: [{
                    id: "",
                    text: "确认",
                    color: "grayBtn"
                }, {
                    id: "reGatherFace",
                    text: "重新拍照",
                    color: "whiteBtn"
                }]
            },
            13: {
                color: "blue",
                icon: "",
                msg: "网络异常",
                btn: [{
                    id: "checkFace",
                    text: "确认",
                    color: "bgbtn"
                }, {
                    id: "reGatherFace",
                    text: "重新拍照",
                    color: "whiteBtn"
                }]
            },
            14: {
                color: "blue",
                icon: "",
                msg: "另外一台设备正在做相同的操作，请稍后重试",
                btn: [{
                    id: "tryAgainGatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            15: {
                color: "blue",
                icon: "",
                msg: "很抱歉，企业未开通人脸权限",
                btn: [{
                    id: "tryAgainGatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            2: {
                color: "blue",
                icon: "xiaoyan",
                msg: "正在进行人脸校验",
                btn: [{
                    id: "",
                    text: "重新采集",
                    color: "grayBtn"
                }]
            },
            3: {
                color: "orange",
                icon: "tixing2",
                msg: "没有检测到人脸或人脸不匹配",
                btn: [{
                    id: "tryAgainGatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            31: {
                color: "orange",
                icon: "tixing2",
                msg: "没有检测到人脸或人脸不匹配",
                btn: [{
                    id: "gatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            33: {
                color: "orange",
                icon: "tixing2",
                msg: "没有检测到人脸或人脸不匹配",
                btn: [{
                    id: "tryAgainGatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            4: {
                color: "orange",
                icon: "tixing2",
                msg: "当前人脸服务正忙,请您稍后再试或联系管理处理。",
                btn: [{
                    id: "tryAgain",
                    text: "重试",
                    color: "bgbtn"
                }]
            },
            5: {
                color: "orange",
                icon: "tixing2",
                msg: "没有检测到人脸或人脸不匹配",
                btn: [{
                    id: "tryAgainGatherFace",
                    text: "重新采集",
                    color: "bgbtn"
                }]
            },
            6: {
                color: "orange",
                icon: "tixing2",
                msg: "验证中断",
                btn: [{
                    id: "passVerify",
                    text: "跳过验证",
                    color: "bgbtn"
                }]
            },
            7: {
                color: "orange",
                icon: "tixing2",
                msg: "当前人脸验证未通过,请确认采集条件正常且为本人后再重新采集验证。",
                btn: [{
                    id: "recheck",
                    text: "申请复核",
                    color: "bgbtn"
                }]
            },
            8: {
                color: "orange",
                icon: "renliandenglu",
                msg: "等待复核中...",
                btn: [{
                    id: "",
                    text: "已申请复核",
                    color: "grayBtn"
                }]
            },
            88: {
                color: "orange",
                icon: "renliandenglu",
                msg: "当前人脸正在复核中...",
                btn: [{
                    id: "",
                    text: "已申请复核",
                    color: "grayBtn"
                }]
            },
            9: {
                color: "green",
                icon: "xingzhuang",
                msg: "验证通过",
                btn: [{
                    id: "goOnExam",
                    text: "继续考试",
                    color: "bgbtn"
                }]
            },
            10: {
                color: "green",
                icon: "images/detect-face.png",
                msg: "人脸验证未通过，本次考试已被强制交卷",
                btn: [{
                    id: "closePaper",
                    text: "返回",
                    color: "bgbtn"
                }]
            }
        }]
    }
    , {}],
    "./app/exam/exam/answer-paper/face/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="detect-face" data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="camera">          \n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isGatherFace : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '        <div class="operation">\n' + (null != (s = a.each.call(r, null != (s = null != n ? n.prompt : n) ? s.btn : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '            <div class="face-box">\n                <div class="gather-face">\n                    <div class="corner-top-mark"></div>\n                    <div class="corner-bottom-mark"></div>\n                    <img class="face-mask" src="images/face-jiaoyan.jpg"/>\n' + (null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.faceImg : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.program(7, i, 0),
                    data: i
                })) ? s : "") + '                </div>\n                <div class="prompt">\n                    <div class="prompt-text"></div>\n                    <div class="' + l(r(null != (s = null != n ? n.prompt : n) ? s.color : s, n)) + '"><i class="m-right iconfont icon-' + l(r(null != (s = null != n ? n.prompt : n) ? s.icon : s, n)) + '"></i>' + l(r(null != (s = null != n ? n.prompt : n) ? s.msg : s, n)) + "</div>\n                </div>\n            </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                        <img src="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.faceImg : s, n)) + '" style="width:215px;height:215px;"/>\n                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg">\n                            <path class="progress"></path>\n                        </svg>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <video id="video" class="video" ' + o((s = null != (s = a.autoplay || (null != n ? n.autoplay : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "autoplay",
                    hash: {},
                    data: i
                }) : s)) + '="' + o((s = null != (s = a.autoplay || (null != n ? n.autoplay : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "autoplay",
                    hash: {},
                    data: i
                }) : s)) + '"></video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '            <div class="img-box">\n                <img src="' + l(r(null != (s = null != n ? n.prompt : n) ? s.icon : s, n)) + '"/>\n                <div class="prompt">' + l(r(null != (s = null != n ? n.prompt : n) ? s.msg : s, n)) + "</div>\n            </div>\n"
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <div class="btn button count ' + o((s = null != (s = a.color || (null != n ? n.color : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "color",
                    hash: {},
                    data: i
                }) : s)) + '" id="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.text || (null != n ? n.text : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "text",
                    hash: {},
                    data: i
                }) : s)) + "</div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/answer-paper/face/view-main": [function(e, n, a) {
        var t = e("jquery")
          , i = e("./app/util/strings")
          , s = e("./app/util/debounce").debounce
          , r = e("./prompts").prompts;
        a.bindings = {
            collectErrorCode: !0,
            examInfo: !0,
            state: !0,
            exam: !0
        },
        a.events = {
            "click gatherFace": "gatherFace",
            "click checkFace": "checkFace",
            "click startGatherFace": "startGatherFace",
            "click reGatherFace": "reGatherFace",
            "click tryAgainGatherFace": "tryAgainGatherFace",
            "click tryAgain": "tryAgain",
            "click passVerify": "passVerify",
            "click recheck": "recheck",
            "click goOnExam": "goOnExam",
            "click closePaper": "closePaper"
        },
        a.dataForTemplate = {
            num: function() {
                return this.bindings.state.data.num || 0
            },
            prompt: function() {
                var e, n = this.bindings.state.data, a = this.bindings.examInfo;
                return e = r[0][n.num || 0],
                2 === a.data.faceMode && (e = r[1][n.num || 0]),
                e
            }
        },
        a.handlers = {
            gatherFace: function() {
                var e = this.bindings.state
                  , n = this.bindings.examInfo
                  , a = this.module.items["exam/exam/answer-paper/face/face-register-validate"]
                  , t = this.module.renderOptions
                  , i = this
                  , s = function() {
                    e.data.isGatherFace = !0,
                    e.data.num = 1,
                    e.data.faceImg = "",
                    e.changed(),
                    i.capture()
                };
                [1130006, 130006].indexOf(t.errorCode) > -1 && 1 === n.data.faceMode && !localStorage.passValidate ? this.app.viewport.modal(a, {
                    title: "人脸注册",
                    callback: function() {
                        s()
                    }
                }) : s()
            },
            checkFace: function() {
                var e, n, a = this, t = this.module.renderOptions, i = this.bindings.collectErrorCode, r = this.bindings.state;
                s.call(a, function() {
                    return a.module.dispatch("checkCompanyFaceRuleSupport").then(function(s) {
                        return e = s[0].value && JSON.parse(s[0].value) || {},
                        (n = e.faceContrastExamShow || e.facePhotographExamShow) ? [1130006, 130006].indexOf(t.errorCode) > -1 || [2130006].indexOf(i.data.errorCode) > -1 || "2130006" === localStorage.errorCode ? (r.data.num = 2,
                        r.changed(),
                        a.module.dispatch("faceRegister")) : "{}" === JSON.stringify(t.exam.data) ? (r.data.num = 2,
                        r.changed(),
                        a.module.dispatch("faceInitExam")) : (r.data.num = 2,
                        r.changed(),
                        a.module.dispatch("faceCheck")) : a.app.message.error("很抱歉，企业未开通人脸拍照权限")
                    })
                }(), 3e3, !0)
            },
            startGatherFace: function() {
                var e, n, a = this.bindings.state, t = this.$$(".video")[0], s = this;
                this.module.dispatch("checkCompanyFaceRuleSupport").then(function(i) {
                    return e = i[0].value && JSON.parse(i[0].value) || {},
                    (n = e.faceContrastExamShow || e.facePhotographExamShow) ? (s.getFaceData(t),
                    s.MediaStreamTrack && s.MediaStreamTrack.stop(),
                    s.module.dispatch("startGatherFace").then(function() {
                        a.data.num = 11,
                        a.changed()
                    })) : s.app.message.error("很抱歉，企业未开通人脸拍照权限")
                }).catch(function(e) {
                    500 === e[0].status && s.app.message.error(i.get("exam.exam.answer-paper.no-internet"))
                })
            },
            reGatherFace: function() {
                var e = this.bindings.state;
                e.data.faceImg = "",
                e.data.num = 1,
                e.changed(),
                this.capture()
            },
            tryAgainGatherFace: function() {
                var e = this.bindings.state;
                e.data.faceImg = "",
                e.data.num = 1,
                e.changed(),
                this.capture()
            },
            tryAgain: function() {
                var e = t(this.$$(".count")[0])
                  , n = this.bindings.state;
                e.hasClass("grayBtn") || "grayBtn" === n.data.isActive || (n.data.isActive = "grayBtn",
                e.addClass("grayBtn"),
                this.countDown())
            },
            goOnExam: function() {
                var e = this.bindings.state;
                e.data.faceImg = "",
                e.data.num = 0,
                e.data.isGatherFace = !1,
                this.app.viewport.closeModal()
            },
            passVerify: function() {
                return this.module.closeSkipModal()
            },
            closePaper: function() {
                window.close()
            }
        },
        a.mixin = {
            getFaceData: function(e) {
                var n, a, t;
                a = document.createElement("canvas"),
                a.style.transform = "scale(0.5)",
                a.width = 600,
                a.height = 500,
                t = a.getContext("2d"),
                t.drawImage(e, 0, 0, 600, 500),
                n = a.toDataURL("image/jpeg", 1),
                this.bindings.state.data.num = 1,
                this.bindings.state.data.faceImg = n,
                this.bindings.state.changed()
            },
            getUserMedia: function(e, n, a) {
                navigator.mediaDevices && navigator.mediaDevices.getUserMedia ? navigator.mediaDevices.getUserMedia(e).then(n).catch(a) : navigator.webkitGetUserMedia ? navigator.webkitGetUserMedia(e, n, a) : navigator.mozGetUserMedia ? navigator.mozGetUserMedia(e, n, a) : navigator.getUserMedia ? navigator.getUserMedia(e, n, a) : this.app.message.confirm("您的浏览器不支持调用摄像头")
            },
            capture: function() {
                var e, n = this, a = this.bindings.state, i = function() {
                    a.data.num = 0,
                    a.data.isGatherFace = !1,
                    a.changed(),
                    setTimeout(function() {
                        t(".dialog-cover .loading").remove()
                    }, 500)
                }, s = {
                    audio: !1,
                    video: {
                        width: {
                            min: 320,
                            max: 1280
                        },
                        height: {
                            min: 240,
                            max: 720
                        },
                        frameRate: 30
                    }
                };
                t(".dialog-cover").append('<div class="loading">加载中<dot>...</dot></div>'),
                this.getUserMedia(s, function(a) {
                    e = n.$$(".video")[0],
                    setTimeout(function() {
                        t(".dialog-cover .loading").remove()
                    }, 500),
                    n.MediaStreamTrack = "function" == typeof a.stop ? a : {
                        stop: function() {
                            a.getTracks().forEach(function(e) {
                                e.stop()
                            })
                        }
                    },
                    e.mozSrcObject ? e.mozSrcObject = a : e.srcObject = a,
                    e.play()
                }, function(e) {
                    return n.MediaStreamAccess = e,
                    n.MediaStreamTrack && n.MediaStreamTrack.stop(),
                    "DOMException: Permission denied".indexOf(e) ? (a.data.num = 12,
                    a.data.isGatherFace = !0,
                    a.data.faceImg = "",
                    a.changed(),
                    this.app.message.confirm("请检查摄像头权限是否打开, 然后重试", function() {
                        i()
                    }, function() {
                        i()
                    })) : this.app.message.confirm(e)
                })
            },
            countDown: function(e) {
                var n, a = this, i = t(this.$$(".count")[0]), s = e || 5, r = this.bindings.exam;
                return n = setTimeout(function() {
                    a.countDown(s)
                }, 1e3),
                s--,
                i.html(s + "s"),
                s <= 0 ? (i.html("重试").removeClass("grayBtn"),
                a.bindings.state.data.isActive = "",
                "{}" === JSON.stringify(r.data) ? this.module.dispatch("faceInitExam") : this.module.dispatch("faceCheck"),
                clearTimeout(n)) : ""
            },
            closeDown: function() {
                var e, n = t(".count"), a = 5;
                e = setInterval(function() {
                    n.html("返回 (" + a + "s)"),
                    0 === a && (clearTimeout(e),
                    window.close()),
                    a--
                }, 1e3)
            }
        }
    }
    , {
        "./app/util/debounce": "./app/util/debounce",
        "./app/util/strings": "./app/util/strings",
        "./prompts": "./app/exam/exam/answer-paper/face/prompts",
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/index": [function(e, n, a) {
        var t, i, s, r, l, o, c, u, d, p, m, h, v, f, g = e("./app/exam/exam/base-paper/index"), x = e("drizzlejs"), y = e("jquery"), b = e("./app/exam/util"), w = e("./answer-helper"), q = e("lodash/collection"), k = e("./app/util/strings"), R = e("./app/util/special-errors"), E = {
            PC_CLIENT_TYPE: 1,
            SHOW_ANSWER_IMMED: 1
        }, I = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current"
        }, M = {
            Auto: "Auto",
            Hand: "Hand"
        }, C = {
            AUTO: 1,
            HAND: 2,
            TIMEOUT: 3,
            FORCE: 4,
            FULL_SWICH: 5
        }, T = 0, S = {}, z = {
            items: {
                "count-down": "count-down",
                "answer-detail": "answer-detail",
                submit: "submit",
                "exam/exam/answer-paper/face": {
                    isModule: !0
                },
                "exam/exam/answer-paper/face/face-prompt": {
                    isModule: !0
                }
            },
            store: {
                models: {
                    examPause: {
                        url: "../exam/exam-record/front/pause"
                    },
                    faceSystemRule: {
                        url: "../system/rule-config/key?key=FACE_CONFIG"
                    },
                    examInfo: {
                        url: "../exam/exam/front/simple-data/"
                    },
                    exam: {
                        type: "localStorage",
                        url: "../exam/exam/front/exam-paper",
                        mixin: {
                            decryptAnswer: function() {
                                var e = this.module.store.models.decryptKey.data.key;
                                return x.assign(this.data, {
                                    secretContent: w.decryptAnswer.call(this, this.data.paper.secretContent, e)
                                }),
                                this.data.secretContent
                            },
                            saveLastCacheTime: function(e) {
                                x.assign(this.data, {
                                    lastCacheTime: e
                                }),
                                this.saveByKey(this.data.id)
                            }
                        }
                    },
                    mark: {
                        type: "localStorage",
                        mixin: {
                            init: function(e) {
                                var n = this.module.store.models.exam.data;
                                this.data = {
                                    corrects: [],
                                    waitingChecks: e && JSON.parse(e) || []
                                },
                                this.saveByKey(n.id)
                            },
                            isCorrectView: function(e) {
                                return e.indexOf("correct-") > -1
                            },
                            getCorrect: function(e) {
                                return q.find(this.data.corrects, ["key", e])
                            },
                            waitingCheck: function(e) {
                                var n = !1
                                  , a = this.module.store.models.exam.data;
                                return q.find(this.data.waitingChecks, ["key", e]) ? this.data.waitingChecks = q.reject(this.data.waitingChecks, ["key", e]) : (this.data.waitingChecks.push({
                                    key: e
                                }),
                                n = !0),
                                this.saveByKey(a.id),
                                n
                            },
                            correct: function(e) {
                                var n = this.module.store.models.exam.data;
                                this.data.corrects = q.reject(this.data.corrects, ["questionId", e.questionId]),
                                this.data.corrects.push(e),
                                this.saveByKey(n.id)
                            },
                            getWaitingCheck: function(e) {
                                return q.find(this.data.waitingChecks, ["key", e])
                            },
                            hasWatingCheck: function() {
                                return this.data.waitingChecks.length > 0
                            },
                            waitingCheckCount: function() {
                                return this.data.waitingChecks.length
                            }
                        }
                    },
                    countDown: {
                        type: "localStorage",
                        mixin: {
                            init: function() {
                                var e = this.module.store.models.exam.data;
                                this.loadByKey(e.id),
                                this.data || (this.data = {},
                                this.saveByKey(e.id))
                            },
                            timeOut: function() {
                                return !!this.data.remainDuration && q.every(this.data.remainDuration.split(":"), function(e) {
                                    return 0 === Number(e)
                                })
                            }
                        }
                    },
                    answer: {
                        type: "localStorage",
                        mixin: {
                            init: function(e) {
                                var n, a, t = this.module.store.models.exam.data;
                                e ? (n = q.map(e, function(e) {
                                    return 1 === e.questionCopy.type || 2 === e.questionCopy.type ? {
                                        key: e.questionId,
                                        value: q.map(e.answer.split(","), function(n) {
                                            return {
                                                id: e.questionId,
                                                value: n
                                            }
                                        })
                                    } : {
                                        key: e.questionId,
                                        value: [{
                                            id: e.questionId,
                                            value: e.answer
                                        }]
                                    }
                                }),
                                a = q.map(q.filter(t.paper.questions, function(e) {
                                    return 6 === e.type
                                }), function(e) {
                                    return {
                                        key: e.id,
                                        type: 6,
                                        value: q.map(e.subs, function(e) {
                                            var a = q.find(n, ["key", e.id]);
                                            return a ? (n = q.reject(n, ["key", e.id]),
                                            a) : {
                                                key: e.id,
                                                value: []
                                            }
                                        })
                                    }
                                }),
                                q.forEach(a, function(e) {
                                    q.some(e.value, function(e) {
                                        return e.value.length > 0 && q.every(e.value, function(e) {
                                            return e.value
                                        })
                                    }) && n.push(e)
                                }),
                                this.data = n,
                                this.saveByKey(t.id)) : (this.data = [],
                                this.saveByKey(t.id))
                            },
                            saveAnswer: function(e) {
                                var n = this.module.store.models.exam.data;
                                this.data = q.reject(this.data, ["key", e.key]),
                                this.data.push(e),
                                this.saveByKey(n.id)
                            },
                            answeredCount: function() {
                                return q.filter(this.data, function(e) {
                                    var n = !q.every(e.value, function(e) {
                                        return x.isArray(e.value) && (0 === e.value.length || q.every(e.value, function(e) {
                                            return !e.value
                                        }))
                                    })
                                      , a = e.value.length > 0 && q.some(e.value, function(e) {
                                        return "" !== e.value
                                    });
                                    return 6 === Number(e.type) ? n : a
                                }).length
                            },
                            getAnswer: function(e) {
                                return q.find(this.data, ["key", e])
                            },
                            changeAnswerRecord: function() {
                                var e = [];
                                return q.forEach(this.data, function(n) {
                                    n.type && 6 === n.type ? q.forEach(n.value, function(n) {
                                        e.push(n)
                                    }) : e.push(n)
                                }),
                                JSON.stringify(q.map(e, function(e) {
                                    return {
                                        questionId: e.key,
                                        answer: q.map(e.value, "value").join(",")
                                    }
                                }))
                            }
                        }
                    },
                    modify: {
                        type: "localStorage",
                        mixin: {
                            saveAnswer: function(e) {
                                var n = this.module.store.models.exam.data;
                                this.data || (this.data = []),
                                this.data = q.reject(this.data, ["key", e.key]),
                                this.data.push(e),
                                this.saveByKey(n.id)
                            },
                            changeAnswerRecord: function() {
                                var e = [];
                                return q.forEach(this.data, function(n) {
                                    n.type && 6 === n.type ? q.forEach(n.value, function(n) {
                                        e.push(n)
                                    }) : e.push(n)
                                }),
                                JSON.stringify(q.map(e, function(e) {
                                    return {
                                        questionId: e.key,
                                        answer: q.map(e.value, "value").join(",")
                                    }
                                }))
                            },
                            insertByTempModify: function(e) {
                                var n = this;
                                e && e.length > 0 && (this.data && this.data.length > 0 ? q.each(e, function(e) {
                                    n.saveAnswer(e)
                                }) : this.data = e)
                            }
                        }
                    },
                    tempModify: {
                        type: "localStorage",
                        mixin: {
                            saveAnswer: function(e) {
                                var n = this.module.store.models.exam.data;
                                this.data || (this.data = []),
                                this.data = q.reject(this.data, ["key", e.key]),
                                this.data.push(e),
                                this.saveByKey(n.id)
                            }
                        }
                    },
                    form: {
                        url: "../exam/exam-record/front/submitPaper"
                    },
                    decryptKey: {
                        url: "../exam/exam/decrypt-key"
                    },
                    answerRecord: {
                        url: "../exam/exam/front/answer-record"
                    },
                    switchScreen: {
                        url: "../exam/exam-record/front/switch-screen"
                    },
                    rule: {
                        url: "../system/rule-config/key"
                    }
                },
                callbacks: {
                    initExam: function(e) {
                        var n, a = this.models.faceSystemRule, t = this.models.examInfo, i = this;
                        return t.set({
                            id: e.examId
                        }),
                        this.get(t).then(function() {
                            return t.data.faceMode ? (a.clear(),
                            i.get(a).then(function(e) {
                                return n = e[0].value && JSON.parse(e[0].value) || {},
                                p = n.faceContrastExamShow && 1 === t.data.faceMode || n.facePhotographExamShow && 2 === t.data.faceMode,
                                i.Promise.resolve({
                                    isTempCompanySupport: !0
                                })
                            })) : i.Promise.resolve({
                                isTempCompanySupport: !1
                            })
                        })
                    },
                    initExamInfo: function(e) {
                        var n, a = this.models.exam, t = this.models.types, i = this.models.state, s = this.models.countDown, r = this.models.mark, l = this.models.answer, c = this.models.modify, u = this.models.form.data, d = this.models.tempModify, p = this.models.rule, g = this.models.examPause, y = this, b = t.data, w = function(e, n, a, t) {
                            return !!e || (!n || (!(!n || n.examRecordId === a.id) || (1 === a.isReset || 3 === t.status)))
                        }, q = a.data && a.data.lowerSwitchTimes;
                        return v = e.examId,
                        y.module.dispatch("clearMe", {
                            examId: v
                        }),
                        i.loadByKey(e.examId),
                        t.loadByKey(e.examId),
                        s.loadByKey(e.examId),
                        r.loadByKey(e.examId),
                        l.loadByKey(e.examId),
                        c.loadByKey(e.examId),
                        a.clear(),
                        d.clearByKey(e.examId),
                        localStorage.removeItem("passValidate"),
                        S = {
                            payload: e,
                            exam: a,
                            answer: l,
                            correct: u,
                            modify: c,
                            mark: r,
                            types: t,
                            state: i,
                            countDown: s,
                            needChange: w,
                            oldTypes: b,
                            lowerSwitchTimes: q
                        },
                        this.chain([function() {
                            return p.params = {
                                key: "COURSE_COMPLETE_RULE"
                            },
                            this.get(p, {
                                slient: !0
                            })
                        }
                        , function() {
                            return p.params = {
                                key: "PREVENT_SCREENSHOT_CONFIG"
                            },
                            this.get(p, {
                                slient: !0
                            }).then(function(e) {
                                return x.assign({}, {
                                    key: e[0].key,
                                    value: e[0].value,
                                    type: e[0].type
                                })
                            })
                        }
                        ], function(e) {
                            p.set({
                                rule1: e[0] && e[0][0],
                                rule2: e[1]
                            }),
                            h = p.data
                        }),
                        x.assign(a.params, {
                            clientType: E.PC_CLIENT_TYPE
                        }, {
                            examId: e.examId
                        }),
                        y.get(a, {
                            loading: !0
                        }).then(function(t) {
                            return f.call(y, S),
                            g.set({
                                examRecordId: t[0].examRecord.id
                            }),
                            y.module.dispatch("initExam", e).then(function(e) {
                                return e.isTempCompanySupport && (n = function() {
                                    t[0].examRecord && t[0].examRecord.examFaceStatistics && t[0].examRecord.examFaceStatistics.needCollect && (T = a.data.examRecord.examFaceStatistics.nextCount,
                                    y.module.dispatch("submitPaper", {
                                        submitType: M.Auto,
                                        submitTipsType: C.AUTO
                                    }),
                                    y.post(g).then(function() {
                                        m.call(y, {
                                            exam: a,
                                            num: 0,
                                            currentCount: T
                                        })
                                    }))
                                }
                                ,
                                localStorage.isOpenExam ? (localStorage.removeItem("isOpenExam"),
                                n()) : y.app.viewport.modal(y.module.items["exam/exam/answer-paper/face/face-prompt"], {
                                    callback: function() {
                                        return n()
                                    }
                                })),
                                !0
                            })
                        }, function(n) {
                            var t, i = JSON.parse(n[0].responseText).errorCode;
                            t = {
                                exam: a,
                                errorCode: i,
                                currentCount: 1,
                                examSuccessOptions: x.assign(S, {
                                    forceRefreshPaper: !0
                                })
                            },
                            30150 === i ? setTimeout(function() {
                                y.app.navigate("exam/exam/exam-detail/" + e.examId)
                            }, 1e3) : !o(n) && window.opener ? setTimeout(function() {
                                window.close()
                            }, 1500) : o(n) ? R.isHasFaceCode(i) && (130008 === i && (i = 1130008),
                            130006 === i && (i = 1130006),
                            130007 === i && (i = 1130007),
                            130005 === i && (i = 1130005),
                            y.app.viewport.modal(y.module.items["exam/exam/answer-paper/face/face-prompt"], {
                                callback: function() {
                                    m.call(y, x.assign(t, {
                                        errorCode: i
                                    }))
                                }
                            })) : setTimeout(function() {
                                y.app.navigate("home")
                            }, 1e3)
                        })
                    },
                    saveAnswer: function(e) {
                        var n, a, t, i, s, r = this.models.exam, l = this.models.state.data, o = this.models.examPause, c = this;
                        return this.models.answer.saveAnswer(e),
                        this.models.modify.saveAnswer(e),
                        l.autoSubmiting && this.models.tempModify.saveAnswer(e),
                        this.models.state.calculate(),
                        this.models.state.saveLastCacheTime((new Date).getTime()),
                        c.models.state.data.singleMode ? this.models.state.changed() : (this.models.types.updateStatus(e.key, this.module.options.getCurrentStatus.call(this.module, e.key)),
                        this.models.state.changed(),
                        this.models.types.changed()),
                        n = r.data.paper.questions.length,
                        a = r.data.faceLimitTimes,
                        r.data.examRecord && r.data.examRecord.examFaceStatistics && r.data.examRecord.examFaceStatistics.count && (t = Math.max(T, r.data.examRecord.examFaceStatistics.count + 1)),
                        a > n && (a = n + 1),
                        s = this.models.answer.data.length,
                        i = Math.ceil(n / a * (t - 1)),
                        s >= i && t <= a && p && (c.module.dispatch("submitPaper", {
                            submitType: M.Auto,
                            submitTipsType: C.AUTO
                        }),
                        o.set({
                            examRecordId: r.data.examRecord.id
                        }),
                        c.post(o).then(function() {
                            m.call(c, {
                                exam: r,
                                num: 0,
                                currentCount: t
                            })
                        })),
                        this.module.dispatch("checkOverTime")
                    },
                    waitingCheck: function(e) {
                        var n = this.models.mark.waitingCheck(e.questionId);
                        this.models.state.data.singleMode || (n ? this.models.types.updateStatus(e.questionId, I.CHECK) : this.models.types.updateStatus(e.questionId, this.module.options.getCurrentStatus.call(this.module, e.questionId)),
                        this.models.types.changed()),
                        this.models.state.calculate(),
                        this.models.state.changed()
                    },
                    correct: function(e) {
                        this.models.mark.correct(e)
                    },
                    submitPaper: function(e) {
                        var n = this
                          , a = this.models.state
                          , t = this.models.mark
                          , r = this.models.exam
                          , o = this.models.form
                          , u = this.models.tempModify
                          , d = this.module.items["count-down"].getEntities()
                          , p = this.models.exam.data.examRecord.id
                          , m = (new Date).getTime()
                          , h = {
                            examId: r.data.id,
                            examRecordId: p,
                            submitType: e.submitType,
                            answerRecords: this.models.modify.changeAnswerRecord(),
                            fullAnswerRecords: this.models.answer.changeAnswerRecord(),
                            clientType: E.PC_CLIENT_TYPE,
                            lastCacheTime: m,
                            submitDetailType: e.submitTipsType,
                            clientVersion: b.getNavigatorName(),
                            noAnswerCount: a.data && a.data.noAnswerCount,
                            answeredCount: a.data && a.data.answeredCount,
                            checkings: t.data && JSON.stringify(t.data.waitingChecks)
                        };
                        if (this.app.askbar.trigger("exam.player.pause"),
                        this.app.askbar.trigger("exam.player.all.pause"),
                        e.submitType !== M.Auto)
                            w.TO.cancel(),
                            x.assign(a.data, {
                                handSubmit: !0
                            }),
                            u.data && u.data.length > 0 && (n.models.modify.insertByTempModify(u.data),
                            x.assign(h, {
                                answerRecords: this.models.modify.changeAnswerRecord()
                            }));
                        else {
                            if (e.submitType === M.Auto && a.data.handSubmit)
                                return !0;
                            e.submitType === M.Auto && x.assign(a.data, {
                                autoSubmiting: !0
                            })
                        }
                        return this.models.form.set(h),
                        this.post(o, {
                            loading: e.submitType !== M.Auto
                        }).then(function() {
                            return localStorage.removeItem("passValidate"),
                            a.saveLastCacheTime(m),
                            !!c.call(n, o.data, r) && (e.submitType !== M.Auto || e.firstTimeAutoSubmit ? e.submitType === M.Hand && (w.refreshParentWindow(),
                            x.assign(a.data, {
                                over: !0
                            }),
                            w.WS.closeConnect(),
                            d && (d = d[0],
                            d.clearIntervalIt()),
                            i.call(n, e.submitTipsType, r),
                            l.call(n)) : (n.models.modify.clearByKey(r.data.id),
                            u.data && u.data.length > 0 && n.models.modify.insertByTempModify(u.data),
                            u.clearByKey(r.data.id),
                            n.app.message.success(k.get("exam.answer-paper.auto-submit-success"))),
                            x.assign(a.data, {
                                autoSubmiting: !1
                            }),
                            !0)
                        }, function(e) {
                            s.call(n, e)
                        })
                    },
                    delay: function(e) {
                        var n, a = this.models.exam.data, t = this.models.examInfo, i = this.models.countDown;
                        x.assign(i.data, {
                            delay: e.delay,
                            isDeday: !0
                        }),
                        n = new Date(a.examRecord && a.examRecord.endTime),
                        n.setMinutes(n.getMinutes() + e.delay, n.getSeconds(), 0),
                        x.assign(a, {
                            examRecord: x.assign(a.examRecord, {
                                endTime: n.getTime(),
                                currentTime: e.currentTime
                            })
                        }),
                        this.models.countDown.changed(),
                        1 == +t.data.faceMode && 1 == +t.data.faceFailedRule && this.app.askbar.trigger("exam.after.recheck"),
                        this.app.askbar.trigger("notice.exam.pause")
                    },
                    resume: function(e) {
                        var n = this.models.exam.data
                          , a = this
                          , t = a.models.examInfo
                          , i = new Date(n.examRecord && n.examRecord.endTime);
                        i.setTime(i.getTime() + 1e3 * e.delay),
                        x.assign(n, {
                            examRecord: x.assign(n.examRecord, {
                                endTime: i.getTime(),
                                currentTime: e.currentTime,
                                examFaceStatistics: x.assign(n.examRecord.examFaceStatistics, {
                                    count: n.examRecord.examFaceStatistics.count + 1
                                }),
                                isPause: 0
                            })
                        }),
                        this.models.countDown.changed(),
                        1 == +t.data.faceMode && 1 == +t.data.faceFailedRule && (a.module.dispatch("submitPaper", {
                            submitType: M.Auto,
                            submitTipsType: C.AUTO
                        }),
                        this.app.askbar.trigger("exam.after.recheck"))
                    },
                    lowerSwitchTimes: function() {
                        var e, n = this.models.exam.data, a = this.models.state, t = this.models.switchScreen, i = this;
                        return (!a.data || !a.data.over) && (!n.allowSwitchTimes || (x.assign(n, {
                            lowerSwitchTimes: (n.lowerSwitchTimes || 0) + 1
                        }),
                        this.models.exam.saveByKey(n.id),
                        x.assign(t.data, {
                            examId: n.id,
                            examRecordId: n.examRecord.id,
                            times: n.lowerSwitchTimes
                        }),
                        this.save(t, {
                            async: !1
                        }).then(function(a) {
                            return x.assign(n, {
                                lowerSwitchTimes: +a[0].status
                            }),
                            i.models.exam.saveByKey(n.id),
                            n.allowSwitchTimes < (n.lowerSwitchTimes || 0) ? (i.app.viewport.hasModalOpen() && i.app.viewport.closeModal(),
                            i.module.dispatch("submitPaper", {
                                submitType: M.Hand,
                                submitTipsType: C.FULL_SWICH
                            })) : (e = k.getWithParams("exam.answer-paper.switch-screen.remain-times", n.allowSwitchTimes - n.lowerSwitchTimes),
                            i.models.state.data.isOpen = !1,
                            i.module.dispatch("showTips", {
                                message: e
                            }).then(function() {
                                i.app.viewport.hasModalOpen() ? i.models.state.changed() : i.app.viewport.modal(i.module.items["exam-notes"])
                            }))
                        })))
                    },
                    showAnswerDetail: function() {
                        var e = this;
                        return x.assign(this.models.decryptKey.params, {
                            examId: this.models.exam.data.id
                        }),
                        this.get(this.models.decryptKey).then(function() {
                            e.models.types.decryptAnswer(JSON.parse(e.models.exam.decryptAnswer())),
                            e.models.state.data.showAnswerDetail = 1,
                            e.models.state.changed()
                        })
                    },
                    showTips: function(e) {
                        var n = this.models.state;
                        n.data.isOpen || (x.assign(n.data, e, {
                            isOpen: !0
                        }),
                        this.models.state.changed(),
                        this.models.state.saveByKey(n.id))
                    },
                    clearMe: function(e) {
                        this.models.mark.clearByKey(e.examId),
                        this.models.types.clearByKey(e.examId),
                        this.models.state.clearByKey(e.examId),
                        this.models.countDown.clearByKey(e.examId)
                    },
                    saveLastCacheTime: function() {
                        this.models.saveLastCacheTime((new Date).getTime())
                    },
                    loadAnswerRecord: function(e) {
                        var n = this.models.state.data
                          , a = this.models.exam.data
                          , t = this.models.types
                          , i = this.models.main
                          , s = this.models.answer
                          , l = this.models.mark
                          , o = this.models.answerRecord
                          , c = this.models.form.data
                          , u = this;
                        return function(n, a, t) {
                            return !!e.faceMode || (!(n.lastCacheTime || !a.lastCacheTime) || (!!(n.lastCacheTime && a.lastCacheTime && n.lastCacheTime < a.lastCacheTime) || 3 === t.status))
                        }(n, a.examRecord, c) ? (x.assign(o.params, {
                            examId: a.id
                        }),
                        u.get(o, {
                            loading: !0
                        }).then(function() {
                            var e;
                            s.init(o.data),
                            l.init(a.examRecord.checkings),
                            t.clear(),
                            t.init(a.paper.questions, !0),
                            n.isOpen ? (e = n.tips,
                            u.models.state.init(a),
                            x.assign(n, {
                                isOpen: !0,
                                tips: e
                            })) : u.models.state.init(a),
                            u.models.state.resetCurrentQuestion(),
                            u.models.state.saveLastCacheTime((new Date).getTime()),
                            i.changed(),
                            t.changed(),
                            u.models.state.changed()
                        }).then(function() {
                            return u.module.dispatch("checkOverTime", {
                                isNext: !0
                            }).then(function(n) {
                                return n.haveTime && u.module.dispatch("showTips", {
                                    message: 3 === c.status ? r.call(this, c, e.oldTypes) : k.get("exam.exam.answer-paper.exam-update")
                                }).then(function() {
                                    u.app.viewport.hasModalOpen() ? u.models.state.changed() : u.app.viewport.modal(u.module.items["exam-notes"])
                                })
                            })
                        })) : ""
                    },
                    resetDelay: function() {
                        var e = this.models.countDown
                          , n = this.module.store.models.exam.data;
                        x.assign(e.data, {
                            isDeday: !1
                        }),
                        e.saveByKey(n.id)
                    },
                    checkOverTime: function(e) {
                        var n = this.models.countDown
                          , a = this;
                        return n.timeOut() ? e.isNext ? i.call(a, C.TIMEOUT) : this.module.dispatch("submitPaper", {
                            submitType: "Hand",
                            submitTipsType: C.TIMEOUT
                        }) : a.Promise.resolve({
                            haveTime: !0
                        })
                    },
                    mutipleLogin: function() {
                        var e = this;
                        return e.module.dispatch("showTips", {
                            tips: k.get("exam.exam.answer-paper.other-client-exam")
                        }).then(function() {
                            w.TO.cancel(),
                            e.app.viewport.hasModalOpen() ? e.models.state.changed() : e.app.viewport.modal(e.module.items["exam-notes"])
                        })
                    },
                    saveRemainDuration: function(e) {
                        x.assign(this.models.countDown.data, {
                            remainDuration: e.duration
                        })
                    }
                }
            }
        }, j = x.assign({}, g.items), A = x.assign({}, g.store.models), N = x.assign({}, g.store.callbacks), O = x.assign({}, {
            items: x.assign(j, z.items),
            store: {
                models: x.assign(A, z.store.models),
                callbacks: x.assign(N, z.store.callbacks)
            },
            beforeRender: function() {
                var e = this
                  , n = this.renderOptions.examId
                  , a = function() {
                    return e.app.askbar.trigger("exam.after.force-submit"),
                    document.activeElement ? (y(document.activeElement).blur(),
                    e.dispatch("submitPaper", {
                        submitType: M.Hand,
                        submitTipsType: C.FORCE
                    }).then(function() {
                        w.WS.closeConnect()
                    })) : e.dispatch("submitPaper", {
                        submitType: M.Hand,
                        submitTipsType: C.FORCE
                    }).then(function() {
                        w.WS.closeConnect()
                    })
                }
                  , t = function() {
                    return e.dispatch("mutipleLogin")
                }
                  , i = function(n) {
                    return e.dispatch("delay", {
                        delay: +n.time,
                        currentTime: +n.current
                    })
                }
                  , s = function(n) {
                    return e.dispatch("resume", {
                        delay: +n.time,
                        currentTime: +n.current
                    })
                };
                return w.WS.connect(n, a, i, t, s),
                this.dispatch("initExamInfo", this.renderOptions)
            },
            beforeClose: function() {
                this.app.askbar.off("exam.watermark.recreate", function() {
                    t.call(this, h.rule2 && JSON.parse(h.rule2.value) || {})
                }, this),
                w.WS.closeConnect()
            },
            afterRender: function() {
                var e = this
                  , n = this.store.models.exam.data
                  , a = this.store.models.examInfo.data
                  , i = function() {
                    return 12e4
                }
                  , s = function() {
                    return n.id ? e.dispatch("submitPaper", {
                        submitType: M.Auto,
                        submitTipsType: C.AUTO
                    }).then(function() {
                        var e = i();
                        w.TO.timeOutId = setTimeout(s, e)
                    }) : ""
                };
                return t.call(this, h.rule2 && JSON.parse(h.rule2.value) || {}),
                this.app.askbar.on("exam.watermark.recreate", function() {
                    t.call(this, h.rule2 && JSON.parse(h.rule2.value) || {})
                }, this),
                w.TO.timeOutId = setTimeout(s, i()),
                n.examRecord && n.examRecord.examFaceStatistics && n.examRecord.examFaceStatistics.needCollect && e.app.askbar.trigger("count.down.pause", {
                    duration: n.duration,
                    startTime: n.examRecord.startTime,
                    endTime: n.examRecord.endTime,
                    lastPauseTime: n.examRecord.lastPauseTime
                }),
                w.switchScreen.call(this, n),
                w.closeListener.call(this, k.get("exam.answer-paper.close-window")),
                w.onOrOffLineListener.call(this),
                w.refreshParentWindow(),
                this.dispatch("reloadState").then(function() {
                    return a.faceMode || n.examRecord.endTime > n.examRecord.currentTime ? e.dispatch("loadAnswerRecord", {
                        faceMode: a.faceMode
                    }).then(function() {
                        return !n.examRecord.lastSubmitTime && n.examRecord.endTime > n.examRecord.currentTime ? e.dispatch("submitPaper", {
                            submitType: M.Auto,
                            submitTipsType: C.AUTO,
                            firstTimeAutoSubmit: !0
                        }) : ""
                    }) : ""
                })
            },
            getCurrentStatus: function(e) {
                var n, a, t, i = this.store.models.answer.data, s = this.store.models.mark.data.waitingChecks;
                if (q.find(s, ["key", e]))
                    return I.CHECK;
                if (n = q.find(i, ["key", e])) {
                    if (a = q.some(n.value, function(e) {
                        return e.value.length > 0 && q.some(e.value, function(e) {
                            return "" !== e.value
                        })
                    }),
                    t = n.value.length > 0 && q.some(n.value, function(e) {
                        return "" !== e.value
                    }),
                    6 === n.type)
                        return a ? I.ACTIVE : I.INIT;
                    if (t)
                        return I.ACTIVE
                }
                return I.INIT
            }
        });
        n.exports = O,
        i = function(e, n) {
            var a, t = this;
            return e === C.HAND && (a = 1 === n.data.paper.isSubjective ? k.get("exam.answer-paper.submit-success-mark") : k.get("exam.answer-paper.submit-success")),
            e === C.FORCE && (a = k.get("exam.answer-paper.force-submit")),
            e === C.TIMEOUT && (a = k.get("exam.answer-paper.time-out.submit")),
            e === C.FULL_SWICH && (a = k.get("exam.answer-paper.switch-screen.full-times")),
            t.models.state.data.isOpen = !1,
            t.module.dispatch("showTips", {
                tips: a
            }).then(function() {
                t.app.viewport.hasModalOpen() ? t.models.state.changed() : t.app.viewport.modal(t.module.items["exam-notes"])
            })
        }
        ,
        r = function(e, n) {
            var a, t, i = [];
            return a = q.map(JSON.parse(e.content), function(e) {
                return {
                    key: e
                }
            }),
            t = q.map(n, function(e) {
                return q.filter(e.questions, function(e) {
                    return q.find(a, ["key", e.id])
                })
            }),
            q.forEach(t, function(e) {
                q.forEach(e, function(e) {
                    i.push(e.markIndex)
                })
            }),
            k.getWithParams("exam.answer-paper.correct-question-change", i.length > 0 && i.join("，"))
        }
        ,
        s = function(e) {
            var n = this;
            return this.models.state.data || (this.models.state.data = {}),
            n.module.dispatch("showTips", {
                message: 90901 === JSON.parse(e[0].responseText).errorCode ? k.get("exam.exam.exam-detail.re-login") : k.get("exam.exam.exam-detail.no-internet")
            }).then(function() {
                n.app.viewport.hasModalOpen() ? n.models.state.changed() : n.app.viewport.modal(n.module.items["exam-notes"])
            })
        }
        ,
        l = function() {
            var e = this.module.items.head;
            y(e.$("submit")).addClass("hidden"),
            y(e.$("submit-success")).removeClass("hidden")
        }
        ,
        o = function(e) {
            var n = JSON.parse(e[0].responseText);
            return R.hasCode(n.errorCode || "")
        }
        ,
        c = function(e, n) {
            return 2 === e.status ? (i.call(this, C.FORCE, n),
            !1) : 3 !== e.status || (this.module.dispatch("initExamInfo", {
                examId: n.data.id
            }),
            !1)
        }
        ,
        d = function(e) {
            return e.offsetParent ? {
                x: e.offsetLeft + d(e.offsetParent).x,
                y: e.offsetTop + d(e.offsetParent).y
            } : {
                x: e.offsetLeft,
                y: e.offsetTop
            }
        }
        ,
        u = function(e, n) {
            var a, t, i, s, r, l, o, c, u, p, m, h = !0;
            if (e) {
                for (a = {
                    text1: "",
                    text2: "",
                    img1: "",
                    imgScale: .3,
                    start_x: 50,
                    start_y: 0,
                    space_x: 120,
                    space_y: 120,
                    width: 260,
                    height: 150,
                    fontSize: 20,
                    color: "#aaa",
                    alpha: .4,
                    rotate: 45,
                    random: 0
                },
                x.assign(a, n),
                a.img1 = n.img1 ? "url(" + window.setlocationProtocol() + "//" + window.setlocationHost() + "/" + n.img1 + ")no-repeat" : "",
                t = e.scrollWidth,
                i = Math.max(e.scrollHeight, document.body.clientHeight),
                s = document.createDocumentFragment(),
                l = d(e),
                o = l.x + a.start_x,
                c = l.y + a.start_y; i + l.y > c + a.height; ) {
                    for (a.random && (a.random = 500 * (Math.random() - .5)),
                    h ? (o += 120,
                    h = !h) : (o -= 120,
                    h = !h); t + l.x > o + a.width; )
                        u = document.createElement("div"),
                        u.className = "watermark-item",
                        u.style.position = "absolute",
                        u.style.background = a.img1,
                        u.style.backgroundOrigin = "content-box",
                        u.style.backgroundPosition = "left top",
                        u.style.overflow = "hidden",
                        u.style.backgroundSize = 100 * a.imgScale + "%",
                        u.style.textIndent = a.textIndent,
                        u.style.zIndex = 1e3,
                        u.style.left = o + a.random + "px",
                        u.style.top = c + "px",
                        u.style.width = a.width + "px",
                        u.style.height = a.height + "px",
                        u.style.fontSize = a.fontSize + "px",
                        u.style.color = a.color,
                        u.style.textAlign = "center",
                        u.style.opacity = a.alpha,
                        u.style.filter = "alpha(opacity=" + 100 * a.alpha + "})",
                        u.style.webkitTransform = "rotate(-" + a.rotate + "deg)",
                        u.style.MozTransform = "rotate(-" + a.rotate + "deg)",
                        u.style.msTransform = "rotate(-" + a.rotate + "deg)",
                        u.style.OTransform = "rotate(-" + a.rotate + "deg)",
                        u.style.transform = "rotate(-" + a.rotate + "deg)",
                        u.style.pointerEvents = "none",
                        p = document.createElement("div"),
                        m = document.createElement("div"),
                        p.appendChild(document.createTextNode(a.text1)),
                        m.appendChild(document.createTextNode(a.text2)),
                        u.appendChild(p),
                        u.appendChild(m),
                        s.appendChild(u),
                        o = o + a.width + a.space_x;
                    o = l.x + a.start_x,
                    c = c + a.height + a.space_y
                }
                r = document.createElement("div"),
                r.appendChild(s),
                y(".watermark-mix").get(0).innerHTML = "",
                y(".watermark-mix").get(0).appendChild(r)
            }
        }
        ,
        t = function(e) {
            var n, a, t = e, i = this.app.global.currentUser, s = function() {
                return u(y(".preview-content").get(0), {
                    text1: 1 == +t.watermarkContent ? n : "",
                    img1: 2 == +t.watermarkContent ? t.file : "",
                    alpha: t.opacity && 1 - t.opacity / 100
                })
            };
            if (n = t.watermarkText || "",
            t.watermarkTextPrefixType) {
                switch (+t.watermarkTextPrefixType) {
                case 1:
                    a = i.fullName;
                    break;
                case 2:
                    a = i.name;
                    break;
                case 3:
                    a = i.fullName + "_" + i.organization.name;
                    break;
                case 4:
                    a = i.name + "_" + i.organization.name;
                    break;
                default:
                    a = ""
                }
                n = a + (a && "_") + n
            }
            t && t.watermarkState && t.influence.indexOf("exam") > -1 && (setTimeout(function() {
                s.call(this)
            }, 300),
            window.onresize = function() {
                s.call(this)
            }
            )
        }
        ,
        m = function(e) {
            var n = this.module.items["exam/exam/answer-paper/face"]
              , a = this
              , t = e.exam
              , i = e.currentCount
              , s = e.num
              , r = e.errorCode;
            return this.app.viewport.modal(n, {
                from: "paperComp",
                num: s,
                title: "人脸信息采集",
                errorCode: r,
                exam: t,
                examId: v,
                currentCount: i,
                updatePaper: function(e, n) {
                    f.call(a, x.assign({}, S, {
                        forceRefreshPaper: n && n.forceRefreshPaper
                    }), e)
                },
                updateCount: function(e) {
                    var n;
                    e && (n = e.examFaceStatistics || e.examRecord.examFaceStatistics,
                    T = n.count + 1,
                    e.companySupport && (p = e.companySupport))
                }
            })
        }
        ,
        f = function(e, n) {
            var a = e.exam
              , t = e.lowerSwitchTimes || {}
              , i = e.correct || {}
              , s = e.payload || {}
              , r = e.state || {}
              , l = e.types || {}
              , o = e.mark || {}
              , c = e.countDown || {}
              , u = e.answer || {}
              , d = e.modify || {}
              , p = e.needChange || {}
              , m = e.oldTypes || {}
              , h = this;
            a.data.examRecord && a.data.examRecord.examFaceStatistics && a.data.examRecord.examFaceStatistics.count && (T = a.data.examRecord.examFaceStatistics.count || 0),
            n && x.assign(a.data, n),
            a.data.allowSwitchTimes && (x.assign(a.data, {
                lowerSwitchTimes: a.data.examRecord.switchTimes || 0
            }),
            3 === i.status && x.assign(a.data, {
                lowerSwitchTimes: t
            })),
            a.saveByKey(s.examId),
            p(e.forceRefreshPaper, r.data, a.data.examRecord, i) && (h.module.dispatch("clearMe", {
                examId: s.examId
            }),
            u.clearByKey(s.examId),
            d.clearByKey(s.examId),
            o.init(a.data.examRecord.checkings),
            l.init(q.map(a.data.paper.questions, function(e) {
                return x.assign({}, e)
            })),
            r.init(a.data),
            c.init(),
            3 === i.status && (localStorage.isOpenExam = !0,
            h.module.dispatch("loadAnswerRecord", {
                oldTypes: m
            })))
        }
    }
    , {
        "./answer-helper": "./app/exam/exam/answer-paper/answer-helper",
        "./app/exam/exam/base-paper/index": "./app/exam/exam/base-paper/index",
        "./app/exam/util": "./app/exam/util",
        "./app/util/special-errors": "./app/util/special-errors",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/answer-paper/player/audio-new/index": [function(e, n, a) {
        a.items = {
            video: "video"
        },
        a.store = {
            models: {
                attachment: {
                    url: "../course-study/file/safe"
                },
                preview: {
                    url: "../human/file/preview"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    this.models.state.set(e)
                },
                getAttachment: function(e) {
                    var n = this.models.attachment;
                    return n.set({
                        id: e.id
                    }),
                    this.get(n)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {}],
    "./app/exam/exam/answer-paper/player/audio-new/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="media-box" data-region="video"></div>\n    <div data-region="speed-remind"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != n ? n.url : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            4: function(e, n, a, t, i) {
                var s;
                return '        <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/default-cover/music.jpg">\n            <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n        </audio>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "video", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/answer-paper/player/audio-new/view-video": [function(e, n, a) {
        var t, i, s, r, l, o = e("jquery"), c = e("./app/util/browser"), u = c.detectIE();
        a.bindings = {
            state: !1,
            download: !1
        },
        a.currentDef = 0,
        a.changeDefTime = -1,
        a.components = [function() {
            var e = this.getImageTxtWaterConfig()
              , n = this.bindings.state.data.rule.rule1;
            return {
                id: "player",
                name: "videojs",
                options: {
                    controlBar: {
                        playbackRateMenuButton: !0
                    },
                    video: {
                        mType: "audio",
                        preventScreenShotConfig: e,
                        playbackRates: !!Number(JSON.parse(n.value).TIME_PLAY) && [1, 1.5, 2]
                    }
                }
            }
        }
        ],
        a.dataForTemplate = {
            url: function() {
                var e = this.module.renderOptions.attachment.id
                  , n = this.app.global.OAuth.token.access_token;
                return t || (t = this.bindings.download.getFullUrl() + "/" + e + "?access_token=" + n),
                t
            }
        },
        a.beforeClose = function() {
            clearInterval(void 0),
            clearTimeout(s),
            o(window).off("unload.player"),
            this.clearMouseStatyTime(),
            this.mediaClear()
        }
        ,
        a.beforeRender = function() {
            return this.module.dispatch("getAttachment", {
                id: this.module.renderOptions.attachment.id
            }).then(function(e) {
                t = e[0].path
            })
        }
        ,
        a.video = {
            ended: function() {
                var e = this.bindings.state.data.section.id;
                this.chain(this.module.renderOptions.nextSection({
                    id: e
                }), i = "")
            },
            seeked: function(e) {
                var n = this.bindings.state.data.registerInfo
                  , a = n.isRegister;
                10 !== u && !e.haveDestroy && a && e.play()
            },
            loadeddata: function(e) {
                var n = this.bindings.progress.data
                  , a = 0
                  , t = 0;
                e.haveDestroy || (e.refreshPlayer = this.refreshPlayer,
                a = Math.floor(e.duration()),
                n && (t = Number(n[0].lessonLocation)),
                a - t < 2 && (t = 0),
                this.options.changeDefTime > -1 && (t = this.options.changeDefTime,
                this.options.changeDefTime = -1),
                e.currentTime(parseInt(t, 0)))
            },
            canplaythrough: function(e) {
                u && 10 === u && e.paused()
            },
            canplay: function(e) {
                var n = this.bindings.state.data
                  , a = 0
                  , t = 0;
                e.haveDestroy || (a = Math.floor(e.duration()),
                n.progress && (t = n.progress.lessonLocation),
                a - t < 2 && (t = 0))
            },
            goCurrentTime: function(e, n) {
                e.currentTime = n
            },
            ratechange: function() {
                var e = this.module.regions
                  , n = this.app.global.currentUser.id
                  , a = {
                    speed: !0
                };
                (JSON.parse(localStorage.getItem(n)) || {}).speed || (localStorage.setItem(n, JSON.stringify(a)),
                e["speed-remind"].show(this.module.items["speed-remind"]))
            },
            changeDefinition: function() {
                var e = o(".vjs-playback-rate-value");
                "倍速" !== e.text() && e.text("倍速")
            }
        },
        a.mixin = {
            progressData: function() {
                var e, n, a, t, s = this.components.player;
                return !(!s || !s.getLearnTime) && (e = s.getLearnTime(),
                n = Math.floor(s.duration()),
                a = Math.floor(s.currentTime()),
                this.app.global.organization && (t = this.app.global.organization.id),
                t || (t = this.app.global.currentUser.organization.id),
                {
                    logId: i,
                    lessonLocation: a,
                    studyTime: e,
                    resourceTotalTime: n,
                    organizationId: t,
                    flush: !0
                })
            },
            mediaClear: function() {
                var e = this.components.player;
                e && e.destroyFun && e.destroyFun(e)
            },
            refreshPlayer: function() {
                this.module.dispatch("refreshPlayer")
            },
            getVideoUrl: function() {},
            checkMouseStayTime: function() {
                var e, n = this, a = 36e5;
                if (this.bindings.ruleConfig.data.rule2 && this.bindings.ruleConfig.data.rule2.value) {
                    if (e = JSON.parse(this.bindings.ruleConfig.data.rule2.value),
                    1 !== parseInt(e.enableAuti, 0))
                        return;
                    a = 60 * parseInt(e.pauseTime, 0) * 1e3
                }
                l = function() {
                    var e;
                    clearTimeout(r),
                    r = setTimeout(function() {
                        o(document).off("mousemove", l),
                        n.components.player.pause(),
                        e = function() {
                            n.components.player.play(),
                            o(document).on("mousemove", l)
                        }
                        ,
                        n.module.renderOptions.showAlert(e)
                    }, a)
                }
                ,
                this.clearMouseStatyTime(),
                o(document).on("mousemove", l)
            },
            clearMouseStatyTime: function() {
                o(document).off("mousemove", l),
                clearTimeout(r)
            },
            getImageTxtWaterConfig: function() {
                var e = this.bindings.state.data;
                return e.rule && e.rule.rule3 ? JSON.parse(e.rule.rule3.value) : null
            },
            clearLogId: function() {
                i = ""
            }
        }
    }
    , {
        "./app/util/browser": "./app/util/browser",
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/player/video/index": [function(e, n, a) {
        a.items = {
            video: "video"
        },
        a.store = {
            models: {
                download: {
                    url: "../human/file/download"
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    this.models.state.set(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {}],
    "./app/exam/exam/answer-paper/player/video/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="new-global-height player-content relative" data-region="video"></div>\n    <div class="page-alert" data-region="speed-remind"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.media : n) ? s.path : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            4: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '        <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" preload="auto" muted="true">\n            <source src="' + l(r(null != (s = null != n ? n.media : n) ? s.path : s, n)) + '" type="' + l(r(null != (s = null != n ? n.media : n) ? s.type : s, n)) + '"/>\n            \x3c!--  source(src=\'http://192.168.1.249:8080/hls/wjp/playlist_display.m3u8\' type="application/x-mpegURL" ) --\x3e\n        </video>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "video", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/answer-paper/player/video/view-video": [function(e, n, a) {
        var t, i, s, r, l = e("jquery"), o = e("./app/util/browser"), c = e("./app/util/strings"), u = o.detectIE();
        a.bindings = {
            state: !1,
            download: !1
        },
        a.currentDef = 0,
        a.changeDefTime = -1,
        a.components = [function() {
            var e = this.getImageTxtWaterConfig();
            this.bindings.state.data.rule.rule1;
            return {
                id: "player",
                name: "videojs",
                options: {
                    controlBar: {
                        playbackRateMenuButton: !0
                    },
                    video: {
                        mType: "video",
                        preventScreenShotConfig: e,
                        translateFlag: 1,
                        playbackRates: [1, 1.5, 2]
                    }
                }
            }
        }
        ],
        a.dataForTemplate = {
            media: function() {
                return {
                    path: "https://kc.zhixueyun.com//default/M00/07/4D/CqJGV16e4WGAInimAB0Ozo_B64U760.mp4",
                    type: "video/mp4"
                }
            }
        },
        a.beforeClose = function() {
            clearInterval(void 0),
            clearTimeout(i),
            l(window).off("unload.player"),
            this.clearMouseStatyTime(),
            this.mediaClear()
        }
        ,
        a.afterRender = function() {}
        ,
        a.video = {
            ended: function() {
                var e = this.bindings.state.data.section.id;
                this.chain(this.module.renderOptions.nextSection({
                    id: e
                }), t = "")
            },
            seeked: function(e) {
                var n = this.bindings.state.data.registerInfo
                  , a = n.isRegister;
                10 !== u && !e.haveDestroy && a && e.play()
            },
            loadeddata: function(e) {
                var n = this.bindings.progress.data
                  , a = 0
                  , t = 0;
                e.haveDestroy || (e.refreshPlayer = this.refreshPlayer,
                a = Math.floor(e.duration()),
                n && (t = Number(n[0].lessonLocation)),
                a - t < 2 && (t = 0),
                this.options.changeDefTime > -1 && (t = this.options.changeDefTime,
                this.options.changeDefTime = -1),
                e.currentTime(parseInt(t, 0)),
                e.play())
            },
            canplaythrough: function(e) {
                u && 10 === u && e.paused()
            },
            canplay: function(e) {
                var n = this.bindings.state.data
                  , a = 0
                  , t = 0;
                e.haveDestroy || (a = Math.floor(e.duration()),
                n.progress && (t = n.progress.lessonLocation),
                a - t < 2 && (t = 0))
            },
            goCurrentTime: function(e, n) {
                e.currentTime = n
            },
            ratechange: function() {
                var e = this.module.regions
                  , n = this.app.global.currentUser.id
                  , a = {
                    speed: !0
                };
                (JSON.parse(localStorage.getItem(n)) || {}).speed || (localStorage.setItem(n, JSON.stringify(a)),
                e["speed-remind"].show(this.module.items["speed-remind"]))
            },
            changeDefinition: function() {
                var e = l(".vjs-playback-rate-value");
                "倍速" !== e.text() && e.text("倍速")
            }
        },
        a.mixin = {
            progressData: function() {
                var e, n, a, i, s = this.components.player;
                return !(!s || !s.getLearnTime) && (e = s.getLearnTime(),
                n = Math.floor(s.duration()),
                a = Math.floor(s.currentTime()),
                this.app.global.organization && (i = this.app.global.organization.id),
                i || (i = this.app.global.currentUser.organization.id),
                {
                    logId: t,
                    lessonLocation: a,
                    studyTime: e,
                    resourceTotalTime: n,
                    organizationId: i,
                    flush: !0
                })
            },
            mediaClear: function() {
                var e = this.components.player;
                e && e.destroyFun && e.destroyFun(e)
            },
            refreshPlayer: function() {
                this.module.dispatch("refreshPlayer")
            },
            getVideoUrl: function() {
                return [{
                    name: c.get("study.course.detail.original-image"),
                    def: 0
                }]
            },
            checkMouseStayTime: function() {
                var e, n = this, a = 36e5;
                if (this.bindings.ruleConfig.data.rule2 && this.bindings.ruleConfig.data.rule2.value) {
                    if (e = JSON.parse(this.bindings.ruleConfig.data.rule2.value),
                    1 !== parseInt(e.enableAuti, 0))
                        return;
                    a = 60 * parseInt(e.pauseTime, 0) * 1e3
                }
                r = function() {
                    var e;
                    clearTimeout(s),
                    s = setTimeout(function() {
                        l(document).off("mousemove", r),
                        n.components.player.pause(),
                        e = function() {
                            n.components.player.play(),
                            l(document).on("mousemove", r)
                        }
                        ,
                        n.module.renderOptions.showAlert(e)
                    }, a)
                }
                ,
                this.clearMouseStatyTime(),
                l(document).on("mousemove", r)
            },
            clearMouseStatyTime: function() {
                l(document).off("mousemove", r),
                clearTimeout(s)
            },
            getImageTxtWaterConfig: function() {
                var e = this.bindings.state.data;
                return e.rule && e.rule.rule2 ? JSON.parse(e.rule.rule2.value) : null
            },
            clearLogId: function() {
                t = ""
            }
        }
    }
    , {
        "./app/util/browser": "./app/util/browser",
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="achievement-content">\n        <div class="achievement-side bg-color">\n            <div data-region="count-down"></div>\n            <div data-region="submit"></div>\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="head"></div>\n        <div class="achievement-main">\n            <div class="watermark watermark-mix"></div>\n            <div data-region="main"></div>\n        </div>\n    </div>\n    <div data-region="answer-detail"></div>\n'
            },
            3: function(e, n, a, t, i) {
                return '    <div class="side-top"><div class="time">\n        <i class="iconfont icon-time"></i>\n        <div class="count-time inline-block" data-dynamic-key="countDown"></div>\n    </div></div>\n'
            },
            5: function(e, n, a, t, i) {
                var s = null != n ? n : {}
                  , r = a.helperMissing
                  , l = e.escapeExpression;
                return '<div class="side-main">\n    <a id="submit" class="btn block w-half m-top">' + l((a.string || n && n.string || r).call(s, "exam.research.research-detail.submit", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n    <a id="submit-success" class="btn hidden" disabled="disabled">' + l((a.string || n && n.string || r).call(s, "exam.answer-paper.submit-success", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n    <hr class="layout-ml-small layout-mr-small"/>\n</div>'
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '<div class="side-main">\n    <ul class="list">' + (null != (s = a.each.call(r, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</ul>\n    <div class="bottom">\n        <div class="title-tips"><span>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.preview-questionary.questionary-point-total", null != (s = null != n ? n.state : n) ? s.totalCount : s, null != (s = null != n ? n.state : n) ? s.totalScore : s, {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n        <div class="items">\n            <div class="item">\n                <div class="list-item active">' + o(c(null != (s = null != n ? n.state : n) ? s.answeredCount : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.exam.answer-paper.answered", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="item">\n                <div class="list-item no-mark">' + o(c(null != (s = null != n ? n.state : n) ? s.noAnswerCount : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.exam.answer-paper.not-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="item">\n                <div class="list-item check">' + o(c(null != (s = null != n ? n.state : n) ? s.waitingCheckCount : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.exam.answer-paper.wait-for-check", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            </div>\n        </div>\n    </div>\n</div>"
            },
            8: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <div class="list-title pointer" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                \x3c!-- i.iconfont.icon-type --\x3e\n                <span class="text-tips"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.program(11, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ')\n            </div>\n            <div class="min-btn-groups m-left ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.program(11, i, 0),
                    data: i
                })) ? s : "") + '">\n' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n        </li>\n    "
            },
            9: function(e, n, a, t, i) {
                return ""
            },
            11: function(e, n, a, t, i) {
                return "hidden"
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "check", {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "active", {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item check" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item active" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item click ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            20: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            22: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="pull-left title text-overflow" title="' + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '">' + l((a.string || n && n.string || a.helperMissing).call(o, "exam.exam.answer-paper.answering", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ": " + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '</div>\n    <div class="text-right" id="leave-notice">\n        <ul class="head-info inline-block">\n' + (null != (s = a.if.call(o, null != n ? n.showPersonalCode : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(o, null != n ? n.showExamNotes : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(25, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            \x3c!--  li.border.right > echo('本卷共' state.totalCount '题，总分' state.totalScore '分') --\x3e\n            \x3c!--  li.border.right > echo('已答：') + span(id='answered-count') --\x3e\n            \x3c!--  li.border.right > echo('未答：') + span(id='no-answer-count') --\x3e\n        </ul>\n        \x3c!--  a.btn#submit 我要交卷 --\x3e\n        \x3c!--  a.btn.hidden#submit-success('disabled') 交卷成功 --\x3e\n    </div>\n"
            },
            23: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <li class="border right">\n                    ' + o((a.string || n && n.string || l).call(r, "personal-psw", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ":" + o(e.lambda(null != (s = null != (s = null != n ? n.exam : n) ? s.examRecord : s) ? s.personalCode : s, n)) + '\n                    <div class="inline-block drop-down-wrapper right">\n                        <i class="iconfont icon-info drop-down-btn"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">' + o((a.string || n && n.string || l).call(r, "exam.exam.answer-paper.warning", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n                        </div></div>\n                    </div>\n                </li>\n"
            },
            25: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                \x3c!--  li > i.iconfont.icon-notice(id='notice' style=if(noticed '' 'color:#39fe2c')) --\x3e\n                <li class=\"drop-down-wrapper right\">\n                    <div class=\"inline-block\">" + o((a.string || n && n.string || l).call(r, "exam.exam.other-exam.prompt.exam-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    <i class="iconfont icon-notice drop-down-btn"></i>\n                    <div class="drop-down-content"><div class="content">\n                        <div class="sub-tip" style="font-family: ' + o((a.string || n && n.string || l).call(r, "song-dynasty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ';">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.examNotes : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                    </div></div>\n                </li>\n"
            },
            27: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="preview-content" oncontextmenu="window.event.returnValue=false;" oncopy="return false;" oncut="return false;" onpaste="return false">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.main : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(28, i, 0),
                    inverse: e.program(34, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.main : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(41, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            28: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != (s = null != n ? n.main : n) ? s.currentQuestion : s) ? s.id : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(29, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            29: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '                <div class="m-bottom">\n                    <div class="h3 inline-block">' + l(r(null != (s = null != (s = null != n ? n.main : n) ? s.currentQuestion : s) ? s.typeDesc : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.main : n) ? s.currentQuestion : s) ? s.markIndex : s, n)) + "/" + l(r(null != (s = null != n ? n.main : n) ? s.totalCount : s, n)) + ')</div>\n                    <div class="inline-block">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.preview-questionary.questionary-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.main : n) ? s.currentQuestion : s) ? s.score : s, n)) + '</div>\n                </div>\n                <div class="bottom text-right">\n                    <div data-dynamic-key="correct-' + l(r(null != (s = null != (s = null != n ? n.main : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n                </div>\n' + (null != (s = (a.compare || n && n.compare || c).call(o, null != (s = null != (s = null != n ? n.main : n) ? s.currentQuestion : s) ? s.status : s, "eq", "check", {
                    name: "compare",
                    hash: {},
                    fn: e.program(30, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || c).call(o, null != (s = null != (s = null != n ? n.main : n) ? s.currentQuestion : s) ? s.status : s, "ne", "check", {
                    name: "compare",
                    hash: {},
                    fn: e.program(32, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            30: function(e, n, a, t, i) {
                var s;
                return '                    <div class="question-type-item checked" data-dynamic-key="' + e.escapeExpression(e.lambda(null != (s = null != (s = null != n ? n.main : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            32: function(e, n, a, t, i) {
                var s;
                return '                    <div class="question-type-item" data-dynamic-key="' + e.escapeExpression(e.lambda(null != (s = null != (s = null != n ? n.main : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            34: function(e, n, a, t, i) {
                var s;
                return "            <div>\n" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(35, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            35: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="h3 m-bottom">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ")</div>\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(36, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            36: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing;
                return (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.status : n, "eq", "check", {
                    name: "compare",
                    hash: {},
                    fn: e.program(37, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.status : n, "ne", "check", {
                    name: "compare",
                    hash: {},
                    fn: e.program(39, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                        <div data-dynamic-key="correct-' + e.escapeExpression((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"></div>\n'
            },
            37: function(e, n, a, t, i) {
                var s;
                return '                            <div class="question-type-item checked" data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            39: function(e, n, a, t, i) {
                var s;
                return '                            <div class="question-type-item" data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            41: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="text-right m-bottom">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.main : n) ? s.hasPrevious : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(42, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.main : n) ? s.hasNext : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(44, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            42: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border m-right" id="prev-' + r(e.lambda(null != (s = null != (s = null != n ? n.main : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            44: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border" id="next-' + r(e.lambda(null != (s = null != (s = null != n ? n.main : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            46: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.showAnswerDetail : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(47, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            47: function(e, n, a, t, i) {
                return '        <div data-dynamic-key="answer-detail"></div>\n'
            },
            49: function(e, n, a, t, i) {
                var s;
                return '    <div class="exam-notes-content">' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.examNotes : s, n)) + "</div>\n    \x3c!--  if(canShowDetail) --\x3e\n    \x3c!--      button.btn(id='show-answer-detail') 查看详情 --\x3e\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "count-down", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "submit", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "head", {
                    name: "view",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(27, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "answer-detail", {
                    name: "view",
                    hash: {},
                    fn: e.program(46, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "exam-notes", {
                    name: "view",
                    hash: {},
                    fn: e.program(49, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/answer-paper/view-answer-detail": [function(e, n, a) {
        var t = e("drizzlejs");
        a.bindings = {
            state: !0,
            exam: !1,
            types: !1,
            answer: !1
        },
        a.type = "dynamic",
        a.getEntity = function() {
            var e = this.bindings.exam.data
              , n = e.examRecord;
            return t.assign({}, {
                exam: t.assign(e, {
                    examRecord: t.assign(n, {
                        status: 1 === e.paper.isSubjective ? 5 : 6
                    })
                }),
                state: this.bindings.state.data,
                types: this.bindings.types.data,
                answer: this.bindings.answer.data
            })
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/exam/front/score-detail"
        }
        ,
        a.dataForEntityModule = function(e) {
            return {
                data: e
            }
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/answer-paper/view-count-down": [function(e, n, a) {
        var t = e("./app/util/strings")
          , i = e("jquery")
          , s = {
            AUTO: 1,
            HAND: 2,
            TIMEOUT: 3,
            FORCE: 4
        };
        a.bindings = {
            exam: !1,
            countDown: !0
        },
        a.type = "dynamic",
        a.getEntity = function() {
            var e = this.bindings.exam.data
              , n = this.bindings.countDown.data
              , a = n && n.isDeday
              , t = n && n.delay;
            return e && e.examRecord ? e.examRecord.isPause ? {
                endTime: e.examRecord.endTime,
                startTime: e.examRecord.lastPauseTime,
                isDelay: a,
                delay: t
            } : {
                endTime: e.examRecord.endTime,
                startTime: e.examRecord.currentTime,
                isDelay: a,
                delay: t
            } : {}
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/exam/answer-paper/count-down"
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this
              , a = function() {
                return n.module.dispatch("submitPaper", {
                    submitType: "Hand",
                    submitTipsType: s.TIMEOUT
                }).then(function() {
                    return n.module.dispatch("showTips", {
                        tips: t.get("exam.answer-paper.time-out.submit")
                    }).then(function() {
                        n.app.viewport.closeModal().then(function() {
                            n.app.viewport.modal(n.module.items["exam-notes"])
                        })
                    })
                })
            };
            return {
                data: e,
                callback: [{
                    time: 0,
                    doing: function() {
                        return document.activeElement && i(document.activeElement).blur(),
                        a()
                    }
                }, {
                    time: 1,
                    doing: function() {
                        n.app.message.success(t.get("exam.answer-paper.remain-one-mins"))
                    }
                }, {
                    time: 5,
                    doing: function() {
                        n.app.message.success(t.get("exam.answer-paper.remain-five-mins"))
                    }
                }],
                resetDelay: function() {
                    return n.module.dispatch("resetDelay")
                },
                remainDuration: function(e) {
                    return n.module.dispatch("saveRemainDuration", {
                        duration: e
                    })
                }
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/view-exam-notes": [function(e, n, a) {
        var t = e("./app/exam/exam/base-paper/view-exam-notes")
          , i = e("./app/util/strings")
          , s = e("drizzlejs")
          , r = e("jquery")
          , l = e("./answer-helper")
          , o = s.assign({}, t)
          , c = {
            examNote: i.get("exam.paper.preview-paper.notes-before-exam"),
            tips: i.get("warm-tips")
        }
          , u = s.assign({}, o.bindings)
          , d = s.assign({}, o.dataForTemplate)
          , p = s.assign({}, o.events)
          , m = s.assign({}, o.handlers);
        s.assign(o, {
            auto: !0,
            title: function() {
                var e = this.bindings.state.data;
                return e.tips || e.message ? c.tips : c.examNote
            },
            afterClose: function() {
                var e = this.bindings.state.data
                  , n = this;
                return e.tips && 1 !== e.showAnswerDetail ? this.module.dispatch("clearModels").then(function() {
                    l.removeCloseListener(),
                    window.opener ? window.close() : n.app.navigate("activity/index")
                }) : e.over ? this.module.dispatch("clearModels") : (e.isOpen = !1,
                "")
            }
        }),
        o.bindings = u,
        s.assign(o.bindings, {
            exam: !0
        }),
        o.dataForTemplate = d,
        s.assign(o.dataForTemplate, {
            state: function(e) {
                return e.state.tips ? s.assign(e.state, {
                    examNotes: e.state.tips
                }) : e.state.message ? s.assign(e.state, {
                    examNotes: e.state.message
                }) : (e.state.noticed,
                e.state)
            },
            canShowDetail: function(e) {
                return 1 === e.exam.isShowAnswerImmed && e.state.over
            }
        }),
        o.events = p,
        s.assign(o.events, {
            "click show-answer-detail": "showAnswerDetail"
        }),
        o.handlers = m,
        s.assign(o.handlers, {
            showAnswerDetail: function() {
                var e = this;
                return r(".achievement-content").html(""),
                r(".achievement-content").hide(),
                this.module.dispatch("showAnswerDetail").then(function() {
                    e.app.viewport.closeModal()
                })
            }
        }),
        n.exports = o
    }
    , {
        "./answer-helper": "./app/exam/exam/answer-paper/answer-helper",
        "./app/exam/exam/base-paper/view-exam-notes": "./app/exam/exam/base-paper/view-exam-notes",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/view-head": [function(e, n, a) {
        var t = e("./app/exam/exam/base-paper/view-head")
          , i = e("./app/util/strings")
          , s = e("drizzlejs")
          , r = s.assign({}, t)
          , l = s.assign({}, r.events)
          , o = s.assign({}, r.bindings)
          , c = s.assign({}, r.handlers)
          , u = s.assign({}, r.dataForTemplate)
          , d = {
            AUTO: 1,
            HAND: 2,
            TIMEOUT: 3,
            FORCE: 4
        };
        r.bindings = o,
        s.assign(r.bindings, {
            exam: !1,
            mark: !1,
            head: !0
        }),
        r.events = l,
        s.assign(r.events, {
            "click submit": "submitPaper"
        }),
        r.handlers = c,
        s.assign(r.handlers, {
            submitPaper: function() {
                var e = this
                  , n = this.bindings.state.data
                  , a = this.bindings.mark.data;
                return this.Promise.create(function() {
                    var t = [];
                    n.noAnswerCount > 0 && t.push(i.getWithParams("exam.submit-paper-confirm.no-finish", n.noAnswerCount)),
                    a.waitingChecks.length > 0 && t.push(i.getWithParams("exam.submit-paper-confirm.has-waiting-check", a.waitingChecks.length)),
                    t = t.length > 0 ? i.get("your") + t.join(",") + ", " + i.get("exam.exam.answer-paper.hand-paper-confirm") : i.get("exam.submit-paper-confirm"),
                    e.app.message.confirm(t, function() {
                        return e.module.dispatch("submitPaper", {
                            submitType: "Hand",
                            submitTipsType: d.HAND
                        })
                    }, function() {
                        return !0
                    })
                })
            }
        }),
        r.dataForTemplate = u,
        s.assign(r.dataForTemplate, {
            showPersonalCode: function(e) {
                return 1 === e.exam.isSetPersonalCode && 1 === e.exam.isPermitViewCode
            }
        }),
        n.exports = r
    }
    , {
        "./app/exam/exam/base-paper/view-head": "./app/exam/exam/base-paper/view-head",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/answer-paper/view-main": [function(e, n, a) {
        var t, i, s, r, l = e("./app/exam/exam/base-paper/view-main"), o = e("drizzlejs"), c = e("jquery"), u = o.assign({}, l), d = o.assign({}, u.bindings), p = o.assign({}, u.dataForTemplate), m = e("./app/exam/exam-question-types"), h = {
            ANSWER_PAPER_MODE: 3,
            NO_DETAIL_MODE: -1,
            WAITING_CHECK_CORRECT: "exam/exam/answer-paper/waiting-check-correct"
        }, v = e("lodash/collection");
        u.bindings = d,
        o.assign(u.bindings, {
            mark: !1,
            answer: !1,
            state: !1,
            main: !0,
            rule: !1
        }),
        u.dataForTemplate = p,
        o.assign(u.dataForTemplate, {
            main: function(e) {
                return o.assign({}, e.state)
            }
        }),
        o.assign(u, {
            type: "dynamic",
            getEntity: function(e) {
                var n, a;
                return a = e,
                this.bindings.mark.isCorrectView(e) && (a = e.replace("correct-", "")),
                n = this.bindings.types.getQuestionById(a),
                o.assign(n, {
                    questionAttrs: n.questionAttrCopys
                }),
                {
                    isCorrect: this.bindings.mark.isCorrectView(e),
                    data: n,
                    rule: this.bindings.rule.data
                }
            },
            getEntityModuleName: function(e, n) {
                return n.isCorrect ? h.WAITING_CHECK_CORRECT : m.get(n.data.type, h.ANSWER_PAPER_MODE)
            },
            dataForEntityModule: function(e) {
                return e.isCorrect ? r.call(this, e.data, e.rule) : s.call(this, e.data, e.rule)
            },
            afterRender: function() {
                t.call(this)
            },
            beforeClose: function() {
                i.call(this)
            },
            mixin: {
                pause: function(e) {
                    var n, a = this;
                    n = v.map(a.getEntities(), function(n) {
                        var a = n.items && n.items.content;
                        if (a && a.components && a.components.player) {
                            if (!e)
                                return a.components.player;
                            if (e.id_ !== a.components.player.id_)
                                return a.components.player
                        }
                        return null
                    }),
                    v.map(n, function(e) {
                        e && e.pause()
                    })
                }
            }
        }),
        s = function(e, n) {
            var a = this;
            return {
                data: e,
                answer: a.bindings.answer.getAnswer(e.id),
                mode: h.NO_DETAIL_MODE,
                rule: n,
                callback: function(e) {
                    return a.module.dispatch("saveAnswer", e)
                }
            }
        }
        ,
        r = function(e, n) {
            var a = this;
            return {
                questionId: e.id,
                correct: this.bindings.mark.getCorrect(e.id) || {},
                waitingCheck: this.bindings.mark.getWaitingCheck(e.id),
                rule: n,
                callback: {
                    waitingCheck: function(e) {
                        return function(e) {
                            var n = c("[data-dynamic-key=" + e + "]")[0];
                            c(n).hasClass("checked") ? c(n).removeClass("checked") : c(n).addClass("checked")
                        }(e.questionId),
                        a.module.dispatch("waitingCheck", e)
                    },
                    correct: function(e) {
                        return a.module.dispatch("correct", e)
                    }
                }
            }
        }
        ,
        t = function() {
            this.app.askbar.on("exam.player.pause", this.pause, this)
        }
        ,
        i = function() {
            this.app.askbar.off("exam.player.pause", this.pause, this)
        }
        ,
        n.exports = u
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/exam/exam/base-paper/view-main": "./app/exam/exam/base-paper/view-main",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/answer-paper/view-side": [function(e, n, a) {
        var t = e("./app/exam/exam/base-paper/view-side")
          , i = e("drizzlejs")
          , s = e("./app/util/strings")
          , r = i.assign({}, t)
          , l = i.assign({}, r.events)
          , o = i.assign({}, r.bindings)
          , c = i.assign({}, r.handlers)
          , u = {
            AUTO: 1,
            HAND: 2,
            TIMEOUT: 3,
            FORCE: 4
        };
        r.bindings = o,
        i.assign(r.bindings, {
            exam: !1,
            mark: !1,
            state: !0
        }),
        r.events = l,
        i.assign(r.events, {
            "click submit": "submitPaper"
        }),
        r.handlers = c,
        i.assign(r.handlers, {
            submitPaper: function() {
                var e = this
                  , n = this.bindings.state.data
                  , a = this.bindings.mark.data;
                return this.Promise.create(function() {
                    var t = [];
                    n.noAnswerCount > 0 && t.push(s.getWithParams("exam.submit-paper-confirm.no-finish", n.noAnswerCount)),
                    a.waitingChecks.length > 0 && t.push(s.getWithParams("exam.submit-paper-confirm.has-waiting-check", a.waitingChecks.length)),
                    t = t.length > 0 ? s.get("your") + t.join(",") + ", " + s.get("exam.exam.answer-paper.hand-paper-confirm") : s.get("exam.submit-paper-confirm"),
                    e.app.message.confirm(t, function() {
                        return e.module.dispatch("submitPaper", {
                            submitType: "Hand",
                            submitTipsType: u.HAND
                        })
                    }, function() {
                        return !0
                    })
                })
            }
        }),
        n.exports = r
    }
    , {
        "./app/exam/exam/base-paper/view-side": "./app/exam/exam/base-paper/view-side",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/answer-paper/view-submit": [function(e, n, a) {
        var t = e("./app/util/strings")
          , i = {
            AUTO: 1,
            HAND: 2,
            TIMEOUT: 3,
            FORCE: 4
        };
        a.bindings = {
            exam: !1,
            mark: !1,
            state: !1
        },
        a.events = {
            "click submit": "submitPaper"
        },
        window.addEventListener("offline", function() {
            window.isOffLine = !0
        }),
        window.addEventListener("online", function() {
            window.isOffLine = !1
        }),
        a.handlers = {
            submitPaper: function() {
                var e = this
                  , n = this.bindings.state.data
                  , a = this.bindings.mark.data;
                return window.isOffLine ? e.app.message.alert(t.get("exam.exam.answer-paper.no-internet")) : this.Promise.create(function() {
                    var s = [];
                    n.noAnswerCount > 0 && s.push(t.getWithParams("exam.submit-paper-confirm.no-finish", n.noAnswerCount)),
                    a.waitingChecks.length > 0 && s.push(t.getWithParams("exam.submit-paper-confirm.has-waiting-check", a.waitingChecks.length)),
                    s = s.length > 0 ? t.get("your") + s.join(",") + ", " + t.get("exam.exam.answer-paper.hand-paper-confirm") : t.get("exam.submit-paper-confirm"),
                    e.app.message.confirm(s, function() {
                        return e.module.dispatch("submitPaper", {
                            submitType: "Hand",
                            submitTipsType: i.HAND
                        })
                    }, function() {
                        return !0
                    })
                })
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/exam/answer-paper/waiting-check-correct/index": [function(e, n, a) {
        var t = e("./app/util/strings")
          , i = e("jquery");
        a.items = {
            main: "main"
        },
        a.store = {
            models: {
                state: {},
                correct: {
                    url: "../exam/question-recovery/submit"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.state.data;
                    n.id = e.questionId,
                    n.isCollect = e.isCollect || !1,
                    n.correct = e.correct,
                    n.waitingCheck = e.waitingCheck,
                    e.waitingCheck && e.waitingCheck.key && i("[data-dynamic-key=" + e.waitingCheck.key + "]").addClass("checked")
                },
                waitingCheck: function(e) {
                    this.models.state.data.waitingCheck ? this.models.state.data.waitingCheck = void 0 : this.models.state.data.waitingCheck = e,
                    this.module.renderOptions.callback.waitingCheck(e),
                    this.models.state.changed()
                },
                correct: function(e) {
                    this.module.renderOptions.callback.correct(e)
                },
                saveCorrect: function(e) {
                    var n = this;
                    return this.models.state.data.correct = e,
                    this.models.correct.set(e),
                    this.post(this.models.correct).then(function() {
                        n.app.message.success(t.get("report-error-success"))
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery"
    }],
    "./app/exam/exam/answer-paper/waiting-check-correct/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.escapeExpression;
                return '    <div class="bottom-favorite">\n        <div class="item ' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.waitingCheck : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '">\n            <i class="iconfont icon-mark"></i>\n            <span><a id="waiting-check-' + l(e.lambda(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l((a.string || n && n.string || a.helperMissing).call(r, "exam.exam.answer-paper.wait-for-check", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a></span>\n        </div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                return "checked"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "    <br/>\n    <div>\n        " + o((a.string || n && n.string || l).call(r, "exam.exam.answer-paper.reason", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n    </div>\n    <div class="layout-mt-small">\n        <textarea class="input w-full" rows="5" id="reason" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.exam.answer-paper.reason-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '">\n            ' + o(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.correct : s) ? s.reason : s, n)) + "\n        </textarea>\n    </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "correct", {
                    name: "view",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/answer-paper/waiting-check-correct/view-main": [function(e, n, a) {
        var t = e("jquery");
        a.bindings = {
            state: !0
        },
        a.events = {
            "click waiting-check-*": "waitingCheck",
            "click correct-*": "correct"
        },
        a.handlers = {
            waitingCheck: function(e, n, a) {
                return function(e) {
                    var n = t(e).parent().parent();
                    t(n).hasClass("checked") ? t(n).removeClass("checked") : t(n).addClass("checked")
                }(a),
                this.module.dispatch("waitingCheck", {
                    questionId: e
                })
            },
            correct: function(e) {
                var n = this;
                this.app.viewport.modal(this.module.items.correct, {
                    questionId: e,
                    callback: function(e) {
                        return n.module.dispatch("correct", e)
                    }
                })
            }
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/exam/base-paper/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/util/strings")
          , r = e("./app/util/maps")
          , l = r.get("question-types")
          , o = {
            ONE_HUNDRED: 100,
            ZERO: 0,
            ONE: 1,
            SINGLE_MODE: 1,
            PC_CLIENT_TYPE: 1,
            SHOW_ANSWER_IMMED: 1
        }
          , c = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current"
        }
          , u = {
            REMOTE: 1,
            QUESTION: 2,
            QUESTION_ATTR: 3,
            QUESTION_AND_ATTR: 4
        }
          , d = {
            1: 1,
            2: 2,
            3: 3,
            4: 6,
            5: 7,
            6: 8,
            7: 5,
            8: 4
        };
        a.items = {
            side: "side",
            main: "main",
            head: "head",
            "exam-notes": ""
        },
        a.store = {
            models: {
                state: {
                    type: "localStorage",
                    mixin: {
                        init: function(e) {
                            var n = this.module.store.models.types
                              , a = this.module.store.models.answer
                              , t = e.examRecord;
                            this.loadByKey(e.id),
                            this.data || (this.data = {
                                id: e.id,
                                name: e.name,
                                examNotes: e.examNotes,
                                examinee: t && t.member && (t.member.fullName || t.member.name),
                                totalCount: e.paper.questionNum,
                                totalScore: e.paper.totalScore / o.ONE_HUNDRED,
                                totalMarkCount: e.paper.questions.length,
                                noAnswerCount: e.paper.questionNum,
                                answeredCount: o.ZERO,
                                waitingCheckCount: o.ZERO,
                                singleMode: e.paperShowRule === o.SINGLE_MODE && e.paper.questions.length > 1,
                                currentQuestion: n.getFirstQuestion(),
                                paper: e.paper,
                                hasPrevious: !1,
                                hasNext: e.paper.questions.length > 1,
                                anonymityMark: e.anonymityMark,
                                examRecordId: t && t.id,
                                status: t && t.status
                            },
                            this.saveByKey(e.id)),
                            a && a.data && a.data.length > 0 && this.calculate()
                        },
                        selectQuestion: function(e) {
                            var n = this.module.store.models.types
                              , a = this.module.store.models.exam.data;
                            i.assign(this.data, {
                                currentQuestion: n.getQuestionById(e)
                            }),
                            this.saveByKey(a.id)
                        },
                        resetCurrentQuestion: function() {
                            var e, n, a, s = this.module.store.models.types, r = this.module.store.models.exam.data, l = s.getCurrentQuestion();
                            l && (i.assign(this.data, {
                                currentQuestion: l
                            }),
                            t.forEach(s.data, function(s, r) {
                                t.forEach(s.questions, function(t, o) {
                                    t.id === l.id && (e = i.assign({}, s),
                                    n = r,
                                    a = o)
                                })
                            }),
                            this.data.hasPrevious = e.questions[a - 1] || s.data[Number(n) - 1],
                            this.data.hasNext = e.questions[a + 1] || s.data[Number(n) + 1],
                            this.saveByKey(r.id))
                        },
                        calculate: function() {
                            var e = this.module.store.models.answer
                              , n = this.module.store.models.mark
                              , a = e.answeredCount()
                              , t = n.waitingCheckCount()
                              , s = this.module.store.models.exam.data;
                            i.assign(this.data, {
                                answeredCount: a,
                                noAnswerCount: this.data.totalCount - a,
                                waitingCheckCount: t
                            }),
                            this.saveByKey(s.id)
                        },
                        isComplete: function() {
                            return 0 === this.data.noAnswerCount
                        },
                        saveLastCacheTime: function(e) {
                            var n = this.module.store.models.exam.data;
                            i.assign(this.data, {
                                lastCacheTime: e
                            }),
                            this.saveByKey(n.id)
                        }
                    }
                },
                types: {
                    type: "localStorage",
                    mixin: {
                        init: function(e, n, a, r) {
                            var u = {}
                              , p = 0
                              , m = 0
                              , h = 0
                              , v = this
                              , f = this.module.store.models.exam.data;
                            this.loadByKey(f.id),
                            (!this.data && e || n) && (t.forEach(e, function(e) {
                                var n = d[e.type];
                                u[n] || (u[n] = {},
                                i.assign(u[n], {
                                    type: n,
                                    name: t.find(l, ["key", e.type.toString()]).value,
                                    totalScore: o.ZERO,
                                    size: o.ZERO,
                                    questions: []
                                })),
                                u[n].size++,
                                u[n].questions.push(i.assign(e, {
                                    index: u[n].questions.length + o.ONE,
                                    score: e.score / o.ONE_HUNDRED,
                                    status: c.INIT,
                                    typeDesc: t.find(l, ["key", e.type.toString()]).value + s.get("exam.research-activity.question.topic")
                                }))
                            }),
                            this.data = t.map(u, function(e) {
                                return m = 0,
                                t.map(e.questions, function(n) {
                                    var a = n
                                      , s = 0;
                                    return i.assign(a, {
                                        typeIndex: p,
                                        totalCount: e.size,
                                        markIndex: ++h,
                                        questionAttrCopys: t.orderBy(n.questionAttrCopys, ["name"], ["asc"]),
                                        subs: t.map(n.subs, function(e) {
                                            return i.assign(e, {
                                                questionAttrCopys: t.orderBy(e.questionAttrCopys, ["name"], ["asc"])
                                            })
                                        }),
                                        status: p === o.ZERO && m === o.ZERO ? c.CURRENT : v.module.options.getCurrentStatus.call(v.module, n.id)
                                    }),
                                    6 === n.type && r && (t.map(n.subs, function(e) {
                                        5 === e.type && (s += e.score / 100)
                                    }),
                                    a.score = s),
                                    m++,
                                    a
                                }),
                                i.assign(e, {
                                    id: p,
                                    totalScore: parseFloat(t.reduce(t.map(e.questions, "score"), function(e, n) {
                                        return (1e3 * e + 1e3 * n) / 1e3
                                    }).toFixed(1)),
                                    isCurrent: p++ === o.ZERO
                                })
                            }),
                            a ? this.sortQuestion() : this.sortQuestion2(),
                            this.saveByKey(f.id))
                        },
                        resetQuestionStatus: function() {
                            var e = this
                              , n = {
                                correct: "right",
                                error: "wrong",
                                "no-answer": "no-mark",
                                "no-evaluate": "no-evaluate"
                            };
                            this.data = t.map(this.data, function(a, s) {
                                return i.assign(a, {
                                    questions: t.map(a.questions, function(a, t) {
                                        var r = e.module.options.getCurrentStatus.call(e.module, a.id);
                                        return i.assign(a, {
                                            index: t + 1,
                                            status: 0 === s && 0 === t ? c.CURRENT : r,
                                            class: n[r]
                                        })
                                    })
                                })
                            })
                        },
                        sortQuestion2: function() {
                            var e, n = this.module.store.models.exam.data, a = this, s = 0, r = n.examRecord.orderContent;
                            r && (e = JSON.parse(r)),
                            e && (this.data = t.map(this.data, function(n) {
                                return i.assign(n, {
                                    questions: t.orderBy(t.map(n.questions, function(n) {
                                        var a = t.find(e, ["questionId", n.id])
                                          , s = a.attrOrder
                                          , r = a.subsOrder || [];
                                        return i.assign(n, {
                                            order: a.order,
                                            questionAttrCopys: t.orderBy(t.map(n.questionAttrCopys, function(e) {
                                                var n = t.find(s, ["attrId", e.id]);
                                                return i.assign(e, {
                                                    order: n && n.order
                                                })
                                            }), ["order"], ["asc"]),
                                            subs: t.orderBy(t.map(n.subs, function(e) {
                                                var n = t.find(r, ["questionId", e.id])
                                                  , a = n.attrOrder;
                                                return i.assign(e, {
                                                    order: n.order,
                                                    questionAttrCopys: t.orderBy(t.map(e.questionAttrCopys, function(e) {
                                                        var n = t.find(a, ["attrId", e.id]);
                                                        return i.assign(e, {
                                                            order: n && n.order
                                                        })
                                                    }), ["order"], ["asc"])
                                                })
                                            }), ["order"], ["asc"])
                                        })
                                    }), ["order"], ["asc"])
                                })
                            }),
                            this.data = t.map(this.data, function(e, n) {
                                return i.assign(e, {
                                    questions: t.map(e.questions, function(e, t) {
                                        return i.assign(e, {
                                            index: t + 1,
                                            markIndex: ++s,
                                            status: 0 === n && 0 === t ? c.CURRENT : a.module.options.getCurrentStatus.call(a.module, e.id)
                                        })
                                    })
                                })
                            }))
                        },
                        sortQuestion: function() {
                            var e = this.module.store.models.exam.data
                              , n = 0
                              , a = Number(e.paperSortRule);
                            a === u.REMOTE && (this.data = t.map(this.data, function(e) {
                                return i.assign(e, {
                                    questions: t.map(e.questions, function(e) {
                                        return i.assign(e, {
                                            subs: t.orderBy(e.subs, ["order"], ["asc"])
                                        })
                                    })
                                })
                            })),
                            a === u.QUESTION && (this.data = t.map(this.data, function(e) {
                                return i.assign(e, {
                                    questions: t.map(e.questions.sort(function() {
                                        return .001 * window.cryptoCustom() - .128
                                    }), function(e, n) {
                                        return i.assign(e, {
                                            index: n + 1,
                                            subs: t.map(e.subs.sort(function() {
                                                return .001 * window.cryptoCustom() - .128
                                            }), function(e, n) {
                                                return i.assign(e, {
                                                    index: n + 1
                                                })
                                            })
                                        })
                                    })
                                })
                            })),
                            a === u.QUESTION_ATTR && (this.data = t.map(this.data, function(e) {
                                return i.assign(e, {
                                    questions: t.map(e.questions, function(e) {
                                        return i.assign(e, {
                                            questionAttrs: e.questionAttrs.sort(function() {
                                                return .128 - .001 * window.cryptoCustom()
                                            }),
                                            subs: t.map(t.orderBy(e.subs, ["order"], ["asc"]), function(e) {
                                                return i.assign(e, {
                                                    questionAttrs: e.questionAttrs.sort(function() {
                                                        return .128 - .001 * window.cryptoCustom()
                                                    })
                                                })
                                            })
                                        }),
                                        e
                                    })
                                })
                            })),
                            a === u.QUESTION_AND_ATTR && (this.data = t.map(this.data, function(e) {
                                return i.assign(e, {
                                    questions: t.map(e.questions.sort(function() {
                                        return .001 * window.cryptoCustom() - .128
                                    }), function(e, a) {
                                        return i.assign(e, {
                                            index: a + 1,
                                            markIndex: ++n,
                                            questionAttrs: e.questionAttrs.sort(function() {
                                                return .001 * window.cryptoCustom() - .128
                                            }),
                                            subs: t.map(e.subs.sort(function() {
                                                return .001 * window.cryptoCustom() - .128
                                            }), function(e, n) {
                                                return i.assign(e, {
                                                    index: n + 1,
                                                    questionAttrs: e.questionAttrs.sort(function() {
                                                        return .001 * window.cryptoCustom() - .128
                                                    })
                                                })
                                            })
                                        }),
                                        e
                                    })
                                })
                            })),
                            this.data = t.map(this.data, function(e, n) {
                                return i.assign(e, {
                                    questions: t.map(e.questions, function(e, a) {
                                        return i.assign(e, {
                                            status: 0 === n && 0 === a ? c.CURRENT : c.INIT
                                        })
                                    })
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n;
                            return t.forEach(this.data, function(a) {
                                t.forEach(a.questions, function(a) {
                                    a.id === e && (n = a)
                                })
                            }),
                            i.assign(n, {
                                typeDesc: t.find(l, ["key", n.type.toString()]).value + s.get("exam.research-activity.question.topic")
                            })
                        },
                        getFirstQuestion: function() {
                            var e = this.data[0].questions[0];
                            return i.assign(e, {
                                typeDesc: t.find(l, ["key", e.type.toString()]).value + s.get("exam.research-activity.question.topic")
                            })
                        },
                        selectType: function(e) {
                            var n = this.module.store.models.exam.data;
                            this.module.store.models.state.data.selectQuestion || (this.data[e].isCurrent = !this.data[e].isCurrent),
                            this.module.store.models.state.data.selectQuestion = !1,
                            this.saveByKey(n.id)
                        },
                        getType: function(e) {
                            return t.find(this.data, function(n) {
                                return t.some(n.questions, function(n) {
                                    return n.id === e
                                })
                            })
                        },
                        selectQuestion: function(e) {
                            var n = this.getType(e)
                              , a = this.module.store.models.exam.data
                              , s = n.questions.findIndex(function(e) {
                                return e.status === c.CURRENT
                            })
                              , r = this
                              , l = this.getQuestionById(e)
                              , o = l.status
                              , u = {
                                correct: "right",
                                error: "wrong",
                                "no-answer": "no-mark",
                                "no-evaluate": "no-evaluate"
                            }
                              , d = this.module.store.models.state.data;
                            s > -1 && (n.questions[s].status = this.module.options.getCurrentStatus.call(this.module, n.questions[s].id)),
                            i.assign(l, {
                                class: u[o],
                                status: c.CURRENT
                            }),
                            t.forEach(t.filter(this.data, function(n) {
                                return t.every(n.questions, function(n) {
                                    return n.id !== e
                                })
                            }), function(e) {
                                var n = e.questions.findIndex(function(e) {
                                    return e.status === c.CURRENT
                                });
                                -1 !== n && i.assign(e.questions[n], {
                                    status: r.module.options.getCurrentStatus.call(r.module, e.questions[n].id)
                                })
                            }),
                            d.selectQuestion = !0,
                            d.hasPrevious = n.questions[l.index - 1 - 1] || this.data[Number(n.id) - 1],
                            d.hasNext = n.questions[l.index - 1 + 1] || this.data[Number(n.id) + 1],
                            this.saveByKey(a.id)
                        },
                        getCurrentQuestion: function() {
                            var e;
                            return t.forEach(this.data, function(n) {
                                t.forEach(n.questions, function(n) {
                                    n.status === c.CURRENT && (e = n)
                                })
                            }),
                            e
                        },
                        move: function(e) {
                            var n, a, t, i = this.data[e.id], s = i.questions.findIndex(function(e) {
                                return e.status === c.CURRENT
                            }), r = e.offset, l = i.questions[s + r], o = this.module.store.models.state.data, u = this.module.store.models.exam.data;
                            -1 === s && (s = 0,
                            l = i.questions[s + r]),
                            l ? (l.status = c.CURRENT,
                            i.questions[s].status = this.module.options.getCurrentStatus.call(this.module, i.questions[s].id),
                            o.hasPrevious = r > 0 || i.questions[s + r - 1] || this.data[Number(e.id) + r],
                            o.hasNext = r < 0 || i.questions[s + r + 1] || this.data[Number(e.id) + r]) : this.data[Number(e.id) + r] && (a = Number(e.id) + r,
                            n = this.data[a] || {
                                questions: []
                            },
                            t = r > 0 ? 0 : n.questions.length - 1,
                            l = n.questions[t],
                            l.status = c.CURRENT,
                            this.initStatus("notCurrent"),
                            n.isCurrent = !0,
                            -1 !== s && (i.questions[s].status = this.module.options.getCurrentStatus.call(this.module, i.questions[s].id)),
                            o.hasPrevious = r > 0 || n.questions[t + r] || this.data[Number(a) + r],
                            o.hasNext = r < 0 || n.questions[t + r] || this.data[Number(a) + r]),
                            this.saveByKey(u.id)
                        },
                        decryptAnswer: function(e) {
                            var n = function(e, n) {
                                return 1 === e.type || 2 === e.type ? i.assign(e, {
                                    questionAttrCopys: t.map(e.questionAttrCopys, function(a) {
                                        return t.find(n.answer, ["value", a.name]) ? i.assign(a, {
                                            type: 0
                                        }) : i.assign(a, {
                                            type: e.type
                                        })
                                    })
                                }) : 3 === e.type || 4 === e.type || 5 === e.type ? i.assign(e, {
                                    questionAttrCopys: t.map(e.questionAttrCopys, function(e) {
                                        return i.assign(e, {
                                            name: n.answer,
                                            value: n.answer
                                        })
                                    })
                                }) : 8 === e.type ? i.assign(e, {
                                    questionAttrCopys: t.map(e.questionAttrCopys, function(e) {
                                        return 0 === e.type ? i.assign(e, {
                                            name: n.answer
                                        }) : e
                                    })
                                }) : e
                            };
                            this.data = t.map(this.data, function(a) {
                                return i.assign(a, {
                                    questions: t.map(a.questions, function(a) {
                                        var s = t.find(e, ["questionId", a.id]);
                                        return 6 === a.type ? i.assign(a, {
                                            subs: t.map(a.subs, function(e) {
                                                return n(e, t.find(s.answer, ["questionId", e.id]))
                                            })
                                        }) : n(a, s)
                                    })
                                })
                            })
                        },
                        updateStatus: function(e, n) {
                            var a = this.module.store.models.exam.data;
                            i.assign(this.getQuestionById(e), {
                                status: n
                            }),
                            this.saveByKey(a.id)
                        },
                        initStatus: function(e) {
                            this.data = t.map(this.data, function(n) {
                                return i.assign(n, {
                                    isCurrent: !e
                                })
                            })
                        },
                        isNeedMoveAfterSave: function(e) {
                            var n = this.getQuestionById(e);
                            return 1 === n.type || 3 === n.type
                        }
                    }
                },
                head: {},
                main: {}
            },
            callbacks: {
                selectType: function(e) {
                    this.models.types.selectType(e.id),
                    this.models.types.changed()
                },
                selectQuestion: function(e) {
                    this.models.state.selectQuestion(e.id),
                    this.models.types.selectQuestion(e.id),
                    this.models.state.changed(),
                    this.models.types.changed()
                },
                move: function(e) {
                    this.models.types.move(e),
                    this.models.types.changed(),
                    this.models.state.resetCurrentQuestion(),
                    this.models.state.changed(),
                    this.models.main.changed()
                },
                clearModels: function() {
                    var e = this.models.exam.data;
                    t.forEach(this.models, function(n) {
                        n.clearByKey && n.clearByKey(e.id),
                        n.clear()
                    })
                },
                notice: function() {
                    i.assign(this.models.state.data, {
                        noticed: !0,
                        message: null
                    }),
                    this.models.state.changed()
                },
                reloadHead: function() {
                    this.models.head.changed()
                },
                reloadState: function() {
                    this.models.state.changed()
                }
            }
        },
        a.getCurrentStatus = function() {
            return c.INIT
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/base-paper/view-exam-notes": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.title = t.get("exam.paper.preview-paper.notes-before-exam"),
        a.bindings = {
            state: !0
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/exam/base-paper/view-head": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.bindings = {
            state: !0
        },
        a.events = {
            "mouseover notice": "notice"
        },
        a.handlers = {
            notice: function() {
                var e = this;
                return this.module.dispatch("notice").then(function() {
                    e.app.viewport.modal(e.module.items["exam-notes"])
                })
            }
        },
        a.dataForTemplate = {
            showExamNotes: function(e) {
                return e.state.examNotes
            },
            scoreResult: function(e) {
                var n = e.state;
                if (n.showAnswerRule && -1 === n.showAnswerRule)
                    return "";
                if (n.examRecord && n.examRecord.status) {
                    if (6 === n.examRecord.status)
                        return t.get("exam.pass");
                    if (7 === n.examRecord.status)
                        return t.get("exam.flunk")
                }
                return ""
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/exam/base-paper/view-main": [function(e, n, a) {
        a.bindings = {
            state: !0,
            types: !0
        },
        a.events = {
            "click prev-*": "prev",
            "click next-*": "next"
        },
        a.handlers = {
            prev: function(e) {
                return this.app.askbar.trigger("exam.watermark.recreate"),
                this.module.dispatch("move", {
                    id: e,
                    offset: -1
                })
            },
            next: function(e) {
                return this.app.askbar.trigger("exam.watermark.recreate"),
                this.module.dispatch("move", {
                    id: e,
                    offset: 1
                })
            }
        }
    }
    , {}],
    "./app/exam/exam/base-paper/view-side": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/strings");
        a.bindings = {
            types: !0,
            state: !1
        },
        a.events = {
            "click question-*": "selectQuestion",
            "click list-item-*": "toggleMore",
            "click close": "clickClose"
        },
        a.dataForTemplate = {
            types: function(e) {
                return i.map(e.types, function(n) {
                    var a = n;
                    return a.questions = i.orderBy(a.questions, ["markIndex"], ["asc"]),
                    t.assign(a, {
                        singleMode: e.state.singleMode
                    })
                })
            },
            showAnswer: function(e) {
                return -1 !== e.state.showAnswerRule
            },
            state: function(e) {
                var n = e.state
                  , a = window.lang
                  , t = "images/exam/score5_" + a + ".png"
                  , i = "images/exam/score6_" + a + ".png"
                  , r = "images/exam/score7_" + a + ".png"
                  , l = "images/exam/score9_" + a + ".png"
                  , o = "images/exam/score10_" + a + ".png";
                return n.examRecord && 5 === n.examRecord.status && (n.img = t),
                n.examRecord && 6 === n.examRecord.status && (n.img = i),
                n.examRecord && 7 === n.examRecord.status && (n.img = r),
                n.examRecord && 9 === n.examRecord.status && (n.img = l),
                n.examRecord && 10 === n.examRecord.status && (n.img = o),
                n.countAndScore = s.getWithParams("exam.research-activity.preview-questionary.questionary-point-total", [n.totalCount, n.totalScore]),
                n
            }
        },
        a.handlers = {
            selectQuestion: function(e) {
                return this.app.askbar.trigger("exam.watermark.recreate"),
                this.module.dispatch("selectQuestion", {
                    id: e
                })
            },
            toggleMore: function(e) {
                return this.module.dispatch("selectType", {
                    id: e
                })
            },
            clickClose: function() {
                window.close()
            }
        },
        a.afterRender = function() {}
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/business/detail/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/strings");
        a.items = {
            main: "main",
            table: "table",
            "exam/exam/mark-paper": {
                isModule: !0
            },
            "exam/exam/score-detail": {
                isModule: !0
            }
        },
        a.title = s.get("exam.exam.bussiness.exam-detail"),
        a.large = !0,
        a.store = {
            models: {
                exam: {},
                examRecords: {
                    url: "../exam/exam-record/front",
                    type: "pageable",
                    root: "items"
                },
                state: {},
                examRecord: {
                    url: "../exam/exam-record/exam"
                },
                resetPaper: {
                    url: "../exam/exam-record/front/reset"
                },
                forceSubmitPaper: {
                    url: "../exam/exam-record/front/force-submit-paper"
                }
            },
            callbacks: {
                init: function(e) {
                    return this.models.state.clear(),
                    this.models.exam.data = e.exam,
                    this.models.examRecords.params = {
                        examId: e.exam.id,
                        isCurrent: null,
                        url: this.app.global.uri
                    },
                    this.get(this.models.examRecords)
                },
                search: function(e) {
                    return t.assign(this.models.state.data, e),
                    t.assign(this.models.examRecords.params, e),
                    this.get(this.models.examRecords)
                },
                searchKey: function(e) {
                    return t.assign(this.models.state.data, e),
                    t.assign(this.models.examRecords.params, e),
                    this.get(this.models.examRecords)
                },
                reset: function(e) {
                    var n = this;
                    return n.models.resetPaper.set({
                        examRecordId: e
                    }),
                    n.post(n.models.resetPaper, {
                        loading: !0
                    }).then(function() {
                        n.app.message.success(s.get("reset-success")),
                        n.get(n.models.examRecords)
                    })
                },
                forceSubmitPaper: function(e) {
                    var n = this
                      , a = n.models.forceSubmitPaper
                      , t = i.find(this.models.examRecords.data, ["id", e]);
                    return a.set({
                        userId: t.member.id,
                        memberName: t.member.name,
                        examId: n.models.exam.data.id,
                        examName: n.models.exam.data.name
                    }),
                    n.post(a).then(function() {
                        return n.app.message.success(s.get("exam.exam.bussiness.force-hand-success")),
                        n.get(n.models.examRecords)
                    }, function(e) {
                        31601 === JSON.parse(e[0].responseText).errorCode && n.app.message.confirm(s.get("exam.exam.bussiness.client-outline"), function() {
                            return a.set({
                                userId: t.member.id,
                                examId: n.models.exam.data.id,
                                force: 1
                            }),
                            n.post(a).then(function() {
                                n.app.message.success(s.get("exam.exam.bussiness.force-hand-success")),
                                n.get(n.models.examRecords)
                            })
                        }, function() {})
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/business/detail/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="exam-business-wraper">\n        <div class="default" data-region="main"></div>\n        <div data-region="table"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '<form id="searchKey" class="vertical">\n    <div class="grid-row"><div class="col-md-12">\n        <div class="inline-block">\n            ' + o((a.string || n && n.string || l).call(r, "exam.exam.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n            :\n        </div>\n        <div class="inline-block m-left">' + o(c(null != (s = null != n ? n.exam : n) ? s.name : s, n)) + '</div>\n    </div></div>\n    <div class="grid-row">\n        <div class="col-md-3">\n            <div class="inline-block">\n                <span>' + o((a.string || n && n.string || l).call(r, "exam.exam.bussiness.exam-people-count", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.exam : n) ? s.joinNumber : s, n)) + '</span>\n            </div>\n        </div>\n        <div class="col-md-3">\n            <div class="inline-block">\n                <span>' + o((a.string || n && n.string || l).call(r, "exam.exam.pass-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.exam : n) ? s.passScore : s, n)) + '</span>\n            </div>\n        </div>\n        <div class="col-md-3">\n            <div class="inline-block">\n                <span>' + o((a.string || n && n.string || l).call(r, "exam.exam.pass-count", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.exam : n) ? s.passNumber : s, n)) + '</span>\n            </div>\n        </div>\n        <div class="col-md-3">\n            <div class="inline-block">\n                <span>' + o((a.string || n && n.string || l).call(r, "exam.exam.pass-rate", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o((a.pick || n && n.pick || l).call(r, null != (s = null != n ? n.exam : n) ? s.passRatio : s, "-", {
                    name: "pick",
                    hash: {},
                    data: i
                })) + '</span>\n            </div>\n        </div>\n    </div>\n    <hr/>\n    <div class="grid-row">\n        <div class="col-md-6">\n            <label class="label">' + o((a.string || n && n.string || l).call(r, "account-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <div class="content">\n                <input class="input" name="memberName" value="' + o(c(null != (s = null != n ? n.state : n) ? s.memberName : s, n)) + '"/>\n            </div>\n        </div>\n        <div class="col-md-6">\n            <label class="label">' + o((a.string || n && n.string || l).call(r, "human.member.full-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <div class="content">\n                <input class="input" name="memberFullName" value="' + o(c(null != (s = null != n ? n.state : n) ? s.memberFullName : s, n)) + '"/>\n            </div>\n        </div>\n    </div>\n    <div class="grid-row">\n        <div class="col-md-6">\n            <label class="label">' + o((a.string || n && n.string || l).call(r, "exam.exam.bussiness.hand-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <div class="content">\n                <input id="submit-time" class="input" name="submitTime"/>\n            </div>\n        </div>\n        <div class="col-md-6">\n            <label class="label">' + o((a.string || n && n.string || l).call(r, "status", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <div class="content">\n                <select id="status" class="input" name="status">' + (null != (s = a.each.call(r, null != n ? n.status : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</select>\n            </div>\n        </div>\n    </div>\n    <div class="grid-row">\n        <div class="col-md-12">\n            <div class="text-center"><div id="search" class="btn inline-block">' + o((a.string || n && n.string || l).call(r, "search", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n        </div>\n    </div>\n</form>"
            },
            4: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "\n                    <option " + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="' + c((r = null != (r = a.key || (null != n ? n.key : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "key",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.value || (null != n ? n.value : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "value",
                    hash: {},
                    data: i
                }) : r)) + "</option>\n                "
            },
            5: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="row">\n        <div class="col-sm-12 clearfix"><div class="pull-right"></div></div>\n    </div>\n    <table class="table border">\n        <thead><tr>\n            <th>' + o((a.string || n && n.string || l).call(r, "serial.number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + o((a.string || n && n.string || l).call(r, "account-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + o((a.string || n && n.string || l).call(r, "human.member.full-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</th>\n            <th><stirng system.all.organization="system.all.organization"></stirng></th>\n            <th>' + o((a.string || n && n.string || l).call(r, "exam.exam.bussiness.hand-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + o((a.string || n && n.string || l).call(r, "exam.exam.bussiness.use-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + o((a.string || n && n.string || l).call(r, "status", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + o((a.string || n && n.string || l).call(r, "exam.paper.total-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + o((a.string || n && n.string || l).call(r, "operating", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n        </tr></thead>\n        <tbody>" + (null != (s = a.each.call(r, null != n ? n.examRecords : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.program(19, i, 0),
                    data: i
                })) ? s : "") + '</tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'
            },
            8: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression, u = e.lambda;
                return "\n            <tr>\n                <td>" + c((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                <td>" + c(u(null != (s = null != n ? n.member : n) ? s.name : s, n)) + "</td>\n                <td>" + c(u(null != (s = null != n ? n.member : n) ? s.fullName : s, n)) + '</td>\n                <td><div class="td-content" title="' + c(u(null != (s = null != n ? n.organization : n) ? s.name : s, n)) + '">' + c(u(null != (s = null != n ? n.organization : n) ? s.name : s, n)) + "</div></td>\n                <td>" + c((a.dateTime || n && n.dateTime || o).call(l, null != n ? n.submitTime : n, {
                    name: "dateTime",
                    hash: {},
                    data: i
                })) + "</td>\n                <td>" + c((a.pick || n && n.pick || o).call(l, null != n ? n.usedTime : n, "0", {
                    name: "pick",
                    hash: {},
                    data: i
                })) + "m</td>\n                <td>" + c((a.map || n && n.map || o).call(l, "exam-record-status", null != n ? n.status : n, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "</td>\n                <td>\n" + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.status : n, "gt", 5, {
                    name: "compare",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                </td>\n                <td>\n" + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.status : n, "eq", 5, {
                    name: "compare",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.status : n, "eq", 4, {
                    name: "compare",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                </td>\n"
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a id="detail-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a id="mark-paper-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((a.string || n && n.string || l).call(r, "exam.exam.bussiness.mark-paper", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return (null != (s = a.if.call(r, null != n ? n.canForce : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != n ? n.canReset : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                            <a id="enforce-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((a.string || n && n.string || l).call(r, "exam.exam.enforce", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            16: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != n ? n.canForce : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            17: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                                |\n                                <a id="reset-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((a.string || n && n.string || l).call(r, "reset", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            19: function(e, n, a, t, i) {
                return '                <tr class="nothing-content"><td colspan="9">\n                    <div class="content-empty">\n                        <div class="img-box img-type-1"></div>\n                        <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                    </div>\n                </td></tr>\n            </tr>\n        "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "table", {
                    name: "view",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/business/detail/view-main": [function(e, n, a) {
        var t, i = e("./app/util/maps"), s = e("lodash/collection"), r = e("drizzlejs");
        a.bindings = {
            exam: !1,
            state: !0
        },
        a.actions = {
            "click search": "search",
            "keypress searchKey": "searchKey"
        },
        a.dataForActions = {
            search: function(e) {
                return 0 === Number(e.status) && r.assign(e, {
                    status: null
                }),
                e.submitTime ? r.assign(e, {
                    submitTimeStart: e.submitTime.split("to")[0].trim(),
                    submitTimeEnd: e.submitTime.split("to")[1].trim()
                }) : r.assign(e, {
                    submitTime: null,
                    submitTimeStart: null,
                    submitTimeEnd: null
                }),
                e
            },
            searchKey: function(e, n) {
                return 13 === n.keyCode && (0 === Number(e.status) && r.assign(e, {
                    status: null
                }),
                e.submitTime ? r.assign(e, {
                    submitTimeStart: e.submitTime.split("to")[0].trim(),
                    submitTimeEnd: e.submitTime.split("to")[1].trim()
                }) : r.assign(e, {
                    submitTime: null,
                    submitTimeStart: null,
                    submitTimeEnd: null
                }),
                e)
            }
        },
        a.dataForTemplate = {
            exam: function(e) {
                return r.assign(e.exam, {
                    passRatio: t(e.exam.passNumber, e.exam.submitPaperNumber)
                })
            },
            status: function(e) {
                return s.map(i.get("exam-record-status"), function(n) {
                    return r.assign(n, {
                        checked: n.value === e.state.status
                    })
                })
            }
        },
        a.components = [{
            id: "submit-time",
            name: "flatpickr",
            options: {
                enableTime: !0,
                mode: "range"
            }
        }, {
            id: "status",
            name: "selectize"
        }],
        t = function(e, n) {
            var a;
            return e && n ? (a = String((e / n * 100).toFixed(2)).split("."),
            "00" === a[1] ? a[0] + "%" : (e / n * 100).toFixed(2) + "%") : null
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/business/detail/view-table": [function(e, n, a) {
        var t, i, s = e("lodash/collection"), r = e("drizzlejs"), l = e("./app/util/strings");
        a.bindings = {
            exam: !0,
            examRecords: !0,
            state: !0
        },
        a.events = {
            "click mark-paper-*": "markPaper",
            "click detail-*": "showDetail"
        },
        a.handlers = {
            markPaper: function(e) {
                window.open("#/exam/exam/mark-paper-teacher/" + e, "_blank")
            },
            showDetail: function(e) {
                window.open("#/exam/exam/score-detail-manage/" + e + "/1", "_blank")
            }
        },
        a.actions = {
            "click search": "search",
            "click enforce-*": "forceSubmitPaper",
            "click reset-*": "reset"
        },
        a.dataForActions = {
            search: function(e) {
                return 0 === Number(e.status) && r.assign(e, {
                    status: null
                }),
                e.submitTime && r.assign(e, {
                    submitTimeStart: e.submitTime.split("to")[0],
                    submitTimeEnd: e.submitTime.split("to")[1]
                }),
                e
            },
            forceSubmitPaper: function(e) {
                var n = this
                  , a = e
                  , t = l.get("exam.exam.bussiness.force-hand-confirm");
                return n.Promise.create(function(e) {
                    n.app.message.confirm(t, function() {
                        e(a.id)
                    }, function() {
                        e(!1)
                    })
                })
            },
            reset: function(e) {
                var n = this
                  , a = e
                  , t = l.get("exam.exam.bussiness.reset-exam-confirm");
                return n.Promise.create(function(e) {
                    n.app.message.confirm(t, function() {
                        e(a.id)
                    }, function() {
                        e(!1)
                    })
                })
            }
        },
        a.dataForTemplate = {
            examRecords: function(e) {
                var n = this;
                return s.map(e.examRecords || [], function(e, a) {
                    return r.assign(e, {
                        i: a + 1,
                        score: e.score / 100,
                        usedTime: e.usedTime > e.exam.duration ? e.exam.duration : e.usedTime,
                        canReset: t.call(n, e),
                        canForce: i.call(n, e)
                    })
                })
            }
        },
        a.components = [{
            id: "pager",
            name: "pager",
            options: {
                model: "examRecords"
            }
        }],
        i = function(e) {
            return !e.submitTime
        }
        ,
        t = function(e) {
            return 1 === e.isCurrent
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/business/index": [function(e, n, a) {
        var t = e("lodash/collection");
        a.items = {
            search: "search",
            main: "main",
            "exam/exam/business/detail": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                exams: {
                    url: "../exam/exam/find-by-ids"
                },
                examNames: {
                    data: []
                },
                export: {
                    url: "../exam/exam/export"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.ids || []
                      , a = this.models.examNames;
                    e.examNames && e.examNames.forEach(function(e) {
                        n.push(e.id),
                        a.data.push(e)
                    }),
                    n.length && (this.models.exams.params = {
                        ids: n.join(",")
                    },
                    this.get(this.models.exams, {
                        loading: !0
                    }))
                },
                getExamById: function(e) {
                    return t.find(this.models.exams.data, e)
                }
            }
        },
        a.beforeRender = function() {
            this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/business/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="exam-manage-review">\n    <div class="course-search-row" data-region="search"></div>\n    <div class="review-main" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                return '<form class="vertical">\n    <div id="searchKey" class="manage-search">\n        <div class="col-sm-12">\n            <div class="item">\n                \x3c!--  a(href=exportUrl) > .btn > .pull-right > span 导出 --\x3e\n            </div>\n        </div>\n    </div>\n</form>'
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="list m-top">\n        <table class="table border">\n            <thead><tr>\n                <th>' + o((a.string || n && n.string || l).call(r, "serial.number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.exam.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.exam.bussiness.exam-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.exam.pass-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.exam.hand-count", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.exam.pass-count", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.exam.pass-rate", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "operating", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            </tr></thead>\n            <tbody>" + (null != (s = a.each.call(r, null != n ? n.exams : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(8, i, 0),
                    data: i
                })) ? s : "") + "</tbody>\n        </table>\n    </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = "function", c = e.escapeExpression;
                return "<tr>\n                <td>" + c((s = null != (s = a.r || (null != n ? n.r : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "r",
                    hash: {},
                    data: i
                }) : s)) + '</td>\n                <td><div class="td-content" title="' + c((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "</div></td>\n                <td>" + c((s = null != (s = a.duration || (null != n ? n.duration : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "duration",
                    hash: {},
                    data: i
                }) : s)) + "</td>\n                <td>" + c((s = null != (s = a.passScore || (null != n ? n.passScore : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "passScore",
                    hash: {},
                    data: i
                }) : s)) + "</td>\n                <td>" + c((a.pick || n && n.pick || l).call(r, null != n ? n.submitPaperNumber : n, 0, {
                    name: "pick",
                    hash: {},
                    data: i
                })) + "</td>\n                <td>" + c((a.pick || n && n.pick || l).call(r, null != n ? n.passNumber : n, 0, {
                    name: "pick",
                    hash: {},
                    data: i
                })) + "</td>\n                <td>" + c((a.pick || n && n.pick || l).call(r, null != n ? n.passRatio : n, "-", {
                    name: "pick",
                    hash: {},
                    data: i
                })) + '</td>\n                <td>\n                    <a id="detail' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-key="id" data-value="' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((a.string || n && n.string || l).call(r, "detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            8: function(e, n, a, t, i) {
                return '                    <tr class="nothing-content"><td colspan="8">\n                        <div class="content-empty">\n                            <div class="img-box img-type-1"></div>\n                            <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                        </div>\n                    </td></tr>\n                </td>\n            </tr>\n            "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "search", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/business/view-main": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("drizzlejs");
        n.exports = {
            bindings: {
                exams: !0,
                examNames: !1
            },
            events: {
                "click detail*": "examDetail"
            },
            handlers: {
                examDetail: function(e) {
                    var n = this.module.items["exam/exam/business/detail"]
                      , a = this;
                    return this.module.dispatch("getExamById", {
                        id: e
                    }).then(function(e) {
                        a.app.viewport.modal(n, {
                            exam: e,
                            businessName: a.module.renderOptions.businessName,
                            businessType: a.module.renderOptions.businessType
                        })
                    })
                }
            },
            dataForTemplate: {
                exams: function(e) {
                    var n = this.bindings.examNames.data;
                    return i.map(e.exams || [], function(e, a) {
                        var r = s.assign(e, {
                            r: a + 1,
                            passRatio: t(e.passNumber, e.submitPaperNumber)
                        })
                          , l = i.find(n, {
                            id: r.id
                        });
                        return l && (r.name = l.name),
                        r
                    }),
                    e.exams
                }
            }
        },
        t = function(e, n) {
            var a;
            return e && n ? (a = String((e / n * 100).toFixed(2)).split("."),
            "00" === a[1] ? a[0] + "%" : (e / n * 100).toFixed(2) + "%") : null
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/business/view-search": [function(e, n, a) {
        var t = e("lodash/collection");
        a.bindings = {
            exams: !1,
            export: !1
        },
        a.dataForTemplate = {
            exportUrl: function() {
                var e = this.bindings.export.getFullUrl() + "?"
                  , n = this.bindings.exams.params || {}
                  , a = n.ids
                  , i = this.app.global.OAuth.token.access_token;
                return null !== a && void 0 !== a || (a = ""),
                t.map(n, function(n, a) {
                    e += "&" + a + "=" + n
                }),
                e += "&access_token=" + i
            }
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/exam-detail/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/strings")
          , r = {
            1: "",
            2: s.get("exam.exam.exam-detail.exam-psw-error"),
            3: s.get("exam.exam.exam-detail.personal-code-error"),
            4: s.get("exam.exam.exam-detail.psw-personal-code-error"),
            5: s.get("exam.exam.exam-detail.frequency-out-of-range")
        };
        a.items = {
            side: "side",
            main: "main",
            banner: "banner",
            "common/exam-prompt": {
                isModule: !0
            },
            "common/exam-records": {
                isModule: !0
            },
            "common/exam-makeup-records": {
                isModule: !0
            },
            "common/info": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                exam: {
                    url: "../exam/exam/front/user-record",
                    isCache: !0
                },
                topics: {
                    url: "../system/topic/ids"
                },
                relativeMembers: {
                    url: "../exam/exam/front/relative-members",
                    isCache: !1
                },
                down: {
                    url: "../human/file/download"
                },
                signUp: {
                    url: "../exam/sign-up"
                },
                checkCode: {
                    url: "../exam/exam/front/check-code"
                },
                authSignUp: {
                    url: "../exam/sign-auth"
                },
                cancel: {
                    url: "../exam/sign-auth/cancel-sign"
                },
                checkRepeatExam: {
                    url: "../exam/exam/front/valiate-exam"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this
                      , a = this.models.exam
                      , r = this.models.topics
                      , l = this.models.relativeMembers;
                    return e.examId ? (a.set({
                        id: e.examId
                    }),
                    l.params = {
                        examId: e.examId
                    },
                    this.get(a, {
                        loading: !0
                    }).then(function(e) {
                        return t.assign(r.params, {
                            ids: i.map(e[0].topic, "topicId").join(",")
                        }),
                        r.params.ids ? n.chain([n.get(r), n.get(l)]) : n.chain([n.get(l)])
                    }, function(e) {
                        var a = JSON.parse(e[0].responseText).errorCode;
                        90901 === a ? n.app.message.error(s.get("exam.exam.exam-detail.re-login")) : 30120 === a ? n.app.message.error(s.get("exam.exam.exam-detail.no-authority-to-exam")) : 30126 !== a && n.app.message.error(s.get("exam.exam.exam-detail.no-internet"))
                    })) : null
                },
                cancel: function() {
                    var e = this.models.cancel
                      , n = this.models.exam
                      , a = this;
                    return e.clear(),
                    e.set({
                        id: n.data.signUp.id
                    }),
                    this.save(e, {
                        loading: !0
                    }).then(function(e) {
                        return e && e[0] ? (a.app.message.success(s.get("cancel-success") + "!"),
                        a.get(a.models.exam, {
                            loading: !0
                        })) : null
                    }, function() {
                        a.get(a.models.exam, {
                            loading: !0
                        })
                    })
                },
                signUp: function() {
                    var e = this
                      , n = this.models.exam.data
                      , a = "";
                    return 1 === n.needFillOutInfo ? {
                        examId: n.id
                    } : (t.assign(this.models.authSignUp.data, {
                        examId: n.id,
                        organizationId: n.organizationId
                    }),
                    this.post(this.models.authSignUp, {
                        loading: !0
                    }).then(function(n) {
                        a = s.get("report-success"),
                        n[0] && 1 === n[0].signUp.status && (a = s.get("report-success-audit")),
                        e.app.message.success(a),
                        e.module.dispatch("getExam")
                    }, function() {
                        e.module.dispatch("getExam")
                    }))
                },
                getExam: function() {
                    var e = this.models.exam.data.id;
                    return this.models.exam.clear(),
                    this.models.exam.set({
                        id: e
                    }),
                    this.get(this.models.exam, {
                        loading: !0
                    })
                },
                saveCode: function(e) {
                    var n, a = this.models.checkCode, i = this, s = "#/exam/exam/answer-paper/" + this.models.exam.data.id;
                    return n = window.open(),
                    a.set(t.assign(e, {
                        examId: this.models.exam.data.id
                    })),
                    this.post(a, {
                        loading: !0
                    }).then(function() {
                        return 1 !== a.data.type ? (n.close(),
                        i.app.message.error(r[a.data.type]),
                        !1) : (n.location = s,
                        !0)
                    }, function() {
                        n.close()
                    })
                },
                isOverExamLimitTime: function() {
                    var e, n = this.models.checkRepeatExam, a = this, i = "#/exam/exam/answer-paper/" + this.models.exam.data.id;
                    return e = window.open(),
                    n.set(t.assign({}, {
                        examId: this.models.exam.data.id
                    })),
                    a.post(n, {
                        loading: !0
                    }).then(function() {
                        return 3 === n.data.status ? (a.app.message.error(s.get("exam.exam.exam-detail.frequency-out-of-range")),
                        e.close(),
                        !1) : 0 === n.data.status ? (a.app.message.error(s.get("exam.exam.exam-detail.exam-check-pass")),
                        e.close(),
                        !1) : 2 === n.data.status ? (a.app.message.error(s.get("exam.exam.exam-detail.exam-check-enter")),
                        e.close(),
                        !1) : (e.location = i,
                        !0)
                    }, function() {
                        e.close()
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/exam-detail/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="class-register-page page-detail-wrapper">\n    <div class="class-register-banner page-detail-top-wrapper"><div class="clearfix container" data-region="banner"></div></div>\n    <div class="page-main-wrapper container">\n        <div class="page-side" data-region="side"></div>\n        <div class="page-main" data-region="main"></div>\n        \x3c!--  .page-main(data-region=\'ma\') --\x3e\n        \x3c!--  .page-main(data-region=\'refresh\' --\x3e\n    </div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression, u = e.lambda;
                return '<div class="clearfix">\n    <div class="cover pull-left"><img src="' + c((r = null != (r = a.img || (null != n ? n.img : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "img",
                    hash: {},
                    data: i
                }) : r)) + '"/></div>\n    <div class="banner-con pull-left layout-mt-small">\n        <div class="h2 overflow top-title">' + c(u(null != (s = null != n ? n.exam : n) ? s.name : s, n)) + "</div>\n        <p>" + c((a.string || n && n.string || o).call(l, "exam.exam.exam-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + c(u(null != (s = null != n ? n.exam : n) ? s.credit : s, n)) + "</p>\n" + (null != (s = a.if.call(l, null != (s = null != n ? n.exam : n) ? s.applicantStartTime : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        <p>" + c((a.string || n && n.string || o).call(l, "exam.exam.exam-records.exam-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            : \n            " + c((a.dateMinute || n && n.dateMinute || o).call(l, null != (s = null != n ? n.exam : n) ? s.startTime : s, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "\n            ~\n            " + c((a.dateMinute || n && n.dateMinute || o).call(l, null != (s = null != n ? n.exam : n) ? s.endTime : s, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + '</p>\n        <div class="m-top">\n            <span class="m-right">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.index.releation-topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ": </span>\n" + (null != (s = a.if.call(l, null != (s = null != n ? n.exam : n) ? s.topic : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(12, i, 0),
                    data: i
                })) ? s : "") + '        </div>\n    </div>\n    <div class="banner-handler layout-mt">\n' + (null != (s = a.if.call(l, null != n ? n.isApp : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.program(16, i, 0),
                    data: i
                })) ? s : "") + "    </div>\n</div>"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "            <p>" + o((a.string || n && n.string || l).call(r, "exam.exam.exam-detail.register-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o((a.dateMinute || n && n.dateMinute || l).call(r, null != (s = null != n ? n.exam : n) ? s.applicantStartTime : s, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "\n                ~\n                " + o((a.dateMinute || n && n.dateMinute || l).call(r, null != (s = null != n ? n.exam : n) ? s.applicantEndTime : s, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "</p>\n"
            },
            6: function(e, n, a, t, i) {
                var s;
                return (null != (s = a.each.call(null != n ? n : {}, null != n ? n.topics : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            "
            },
            7: function(e, n, a, t, i) {
                var s;
                return '                    <div class="tag-btn radius">\n' + (null != (s = (a.compare || n && n.compare || a.helperMissing).call(null != n ? n : {}, null != n ? n.group : n, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.program(10, i, 0),
                    data: i
                })) ? s : "") + "                    </div>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                            <a class="normal" href="#/ask/topic/detail/' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" target="_blank">' + o((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            10: function(e, n, a, t, i) {
                var s;
                return "                            " + e.escapeExpression((s = null != (s = a.name || (null != n ? n.name : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "\n"
            },
            12: function(e, n, a, t, i) {
                return e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "none", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n"
            },
            14: function(e, n, a, t, i) {
                return '            <div class="banner-tips">\n                <div>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.exam.exam-detail.not-support-pc", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            </div>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return (null != (s = a.each.call(r, null != (s = null != n ? n.currentExam : n) ? s.buttons : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            <div class="banner-tips">\n                <div>' + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(r, null != (s = null != n ? n.currentExam : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n            </div>\n"
            },
            17: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="btn inline-block ' + (null != (s = a.if.call(l, null != n ? n.disabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" id="' + c((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" data-id="' + c(e.lambda(null != (s = null != n ? n.exam : n) ? s.id : s, n)) + '">' + c((r = null != (r = a.text || (null != n ? n.text : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "text",
                    hash: {},
                    data: i
                }) : r)) + "</div>\n"
            },
            18: function(e, n, a, t, i) {
                return "disabled"
            },
            20: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <section class="section student">\n        <div class="h3">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.exam.exam-detail.also-exam", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        <div class="layout-mt-small user-picture">\n            <div class="grid-row">\n' + (null != (s = a.each.call(r, null != n ? n.relativeMembers : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.program(23, i, 0),
                    data: i
                })) ? s : "") + '            </div>\n        </div>\n        <div data-dynamic-key="business-card"></div>\n    </section>\n'
            },
            21: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = "function", c = e.escapeExpression;
                return '                    <a class="col-md-4 text-center" href="#/personal-homepage/' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '?type=1" target="_blank">\n                        <img id="cards-' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" src="' + c((s = null != (s = a.headPortraitPath || (null != n ? n.headPortraitPath : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "headPortraitPath",
                    hash: {},
                    data: i
                }) : s)) + '"/>\n                        <div class="text-overflow" title="' + c((s = null != (s = a.fullName || (null != n ? n.fullName : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "fullName",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((s = null != (s = a.fullName || (null != n ? n.fullName : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "fullName",
                    hash: {},
                    data: i
                }) : s)) + "</div>\n                    </a>\n"
            },
            23: function(e, n, a, t, i) {
                return '                    <div class="content-empty-side"><div class="img-box"></div><p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.exam.exam-detail.no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p></div>\n"
            },
            25: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="h3">' + o((a.string || n && n.string || l).call(r, "exam.paper.preview-paper.notes-before-exam", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n    <div class="layout-mt-small rich-text" style="font-family: ' + o((a.string || n && n.string || l).call(r, "song-dynasty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ';">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.exam : n) ? s.examNotes : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(26, i, 0),
                    inverse: e.program(28, i, 0),
                    data: i
                })) ? s : "") + "    </div>\n    \x3c!--  section.section --\x3e\n    \x3c!--      .h3 > string('exam.exam.exam-detail.releated-exam') --\x3e\n    \x3c!--      .main-list.layout-mt-small --\x3e\n    \x3c!--          ul.cell-3 --\x3e\n    \x3c!--              each(relativeExams) --\x3e\n    \x3c!--                  li --\x3e\n    \x3c!--                      .content --\x3e\n    \x3c!--                          .img --\x3e\n    \x3c!--                              .img-cont --\x3e\n    \x3c!--                                  a.normal > img(src=coverIdPath) --\x3e\n    \x3c!--                              .detail-wrapper --\x3e\n    \x3c!--                                  p > @echoX(questionaryDetail) --\x3e\n    \x3c!--                                  .btn.radius.block(id='exam-' + id) > string('exam.research-activity.research-detail.detail') --\x3e\n    \x3c!--                          .clearfix --\x3e\n    \x3c!--                              .pull-right.tip-text --\x3e\n    \x3c!--                                  i.iconfont.icon-user(title=string('exam.research-activity.bussiness.turnout')) --\x3e\n    \x3c!--                                  span.sub-text > echo(joinNumber) --\x3e\n    \x3c!--                              .title.text-overflow > echo(name) --\x3e\n    \x3c!--                          .bottom.sub-text.clearfix --\x3e\n    \x3c!--                              .pull-left > i.iconfont.icon-time --\x3e\n    \x3c!--                              .pull-right --\x3e\n    \x3c!--                                  date(startTime) --\x3e\n    \x3c!--                                  | ~ --\x3e\n    \x3c!--                                  date(endTime) --\x3e\n    \x3c!--                  else --\x3e\n    \x3c!--                      .content-empty > .img-box.img-type-1 + p > string('exam.exam.exam-detail.no-exam') --\x3e\n"
            },
            26: function(e, n, a, t, i) {
                var s;
                return "            " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.exam : n) ? s.examNotes : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n"
            },
            28: function(e, n, a, t, i) {
                return "            " + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "temporary-absence", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n\x3c!--  view('ma') --\x3e\n\x3c!--      div(data-dynamic-key=\"123\") --\x3e\n" + (null != (s = (a.view || n && n.view || c).call(o, "banner", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(25, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\x3c!--  view('exam-tips') --\x3e\n\x3c!--          div > @echoX(exam.content) --\x3e\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/exam-detail/view-banner": [function(e, n, a) {
        var t, i, s, r, l, o, c = e("./app/util/business/prompt-help"), u = e("drizzlejs"), d = e("./app/util/helpers"), p = e("./app/util/strings"), m = e("./app/util/business/exam-constants"), h = {
            1: "",
            2: p.get("exam.exam.exam-detail.registed-and-click-to-cancel"),
            3: p.get("exam.exam.exam-detail.registed-and-exam-in-time"),
            4: "",
            5: "",
            6: "",
            7: "",
            8: p.get("exam.exam.exam-detail.not-end-time"),
            9: p.get("exam.exam.exam-detail.end-time"),
            10: p.get("exam.exam.exam-detail.not-register-time"),
            12: p.get("exam.exam.exam-detail.canceled"),
            13: "",
            14: "",
            15: p.get("exam.exam.exam-detail.registe-end"),
            16: p.get("exam.exam.exam-detail.exam-handing"),
            17: p.get("exam.exam.exam-detail.exam-handing"),
            18: p.get("exam.exam.exam-detail.retest"),
            20: p.get("exam.exam.exam-detail.not-end-time"),
            22: p.get("exam.exam.exam-detail.register-refuse"),
            23: "",
            24: "",
            25: "",
            26: p.get("exam.exam.exam-detail.end-time"),
            28: "",
            29: p.get("exam.exam.exam-detail.exam-no-question"),
            30: p.get("exam.exam.exam-detail.registed-and-click-to-cancel"),
            31: p.get("exam.exam.exam-detail.register-refuse"),
            32: p.get("exam.exam.exam-detail.retest"),
            33: p.get("exam.exam.exam-detail.retest"),
            34: "",
            35: ""
        };
        a.bindings = {
            exam: !0,
            down: !1,
            topics: !1
        },
        a.events = {
            "click do-exam": "doExam",
            "click close-button": "close",
            "click had-knew-button": "close",
            "click exam-later-button": "close",
            "click come-later-button": "close",
            "click to-exam-button": "toExam",
            "click view-detail-button": "viewDetail",
            "click exam-again-button": "toExam",
            "click go-on-exam-button": "toExam",
            "click exam-records-button": "toExamRecords"
        },
        a.dataForTemplate = {
            img: function(e) {
                var n = e.exam;
                return n.coverIdPath ? n.coverIdPath : "images/default-cover/default_exam.jpg"
            },
            currentExam: function(e) {
                var n = e.exam
                  , a = t(n, this.app.global.currentUser.id);
                return u.assign(n, {
                    content: a.content,
                    buttons: a.buttons,
                    examNotes: n.examNotes,
                    allowExamTimesDesc: 0 === n.allowExamTimes ? p.get("no-restriction") : n.allowExamTimes,
                    credit: n.credit || 0 === n.credit ? n.credit / m.get("credit-unit") : p.get("temporary-absence")
                })
            },
            showExamAccessSecret: function(e) {
                return [5, 14, 25, 6, 16, 18, 20, 23].indexOf(c.getUserStatusOfExam(e.exam, !1, this.app.global.currentUser.id)) > -1 && 1 === e.exam.isSetAccessSecret
            },
            showPersonalCode: function(e) {
                var n = c.getUserStatusOfExam(e.exam, !1, this.app.global.currentUser.id);
                return 1 === e.exam.isSetPersonalCode && (14 === n || 25 === n)
            },
            showHelp: function(e) {
                return 1 === e.exam.isSetAccessSecret || 1 === e.exam.isSetPersonalCode
            },
            isApp: function(e) {
                return 2 === e.exam.clientType
            }
        },
        a.actions = {
            "click cancel-button": "cancel",
            "click signup-button": "signUp"
        },
        a.dataForActions = {
            signUp: function() {
                return {
                    examId: this.bindings.exam.data.id
                }
            }
        },
        a.actionCallbacks = {
            cancel: function() {},
            signUp: function(e) {
                var n = this.module.items["common/info"]
                  , a = this;
                return !e || this.app.viewport.modal(n, {
                    examId: e.examId,
                    callback: function() {
                        return a.app.viewport.closeModal(!0),
                        a.module.dispatch("getExam")
                    }
                })
            }
        },
        a.handlers = {
            doExam: function() {
                window.open("#/exam/exam-activity/paper-exam/" + this.bindings.exam.data.id, "_blank")
            },
            close: function() {
                if (this.module.renderOptions.toActivityHome)
                    return this.app.navigate("activity/index", !0),
                    void this.app.viewport.closeModal();
                this.app.viewport.closeModal()
            },
            viewDetail: function() {
                var e = this.bindings.exam.data.examRecord
                  , n = e.lastRecordId || e.topScoreRecordId || e.id
                  , a = "#/exam/exam/front/score-detail/" + n;
                window.open(a, "_blank")
            },
            toExam: function() {
                var e = this.bindings.exam.data
                  , n = this.module.items["common/exam-prompt"]
                  , a = this
                  , t = e.id;
                return 1 === e.isSetAccessSecret || 1 === e.isSetPersonalCode ? a.app.viewport.modal(n, {
                    examId: t,
                    formExamDetail: !0
                }) : this.module.dispatch("isOverExamLimitTime")
            },
            toExamRecords: function() {
                var e = this.bindings.exam.data
                  , n = this.module.items["common/exam-records"];
                this.app.viewport.modal(n, {
                    examId: e.id,
                    examType: e.type
                })
            }
        },
        t = function(e, n) {
            var a, t, o = c.getUserStatusOfExam(e, !1, n), u = {
                id: "cancel-button",
                text: p.get("exam.exam.exam-detail.register-cancel")
            }, m = {
                id: "signup-button",
                text: p.get("exam.exam.exam-detail.register")
            }, v = {
                id: "to-exam-button",
                text: p.get("exam.exam.exam-detail.exam-begin")
            }, f = {
                id: "view-detail-button",
                text: p.get("exam.research-activity.research-detail.detail")
            }, g = {
                id: "exam-again-button",
                text: p.get("exam.exam.exam-detail.re-exam")
            }, x = {
                id: "go-on-exam-button",
                text: p.get("exam.exam.exam-detail.continue-exam")
            }, y = {
                id: "exam-records-button",
                text: p.get("exam.exam.exam-records")
            }, b = {
                id: "end-button",
                text: p.get("exam.research-activity.research-detail.detail"),
                disabled: !0
            }, w = {
                id: "begin-button",
                text: p.get("not-started")
            }, q = {
                id: "over-button",
                text: p.get("completed")
            }, k = function(e) {
                return 1 === e.paperViewRule || (-1 === e.paperViewRule || (0 === e.paperViewRule && e.examRecord.currentTime > e.endTime || !(2 !== e.paperViewRule || !r(e))))
            };
            return t = function(e, n, a) {
                return 5 === a ? s(n, e.duration) : 10 === a ? s(n, d.dateMinute(e.applicantStartTime) + "  ~  " + d.dateMinute(e.applicantEndTime)) : 4 === a ? s(n, d.dateMinute(e.startTime) + "  ~  " + d.dateMinute(e.endTime)) : n
            }
            ,
            -1 === e.showAnswerRule && (h[16] = p.get("exam.exam.exam-detail.system-handing"),
            h[17] = p.get("exam.exam.exam-detail.system-handing")),
            3 === e.type || 4 === e.type || 2 !== e.paperViewRule || r(e) || (h[8] = p.get("exam.exam.exam-detail.check-exam-scores"),
            h[20] = p.get("exam.exam.exam-detail.check-exam-scores"),
            e.examRecord && 5 === e.examRecord.status && (h[8] = p.get("exam.exam.exam-detail.system-handing-soon"),
            h[20] = p.get("exam.exam.exam-detail.system-handing-soon"))),
            2 === e.paperViewRule && k(e) && (h[8] = "",
            h[20] = ""),
            a = {
                1: [m],
                2: [u],
                3: [u],
                4: [w],
                5: [v],
                6: k(e) ? [g, f] : [g],
                7: k(e) ? [f] : [],
                8: [b],
                9: [y],
                10: [],
                12: [],
                13: [q],
                14: [x],
                15: [],
                16: [g],
                17: [],
                18: [g],
                20: l(e) ? [g, y] : [g],
                22: [],
                23: [g, y],
                24: [y],
                25: [x],
                26: k(e) ? [f] : [],
                27: [],
                29: [],
                30: [u],
                31: [],
                32: [g, y],
                33: [g, f],
                34: [g, y],
                35: [y]
            },
            !i.call(this, o) && {
                content: t(e, h[o], o),
                buttons: a[o]
            }
        }
        ,
        i = function(e) {
            return 21 === e && (this.app.viewport.closeModal(!0),
            this.app.navigate("home/error-page/30120"),
            !0)
        }
        ,
        s = function(e, n) {
            var a, t, i;
            if (!n)
                return e;
            for (i = !n || n instanceof Array ? n : [n],
            a = e,
            t = 0; t < i.length; t++)
                a = a.replace(new RegExp("\\{" + t + "\\}","g"), i[t]);
            return a
        }
        ,
        r = function(e) {
            var n = e.examRegist ? e.examRegist.passStatus : ""
              , a = e.examRecord ? e.examRecord.status : "";
            return 0 === n || 6 === a
        }
        ,
        l = function(e) {
            return 3 !== e.type && 4 !== e.type ? e.examedTimes > 1 : !!o(e)
        }
        ,
        o = function(e) {
            var n = e.currentTime;
            return (n = n || (new Date).getTime()) > e.endTime
        }
    }
    , {
        "./app/util/business/exam-constants": "./app/util/business/exam-constants",
        "./app/util/business/prompt-help": "./app/util/business/prompt-help",
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/exam-detail/view-main": [function(e, n, a) {
        a.bindings = {
            exam: !0,
            down: !0
        },
        a.dataForTemplate = {},
        a.events = {
            "click exam-*": "showExamIndex"
        },
        a.handlers = {
            showExamIndex: function(e) {
                var n = "#/exam/exam/exam-detail/" + e;
                window.open(n, "_blank")
            }
        }
    }
    , {}],
    "./app/exam/exam/exam-detail/view-side": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("jquery")
          , s = e("lodash/collection");
        a.bindings = {
            relativeMembers: !0,
            down: !0
        },
        a.dataForTemplate = {
            relativeMembers: function(e) {
                return s.map(e.relativeMembers, function(e) {
                    return t.assign(e, {
                        headPortraitPath: e.headPortraitPath || "images/default-userpic.png"
                    })
                })
            }
        },
        a.events = {
            "mouseover cards-*": "showCard"
        },
        a.handlers = {
            showCard: function(e, n, a) {
                var t = this.getEntities()[0]
                  , s = i(a).offset().left + 60
                  , r = i(a).offset().top - 10;
                t && t.setStateData({
                    id: e,
                    left: s,
                    top: r
                })
            }
        },
        a.type = "dynamic",
        a.getEntityModuleName = function(e) {
            return e ? "picker/" + e : ""
        }
        ,
        a.getEntity = function() {
            return {}
        }
        ,
        a.dataForEntityModule = function(e) {
            return e
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/index/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("./app/util/errors");
        a.items = {
            main: "main",
            tips: "",
            "common/exam-prompt": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                state: {},
                audience: {
                    url: "../exam/exam/front/is-audient"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.audience
                      , a = this.models.state;
                    return e.examId ? (a.set({
                        examId: e.examId
                    }),
                    t.assign(n.params, {
                        examId: e.examId
                    }),
                    this.get(n, {
                        loading: !0
                    }).then(function() {
                        1 === n.data.isGrant ? t.assign(a.data, {
                            isGrant: !0
                        }) : (t.assign(a.data, {
                            tips: i.get("30120")
                        }),
                        a.changed())
                    })) : ""
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.afterRender = function() {
            var e = this.store.models.state.data.tips;
            e && this.app.viewport.modal(this.items.tips, {
                tips: e
            })
        }
    }
    , {
        "./app/util/errors": "./app/util/errors",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/index/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                return ""
            },
            5: function(e, n, a, t, i) {
                var s;
                return "    <p>" + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.tips : s, n)) + "</p>\n    <hr/>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "tips", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/index/view-main": [function(e, n, a) {
        a.bindings = {
            state: !0
        },
        a.afterRender = function() {
            var e = this.module.items["common/exam-prompt"];
            this.bindings.state.data.isGrant && this.app.viewport.modal(e, {
                examId: this.bindings.state.data.examId,
                toActivityHome: !0
            })
        }
    }
    , {}],
    "./app/exam/exam/index/view-tips": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.binding = {
            state: !0
        },
        a.title = t.get("warm-tips"),
        a.afterClose = function() {
            this.app.navigate("home")
        }
        ,
        a.dataForTemplate = {
            state: function() {
                return {
                    tips: this.renderOptions.tips
                }
            }
        },
        a.tname = "exam.exam.index.view-tips"
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/exam/mark-config/index": [function(e, n, a) {
        var t, i = e("drizzlejs"), s = e("lodash/collection"), r = e("./app/exam/exam/markConfigCovert");
        a.items = {
            main: "main",
            "picker/members/select-member": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        reset: function() {
                            s.forEach(this.data.markPapers, function(e) {
                                e.markMembers = []
                            }),
                            s.forEach(this.data.markQuestionTypes, function(e) {
                                e.markMembers = []
                            }),
                            s.forEach(this.data.markQuestions, function(e) {
                                e.markMembers = []
                            })
                        }
                    }
                },
                paperClass: {
                    mixin: {
                        filterSubs: function() {
                            this.data.paperClassQuestions = s.filter(this.data.paperClassQuestions, function(e) {
                                return !e.parentId
                            })
                        }
                    }
                },
                exam: {}
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = n.paperClass
                      , i = n.markConfig
                      , s = this.models.state
                      , l = this.models.exam;
                    a && (this.models.paperClass.set(a),
                    i ? (this.models.paperClass.filterSubs(),
                    s.set(r.covertMarkConfig(i, this.models.paperClass.data)),
                    s.data.markType = t(i),
                    s.data.isPaper = 1 === s.data.markType,
                    s.data.isQuestionType = 2 === s.data.markType,
                    s.data.isQuestion = 3 === s.data.markType,
                    this.module.renderOptions.callback(this.module.getValue())) : (s.set(r.getRemoteMarkConfig(a)),
                    s.data.markType = 1)),
                    s.data.anonymityMark = n.exam.anonymityMark,
                    l.set(e.data.exam)
                },
                reload: function() {
                    this.module.renderOptions.callback(this.module.getValue(), {
                        anonymityMark: this.models.state.data.anonymityMark
                    }),
                    this.models.state.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.mixin = {
            getValue: function() {
                var e, n = this.store.models.state.data;
                switch (n.markType) {
                case 1:
                    e = {
                        markPapers: n.markPapers
                    };
                    break;
                case 2:
                    e = {
                        markQuestionTypes: n.markQuestionTypes
                    };
                    break;
                case 3:
                    e = {
                        markQuestions: n.markQuestions
                    }
                }
                return JSON.stringify(e)
            },
            getAnonymityMark: function() {
                return this.items.main.$("anonymity-mark") && this.items.main.$("anonymity-mark").checked ? {
                    anonymityMark: 1
                } : {
                    anonymityMark: 0
                }
            },
            hasMarkMembers: function(e) {
                var n;
                if (!e)
                    return !1;
                if ("string" == typeof e) {
                    if (n = JSON.parse(e),
                    n.markPapers && n.markPapers.length > 0)
                        return n.markPapers[0].markMembers.length > 0;
                    if (n.markQuestionTypes && n.markQuestionTypes.length > 0)
                        return s.every(n.markQuestionTypes, function(e) {
                            return e.markMembers.length > 0
                        });
                    if (n.markQuestions && n.markQuestions.length > 0)
                        return s.every(n.markQuestions, function(e) {
                            return e.markMembers.length > 0
                        })
                }
                return !0
            }
        },
        t = function(e) {
            var n, a;
            return i.isString(e) ? (n = JSON.parse(e),
            s.forEach(n, function(e, n) {
                "markPapers" === n && (a = 1),
                "markQuestionTypes" === n && (a = 2),
                "markQuestions" === n && (a = 3)
            }),
            a) : i.isArray(e) && e.length ? e[0].type : 1
        }
    }
    , {
        "./app/exam/exam/markConfigCovert": "./app/exam/exam/markConfigCovert",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/mark-config/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {}, c = a.helperMissing, u = e.escapeExpression;
                return '    <div class="clearfix">\n        <div class="pull-left">\n            <div class="inline-block m-right pull-left">\n                <div class="text">' + u((a.string || n && n.string || c).call(o, "exam.exam.mark-config.evaluation-method", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n                \x3c!--  .input.cont > .min-input > select.input#mark-type > each(markTypes) --\x3e\n                \x3c!--      option(value=key)('selected')&if(selected) > echo(value) --\x3e\n            </div>\n" + (null != (l = a.each.call(o, null != n ? n.markTypes : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '        </div>\n        <div class="pull-left m-left">\n            <div class="checkbox inline-block no-margin">\n                <input ' + (null != (l = a.if.call(o, null != n ? n.anonymityMark : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + " " + (null != (l = a.if.call(o, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + ' type="checkbox" name="anonymityMark" id="anonymity-mark" value="1"/>\n                <label for="anonymity-mark"></label>\n            </div>\n            <div class="inline-block m-right">' + u((a.string || n && n.string || c).call(o, "exam.exam.mark-config.anonymous-review", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        </div>\n    </div>\n    <br/>\n    <div class="row">\n        <div class="col-sm-12">\n' + (null != (l = a.if.call(o, null != (l = null != n ? n.state : n) ? l.isPaper : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = a.if.call(o, null != (l = null != n ? n.state : n) ? l.isQuestionType : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(13, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = a.if.call(o, null != (l = null != n ? n.state : n) ? l.isQuestion : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "        </div>\n    </div>\n"
            },
            4: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '                <input class="inline-block" ' + (null != (l = a.if.call(c, null != n ? n.selected : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + " " + (null != (l = a.if.call(c, null != r[1] ? r[1].isPreviewPaperConfiguration : r[1], {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + ' id="mark-type-' + d((o = null != (o = a.key || (null != n ? n.key : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "key",
                    hash: {},
                    data: i
                }) : o)) + '" type="radio" name="judge" value="' + d((o = null != (o = a.key || (null != n ? n.key : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "key",
                    hash: {},
                    data: i
                }) : o)) + '"/>\n                <div class="inline-block">' + d((o = null != (o = a.value || (null != n ? n.value : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "value",
                    hash: {},
                    data: i
                }) : o)) + "</div>\n"
            },
            5: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            7: function(e, n, a, t, i) {
                return ' disabled="disabled"'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <div class="list">\n                    <table class="table table2 nowrap">\n                        <thead><tr>\n                            <th width="30%">' + o((a.string || n && n.string || l).call(r, "exam.exam.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                            <th>" + o((a.string || n && n.string || l).call(r, "exam.exam.mark-config.review-teacher", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</th>\n                            <th width="100">' + o((a.string || n && n.string || l).call(r, "operating", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                        </tr></thead>\n                        <tbody>" + (null != (s = a.each.call(r, null != (s = null != n ? n.state : n) ? s.markPapers : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</tbody>\n                    </table>\n                </div>\n"
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n                            <tr>\n                                <td><div class="td-content" title="' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "</div></td>\n                                <td>\n" + (null != (s = a.each.call(l, null != n ? n.markMembers : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                                </td>\n                                <td><a id="choose-p-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((a.string || n && n.string || o).call(l, "config", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a></td>\n                            </tr>\n                        "
            },
            11: function(e, n, a, t, i) {
                var s;
                return '                                        <span class="inline-block p-right">' + e.escapeExpression((s = null != (s = a.name || (null != n ? n.name : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "</span>\n"
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <div class="list">\n                    <table class="table table2 nowrap">\n                        <thead><tr>\n                            <th width="30%">' + o((a.string || n && n.string || l).call(r, "exam.exam.mark-config.type-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                            <th>" + o((a.string || n && n.string || l).call(r, "exam.exam.mark-config.review-teacher", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</th>\n                            <th width="100">' + o((a.string || n && n.string || l).call(r, "operating", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                        </tr></thead>\n                        <tbody>" + (null != (s = a.each.call(r, null != (s = null != n ? n.state : n) ? s.markQuestionTypes : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</tbody>\n                    </table>\n                </div>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n                            <tr>\n                                <td><div class="td-content" title="' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "</div></td>\n                                <td>\n" + (null != (s = a.each.call(l, null != n ? n.markMembers : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                                </td>\n                                <td><a id="choose-qt-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((a.string || n && n.string || o).call(l, "config", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a></td>\n                            </tr>\n                        "
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <div class="list">\n                    <table class="table table2 nowrap">\n                        <thead><tr>\n                            <th width="30%">' + o((a.string || n && n.string || l).call(r, "exam.exam.mark-config.question-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                            <th>" + o((a.string || n && n.string || l).call(r, "exam.exam.mark-config.review-teacher", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</th>\n                            <th width="100">' + o((a.string || n && n.string || l).call(r, "operating", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                        </tr></thead>\n                        <tbody>" + (null != (s = a.each.call(r, null != (s = null != n ? n.state : n) ? s.markQuestions : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</tbody>\n                    </table>\n                </div>\n"
            },
            17: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n                            <tr>\n                                <td><div class="td-content" title="' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.name : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div></td>\n                                <td>\n" + (null != (s = a.each.call(l, null != n ? n.markMembers : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                                </td>\n                                <td><a id="choose-q-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((a.string || n && n.string || o).call(l, "config", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a></td>\n                            </tr>\n                        "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + (null != (l = (a.view || n && n.view || d).call(u, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/mark-config/view-main": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("lodash/collection")
          , s = e("./app/util/strings");
        a.bindings = {
            state: !0,
            paperClass: !1,
            exam: !1
        },
        a.events = {
            "change mark-type-*": "changeMarkType",
            "click choose-p-*": "selectTeacher",
            "click choose-qt-*": "selectTeacher",
            "click choose-q-*": "selectTeacher",
            "click anonymity-mark": "changeAnonymityMark"
        },
        a.handlers = {
            changeMarkType: function(e) {
                var n = this.bindings.state.data
                  , a = Number(e)
                  , t = this;
                return this.Promise.create(function(e) {
                    var i = s.get("exam.exam.mark-config.change-confirm");
                    t.app.message.confirm(i, function() {
                        return n.isPaper = 1 === a,
                        n.isQuestionType = 2 === a,
                        n.isQuestion = 3 === a,
                        n.markType = a,
                        t.bindings.state.reset(),
                        t.module.dispatch("reload")
                    }, function() {
                        e(!1)
                    })
                })
            },
            selectTeacher: function(e) {
                var n = this.module.items["picker/members/select-member"]
                  , a = this.bindings.state.data
                  , t = this
                  , s = function(n, s) {
                    return a.isPaper && (s ? (a.markPapers[e].markMembers = i.reject(a.markPapers[e].markMembers, ["id", n.id]),
                    a.markPapers[e].markMembers.push({
                        id: n.id,
                        name: n.fullName || n.name
                    })) : a.markPapers[e].markMembers = i.reject(a.markPapers[e].markMembers, ["id", n.id])),
                    a.isQuestionType && (s ? (a.markQuestionTypes[e].markMembers = i.reject(a.markQuestionTypes[e].markMembers, ["id", n.id]),
                    a.markQuestionTypes[e].markMembers.push({
                        id: n.id,
                        name: n.fullName || n.name
                    })) : a.markQuestionTypes[e].markMembers = i.reject(a.markQuestionTypes[e].markMembers, ["id", n.id])),
                    a.isQuestion && (s ? (a.markQuestions[e].markMembers = i.reject(a.markQuestions[e].markMembers, ["id", n.id]),
                    a.markQuestions[e].markMembers.push({
                        id: n.id,
                        name: n.fullName || n.name
                    })) : a.markQuestions[e].markMembers = i.reject(a.markQuestions[e].markMembers, ["id", n.id])),
                    t.module.dispatch("reload")
                };
                return this.module.renderOptions.isPreviewPaperConfiguration ? null : this.app.viewport.modal(n, {
                    organizationId: this.module.renderOptions.organizationId,
                    ids: function() {
                        var n = "";
                        return a.isPaper && (n = i.map(a.markPapers[e].markMembers, "id").join(",")),
                        a.isQuestionType && (n = i.map(a.markQuestionTypes[e].markMembers, "id").join(",")),
                        a.isQuestion && (n = i.map(a.markQuestions[e].markMembers, "id").join(",")),
                        n
                    }(),
                    callback: s
                })
            },
            changeAnonymityMark: function(e, n) {
                var a = this.bindings.state.data;
                return n.checked ? a.anonymityMark = 1 : a.anonymityMark = 0,
                this.module.dispatch("reload")
            }
        },
        a.dataForTemplate = {
            isPreviewPaperConfiguration: function() {
                return Boolean(this.module.renderOptions.isPreviewPaperConfiguration)
            },
            markTypes: function(e) {
                var n = this
                  , a = i.map(t.get("mark-type"), function(e) {
                    var a = e;
                    return a.selected = Number(a.key) === n.bindings.state.data.markType,
                    a
                });
                return !e.paperClass || 3 !== e.paperClass.type && 4 !== e.paperClass.type || a.pop(),
                a
            },
            anonymityMark: function() {
                return 1 === Number(this.bindings.state.data.anonymityMark)
            },
            state: function(e) {
                return i.map(e.state.markQuestions || [], function(e) {
                    var n = e;
                    return n.name && (n.name = n.name.replace(/<\/?.+?\/?>/g, "")),
                    n
                }),
                e.state
            }
        },
        a.components = [{
            id: "sort",
            name: "selectize"
        }, {
            id: "mark-type",
            name: "selectize"
        }]
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/mark-paper/index": [function(e, n, a) {
        var t, i, s, r, l = e("./app/exam/exam/base-paper/index"), o = e("drizzlejs"), c = e("lodash/collection"), u = e("./app/util/strings"), d = {
            ONE_HUNDRED: 100,
            ZERO: 0,
            ONE: 1,
            SINGLE_MODE: 1,
            PC_CLIENT_TYPE: 1,
            READING: 6,
            QUESTION_ANSWER: 5
        }, p = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current"
        }, m = e("./app/ext/views/form/validators"), h = e("./app/util/maps"), v = {
            store: {
                models: {
                    exam: {
                        type: "localStorage",
                        url: "../exam/exam/exam-mark-paper/front"
                    },
                    grades: {
                        type: "localStorage",
                        mixin: {
                            init: function(e) {
                                this.data = c.map(e, function(e) {
                                    return e.type === d.READING ? {
                                        key: e.id,
                                        value: c.map(c.filter(e.subs, function(e) {
                                            return e.type === d.QUESTION_ANSWER
                                        }), function(e) {
                                            return {
                                                key: e.id,
                                                value: "",
                                                type: e.type,
                                                isRight: 0
                                            }
                                        }),
                                        type: e.type,
                                        isRight: d.ZERO
                                    } : {
                                        key: e.id,
                                        value: "",
                                        type: e.type,
                                        isRight: d.ZERO
                                    }
                                })
                            },
                            getGrade: function(e) {
                                return c.find(this.data, ["key", e])
                            },
                            saveGrade: function(e) {
                                this.data = c.reject(this.data, ["key", e.key]),
                                this.data.push(e)
                            },
                            getAnswerRecord: function() {
                                var e = [];
                                return c.forEach(this.data, function(n) {
                                    n.type === d.READING ? c.forEach(n.value, function(n) {
                                        n.type === d.QUESTION_ANSWER && e.push({
                                            questionId: n.key,
                                            score: (n.value * d.ONE_HUNDRED).toFixed(0),
                                            questionCopy: {
                                                type: n.type
                                            }
                                        })
                                    }) : e.push({
                                        questionId: n.key,
                                        score: (n.value * d.ONE_HUNDRED).toFixed(0),
                                        questionCopy: {
                                            type: n.type
                                        }
                                    })
                                }),
                                e
                            },
                            check: function(e) {
                                var n = this
                                  , a = [];
                                return c.forEach(e, function(e) {
                                    c.forEach(e.questions, function(e) {
                                        var t = c.find(n.data, ["key", e.id])
                                          , i = s.call(n, t.value, e);
                                        i.index && a.push(i)
                                    })
                                }),
                                a
                            }
                        }
                    },
                    form: {
                        url: "../exam/exam/front/mark-paper-info"
                    },
                    errors: {
                        data: [],
                        mixin: {
                            saveError: function(e) {
                                this.data.push(e)
                            }
                        }
                    },
                    removeTodo: {
                        url: "../exam/to-do/remove"
                    },
                    validateMark: {
                        url: "../exam/exam/front/validate-remark-paper"
                    },
                    rule: {
                        url: "../system/rule-config/key"
                    }
                },
                callbacks: {
                    init: function(e) {
                        var n = this.models.exam
                          , a = this.models.types
                          , t = this.models.state
                          , s = this.models.grades
                          , l = this.models.validateMark
                          , c = this.models.rule
                          , d = this;
                        return this.chain([function() {
                            return c.params = {
                                key: "COURSE_COMPLETE_RULE"
                            },
                            this.get(c, {
                                slient: !0
                            })
                        }
                        , function() {
                            return c.params = {
                                key: "PREVENT_SCREENSHOT_CONFIG"
                            },
                            this.get(c, {
                                slient: !0
                            }).then(function(e) {
                                return o.assign({}, {
                                    key: e[0].key,
                                    value: e[0].value,
                                    type: e[0].type
                                })
                            })
                        }
                        ], function(e) {
                            c.set({
                                rule1: e[0] && e[0][0],
                                rule2: e[1]
                            })
                        }),
                        n.clear(),
                        n.options.url = "../exam/exam/exam-mark-paper/front",
                        o.assign(n.params, {
                            examRecordId: e.examRecordId,
                            remark: e.remark
                        }),
                        o.assign(l.params, {
                            examRecordId: e.examRecordId,
                            remark: e.remark
                        }),
                        e.isManagement ? (n.options.url = "../exam/exam/exam-mark-paper",
                        d.get(n, {
                            loading: !0
                        }).then(function() {
                            n.data && (a.clearByKey(n.data.id),
                            t.clearByKey(n.data.id),
                            s.clear()),
                            a.init(n.data.paper.questions, !1, !1, !0),
                            t.init(n.data),
                            s.init(n.data.paper.questions)
                        })) : this.get(this.models.validateMark, {
                            loading: !0
                        }).then(function() {
                            return "0" === l.data.status ? (d.app.message.alert(u.get("exam.exam.mark-paper.paper-marked")),
                            d.module.dispatch("removeTodo", {
                                targetId: e.examRecordId
                            }).then(function() {
                                setTimeout(function() {
                                    i(),
                                    window.opener ? (d.module.dispatch("clearModels"),
                                    window.close()) : (d.module.dispatch("clearModels"),
                                    d.app.navigate("home"))
                                }, 1500)
                            })) : d.get(n, {
                                loading: !0
                            }).then(function() {
                                n.data && (a.clearByKey(n.data.id),
                                t.clearByKey(n.data.id),
                                s.clear()),
                                a.init(n.data.paper.questions, !1, !1, !0),
                                t.init(n.data),
                                s.init(n.data.paper.questions)
                            })
                        }, function(e) {
                            var n = JSON.parse(e[0].responseText).errorCode;
                            30207 !== n && 30208 !== n && 34008 !== n || r.call(d)
                        })
                    },
                    saveGrade: function(e) {
                        this.models.grades.saveGrade(e),
                        this.models.state.data.singleMode || (this.models.types.updateStatus(e.key, p.ACTIVE),
                        this.models.types.changed())
                    },
                    submitGrade: function() {
                        var e = this.models.exam.data
                          , n = this.models.state.data
                          , a = this
                          , t = this.models.grades.check(this.models.types.data);
                        return t.length > 0 ? (o.assign(n, {
                            errors: t
                        }),
                        this.app.viewport.modal(this.module.items["exam-notes"]),
                        this.models.types.initStatus(),
                        this.models.types.changed(),
                        !1) : (this.models.form.set({
                            examRecordId: e.examRecord.id,
                            examId: e.id,
                            remark: this.module.renderOptions.remark,
                            answerRecords: JSON.stringify(this.models.grades.getAnswerRecord())
                        }),
                        this.module.renderOptions.isManagement && (this.models.form.data.adminMark = 1),
                        this.post(this.models.form, {
                            loading: !0
                        }).then(function() {
                            return "0" === a.models.form.data.msg ? (a.app.message.error(u.get("exam.paper.mark-paper.not-submit-repeat")),
                            a.module.dispatch("removeTodo", {
                                targetId: e.examRecord.id
                            }).then(function() {
                                setTimeout(function() {
                                    i(),
                                    a.module.dispatch("clearModels"),
                                    window.opener ? window.close() : a.app.navigate("home")
                                }, 1500)
                            })) : (a.app.message.success(u.get("operation-success")),
                            setTimeout(function() {
                                i(),
                                a.module.dispatch("clearModels"),
                                window.opener ? window.close() : a.app.navigate("home")
                            }, 500),
                            "")
                        }, function(e) {
                            var n = JSON.parse(e[0].responseText).errorCode;
                            30207 !== n && 30208 !== n && 30209 !== n && 34008 !== n || r.call(a)
                        }))
                    },
                    removeTodo: function(e) {
                        return o.assign(this.models.removeTodo.data, e),
                        this.post(this.models.removeTodo)
                    }
                }
            }
        }, f = o.assign({}, l.store.models), g = o.assign({}, l.store.callbacks), x = o.assign({}, {
            items: o.assign(l.items, {
                watermark: "watermark"
            }),
            store: {
                models: o.assign(f, v.store.models),
                callbacks: o.assign(g, v.store.callbacks)
            },
            beforeRender: function() {
                return this.dispatch("init", this.renderOptions)
            },
            getCurrentStatus: function(e) {
                var n = this.store.models.grades.data || []
                  , a = c.find(n, ["key", e])
                  , t = this.store.models.errors.data
                  , i = c.find(t, ["questionId", e]);
                if (a && o.isArray(a.value) && a.value.length > 0) {
                    if (c.some(a.value, function(e) {
                        return "" !== e.value && e.value >= 0
                    }))
                        return p.ACTIVE
                } else if (a && "" !== a.value && a.value >= 0)
                    return p.ACTIVE;
                return i ? p.CHECK : p.INIT
            }
        });
        n.exports = x,
        t = function(e) {
            var n = [];
            return m.required.fn(e) || n.push(u.get("exam.paper.mark-paper.option-required")),
            m.number.fn(e) || n.push(u.get("exam.exam.question.only-number")),
            m.keepDecimal.fn(e, 1) || n.push(u.get("exam.question.types.only-one-decimal")),
            m.range.fn(e, 0, 100) || n.push(u.get("exam.paper.mark-paper.only-0-to-100")),
            n
        }
        ,
        s = function(e, n) {
            var a, i, s = this.module.store.models.errors, r = h.get("question-types");
            if (6 === n.type) {
                if (c.every(c.filter(n.subs, function(e) {
                    return 5 === e.type
                }), function(e) {
                    return !e.answerRecord
                }))
                    return {}
            } else if (6 !== n.type && (!n.answerRecord || "" === n.answerRecord.answer))
                return {};
            return 6 === n.type ? (i = c.filter(e, function(e) {
                var a = c.filter(n.subs, function(e) {
                    return 5 === e.type && (!e.answerRecord || "" === e.answerRecord.answer)
                });
                return !c.find(a, ["id", e.key])
            }),
            a = c.filter(c.map(i, function(e) {
                var n = t(e.value);
                return n.length > 0 ? n : []
            }), function(e) {
                return e.length > 0
            })) : a = t(e),
            a.length > 0 ? (o.assign(n, {
                status: p.CHECK
            }),
            s.saveError({
                questionId: n.id
            }),
            {
                type: c.find(r, ["key", n.type.toString()]).value,
                index: n.index,
                errorStr: a.join(",")
            }) : {}
        }
        ,
        i = function() {
            var e, n, a = window;
            return a.opener && (e = a.opener.app,
            c.forEach(e._modules, function(e, a) {
                a.indexOf("mark-paper") > -1 && (n = e)
            }),
            n) ? n.dispatch("init") : ""
        }
        ,
        r = function() {
            var e = this;
            setTimeout(function() {
                i(),
                e.module.dispatch("clearModels"),
                window.opener ? window.close() : e.app.navigate("home")
            }, 3e3)
        }
    }
    , {
        "./app/exam/exam/base-paper/index": "./app/exam/exam/base-paper/index",
        "./app/ext/views/form/validators": "./app/ext/views/form/validators",
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/mark-paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="achievement-content">\n    <div class="achievement-side bg-color">\n        <div data-region="side"></div>\n    </div>\n    <div class="achievement-head" data-region="head"></div>\n    <div class="achievement-main">\n        <div data-region="watermark"></div>\n        <div data-region="main"></div>\n    </div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                return '    <div id="watermark" class="watermark watermark-mix"></div>\n'
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <a id="submit" class="btn block w-half m-top">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.paper.mark-paper.submit-paper", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n    <ul class="list">' + (null != (s = a.each.call(r, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <div class="list-title pointer" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <span class="text-tips"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.program(7, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ')\n            </div>\n            <div class="min-btn-groups m-left ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '">\n' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n        </li>\n    "
            },
            7: function(e, n, a, t, i) {
                return ""
            },
            9: function(e, n, a, t, i) {
                return "hidden"
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "check", {
                    name: "compare",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "active", {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item no-mark" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item right" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item click ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            20: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '    <div class="pull-left title" title="' + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.exam.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ": " + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n' + (null != (s = a.if.call(o, null != n ? n.showExamNotes : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || c).call(o, null != (s = null != n ? n.state : n) ? s.anonymityMark : s, "eq", 0, {
                    name: "compare",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </ul>\n        \x3c!--  .btn#submit 提交评卷 --\x3e\n    </div>\n"
            },
            21: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '                <li class="drop-down-wrapper right">\n                    <i class="iconfont icon-notice drop-down-btn"></i>\n                    <div class="drop-down-content"><div class="content">\n                        <div class="sub-tip" style="font-family: ' + e.escapeExpression((a.string || n && n.string || l).call(r, "song-dynasty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ';">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.examNotes : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                    </div></div>\n                </li>\n"
            },
            23: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                <li class="border right">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.question.add-question.examinee", {
                    name: "string",
                    hash: {},
                    data: i
                })) + r(e.lambda(null != (s = null != n ? n.state : n) ? s.examinee : s, n)) + "</li>\n"
            },
            25: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="preview-content">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(26, i, 0),
                    inverse: e.program(29, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(33, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            26: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(27, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            27: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                <div class="row"></div>\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeDesc : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.markIndex : s, n)) + "/" + l(r(null != (s = null != n ? n.state : n) ? s.totalMarkCount : s, n)) + ')</div>\n                    <div class="inline-block">' + l((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.questionary-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.score : s, n)) + '</div>\n                </div>\n                <div data-dynamic-key="' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            29: function(e, n, a, t, i) {
                var s;
                return "            <div>\n" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(30, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            30: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="h3 m-bottom">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ")</div>\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(31, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            31: function(e, n, a, t, i) {
                var s;
                return '                        <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            33: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="text-right m-bottom">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasPrevious : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(34, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasNext : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(36, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            34: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border m-right" id="prev-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            36: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border" id="next-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            38: function(e, n, a, t, i) {
                var s;
                return '    <div>\n        <p class="error">' + e.escapeExpression((s = null != (s = a.errors || (null != n ? n.errors : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "errors",
                    hash: {},
                    data: i
                }) : s)) + "</p>\n    </div>\n    <hr/>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "watermark", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "head", {
                    name: "view",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(25, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "exam-notes", {
                    name: "view",
                    hash: {},
                    fn: e.program(38, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/mark-paper/view-exam-notes": [function(e, n, a) {
        var t = e("./app/exam/exam/base-paper/view-exam-notes")
          , i = e("drizzlejs")
          , s = i.assign({}, t)
          , r = i.assign({}, s.dataForTemplate)
          , l = e("./app/util/strings");
        s.dataForTemplate = r,
        i.assign(s.dataForTemplate, {
            errors: function(e) {
                return l.get("your") + e.state.errors.length + l.get("exam.paper.mark-paper.score-not-complete")
            }
        }),
        i.assign(s, {
            title: l.get("warm-tips")
        }),
        n.exports = s
    }
    , {
        "./app/exam/exam/base-paper/view-exam-notes": "./app/exam/exam/base-paper/view-exam-notes",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/mark-paper/view-head": [function(e, n, a) {
        n.exports = e("./app/exam/exam/base-paper/view-head")
    }
    , {
        "./app/exam/exam/base-paper/view-head": "./app/exam/exam/base-paper/view-head"
    }],
    "./app/exam/exam/mark-paper/view-main": [function(e, n, a) {
        var t, i, s, r = e("./app/exam/exam/base-paper/view-main"), l = e("drizzlejs"), o = l.assign({}, r), c = l.assign({}, o.bindings), u = l.assign({}, o.dataForTemplate), d = e("./app/exam/exam-question-types"), p = {
            MARK_PAPER_MODE: 4,
            NO_DETAIL_MODE: -1
        }, m = e("lodash/collection");
        o.bindings = c,
        l.assign(o.bindings, {
            rule: !0,
            grades: !0
        }),
        o.dataForTemplate = u,
        l.assign(o.dataForTemplate, {
            state: function(e) {
                return l.assign({}, e.state)
            }
        }),
        l.assign(o, {
            type: "dynamic",
            getEntity: function(e) {
                var n;
                return n = this.bindings.types.getQuestionById(e),
                n = l.assign({}, n, {
                    questionAttrs: n.questionAttrCopys
                }),
                {
                    isCorrect: !0,
                    data: n
                }
            },
            getEntityModuleName: function(e, n) {
                return d.get(n.data.type, p.MARK_PAPER_MODE)
            },
            dataForEntityModule: function(e) {
                return s.call(this, e.data)
            },
            afterRender: function() {
                t.call(this)
            },
            beforeClose: function() {
                i.call(this)
            },
            mixin: {
                pause: function(e) {
                    var n, a = this;
                    n = m.map(a.getEntities(), function(n) {
                        var a = n.items && n.items.content;
                        return a && a.components && a.components.player && e.id_ !== a.components.player.id_ ? a.components.player : null
                    }),
                    m.map(n, function(e) {
                        e && e.pause()
                    })
                }
            }
        }),
        s = function(e) {
            var n = this;
            return {
                data: e,
                goal: this.bindings.grades.getGrade(e.id),
                rule: n.bindings.rule.data,
                callback: function(e) {
                    return n.module.dispatch("saveGrade", e)
                }
            }
        }
        ,
        t = function() {
            this.app.askbar.on("exam.player.pause", this.pause, this)
        }
        ,
        i = function() {
            this.app.askbar.off("exam.player.pause", this.pause, this)
        }
        ,
        n.exports = o
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/exam/exam/base-paper/view-main": "./app/exam/exam/base-paper/view-main",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/mark-paper/view-side": [function(e, n, a) {
        var t = e("./app/exam/exam/base-paper/view-side")
          , i = e("drizzlejs")
          , s = i.assign({}, t)
          , r = i.assign({}, s.actions)
          , l = i.assign({}, s.dataForActions)
          , o = e("./app/util/strings");
        s.actions = r,
        i.assign(s.actions, {
            "click submit": "submitGrade"
        }),
        s.dataForActions = l,
        i.assign(s.dataForActions, {
            submitGrade: function() {
                var e = this;
                return this.Promise.create(function(n) {
                    var a = o.get("exam.submit-mark-paper-confirm");
                    e.app.message.confirm(a, function() {
                        n()
                    }, function() {
                        n(!1)
                    })
                })
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/exam/base-paper/view-side": "./app/exam/exam/base-paper/view-side",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/mark-paper/view-watermark": [function(e, n, a) {
        a.bindings = {
            rule: !0
        },
        a.components = [function() {
            var e, n = this.bindings.rule.data;
            return e = n.rule2 && JSON.parse(n.rule2.value) || {},
            {
                name: "watermark-heighten",
                id: "watermark",
                options: {
                    ruleConfig: e,
                    renderNode: ".watermark-mix",
                    watermarkArea: ".preview-content"
                }
            }
        }
        ]
    }
    , {}],
    "./app/exam/exam/markConfigCovert": [function(e, n, a) {
        var t, i, s, r, l = e("lodash/collection"), o = e("drizzlejs"), c = e("./app/util/maps");
        t = function(e) {
            var n = {}
              , a = {
                isPaper: !0,
                isQuestionType: !1,
                isQuestion: !1,
                markPapers: [{
                    id: e.id,
                    name: e.name,
                    markMembers: []
                }],
                markQuestionTypes: [],
                markQuestions: []
            };
            return e.paperClassQuestions.length > 0 ? (l.forEach(l.filter(l.map(e.paperClassQuestions, function(e) {
                return {
                    id: e.question.type,
                    name: l.find(c.get("question-types"), ["key", e.question.type.toString()]).value,
                    markMembers: [],
                    question: e.question
                }
            }), function(e) {
                return 4 === e.id || 5 === e.id || function(e) {
                    return 6 === e.type && l.some(e.subs, function(e) {
                        return 5 === e.type
                    })
                }(e.question)
            }), function(e) {
                n[e.name] = e
            }),
            l.forEach(n, function(e) {
                a.markQuestionTypes.push(e)
            }),
            a.markQuestions = l.filter(l.map(e.paperClassQuestions, function(e) {
                return {
                    id: e.question.id,
                    name: e.question.content,
                    markMembers: [],
                    type: e.question.type,
                    question: e.question
                }
            }), function(e) {
                return 4 === e.type || 5 === e.type || function(e) {
                    return 6 === e.type && l.some(e.subs, function(e) {
                        return 5 === e.type
                    })
                }(e.question)
            })) : e.paperClassTactics.length > 0 && (a.markQuestionTypes = l.map(r(l.filter(e.paperClassTactics, function(e) {
                return 4 === e.type || 5 === e.type || 6 === e.type
            }), "type"), function(e) {
                return {
                    id: e[0].type,
                    name: c.get("question-types")[Number(e[0].type) - 1].value,
                    markMembers: []
                }
            })),
            a
        }
        ,
        i = function(e, n) {
            var a, i = e;
            return a = t(n),
            o.isArray(i) ? a : (i.markPapers = l.map(a.markPapers, function(e) {
                var n = l.find(i.markPapers, ["id", e.id]);
                return n ? (n.name = e.name,
                n) : e
            }),
            i.markQuestionTypes = l.map(a.markQuestionTypes, function(e) {
                var n = l.find(i.markQuestionTypes, ["id", e.id]);
                return n ? (n.name = e.name,
                n) : e
            }),
            i.markQuestions = l.map(a.markQuestions, function(e) {
                var n = l.find(i.markQuestions, ["id", e.id]);
                return n ? (n.name = e.name,
                n) : e
            }),
            i)
        }
        ,
        s = function(e) {
            var n, a, t, i = {};
            return o.isString(e) ? JSON.parse(e) : e && o.isArray(e) && e.length > 0 ? (n = l.filter(e, function(e) {
                return 1 === e.type
            }),
            a = l.filter(e, function(e) {
                return 2 === e.type
            }),
            t = l.filter(e, function(e) {
                return 3 === e.type
            }),
            i.markPapers = l.map(r(n, "typeId"), function(e) {
                return {
                    id: e[0].typeId,
                    markMembers: l.map(e, function(e) {
                        return {
                            id: e.member.id,
                            name: e.member.fullName || e.member.name
                        }
                    })
                }
            }),
            i.markQuestionTypes = l.map(r(a, "typeId"), function(e) {
                return {
                    id: Number(e[0].typeId),
                    markMembers: l.map(e, function(e) {
                        return {
                            id: e.member.id,
                            name: e.member.fullName || e.member.name
                        }
                    })
                }
            }),
            i.markQuestions = l.map(r(t, "typeId"), function(e) {
                return {
                    id: e[0].typeId,
                    markMembers: l.map(e, function(e) {
                        return {
                            id: e.member.id,
                            name: e.member.fullName || e.member.name
                        }
                    })
                }
            }),
            i) : e
        }
        ,
        r = function(e, n) {
            var a = {}
              , t = [];
            return l.forEach(e, function(e) {
                a[e[n]] ? a[e[n]].value.push(e) : (a[e[n]] = {
                    key: e[n],
                    value: []
                },
                a[e[n]].value.push(e))
            }),
            l.forEach(a, function(e) {
                t.push(e.value)
            }),
            t
        }
        ,
        n.exports = {
            covertMarkConfig: function(e, n) {
                return i(s(e), n)
            },
            getRemoteMarkConfig: function(e) {
                return t(e)
            },
            groupCollection: r
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/other-exam-prompt/index": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.items = {
            main: "main"
        },
        a.title = t.get("exam.exam.other-exam.prompt.exam-detail"),
        a.auto = !0,
        a.store = {
            models: {
                exam: {
                    url: "../exam/exam/front/user-record"
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    return e.callOpenWindow && (this.models.state.data.callOpenWindow = e.callOpenWindow),
                    e.examId ? (this.models.exam.set({
                        id: e.examId
                    }),
                    this.get(this.models.exam, {
                        loading: !0
                    })) : ""
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/exam/other-exam-prompt/prompt-help": [function(e, n, a) {
        var t, i, s, r, l, o, c, u, d, p, m;
        a.getUserStatusOfExam = function(e) {
            return p(e) ? 9 : l(e) ? 11 : t(e.startTime) ? 1 : i(e.startTime, e.endTime) ? m(e) ? 10 : u(e) ? 7 : d(e) ? 8 : r(e) ? 2 : o(e) ? 3 : 4 : s(e.endTime) ? c(e) ? 6 : 5 : 0
        }
        ,
        t = function(e) {
            return e && (new Date).getTime() < e
        }
        ,
        i = function(e, n) {
            var a = (new Date).getTime();
            return e && n && a >= e && a <= n || !e && !n
        }
        ,
        s = function(e) {
            return e && (new Date).getTime() > e
        }
        ,
        r = function(e) {
            return !(0 === e.allowExamTimes || e.allowExamTimes > e.examedTimes)
        }
        ,
        o = function(e) {
            return null !== e.examRecord.isFinished && !r(e)
        }
        ,
        l = function(e) {
            return e.examRecord && e.examRecord.isReset
        }
        ,
        s = function(e) {
            return !e.startTime && !e.endTime || e.endTime < (new Date).getTime()
        }
        ,
        c = function(e) {
            return 0 === e.isOverByPassExam ? e.examRecord && e.examRecord.status > 5 : e.examRegist && 0 === e.examRegist.passStatus
        }
        ,
        u = function(e) {
            return e.examRecord && e.examRecord.status < 4 && e.examRecord.submitTime
        }
        ,
        d = function(e) {
            return e.examRecord && 5 === e.examRecord.status
        }
        ,
        p = function(e) {
            return 2 === e.status
        }
        ,
        m = function(e) {
            return e.examRecord && e.examRecord.status > 1 && e.examRecord.status <= 4 && e.examRecord.startTime
        }
    }
    , {}],
    "./app/exam/exam/other-exam-prompt/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <div class="exam-notes-content">\n        <p>' + l(r(null != (s = null != n ? n.currentExam : n) ? s.examNotes : s, n)) + "</p>\n        <p>" + l(r(null != (s = null != n ? n.currentExam : n) ? s.content : s, n)) + '</p>\n        <div class="layout-mt-small">\n' + (null != (s = a.each.call(null != n ? n : {}, null != (s = null != n ? n.currentExam : n) ? s.buttons : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <button class="btn" id="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.text || (null != n ? n.text : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "text",
                    hash: {},
                    data: i
                }) : s)) + "</button>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/other-exam-prompt/view-main": [function(e, n, a) {
        var t, i, s = e("./app/util/strings"), r = {
            1: s.get("exam.other-exam-prompt.prompts-one"),
            2: s.get("exam.other-exam-prompt.prompts-two"),
            3: s.get("exam.other-exam-prompt.prompts-three"),
            4: s.get("exam.other-exam-prompt.prompts-four"),
            5: s.get("exam.other-exam-prompt.prompts-five"),
            6: s.get("exam.other-exam-prompt.prompts-six"),
            7: s.get("exam.other-exam-prompt.prompts-seven"),
            8: s.get("exam.other-exam-prompt.prompts-eight"),
            9: s.get("exam.other-exam-prompt.prompts-nine"),
            10: s.get("exam.other-exam-prompt.prompts-ten"),
            11: s.get("exam.exam.exam-detail.reset-exam")
        }, l = e("./app/exam/exam/other-exam-prompt/prompt-help"), o = e("./app/util/helpers");
        a.bindings = {
            exam: !0,
            state: !1
        },
        a.dataForTemplate = {
            currentExam: function(e) {
                var n = i(e.exam);
                return {
                    content: n.content,
                    buttons: n.buttons,
                    examNotes: e.exam.examNotes
                }
            }
        },
        a.events = {
            "click close-button": "close",
            "click had-knew-button": "close",
            "click exam-later-button": "close",
            "click come-later-button": "close",
            "click to-exam-button": "toExam",
            "click view-detail-button": "viewDetail",
            "click exam-again-button": "toExam",
            "click go-on-exam-button": "toExam"
        },
        a.handlers = {
            close: function() {
                if (this.module.renderOptions.toActivityHome)
                    return this.app.navigate("activity/index", !0),
                    void this.app.viewport.closeModal();
                this.app.viewport.closeModal()
            },
            toExam: function() {
                var e, n = this.bindings.exam.data.id, a = "#/exam/exam/answer-paper/" + n;
                e = window.open(a, "_blank"),
                this.bindings.state.data.callOpenWindow && this.bindings.state.data.callOpenWindow(e),
                this.app.viewport.closeModal()
            },
            viewDetail: function() {
                var e = this.bindings.exam.data.examRecord.id
                  , n = "#/exam/exam/front/score-detail/" + e;
                window.open(n, "_blank"),
                this.app.viewport.closeModal()
            }
        },
        i = function(e) {
            var n = l.getUserStatusOfExam(e)
              , a = {
                id: "had-knew-button",
                text: s.get("exam.exam.knew")
            }
              , i = {
                id: "exam-later-button",
                text: s.get("exam.exam.later")
            }
              , c = {
                id: "to-exam-button",
                text: s.get("exam.exam.exam-detail.exam-begin")
            }
              , u = {
                id: "view-detail-button",
                text: s.get("exam.research-activity.research-detail.detail")
            }
              , d = {
                id: "exam-again-button",
                text: s.get("exam.exam.exam-detail.re-exam")
            }
              , p = {
                id: "go-on-exam-button",
                text: s.get("exam.exam.exam-detail.continue-exam")
            }
              , m = 0 === e.isOverByPassExam && e.examRecord && e.examRecord.status >= 5 || e.examRegist && 0 === e.examRegist.passStatus
              , h = e.examRecord && 6 === e.examRecord.status
              , v = {
                1: [a],
                2: m ? [a, u] : [a],
                3: m ? [u, d] : [d],
                4: [i, c],
                5: [a],
                6: [a, u],
                7: [],
                8: m ? [u] : [],
                9: [a],
                10: [i, p],
                11: [d]
            };
            return m ? (r[2] = s.get("exam.other-exam-prompt.prompts-two"),
            r[3] = s.get("exam.other-exam-prompt.prompts-three")) : (r[2] = s.get("exam.other-exam-prompt.prompts-two-nopass"),
            r[3] = s.get("exam.other-exam-prompt.prompts-three-nopass")),
            3 === n && h && (r[n] = s.get("exam.other-exam-prompt.prompts-three-pass")),
            {
                content: function(e, n, a) {
                    return 4 === a || 10 === a ? t(n, e.duration) : 1 === a ? t(n, o.dateMinute(e.startTime) + "  ~  " + o.dateMinute(e.endTime)) : n
                }(e, r[n], n),
                buttons: v[n]
            }
        }
        ,
        t = function(e, n) {
            var a, t, i;
            if (!n)
                return e;
            for (i = !n || n instanceof Array ? n : [n],
            a = e,
            t = 0; t < i.length; t++)
                a = a.replace(new RegExp("\\{" + t + "\\}","g"), i[t]);
            return a
        }
    }
    , {
        "./app/exam/exam/other-exam-prompt/prompt-help": "./app/exam/exam/other-exam-prompt/prompt-help",
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/exam/other-module-exam/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("./app/util/strings");
        a.title = function() {
            return this.renderOptions.id ? "修改考试" : "添加考试"
        }
        ,
        a.items = {
            main: "main",
            paper: "paper",
            regular: "regular"
        },
        a.store = {
            models: {
                exam: {
                    url: "../exam/exam"
                },
                otherModuelExam: {
                    url: "../exam/exam/front/other-module-exam"
                },
                state: {},
                offline: {}
            },
            callbacks: {
                init: function(e) {
                    var n = this
                      , a = this.models.state
                      , i = this.models.offline;
                    return a.clear(),
                    i.clear(),
                    a.set({
                        timeOptions: e.timeOptions || {},
                        supportOffline: !!e.supportOffline
                    }),
                    e.id ? (this.models.exam.data = {
                        id: e.id
                    },
                    this.get(this.models.exam, {
                        loading: !0
                    }).then(function() {
                        e.name && t.assign(n.models.exam.data, {
                            name: e.name
                        }),
                        n.models.exam.changed(),
                        i.set(t.assign({}, n.models.exam.data))
                    })) : ""
                },
                save: function(e) {
                    var n = this.models.otherModuelExam
                      , a = this.models.exam
                      , s = this;
                    return t.assign(n.data, a.data, e),
                    this.save(n, {
                        loading: !0
                    }).then(function() {
                        s.app.message.success(i.get("save-success"))
                    })
                },
                setValue: function(e) {
                    var n = this.models.exam.data;
                    t.assign(n, e),
                    this.models.exam.changed()
                },
                changeName: function(e) {
                    var n = this.module.items.paper.getEntities()[0];
                    t.assign(this.models.exam.data, e),
                    n.setData(e)
                },
                changeOffline: function(e) {
                    var n = this.models.offline;
                    this.module.dispatch("changeName", e),
                    n.set(this.models.exam.data, !e.notChanged)
                }
            }
        },
        a.beforeRender = function() {
            var e = this.store.models.exam
              , n = this.store.models.otherModuelExam;
            return e.clear(),
            n.clear(),
            this.dispatch("init", this.renderOptions)
        }
        ,
        a.buttons = [{
            text: "保存",
            fn: function(e) {
                var n = this
                  , a = n.renderOptions.callback
                  , i = this.items.paper.getEntities()[0]
                  , s = i.getData()
                  , r = this.items.main
                  , l = e.onlinePercent
                  , o = e.offlinePercent
                  , c = e.standardScore
                  , u = []
                  , d = !0;
                if (!i.isValidator())
                    return !1;
                if (r.validate() && r.check()) {
                    if (Number(e.supportOffline)) {
                        if ("" === c)
                            return this.app.message.error("请填写总及格线"),
                            !1;
                        if ("" === l || "" === o)
                            return this.app.message.error("请填写成绩占比"),
                            !1;
                        if (Number(l) + Number(o) !== 100)
                            return this.app.message.error("线上成绩占比与线下成绩占比之和需要为100"),
                            !1
                    }
                    if (e.paperClassId)
                        return 100 * e.passScore > s.paperClass.totalScore ? (this.app.message.error("及格分数不得大于试卷分数"),
                        !1) : (t.assign(e, {
                            paperClassId: s.paperClassId,
                            markConfig: s.markConfig
                        }, {
                            sourceType: n.renderOptions.sourceType || 2
                        }),
                        Object.keys(e).forEach(function(n) {
                            var a, t = e[n], i = e;
                            n.indexOf("questionDepot/") >= 0 && (a = n.split("/"),
                            0 !== t && (!t || t < 0) && (d = !1),
                            u.push({
                                questionDepotId: a[1],
                                difficulty: a[2],
                                totalScore: (100 * t).toFixed(0),
                                questionCount: a[3],
                                type: a[4]
                            }),
                            delete i[n])
                        }),
                        d ? (u.length > 0 && t.assign(e, {
                            paperClassScores: JSON.stringify(u)
                        }),
                        this.store.module.dispatch("save", e).then(function() {
                            var i = t.assign(n.store.models.otherModuelExam.data, e);
                            a && a(i)
                        })) : d);
                    this.app.message.error("请选择试卷")
                }
                return !1
            }
        }]
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/other-module-exam/step-2/index": [function(e, n, a) {
        var t, i, s = e("lodash/collection"), r = e("./app/exam/util"), l = e("drizzlejs");
        a.items = {
            main: "main",
            mark: "mark",
            "exam/paper/preview-paper": {
                isModule: !0
            },
            "exam/paper/add-normal-paper": {
                isModule: !0
            },
            "exam/question/random-normal-question": {
                isModule: !0
            },
            "exam/paper-library/select-paper": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                exam: {},
                questionStatistics: {
                    url: "../exam/exam/paper-question-statistics"
                },
                paperClass: {
                    url: "../exam/paper-class/front",
                    mixin: {
                        filterSubs: function() {
                            this.data.paperClassQuestions = s.filter(this.data.paperClassQuestions, function(e) {
                                return !e.parentId
                            })
                        }
                    }
                },
                checkPaper: {
                    url: "../exam/paper-class"
                },
                markConfig: {
                    mixin: {
                        getRemoteMarkConfig: function(e) {
                            return s.filter(e, ["examRoomId", null])
                        }
                    }
                },
                paperClassCopy: {
                    url: "../exam/paper-class/copy",
                    mixin: {
                        filterSubs: function() {
                            this.data.paperClassQuestions = s.filter(this.data.paperClassQuestions, function(e) {
                                return !e.parentId
                            })
                        }
                    }
                },
                state: {}
            },
            callbacks: {
                init: function() {
                    var e = this.models.questionStatistics
                      , n = this.models.exam.data
                      , a = this
                      , t = n.paperClass ? n.paperClass.type : null;
                    l.assign(e.data, {
                        id: n.id
                    }),
                    a.get(e, {
                        loading: !0
                    }).then(function() {
                        var e, n = a.models.questionStatistics.data;
                        n.enabled < n.sum && (2 === t ? (e = "试卷原配置" + n.sum + "题，现禁用" + n.disabled + "题，试卷可用" + n.enabled + "题 ，请检查！",
                        a.app.message.error(e)) : 3 === t && (e = "试卷原配置" + n.sum + "题，现禁用" + n.disabled + "题：试题修改目录" + n.changed,
                        e += "题，试卷可用" + n.enabled + "题 ，请检查！",
                        a.app.message.error(e)))
                    })
                },
                selectPaperId: function(e) {
                    var n = this
                      , a = this.models.exam.data
                      , t = this.module.renderOptions.isOtherModuleType;
                    return this.models.paperClass.clear(),
                    e.type ? (this.models.paperClassCopy.clear(),
                    1 !== Number(t) ? this.models.paperClassCopy.set({
                        id: e.id
                    }) : this.models.paperClassCopy.set({
                        id: e.id,
                        examType: 0
                    }),
                    this.post(this.models.paperClassCopy, {
                        loading: !0
                    }).then(function() {
                        var e, i = n.models.paperClassCopy.data, s = (i.totalScore / 100 * .6).toFixed(0);
                        n.models.paperClass.set(i),
                        n.models.paperClass.filterSubs(),
                        n.models.paperClass.changed(),
                        1 !== Number(t) && a.passScore && s !== a.passScore && n.app.message.confirm("考试及格分数默认值已变为" + s + "分,是否需要替换?", function() {
                            l.assign(a, {
                                passScore: s
                            })
                        }),
                        l.assign(a, {
                            totalScore: i.totalScore
                        }),
                        i && (i.totalScore || 0 === i.totalScore) && (e = i.totalScore / 100,
                        a.evalutionRule = JSON.stringify({
                            excellentLess: parseInt(.9 * e, 10),
                            goodLess: parseInt(.8 * e, 10),
                            goodGreater: parseInt(.9 * e, 10),
                            passLess: parseInt(.6 * e, 10),
                            passGreater: parseInt(.8 * e, 10),
                            noPassGreater: parseInt(.6 * e, 10)
                        }))
                    })) : (l.assign(this.models.paperClass.params, {
                        paperId: e.id
                    }),
                    this.get(this.models.paperClass, {
                        loading: !0
                    }).then(function() {
                        var e, i = n.models.paperClass.data, s = (i.totalScore / 100 * .6).toFixed(0);
                        n.models.paperClass.filterSubs(),
                        n.models.paperClass.changed(),
                        1 !== Number(t) && a.passScore && s !== a.passScore && n.app.message.confirm("考试及格分数默认值已变为" + s + "分,是否需要替换?", function() {
                            l.assign(a, {
                                passScore: s
                            })
                        }),
                        l.assign(a, {
                            totalScore: i.totalScore
                        }),
                        i && (i.totalScore || 0 === i.totalScore) && (e = i.totalScore / 100,
                        a.evalutionRule = JSON.stringify({
                            excellentLess: parseInt(.9 * e, 10),
                            goodLess: parseInt(.8 * e, 10),
                            goodGreater: parseInt(.9 * e, 10),
                            passLess: parseInt(.6 * e, 10),
                            passGreater: parseInt(.8 * e, 10),
                            noPassGreater: parseInt(.6 * e, 10)
                        }))
                    }))
                },
                selectPaper: function(e) {
                    this.models.paperClass.data = e,
                    this.models.paperClass.changed()
                },
                changePaperClass: function(e) {
                    var n, a, t, i = this.models.paperClass, r = this.models.exam.data, o = i.data.paperClassQuestions, c = i.data.paperClassTactics, u = this, d = this.module.renderOptions.isOtherModuleType, p = 0;
                    return o.length > 0 && (n = parseInt(10 * Number(e.value) / e.arr[3], 10),
                    a = 10 * Number(e.value) % e.arr[3],
                    s.map(o, function(t, i) {
                        var s = t;
                        return (s.question.questionDepotId && s.question.questionDepotId === e.arr[0] || !e.arr[0] && !s.question.questionDepotId) && s.question.difficulty === Number(e.arr[1]) && s.question.type === Number(e.arr[2]) && (i !== o.length - 1 ? s.question.score = 10 * n : s.question.score = 10 * (n + a),
                        s.score = s.question.score),
                        p += Number(s.score),
                        s
                    }),
                    i.data.paperClassQuestions = o),
                    c.length > 0 && (s.map(c, function(n) {
                        var a = n;
                        return (!e.arr[0] && !a.questionDepotId || a.questionDepotId && a.questionDepotId === e.arr[0]) && a.difficulty === Number(e.arr[1]) && a.type === Number(e.arr[2]) && (a.score = (100 * Number(e.value)).toFixed(0)),
                        p += Number(a.score),
                        a
                    }),
                    i.data.paperClassTactics = c),
                    t = (p / 100 * .6).toFixed(0),
                    1 !== Number(d) && r.passScore && t !== r.passScore && u.app.message.confirm("考试及格分数默认值已变为" + t + "分,是否需要替换?", function() {
                        l.assign(r, {
                            passScore: t
                        })
                    }),
                    l.assign(r, {
                        totalScore: p
                    }),
                    i.data && p && (i.data.totalScore = p,
                    r.evalutionRule = JSON.stringify({
                        excellentLess: parseInt(p / 100 * .9, 10),
                        goodLess: parseInt(p / 100 * .8, 10),
                        goodGreater: parseInt(p / 100 * .9, 10),
                        passLess: parseInt(p / 100 * .6, 10),
                        passGreater: parseInt(p / 100 * .8, 10),
                        noPassGreater: parseInt(p / 100 * .6, 10)
                    })),
                    i.changed()
                },
                setData: function(e) {
                    l.assign(this.models.exam.data, e)
                },
                saveModelValue: function(e) {
                    l.assign(this.models.exam.data, e)
                },
                checkPaperInfo: function(e) {
                    var n = this.models.checkPaper;
                    return n.clear(),
                    l.assign(n.params, {
                        paperId: e.paperId,
                        examId: e.exam.id,
                        examName: e.exam.name || "",
                        businessType: 1
                    }),
                    this.get(n, {
                        loading: !0
                    }).then(function(e) {
                        return e[0]
                    })
                }
            }
        },
        a.beforeRender = function() {
            var e = this.renderOptions.exam
              , n = this.store.models.markConfig
              , a = e.markConfig || e.markConfigs;
            n.set(a),
            this.store.models.exam.set(e),
            this.store.models.paperClass.set(e.paperClass || {}),
            this.store.models.state.set(l.assign({
                isFilterEdit: !1
            }, this.renderOptions.params)),
            this.store.models.paperClass.filterSubs(),
            e.id && this.dispatch("init")
        }
        ,
        a.mixin = {
            getData: function() {
                var e = this.store.models.paperClass.data
                  , n = this.store.models.markConfig.data
                  , a = this.store.models.exam.data;
                return this.items["exam/question/random-normal-question"].clearTactic(),
                e && e.id ? l.assign({}, this.items.main.getData(), this.items.mark.getData(), {
                    paperClass: e,
                    passScore: a.passScore || null,
                    markConfig: n,
                    paperClassId: e.id
                }) : null
            },
            isValidator: function() {
                var e = function() {
                    var e = this.store.models.paperClass.data;
                    return !((100 * this.store.models.exam.data.passScore).toFixed(0) > e.totalScore && (this.app.message.error("及格分数不得大于试卷总分"),
                    1))
                }
                  , n = function() {
                    var n = this.app.global.uri;
                    return this.store.models.paperClass.data ? i.call(this) && e.call(this) : !(n.indexOf("exam") < 0) || i.call(this) && e.call(this)
                }
                  , a = this.items.main.getData().evalutionRule;
                return this.renderOptions.hidePaperMark ? this.items.main.validate() && n.call(this) : this.items.main.validate() && n.call(this) && t.call(this, a)
            },
            setData: function(e) {
                return this.dispatch("setData", e)
            }
        },
        i = function() {
            var e = this.store.models.paperClass.data.isSubjective
              , n = this.store.models.markConfig.data;
            return !(1 === Number(e) && !r.hasMarkMembers(n)) || (this.app.message.error("请完整配置评卷老师信息"),
            !1)
        }
        ,
        t = function(e) {
            var n, a, t = this.store.models.paperClass.data, i = t.paperClass && t.paperClass.totalScore / 100;
            return n = JSON.parse(e),
            a = s.every(n, function(e) {
                return e && "" !== e
            }),
            a ? i && a && i < Number(n.excellentLess) ? (this.app.message.error("及格分数等级规则不得大于试卷总分【" + i + "】分"),
            !1) : Number(n.noPassGreater) > Number(n.passLess) ? (this.app.message.error("不及格上限值不能大于及格上限值"),
            !1) : Number(n.passLess) >= Number(n.passGreater) ? (this.app.message.error("及格下限值不能大于或等于及格上限值"),
            !1) : Number(n.passGreater) > Number(n.goodLess) ? (this.app.message.error("及格上限值不能大于或等于良好下限值"),
            !1) : Number(n.goodLess) >= Number(n.goodGreater) ? (this.app.message.error("良好下限值不能大于或等于良好上限值"),
            !1) : !(Number(n.goodGreater) > Number(n.excellentLess)) || (this.app.message.error("良好上限值不能大于优秀下限值"),
            !1) : (this.app.message.error("及格分数等级规则存在未填处"),
            a)
        }
    }
    , {
        "./app/exam/util": "./app/exam/util",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/other-module-exam/step-2/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n    <div data-region="mark"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <form class="vertical">\n        <div class="row col-sm-left">\n' + (null != (s = a.if.call(r, null != n ? n.disableType : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '            <div class="col-sm-4 m-top">\n                <div class="pull-right"><div id="preview-paper" class="btn">预览试卷</div></div>\n' + (null != (s = a.if.call(r, null != n ? n.paperSortRuleDisable : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.program(14, i, 0),
                    data: i
                })) ? s : "") + '            </div>\n        </div>\n        <div class="row col-sm-left">\n            <div class="col-sm-12">\n                <div class="sub-text inline-block">当前组卷方式：' + e.escapeExpression(e.lambda(null != (s = null != n ? n.paperType : n) ? s.type : s, n)) + "</div>\n                " + (null != (s = a.if.call(r, null != (s = null != n ? n.paperType : n) ? s.name : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '\n            </div>\n        </div>\n        <div id="directory-score-table"></div>\n' + (null != (s = a.if.call(r, null != n ? n.showPaperMark : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != n ? n.showPaperShowRule : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </form>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <div class="col-sm-8"><label>\n                    <div id="add-temp-paper" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' class="btn  ' + (null != (s = a.if.call(r, null != n ? n.previousStatusIsStarting : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '"><div class="i iconfont icon-file m-left"></div><span class="m-left m-right">' + o((a.string || n && n.string || l).call(r, "exam.add-ques-paper", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n                    <div id="add-tactic" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' class="btn  ' + (null != (s = a.if.call(r, null != n ? n.previousStatusIsStarting : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '"><div class="i iconfont icon-file m-left"></div><span class="m-left m-right">' + o((a.string || n && n.string || l).call(r, "exam.add-paper-tactic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n                    <div id="add-choose" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' class="btn  ' + (null != (s = a.if.call(r, null != n ? n.previousStatusIsStarting : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '"><div class="i iconfont icon-file m-left"></div><span class="m-left m-right">' + o((a.string || n && n.string || l).call(r, "exam.add-choose-paper", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n                    \x3c!--  #add-random-fix(class=\'btn \' + if(previousStatusIsStarting \'disabled\')) > .i.iconfont.icon-file.m-left + span.m-left.m-right 随机固定组卷 --\x3e\n                    <input class="input" type="hidden" name="paperClassId" value="' + o(e.lambda(null != (s = null != n ? n.paperClass : n) ? s.id : s, n)) + '"/>\n                </label></div>\n'
            },
            5: function(e, n, a, t, i) {
                return ' disabled="disabled"'
            },
            7: function(e, n, a, t, i) {
                return "disabled"
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <div class="col-sm-8"><label>\n                    <div id="add-temp-paper" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' class="btn "><div class="i iconfont icon-file m-left"></div><span class="m-left m-right">' + o((a.string || n && n.string || l).call(r, "exam.add-ques-paper", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n                    <div id="add-tactic" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' class="btn "><div class="i iconfont icon-file m-left"></div><span class="m-left m-right">' + o((a.string || n && n.string || l).call(r, "exam.add-paper-tactic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n                    <div id="add-choose" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' class="btn "><div class="i iconfont icon-file m-left"></div><span class="m-left m-right">' + o((a.string || n && n.string || l).call(r, "exam.add-choose-paper", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n                    \x3c!--  #add-random-fix(class=\'btn \') > .i.iconfont.icon-file.m-left + span.m-left.m-right 随机固定组卷 --\x3e\n                    <input class="input" type="hidden" name="paperClassId" value="' + o(e.lambda(null != (s = null != n ? n.paperClass : n) ? s.id : s, n)) + '"/>\n                </label></div>\n'
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '                    <div class="pull-right m-right col-sm-7"><select id="paperSortRule" class="input" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' disabled="disabled">\n                        <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.checked : n) ? s.paperSortRule1 : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="1">默认顺序</option>\n                        <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.checked : n) ? s.paperSortRule2 : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="2">试题打乱顺序</option>\n                        <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.checked : n) ? s.paperSortRule3 : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="3">选项打乱顺序</option>\n                        <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.checked : n) ? s.paperSortRule4 : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="4">试题及选项打乱顺序</option>\n                    </select></div>\n                    <input type="hidden" name="paperSortRule" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.exam : n) ? s.paperSortRule : s, n)) + '"/>\n'
            },
            12: function(e, n, a, t, i) {
                return ' selected="selected"'
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '                    <div class="pull-right m-right col-sm-7"><select id="paperSortRule" class="input" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' name="paperSortRule">\n                        <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.checked : n) ? s.paperSortRule1 : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="1">默认顺序</option>\n                        <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.checked : n) ? s.paperSortRule2 : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="2">试题打乱顺序</option>\n                        <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.checked : n) ? s.paperSortRule3 : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="3">选项打乱顺序</option>\n                        <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.checked : n) ? s.paperSortRule4 : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="4">试题及选项打乱顺序</option>\n                    </select></div>\n'
            },
            16: function(e, n, a, t, i) {
                var s;
                return '<div class="sub-text inline-block">试卷名称：' + e.escapeExpression(e.lambda(null != (s = null != n ? n.paperType : n) ? s.name : s, n)) + "</div>"
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression;
                return '            <div class="row"></div>\n            <label class="com-title">及格分数等级规则</label>\n            <label><span class="text-tips">设置分数等级</span></label>\n            <div class="row m-top"><div class="col-sm-6">\n                <table class="table table2 text-center">\n                    <thead><tr>\n                        <th>等级</th>\n                        <th>等级成绩</th>\n                    </tr></thead>\n                    <tbody>\n                        <tr>\n                            <td>及格</td>\n                            <td>\n                                成绩 ≥\n                                <input class="inline-block" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' text="text" name="rule" id="rule-4" value="' + o(l(null != (s = null != n ? n.evalutionRule : n) ? s.passLess : s, n)) + '"/>\n                                <input class="inline-block" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' hidden="hidden" name="rule" id="rule-5" value="' + o(l(null != (s = null != n ? n.evalutionRule : n) ? s.passGreater : s, n)) + '"/>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>良好</td>\n                            <td>\n                                成绩 ≥\n                                <input class="inline-block" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' text="text" name="rule" id="rule-2" value="' + o(l(null != (s = null != n ? n.evalutionRule : n) ? s.goodLess : s, n)) + '"/>\n                                <input class="inline-block" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' hidden="hidden" name="rule" id="rule-3" value="' + o(l(null != (s = null != n ? n.evalutionRule : n) ? s.goodGreater : s, n)) + '"/>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>优秀</td>\n                            <td>\n                                成绩 ≥\n                                <input class="inline-block" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' text="text" name="rule" id="rule-1" value="' + o(l(null != (s = null != n ? n.evalutionRule : n) ? s.excellentLess : s, n)) + '"/>\n                                <input class="inline-block" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' hidden="hidden" name="rule" id="rule-6" value="' + o(l(null != (s = null != n ? n.evalutionRule : n) ? s.noPassGreater : s, n)) + '"/>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div></div>\n'
            },
            20: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="row"></div>\n            <label class="com-title">考卷显示规则</label>\n            <label><div class="row"><div class="col-sm-5">\n                <select id="paperShowRule" class="input" ' + (null != (s = a.if.call(r, null != n ? n.isPreviewPaperConfiguration : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' name="paperShowRule">\n                    <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.checked : n) ? s.paperShowRule2 : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="2">一页显示所有题</option>\n                    <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.checked : n) ? s.paperShowRule1 : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="1">一屏一题显示(采用左右切换方式)</option>\n                </select>\n            </div>\n            </div></label>\n'
            },
            22: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != n ? n.hasSubjective : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            23: function(e, n, a, t, i) {
                return '        <div data-dynamic-key="mark"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "mark", {
                    name: "view",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/other-module-exam/step-2/view-main": [function(e, n, a) {
        var t, i, s, r = e("drizzlejs"), l = e("jquery"), o = e("lodash/collection"), c = {
            2: "试题组卷",
            3: "随机组卷",
            4: "随机固定组卷",
            5: "选择试卷"
        };
        a.type = "form",
        a.bindings = {
            exam: !0,
            paperClass: !0,
            state: !1
        },
        a.events = {
            "click add-temp-paper": "addPaper",
            "click preview-paper": "previewPaper",
            "click add-tactic": "addTactic",
            "change paperSortRule": "saveModelValue",
            "change rule-*": "changeScoreRule",
            "click add-choose": "addChoose"
        },
        a.handlers = {
            addPaper: function() {
                var e, n = this.module.items["exam/paper/add-normal-paper"], a = this, t = this.bindings.paperClass.data;
                !t || 2 !== t.type || t.paperDepotId || t.paperDepot && t.paperDepot.id || (e = this.bindings.paperClass.data.id),
                this.app.viewport.ground(n, {
                    id: e,
                    examId: this.bindings.exam.data.id,
                    url: this.module.renderOptions.url || this.app.global.uri,
                    paperName: this.bindings.exam.data.name,
                    type: 2,
                    organizationId: this.module.renderOptions.organizationId,
                    isOtherModuleType: this.module.renderOptions.isOtherModuleType,
                    paperClassQuestions: 2 === t.type ? t.paperClassQuestions : [],
                    callback: function(e) {
                        return !!e && a.module.dispatch("selectPaperId", {
                            id: e,
                            type: 2
                        })
                    }
                })
            },
            previewPaper: function() {
                var e = this.bindings.paperClass.data
                  , n = e && e.id
                  , a = e && e.type
                  , t = this.bindings.exam.data
                  , i = this.module.renderOptions.type
                  , s = this.module.items["exam/paper/preview-paper"]
                  , o = this.module.renderOptions.isPreviewPaperConfiguration || !1
                  , c = this;
                return 3 === a ? (this.app.message.error("随机组卷不提供预览 "),
                !1) : n ? o || 4 !== a || !("makeUp" === i || t.status <= 1) && t.status ? this.module.dispatch("checkPaperInfo", {
                    paperId: n,
                    exam: t
                }).then(function(e) {
                    return e && e.paperClassQuestions && e.paperClassQuestions.length > 0 ? n ? c.app.viewport.ground(s, {
                        paperId: n,
                        isPreview: !0,
                        exam: r.assign(t, {
                            paperSortRule: l(c.$$('[name="paperSortRule"]')).val(),
                            paperShowRule: l(c.$$('[name="paperShowRule"]')).val() || t.paperShowRule
                        })
                    }) : (this.app.message.error("没有试卷内容"),
                    !0) : (this.app.message.error("试卷还在生成中，请稍后查看！"),
                    !1)
                }) : (this.app.message.error("未发布的随机固定组卷不支持在线预览"),
                !1) : (this.app.message.error("没有试卷内容"),
                !0)
            },
            addTactic: function() {
                var e, n = this, a = this.bindings.exam.data, t = this.bindings.paperClass.data, i = n.module.items["exam/question/random-normal-question"];
                !t || 3 !== t.type || t.paperDepotId || t.paperDepot && t.paperDepot.id || (e = t.id),
                n.app.viewport.ground(i, {
                    examId: a.id,
                    paperClassId: e,
                    url: this.module.renderOptions.url,
                    organizationId: this.module.renderOptions.organizationId,
                    typeNum: 3,
                    paperClassTactics: 3 === t.type ? t.paperClassTactics : [],
                    callback: function(e) {
                        return !!e && n.module.dispatch("selectPaperId", {
                            id: e,
                            type: 3
                        })
                    }
                })
            },
            saveModelValue: function() {
                return this.module.dispatch("saveModelValue", {
                    paperSortRule: l(this.$$('[name="paperSortRule"]')).val()
                })
            },
            changeScoreRule: function(e, n, a) {
                var t, i = a;
                /^[0-9]*$/.test(Number(l.trim(i.value))) || (this.app.message.error("请输入正整数"),
                i.value = ""),
                1 === Number(e) ? l(this.$("rule-3")).val(l(this.$("rule-" + e)).val()) : 2 === Number(e) ? l(this.$("rule-5")).val(l(this.$("rule-" + e)).val()) : 4 === Number(e) && (t = l(this.$("rule-" + e)).val(),
                l(this.$("rule-6")).val(t),
                l(this.$("passScore")).val(t))
            },
            addChoose: function() {
                var e = this.module.items["exam/paper-library/select-paper"]
                  , n = this;
                this.app.viewport.modal(e, {
                    organizationId: n.module.renderOptions.organizationId,
                    callback: function(e) {
                        return !!e && n.module.dispatch("selectPaperId", {
                            id: e,
                            type: 5
                        })
                    }
                })
            }
        },
        a.dataForTemplate = {
            checked: function(e) {
                var n = e.exam;
                return {
                    paperShowRule1: "" + n.paperShowRule == "1",
                    paperShowRule2: "" + n.paperShowRule == "2",
                    paperSortRule1: "" + n.paperSortRule == "1",
                    paperSortRule2: "" + n.paperSortRule == "2",
                    paperSortRule3: "" + n.paperSortRule == "3",
                    paperSortRule4: "" + n.paperSortRule == "4"
                }
            },
            showPaperShowRule: function() {
                return 1 !== this.module.renderOptions.hidePaperShowRule
            },
            showPaperMark: function() {
                return 1 !== this.module.renderOptions.hidePaperMark
            },
            isPreviewPaperConfiguration: function() {
                return Boolean(this.module.renderOptions.isPreviewPaperConfiguration)
            },
            previousStatusIsStarting: function(e) {
                var n = e.exam;
                return 4 === e.exam.sourceType ? !!e.state.isFilterEdit : s = n.previousStatus && 5 === e.exam.previousStatus || n.status > 1
            },
            disableType: function(e) {
                return 1 === e.exam.sourceType || 4 === e.exam.sourceType
            },
            isPaperTactic: function(e) {
                return i = 3 === e.paperClass.type
            },
            paperSortRuleDisable: function() {
                return i || s
            },
            paperType: function(e) {
                var n = e.paperClass;
                return n.paperDepotId || n.paperDepot && n.paperDepot.id ? n.type = 5 : n.name = null,
                {
                    type: c[n.type] || "未组卷",
                    name: n.name
                }
            },
            evalutionRule: function(e) {
                var n, a = e.exam;
                return a.evalutionRule ? JSON.parse(a.evalutionRule) : a.paperClass && a.paperClass.totalScore ? (n = a.paperClass.totalScore / 100,
                {
                    excellentLess: parseInt(.9 * n, 10),
                    goodLess: parseInt(.8 * n, 10),
                    goodGreater: parseInt(.9 * n, 10),
                    passLess: parseInt(.6 * n, 10),
                    passGreater: parseInt(.8 * n, 10),
                    noPassGreater: parseInt(.6 * n, 10)
                }) : {
                    excellentLess: "",
                    goodLess: "",
                    goodGreater: "",
                    passLess: "",
                    passGreater: "",
                    noPassGreater: ""
                }
            }
        },
        a.components = [{
            id: "paperSortRule",
            name: "selectize"
        }, {
            id: "paperShowRule",
            name: "selectize"
        }, function() {
            var e = this.bindings.paperClass.data
              , n = this;
            return {
                id: "directory-score-table",
                name: "picker",
                options: {
                    picker: "directory-score-table",
                    data: e,
                    isPreviewPaperConfiguration: n.module.renderOptions.isPreviewPaperConfiguration,
                    callback: function(e) {
                        return n.module.dispatch("changePaperClass", e)
                    }
                }
            }
        }
        ],
        a.mixin = {
            getData: function() {
                return o.reduce(l(this.$$("form")[0]).serializeArray(), function(e, n) {
                    return (e || {})[n.name] = n.value,
                    e
                }, {
                    evalutionRule: t.call(this)
                })
            }
        },
        t = function() {
            var e = this.$$('[name="rule"]')
              , n = {
                passLess: "",
                passGreater: "",
                goodLess: "",
                goodGreater: "",
                excellentLess: "",
                noPassGreater: ""
            }
              , a = 0;
            return e && e.length > 0 && o.forEach(n, function(t, i) {
                n[i] = e[a++].value || ""
            }),
            JSON.stringify(n)
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/other-module-exam/step-2/view-mark": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("drizzlejs");
        a.type = "dynamic",
        a.bindings = {
            paperClass: !0,
            markConfig: !0,
            exam: !0
        },
        a.getEntity = function() {
            var e = this.bindings.exam.data
              , n = this.bindings.paperClass.data;
            return {
                paperClass: s.assign(n, {
                    name: e.name
                }),
                markConfig: this.bindings.markConfig.data,
                exam: e
            }
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/exam/mark-config"
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                data: e,
                organizationId: this.module.renderOptions.organizationId || this.app.global.organization.id,
                isPreviewPaperConfiguration: this.module.renderOptions.isPreviewPaperConfiguration,
                callback: function(e) {
                    n.bindings.markConfig.data = e
                }
            }
        }
        ,
        a.mixin = {
            getData: function() {
                return this.getEntities()[0] ? this.getEntities()[0].getAnonymityMark() : {}
            }
        },
        a.dataForTemplate = {
            hasSubjective: function() {
                var e = this.bindings.paperClass.data;
                return e.paperClassQuestions && e.paperClassQuestions.length > 0 ? !i.every(this.bindings.paperClass.data.paperClassQuestions, function(e) {
                    var n = e.question && e.question.type;
                    return 4 !== n && 5 !== n && 6 !== n || 6 === n && t(e.question)
                }) : !!(e.paperClassTactics && e.paperClassTactics.length > 0) && !i.every(e.paperClassTactics, function(e) {
                    return 4 !== e.type && 5 !== e.type && 6 !== e.type
                })
            }
        },
        t = function(e) {
            return 6 !== e.type || i.every(e.subs, function(e) {
                return 5 !== e.type
            })
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/other-module-exam/step-4/view-main": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("drizzlejs")
          , s = e("jquery")
          , r = e("lodash/collection")
          , l = e("./app/util/strings")
          , o = [{
            id: 1,
            type: 1,
            name: l.get("exam.signle-option")
        }, {
            id: 2,
            type: 2,
            name: l.get("exam.mutiple-option")
        }, {
            id: 3,
            type: 3,
            name: l.get("exam.judge")
        }, {
            id: 4,
            type: 8,
            name: l.get("exam.sort")
        }, {
            id: 6,
            type: 4,
            name: l.get("exam.blank")
        }, {
            id: 7,
            type: 5,
            name: l.get("exam.question-and-answer")
        }, {
            id: 8,
            type: 6,
            name: l.get("exam.reading-comprehension")
        }];
        a.type = "form",
        a.bindings = {
            exam: !0,
            paperClass: !0,
            state: !1
        },
        a.events = {
            "click add-temp-paper": "addPaper",
            "click preview-paper": "previewPaper",
            "click add-tactic": "addTactic",
            "change paperSortRule": "saveModelValue"
        },
        a.handlers = {
            addPaper: function() {
                var e, n = this.module.items["exam/paper/add-paper"], a = this;
                this.bindings.paperClass.data && 2 === this.bindings.paperClass.data.type && (e = this.bindings.paperClass.data.id),
                this.app.viewport.ground(n, {
                    id: e,
                    examId: this.bindings.exam.data.id,
                    url: this.module.renderOptions.url,
                    organizationId: this.module.renderOptions.organizationId,
                    paperName: this.bindings.exam.data.name,
                    type: 2,
                    isOtherModuleType: this.module.renderOptions.isOtherModuleType,
                    callback: function(e) {
                        return a.module.dispatch("selectPaperId", e)
                    }
                })
            },
            previewPaper: function() {
                var e = this.bindings.paperClass.data
                  , n = e && e.id
                  , a = e && e.type
                  , t = this.bindings.exam.data
                  , r = this.module.items["exam/paper/preview-paper"];
                return 3 === a ? (this.app.message.error(l.get("exam.exam.other-module-exam.random-paper-not-support-preview")),
                !1) : n ? this.app.viewport.ground(r, {
                    paperId: n,
                    isPreview: !0,
                    exam: i.assign(t, {
                        paperSortRule: s(this.$$('[name="paperSortRule"]')).val(),
                        paperShowRule: s(this.$$('[name="paperShowRule"]')).val() || t.paperShowRule
                    })
                }) : (this.app.message.error(l.get("exam.exam.other-module-exam.paper-content-empty")),
                !0)
            },
            addTactic: function() {
                var e, n = this, a = this.bindings.exam.data, t = this.bindings.paperClass, i = n.module.items["exam/question/random-question"];
                t.data && 3 === t.data.type && (e = t.data.id),
                n.app.viewport.modal(i, {
                    paperClassId: e,
                    examId: a.id,
                    url: this.module.renderOptions.url,
                    organizationId: this.module.renderOptions.organizationId,
                    callback: function(e) {
                        return n.module.dispatch("selectPaperId", e)
                    }
                })
            },
            saveModelValue: function() {
                return this.module.dispatch("saveModelValue", {
                    paperSortRule: s(this.$$('[name="paperSortRule"]')).val()
                })
            }
        },
        a.dataForTemplate = {
            paperCount: function(e) {
                var n, a, s, l, c = e.paperClass, u = r.map(r.orderBy(o, ["id", "asc"]), function(e) {
                    return {
                        count: "-",
                        name: e.name,
                        score: "-",
                        type: e.type
                    }
                });
                return c && (n = c.paperClassQuestions,
                a = c.paperClassTactics,
                s = {
                    count: 0,
                    score: 0
                },
                3 === c.type ? a.forEach(function(e) {
                    var n = e.score
                      , a = e.type
                      , i = e.amount
                      , r = s[a] || {
                        score: 0,
                        count: 0,
                        name: t.getValue("question-types", a)
                    };
                    r.score += parseFloat((n * i / 100).toFixed(1)),
                    r.count += i,
                    s[a] = r,
                    s.score += parseFloat((n * i / 100).toFixed(1)),
                    s.count += i
                }) : n && n.forEach(function(e) {
                    var n = e.score
                      , a = e.question && e.question.type
                      , i = s[a] || {
                        score: 0,
                        count: 0,
                        name: t.getValue("question-types", a)
                    };
                    i.score += parseFloat((n / 100).toFixed(1)),
                    i.count++,
                    s[a] = i,
                    s.count++,
                    s.score += parseFloat((n / 100).toFixed(1))
                })),
                l = r.map(u, function(e) {
                    var n = s[e.type];
                    return n ? i.assign(n, {
                        score: parseFloat(n.score.toFixed(1))
                    }) : e
                }),
                l.count = s.count,
                l.score = parseFloat(s.score.toFixed(1)),
                l
            },
            checked: function(e) {
                var n = e.exam;
                return {
                    paperShowRule1: "" + n.paperShowRule == "1",
                    paperShowRule2: "" + n.paperShowRule == "2",
                    paperSortRule1: "" + n.paperSortRule == "1",
                    paperSortRule2: "" + n.paperSortRule == "2",
                    paperSortRule3: "" + n.paperSortRule == "3",
                    paperSortRule4: "" + n.paperSortRule == "4"
                }
            },
            showPaperShowRule: function() {
                return 1 !== this.module.renderOptions.hidePaperShowRule
            },
            previousStatusIsStarting: function(e) {
                var n = e.exam;
                return 4 === e.exam.sourceType ? !!e.state.isFilterEdit : n.previousStatus && 5 === e.exam.previousStatus || n.status > 1
            },
            disableType: function(e) {
                return 1 === e.exam.sourceType || 4 === e.exam.sourceType
            },
            isPaperTactic: function(e) {
                return 3 === e.paperClass.type
            },
            paperTypeText: function(e) {
                return 2 === e.paperClass.type ? l.get("exam.exam.other-module-exam.current-paper-temporary") : l.get("exam.exam.other-module-exam.current-paper-random")
            }
        },
        a.components = [{
            id: "paperSortRule",
            name: "selectize"
        }, {
            id: "paperShowRule",
            name: "selectize"
        }],
        a.mixin = {
            getData: function() {
                return r.reduce(s(this.$$("form")[0]).serializeArray(), function(e, n) {
                    return (e || {})[n.name] = n.value,
                    e
                }, {})
            }
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/other-module-exam/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <form class="vertical">\n        <div class="basic-fields" data-region="main"></div>\n        <div class="basic-fields" data-region="regular"></div>\n        \x3c!--  .add-member-popupt(data-region=\'offline\') --\x3e\n        <div class="paper-select" data-region="paper"></div>\n    </form>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="exam-base-info o">\n        <div class="row">\n            <div class="col-sm-1 text-right"><label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.exam.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</label></div>\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.supportOffline : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.unless.call(r, null != (s = null != n ? n.state : n) ? s.supportOffline : s, {
                    name: "unless",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n        " + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.supportOffline : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.supportOffline : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        " + (null != (s = a.unless.call(r, null != (s = null != n ? n.state : n) ? s.supportOffline : s, {
                    name: "unless",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n        \x3c!--  .row --\x3e\n        \x3c!--      .col-sm-1.text-right > label.required 查看试卷规则 --\x3e\n        \x3c!--      .col-sm-11 > #show-answer-rule(x-target='show-answer-rule' x-marker='radiox' value=exam.showAnswerRule) --\x3e\n        \x3c!--          .inline-block.m-right-5 --\x3e\n        \x3c!--              .radio --\x3e\n        \x3c!--                  input.m-left(type='radio' name='showAnswerRule' id='showAnswerRule-4' value=-1) --\x3e\n        \x3c!--                  label(for='showAnswerRule-4') --\x3e\n        \x3c!--              .inline-block 全部不显示 --\x3e\n        \x3c!--          .inline-block.m-right-5 --\x3e\n        \x3c!--              .radio.m-left --\x3e\n        \x3c!--                  input(type='radio' name='showAnswerRule' id='showAnswerRule-3' value=3) --\x3e\n        \x3c!--                  label(for='showAnswerRule-3') --\x3e\n        \x3c!--              .inline-block 显示得分 --\x3e\n        \x3c!--          .inline-block.m-right-5 --\x3e\n        \x3c!--              .radio.m-left --\x3e\n        \x3c!--                  input(type='radio' name='showAnswerRule' id='showAnswerRule-2' value=2) --\x3e\n        \x3c!--                  label(for='showAnswerRule-2') --\x3e\n        \x3c!--              .inline-block 显示标准答案与得分 --\x3e\n        \x3c!--          .inline-block.m-right-5 --\x3e\n        \x3c!--              .radio.m-left --\x3e\n        \x3c!--                  input.m-left(type='radio' name='showAnswerRule' id='showAnswerRule-1' value=1) --\x3e\n        \x3c!--                  label(for='showAnswerRule-1') --\x3e\n        \x3c!--              .inline-block 显示标准答案，得分，试题解析 --\x3e\n        \x3c!--  hr --\x3e\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '                <div class="col-sm-5"><div class="relative position-tips">\n                    <input id="name" class="input mark" x-rule="required,maxLength:100,maxChineseLength:100" name="name" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.exam : n) ? s.name : s, n)) + '"/><div class="tips">0/100</div>\n                </div></div>\n                <div class="col-sm-1 text-right"><label class="required">考试模式</label></div>\n                <div class="col-sm-2"><select id="is-support-offline" class="input" name="supportOffline">\n                    <option ' + (null != (s = a.unless.call(r, null != (s = null != n ? n.exam : n) ? s.supportOffline : s, {
                    name: "unless",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="0">线上模式</option>\n                    <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.exam : n) ? s.supportOffline : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="1">线上线下混合模式</option>\n                </select></div>\n'
            },
            5: function(e, n, a, t, i) {
                return ' selected="selected"'
            },
            7: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                <div class="col-sm-4"><div class="relative position-tips">\n                    <input id="name" class="input mark" x-rule="required,maxLength:100,maxChineseLength:100" name="name" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.name : s, n)) + '"/><div class="tips">0/100</div>\n                </div></div>\n                <div class="col-sm-1 text-right"><label class="required">考试时长</label></div>\n                <div class="col-sm-2"><input class="input mark" x-rule="required,digits,range:1:500" name="duration" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.duration : s, n)) + '"/></div>\n                <div class="col-sm-1 text-right"><label class="required">完成规则</label></div>\n                <div class="col-sm-2"><div id="is-over-by-pass-exam" class="radiox" x-rule="required" x-target="is-over-by-pass-exam" x-marker="radiox" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.isOverByPassExam : s, n)) + '">\n                    <div class="radio">\n                        <input type="radio" name="isOverByPassExam" id="isOverByPassExam-0" value="0"/>\n                        <label for="isOverByPassExam-0"></label>\n                    </div>\n                    <div class="inline-block">提交即完成</div>\n                    <div class="radio m-left">\n                        <input type="radio" name="isOverByPassExam" id="isOverByPassExam-1" value="1"/>\n                        <label for="isOverByPassExam-1"></label>\n                    </div>\n                    <div class="inline-block">合格才算完成</div>\n                </div></div>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '<div class="row offlineBool">\n            <div class="col-sm-1 text-right"><label class="required">总及格线</label></div>\n            <div class="col-sm-2"><input class="input inline-block" x-rule="digits,range:0:1000" name="standardScore" value="' + l(r(null != (s = null != n ? n.offline : n) ? s.standardScore : s, n)) + '"/></div>\n            <div class="col-sm-1 text-right"><label class="required">线上成绩占比</label></div>\n            <div class="col-sm-2">\n                <input id="onlinePercent" class="input inline-block" x-rule="digits,range:0:100" name="onlinePercent" value="' + l(r(null != (s = null != n ? n.offline : n) ? s.onlinePercent : s, n)) + '"/>\n                <span class="percentSpan"> %</span>\n            </div>\n            <div class="col-sm-1 text-right"><label class="required">线下成绩占比</label></div>\n            <div class="col-sm-2">\n                <input id="offlinePercent" class="input inline-block" x-rule="digits,range:0:100" name="offlinePercent" value="' + l(r(null != (s = null != n ? n.offline : n) ? s.offlinePercent : s, n)) + '"/>\n                <span class="percentSpan"> %</span>\n            </div>\n            <div class="col-sm-3">\n                <label>总和：<span id="sum" class="error">' + l(r(null != (s = null != n ? n.offline : n) ? s.sum : s, n)) + "</span></label>\n            </div>\n        </div>"
            },
            11: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '            <div class="row">\n                <div class="col-sm-1 text-right"><label class="required">考试时长</label></div>\n                <div class="col-sm-2"><input class="input mark" x-rule="required,digits,range:1:500" name="duration" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.duration : s, n)) + '"/></div>\n                <div class="col-sm-1 text-right"><label class="required">考试合格分数线</label></div>\n                <div class="col-sm-2"><input id="pass-score" class="input mark" x-rule="required,digits,range:0:1000" name="passScore" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.passScore : s, n)) + '"/></div>\n                <div class="col-sm-1 text-right"><label class="required">' + l((a.string || n && n.string || c).call(o, "exam.exam.paper-show-rule", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label></div>\n                <div class="col-sm-2"><select id="paperShowRule" class="input" name="paperShowRule">\n                    <option ' + (null != (s = a.if.call(o, null != (s = null != n ? n.paperShowRule : n) ? s.single : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="1">一页一题</option>\n                    <option ' + (null != (s = a.if.call(o, null != (s = null != n ? n.paperShowRule : n) ? s.mutiple : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="2">一页多题</option>\n                </select></div>\n            </div>\n            <div class="row">\n                <div class="col-sm-1 text-right"><label class="required">允许考试次数\n                    <div class="inline-block drop-down-wrapper right">\n                        <i class="iconfont icon-info custom-color-6"></i>\n                        <div class="drop-down-content" style="overflow: visible;right: unset;"><div class="content">\n                            <p>填写0，默认为不限制考试次数。</p>\n                        </div></div>\n                    </div>\n                </label></div>\n                <div class="col-sm-2"><input class="input mark" x-rule="required,number,range:0:100,keepDecimal:0,space" name="allowExamTimes" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.allowExamTimes : s, n)) + '"/></div>\n                <div class="col-sm-1 text-right"><label ' + (null != (s = a.if.call(o, null != n ? n.timeRequired : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '>进入考试时间范围</label></div>\n                <div class="col-sm-2"><input id="start-time" class="input mark" ' + (null != (s = a.if.call(o, null != n ? n.timeRequired : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' name="startTime" value="' + l((a.dateTime || n && n.dateTime || c).call(o, null != (s = null != n ? n.exam : n) ? s.startTime : s, {
                    name: "dateTime",
                    hash: {},
                    data: i
                })) + '"/></div>\n                <div class="col-sm-1 text-center"><span>——</span></div>\n                <div class="col-sm-2"><input id="end-time" class="input mark" ' + (null != (s = a.if.call(o, null != n ? n.timeRequired : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' name="endTime" value="' + l((a.dateTime || n && n.dateTime || c).call(o, null != (s = null != n ? n.exam : n) ? s.endTime : s, {
                    name: "dateTime",
                    hash: {},
                    data: i
                })) + '"/></div>\n            </div>\n            <div class="row">\n                <div class="col-sm-1 text-right"><label class="required">完成规则</label></div>\n                <div class="col-sm-11"><div id="is-over-by-pass-exam" class="radiox" x-rule="required" x-target="is-over-by-pass-exam" x-marker="radiox" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.isOverByPassExam : s, n)) + '">\n                    <div class="inline-block m-right-5">\n                        <div class="radio">\n                            <input type="radio" name="isOverByPassExam" id="isOverByPassExam-0" value="0"/>\n                            <label for="isOverByPassExam-0"></label>\n                        </div>\n                        <div class="inline-block">提交即完成</div>\n                    </div>\n                    <div class="inline-block m-right-5">\n                        <div class="radio m-left">\n                            <input type="radio" name="isOverByPassExam" id="isOverByPassExam-1" value="1"/>\n                            <label for="isOverByPassExam-1"></label>\n                        </div>\n                        <div class="inline-block">合格才算完成</div>\n                    </div>\n                </div></div>\n            </div>\n'
            },
            12: function(e, n, a, t, i) {
                return ' class="required"'
            },
            14: function(e, n, a, t, i) {
                return ' x-rule="required" x-action="change"'
            },
            16: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '<div class="row">\n            <div class="col-sm-1 text-right"><label class="required">合格分数线</label></div>\n            <div class="col-sm-3"><input id="pass-score" class="input mark" x-rule="required,digits,range:0:1000" name="passScore" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.passScore : s, n)) + '"/></div>\n            <div class="col-sm-2 text-right"><label class="required">允许考试次数\n                <div class="inline-block drop-down-wrapper right">\n                    <i class="iconfont icon-info custom-color-6"></i>\n                    <div class="drop-down-content" style="overflow: visible;"><div class="content">\n                        <p>填写0，默认为不限制考试次数。</p>\n                    </div></div>\n                </div>\n            </label></div>\n            <div class="col-sm-2"><input class="input mark" x-rule="required,number,range:0:100,keepDecimal:0,space" name="allowExamTimes" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.allowExamTimes : s, n)) + '"/></div>\n            <div class="col-sm-1 text-right"><label class="required">' + l((a.string || n && n.string || a.helperMissing).call(o, "exam.exam.paper-show-rule", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label></div>\n            <div class="col-sm-2"><select id="paperShowRule" class="input" name="paperShowRule">\n                <option ' + (null != (s = a.if.call(o, null != (s = null != n ? n.paperShowRule : n) ? s.single : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="1">一页一题</option>\n                <option ' + (null != (s = a.if.call(o, null != (s = null != n ? n.paperShowRule : n) ? s.mutiple : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="2">一页多题</option>\n            </select></div>\n        </div>'
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="exam-base-info o">\n        <div class="row">\n            <div class="col-sm-1 text-right"><label class="required">试卷查看条件</label></div>\n            <div class="col-sm-11"><div id="paper-view-rule" x-target="paper-view-rule" x-marker="radiox" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.exam : n) ? s.paperViewRule : s, n)) + '">\n                <div class="inline-block m-right-5">   \n                    <div class="radio">\n                        <input type="radio" name="paperViewRule" id="paperViewRule-1" value="1"/>\n                        <label for="paperViewRule-1"></label>\n                    </div>\n                    <div class="inline-block">提交</div>\n                </div>\n                <div class="inline-block m-right-5">   \n                    <div class="radio m-left">\n                        <input class="m-left" type="radio" name="paperViewRule" id="paperViewRule-2" value="2"/>\n                        <label for="paperViewRule-2"></label>\n                    </div>\n                    <div class="inline-block">合格</div>\n                </div>\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.supportOffline : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div class="inline-block m-right-5">   \n                    <div class="radio m-left">\n                        <input class="m-left" type="radio" name="paperViewRule" id="paperViewRule-3" value="-1"/>\n                        <label for="paperViewRule-3"></label>\n                    </div>\n                    <div class="inline-block">不能查看试卷</div>\n                </div>\n            </div></div>\n        </div>\n' + (null != (s = a.unless.call(r, null != (s = null != n ? n.exam : n) ? s.isShowScore : s, {
                    name: "unless",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.exam : n) ? s.isShowScore : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        <hr/>\n    </div>\n"
            },
            19: function(e, n, a, t, i) {
                return '                    <div class="inline-block m-right-5">   \n                        <div class="radio m-left">\n                            <input class="m-left" type="radio" name="paperViewRule" id="paperViewRule-0" value="0"/>\n                            <label for="paperViewRule-0"></label>\n                        </div>\n                        <div class="inline-block">考试结束</div>\n                    </div>\n'
            },
            21: function(e, n, a, t, i) {
                var s;
                return '            <div class="row">\n                <div class="col-sm-1 text-right"><label class="required">试卷查看内容</label></div>\n                <div class="col-sm-11"><div id="show-answer-rule" x-target="show-answer-rule" x-marker="radiox" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.exam : n) ? s.showAnswerRule : s, n)) + '">\n                    <div class="inline-block m-right-5">\n                        <div class="radio">\n                            <input class="m-left" type="radio" name="showAnswerRule" id="showAnswerRule-4" value="-1"/>\n                            <label for="showAnswerRule-4"></label>\n                        </div>\n                        <div class="inline-block">全部不显示</div>\n                    </div>\n                    <div class="inline-block m-right-5">\n                        <div class="radio m-left">\n                            <input type="radio" name="showAnswerRule" id="showAnswerRule-3" value="3"/>\n                            <label for="showAnswerRule-3"></label>\n                        </div>\n                        <div class="inline-block">显示得分</div>\n                    </div>\n                    <div class="inline-block m-right-5">\n                        <div class="radio m-left">\n                            <input type="radio" name="showAnswerRule" id="showAnswerRule-2" value="2"/>\n                            <label for="showAnswerRule-2"></label>\n                        </div>\n                        <div class="inline-block">显示标准答案与得分</div>\n                    </div>\n                    <div class="inline-block m-right-5">\n                        <div class="radio m-left">\n                            <input class="m-left" type="radio" name="showAnswerRule" id="showAnswerRule-1" value="1"/>\n                            <label for="showAnswerRule-1"></label>\n                        </div>\n                        <div class="inline-block">显示标准答案，得分，试题解析</div>\n                    </div>\n                </div></div>\n            </div>\n'
            },
            23: function(e, n, a, t, i) {
                var s;
                return '            <div class="row">\n                <div class="col-sm-1 text-right"><label class="required">是否显示得分</label></div>\n                <div class="col-sm-11"><div id="show-answer-rule" x-target="show-answer-rule" x-marker="radiox" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.exam : n) ? s.showAnswerRule : s, n)) + '">\n                    <div class="inline-block m-right-5">\n                        <div class="radio">\n                            <input type="radio" name="showAnswerRule" id="showAnswerRule-3" value="3"/>\n                            <label for="showAnswerRule-3"></label>\n                        </div>\n                        <div class="inline-block">显示得分</div>\n                    </div>\n                    <div class="inline-block m-right-5">\n                        <div class="radio m-left">\n                            <input class="m-left" type="radio" name="showAnswerRule" id="showAnswerRule-4" value="-1"/>\n                            <label for="showAnswerRule-4"></label>\n                        </div>\n                        <div class="inline-block">不显示得分</div>\n                    </div>\n                </div></div>\n            </div>\n'
            },
            25: function(e, n, a, t, i) {
                return '    <div data-dynamic-key="paper"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "regular", {
                    name: "view",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "paper", {
                    name: "view",
                    hash: {},
                    fn: e.program(25, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\x3c!--  view('offline') > form.vertical --\x3e\n\x3c!--      if(state.supportOffline) --\x3e\n\x3c!--          .row --\x3e\n\x3c!--              .col-sm-3  --\x3e\n\x3c!--                  div.pull-left(style=\"margin-right:20px;\") > label.font-title-weight.required 是否支持线下模式 --\x3e\n\x3c!--                  #is-support-offline(style=\"margin-top:4px;\" x-rule='required' x-target='is-support-offline' x-marker='radiox' value=offline.supportOffline) --\x3e\n\x3c!--                      .radio --\x3e\n\x3c!--                          input.inline-block(type='radio' name='supportOffline' id='supportOffline-0' value=0) --\x3e\n\x3c!--                          label(for='supportOffline-0') --\x3e\n\x3c!--                      .inline-block.m-right 否 --\x3e\n\x3c!--                      .radio --\x3e\n\x3c!--                          input.inline-block(type='radio' name='supportOffline' id='supportOffline-1' value=1) --\x3e\n\x3c!--                          label(for='supportOffline-1') --\x3e\n\x3c!--                      .inline-block 是 --\x3e\n\x3c!--          if(offline.supportOffline) --\x3e\n\x3c!--              .row --\x3e\n\x3c!--                  .col-sm-3 --\x3e\n\x3c!--                      label.required 线上成绩占比 --\x3e\n\x3c!--                      input.input.inline-block#onlinePercent(x-rule='digits,range:0:100' name='onlinePercent' value=offline.onlinePercent style='width:90%') + span > echo(' %') --\x3e\n\x3c!--                  .col-sm-3 --\x3e\n\x3c!--                      label.required 线下成绩占比 --\x3e\n\x3c!--                      input.input.inline-block#offlinePercent(x-rule='digits,range:0:100' name='offlinePercent' value=offline.offlinePercent style='width:90%') + span > echo(' %') --\x3e\n\x3c!--                  .col-sm-3 --\x3e\n\x3c!--                      label > @echoX('&nbsp;') --\x3e\n\x3c!--                      label(style=\"margin-top:14px\") > echo('总和：') + span.error#sum > echo(offline.sum) --\x3e\n\x3c!--              .row --\x3e\n\x3c!--                  .col-sm-3 --\x3e\n\x3c!--                      label.required 总及格线 --\x3e\n\x3c!--                      input.input.inline-block(x-rule='required,digits,range:0:1000' name='standardScore' value=offline.standardScore style='width:90%') --\x3e\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/other-module-exam/view-main": [function(e, n, a) {
        var t, i = e("jquery"), s = e("drizzlejs");
        a.type = "form",
        a.bindings = {
            exam: !1,
            state: !0,
            offline: !0
        },
        a.events = {
            "change name": "changeName",
            "change paperShowRule": "changePaperShowRule",
            "change pass-score": "changePassScore",
            "change is-support-offline": "changeOffline",
            "change onlinePercent": "changeOnlinePercent",
            "change offlinePercent": "changeOfflinePercent"
        },
        a.handlers = {
            changeName: function() {
                return this.module.dispatch("changeName", {
                    name: this.$("name").value
                })
            },
            changePaperShowRule: function() {
                return this.module.dispatch("changeName", {
                    paperShowRule: i(this.$$('[name="paperShowRule"]')).val()
                })
            },
            changePassScore: function() {
                return this.module.dispatch("changeName", {
                    passScore: this.$("pass-score").value
                })
            },
            changeOffline: function(e) {
                Number(e.target.value) ? i(".offlineBool").show() : i(".offlineBool").hide()
            },
            changeOnlinePercent: function(e, n) {
                return i(this.$("sum")).text(t({
                    offlinePercent: this.bindings.offline.data.offlinePercent,
                    onlinePercent: Number(n.value)
                })),
                this.module.dispatch("changeOffline", {
                    onlinePercent: n.value,
                    notChanged: !0
                })
            },
            changeOfflinePercent: function(e, n) {
                return i(this.$("sum")).text(t({
                    offlinePercent: Number(n.value),
                    onlinePercent: this.bindings.offline.data.onlinePercent
                })),
                this.module.dispatch("changeOffline", {
                    offlinePercent: n.value,
                    notChanged: !0
                })
            }
        },
        a.afterRender = function() {
            this.bindings.exam.data.supportOffline ? i(".offlineBool").show() : i(".offlineBool").hide()
        }
        ,
        a.components = [{
            id: "is-support-offline",
            name: "selectize"
        }, {
            id: "paperShowRule",
            name: "selectize"
        }, {
            id: "is-over-by-pass-exam",
            name: "radiox"
        }, {
            id: "show-answer-rule",
            name: "radiox"
        }, function() {
            var e = this
              , n = this.bindings.state.data
              , a = {
                id: "start-time",
                name: "flatpickr",
                options: {
                    enableTime: !0,
                    close: function(n, a, t) {
                        e.changeTime(n, a, t)
                    }
                }
            };
            return n.timeOptions.enable && (a.options.enable = n.timeOptions.enable),
            a
        }
        , function() {
            var e = this
              , n = this.bindings.state.data
              , a = {
                id: "end-time",
                name: "flatpickr",
                options: {
                    enableTime: !0,
                    close: function(n, a, t) {
                        e.changeTime(n, a, t)
                    }
                }
            };
            return n.timeOptions.enable && (a.options.enable = n.timeOptions.enable),
            a
        }
        ],
        a.dataForTemplate = {
            exam: function(e) {
                var n = e.exam
                  , a = 1 === this.module.renderOptions.showTimeRange && this.module.renderOptions.startTime && this.module.renderOptions.endTime
                  , t = this.module.renderOptions.defaultExamTimes;
                return Boolean(t) ? ((Number(t) > 100 || Number(t) < 0) && (t = 0),
                n.allowExamTimes = t) : !n.allowExamTimes && (n.allowExamTimes = 0),
                n.isOverByPassExam || 0 === n.isOverByPassExam || (n.isOverByPassExam = 1),
                n.duration || (n.duration = 60),
                n.showAnswerRule || (n.showAnswerRule = 1),
                void 0 === n.paperViewRule && (n.paperViewRule = 1),
                -1 !== Number(n.paperViewRule) || 1 !== Number(n.showAnswerRule) && 2 !== Number(n.showAnswerRule) || (n.showAnswerRule = 3),
                n.supportOffline || (n.supportOffline = 0),
                a && s.assign(n, {
                    startTime: this.module.renderOptions.startTime,
                    endTime: this.module.renderOptions.endTime
                }),
                n
            },
            paperShowRule: function(e) {
                return {
                    single: 1 === e.exam.paperShowRule,
                    mutiple: 2 === e.exam.paperShowRule
                }
            },
            showTimeRange: function() {
                return 1 === this.module.renderOptions.showTimeRange
            },
            timeRequired: function(e) {
                return (e.state.timeOptions || {}).required
            },
            offline: function(e) {
                var n = e.offline;
                return n.supportOffline = n.supportOffline || 0,
                n.sum = t(n),
                n
            }
        },
        a.mixin = {
            check: function() {
                var e = this.$("start-time") && this.$("start-time").value
                  , n = this.$("end-time") && this.$("end-time").value;
                return !(!this.validate() || (e && !n || !e && n ? (this.app.message.error("必须完整填写考试时间范围或者全部不填"),
                1) : e && n && new Date(e).getTime() > new Date(n).getTime() && (this.app.message.error("开始时间不能大于结束时间"),
                1)))
            },
            changeTime: function(e, n, a) {
                var t = this.bindings.state.data.timeOptions || {};
                t.changeTime && t.changeTime(e, n, a)
            }
        },
        t = function(e) {
            var n = e.offlinePercent
              , a = e.onlinePercent
              , t = "-";
            return isNaN(n) || isNaN(a) || (t = Number(n) + Number(a) + "%"),
            t
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/exam/other-module-exam/view-offline": [function(e, n, a) {
        var t, i = e("jquery"), s = e("lodash/collection"), r = e("drizzlejs");
        a.type = "form",
        a.bindings = {
            offline: !0,
            state: !1
        },
        a.events = {
            "change is-support-offline": "changeSupportOffline",
            "change onlinePercent": "changeOnlinePercent",
            "change offlinePercent": "changeOfflinePercent"
        },
        a.handlers = {
            changeSupportOffline: function() {
                return this.module.dispatch("changeOffline", {
                    supportOffline: this.components["is-support-offline"] ? Number(this.components["is-support-offline"].getValue()) : 0
                })
            },
            changeOnlinePercent: function(e, n) {
                return i(this.$("sum")).text(t({
                    offlinePercent: this.bindings.offline.data.offlinePercent,
                    onlinePercent: Number(n.value)
                })),
                this.module.dispatch("changeOffline", {
                    onlinePercent: n.value,
                    notChanged: !0
                })
            },
            changeOfflinePercent: function(e, n) {
                return i(this.$("sum")).text(t({
                    offlinePercent: Number(n.value),
                    onlinePercent: this.bindings.offline.data.onlinePercent
                })),
                this.module.dispatch("changeOffline", {
                    offlinePercent: n.value,
                    notChanged: !0
                })
            }
        },
        a.components = [{
            id: "is-support-offline",
            name: "radiox"
        }],
        a.dataForTemplate = {
            offline: function(e) {
                var n = e.offline;
                return n.supportOffline = n.supportOffline || 0,
                n.sum = t(n),
                n
            }
        },
        t = function(e) {
            var n = e.offlinePercent
              , a = e.onlinePercent
              , t = "-";
            return isNaN(n) || isNaN(a) || (t = Number(n) + Number(a) + "%"),
            t
        }
        ,
        a.mixin = {
            check: function() {
                return !!this.validate()
            },
            getData: function() {
                return r.assign({}, s.reduce(i(this.$$("form")[0]).serializeArray(), function(e, n) {
                    return (e || {})[n.name] = n.value,
                    e
                }, {}))
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/other-module-exam/view-paper": [function(e, n, a) {
        a.type = "dynamic",
        a.bindings = {
            exam: !0
        },
        a.getEntity = function() {
            return this.bindings.exam.data
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/exam/other-module-exam/step-2"
        }
        ,
        a.dataForEntityModule = function(e) {
            return {
                hidePaperShowRule: 1,
                exam: e.id ? e : {
                    paperShowRule: 1,
                    paperSortRule: 1
                },
                url: this.module.renderOptions.url,
                hidePaperMark: this.module.renderOptions.hidePaperMark,
                organizationId: this.module.renderOptions.organizationId,
                isOtherModuleType: 1,
                params: {
                    isFilterEdit: this.module.renderOptions.isFilterEdit
                }
            }
        }
    }
    , {}],
    "./app/exam/exam/other-module-exam/view-regular": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            exam: !0,
            state: !0,
            offline: !0
        },
        a.events = {
            "change paper-view-rule": "changePaperViewRule",
            "change show-answer-rule": "changeShowAnswerRule"
        },
        a.handlers = {
            changePaperViewRule: function(e) {
                -1 === Number(e.target.value) ? this.module.dispatch("setValue", {
                    paperViewRule: Number(e.target.value),
                    isShowScore: !0
                }) : this.module.dispatch("setValue", {
                    paperViewRule: Number(e.target.value),
                    isShowScore: !1
                })
            },
            changeShowAnswerRule: function(e) {
                this.module.dispatch("setValue", {
                    showAnswerRule: Number(e.target.value)
                })
            }
        },
        a.components = [{
            id: "paper-view-rule",
            name: "radiox"
        }, {
            id: "show-answer-rule",
            name: "radiox"
        }],
        a.dataForTemplate = {
            exam: function(e) {
                var n = e.exam;
                return n.showAnswerRule || (n.showAnswerRule = 1),
                void 0 === n.paperViewRule && (n.paperViewRule = 1),
                -1 !== Number(n.paperViewRule) || 1 !== Number(n.showAnswerRule) && 2 !== Number(n.showAnswerRule) || (n.showAnswerRule = 3),
                n
            }
        }
    }
    , {}],
    "./app/exam/exam/paper/index": [function(e, n, a) {
        a.items = {
            main: "main",
            tips: ""
        },
        a.store = {
            models: {
                exam: {
                    url: "../exam/exam/front/user-record"
                }
            },
            callbacks: {
                init: function(e) {
                    return e.examId ? (this.models.exam.set({
                        id: e.examId
                    }),
                    this.get(this.models.exam)) : ""
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {}],
    "./app/exam/exam/paper/templates": [function(e, n, a) {
        arguments[4]["./app/exam/exam/index/templates"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/index/templates",
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/paper/view-main": [function(e, n, a) {
        var t, i = e("./app/util/strings");
        a.bindings = {
            exam: !0
        },
        a.afterRender = function() {
            var e = this.bindings.exam.data
              , n = e.examRecord;
            return 2 === e.status ? (this.app.viewport.modal(this.module.items.tips, {
                tips: i.get("exam.exam.paper.paper-generating")
            }),
            !0) : n && 5 === n.status ? this.module.regions.main.show("exam/exam/score-detail", {
                examRecordId: n.id
            }) : n && n.status < 4 && n.submitTime ? (this.app.viewport.modal(this.module.items.tips, {
                tips: i.get("exam.exam.paper.paper-handing")
            }),
            !0) : n && n.status > 4 && !t(e) ? this.module.regions.main.show("exam/exam/score-detail", {
                examRecordId: n.id
            }) : this.module.regions.main.show("exam/exam/answer-paper", {
                examId: e.id
            })
        }
        ,
        t = function(e) {
            return e && (0 === e.allowExamTimes || e.allowExamTimes > e.examedTimes)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/exam/paper/view-tips": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.title = t.get("warm-tips"),
        a.dataForTemplate = {
            state: function() {
                return {
                    tips: this.renderOptions.tips
                }
            }
        },
        a.afterClose = function() {
            window.close()
        }
        ,
        a.tname = "exam.exam.paper.view-tips"
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/exam/preview-paper/index": [function(e, n, a) {
        var t = e("./app/exam/exam/base-paper/index")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current",
            CORRECT: "correct",
            ERROR: "error",
            NOANSWER: "no-answer",
            NOMARK: "no-mark"
        }
          , l = {
            store: {
                models: {
                    exam: {
                        url: "../exam/exam/front/find-by-ids-old"
                    },
                    paper: {
                        url: "../exam/paper-class/front"
                    },
                    state: {
                        type: "localStorage",
                        mixin: i.assign({}, t.store.models.state.mixin, {
                            selectQuestion: function(e) {
                                var n = this.module.store.models.types;
                                i.assign(this.data, {
                                    currentQuestion: n.getQuestionById(e)
                                })
                            },
                            resetCurrentQuestion: function() {
                                var e, n, a, t = this.module.store.models.types, r = t.getCurrentQuestion();
                                r && (i.assign(this.data, {
                                    currentQuestion: r
                                }),
                                s.forEach(t.data, function(t, l) {
                                    s.forEach(t.questions, function(s, o) {
                                        s.id === r.id && (e = i.assign({}, t),
                                        n = l,
                                        a = o)
                                    })
                                }),
                                this.data.hasPrevious = e.questions[a - 1] || t.data[Number(n) - 1],
                                this.data.hasNext = e.questions[a + 1] || t.data[Number(n) + 1])
                            }
                        })
                    },
                    types: {
                        type: "localStorage",
                        mixin: i.assign({}, t.store.models.types.mixin, {
                            move: function(e) {
                                var n, a, t, i = this.data[e.id], s = i.questions.findIndex(function(e) {
                                    return e.status === r.CURRENT
                                }), l = e.offset, o = i.questions[s + l], c = this.module.store.models.state.data;
                                o ? (o.status = r.CURRENT,
                                i.questions[s].status = this.module.options.getCurrentStatus.call(this.module, i.questions[s].id),
                                c.hasPrevious = l > 0 || i.questions[s + l - 1] || this.data[Number(e.id) + l],
                                c.hasNext = l < 0 || i.questions[s + l + 1] || this.data[Number(e.id) + l]) : this.data[Number(e.id) + l] && (a = Number(e.id) + l,
                                n = this.data[a] || {
                                    questions: []
                                },
                                t = l > 0 ? 0 : n.questions.length - 1,
                                o = n.questions[t],
                                o.status = r.CURRENT,
                                this.initStatus("notCurrent"),
                                n.isCurrent = !0,
                                i.questions[s].status = this.module.options.getCurrentStatus.call(this.module, i.questions[s].id),
                                c.hasPrevious = l > 0 || n.questions[t + l] || this.data[Number(a) + l],
                                c.hasNext = l < 0 || n.questions[t + l] || this.data[Number(a) + l])
                            },
                            selectQuestion: function(e) {
                                var n = this.getType(e)
                                  , a = n.questions.findIndex(function(e) {
                                    return e.status === r.CURRENT
                                })
                                  , t = this
                                  , l = this.getQuestionById(e)
                                  , o = l.status
                                  , c = {
                                    correct: "right",
                                    error: "wrong",
                                    "no-answer": "no-mark",
                                    "no-evaluate": "no-evaluate"
                                }
                                  , u = this.module.store.models.state.data;
                                a > -1 && (n.questions[a].status = this.module.options.getCurrentStatus.call(this.module, n.questions[a].id)),
                                i.assign(l, {
                                    class: c[o],
                                    status: r.CURRENT
                                }),
                                s.forEach(s.filter(this.data, function(n) {
                                    return s.every(n.questions, function(n) {
                                        return n.id !== e
                                    })
                                }), function(e) {
                                    var n = e.questions.findIndex(function(e) {
                                        return e.status === r.CURRENT
                                    });
                                    -1 !== n && i.assign(e.questions[n], {
                                        status: t.module.options.getCurrentStatus.call(t.module, e.questions[n].id)
                                    })
                                }),
                                u.selectQuestion = !0,
                                u.hasPrevious = n.questions[l.index - 1 - 1] || this.data[Number(n.id) - 1],
                                u.hasNext = n.questions[l.index - 1 + 1] || this.data[Number(n.id) + 1]
                            }
                        })
                    },
                    questions: {
                        mixin: {
                            init: function(e) {
                                var n = s.filter(e.paperClassQuestions, function(e) {
                                    return e.parentId
                                })
                                  , a = s.filter(e.paperClassQuestions, function(e) {
                                    return !e.parentId
                                });
                                this.data = s.map(a, function(e) {
                                    return 6 === e.question.type ? i.assign(e.question, {
                                        score: e.score,
                                        sequence: e.sequence,
                                        questionAttrCopys: e.question.questionAttrs,
                                        subs: s.map(e.question.subs, function(e) {
                                            var a = s.find(n, ["questionId", e.id]);
                                            return i.assign(e, {
                                                score: a ? a.score : e.score,
                                                questionAttrCopys: a.question.questionAttrs
                                            })
                                        })
                                    }) : i.assign(e.question, {
                                        score: e.score,
                                        sequence: e.sequence,
                                        questionAttrCopys: e.question.questionAttrs
                                    })
                                })
                            }
                        }
                    }
                },
                callbacks: {
                    init: function(e) {
                        var n = this.models.paper
                          , a = this.models.state
                          , t = this.models.types
                          , s = this.models.questions
                          , r = this.models.exam
                          , l = this;
                        return this.module.dispatch("clearModels"),
                        e.exam && i.assign(r.data, e.exam),
                        e.paperId || e.examId ? (i.assign(n.params, {
                            paperId: e.paperId,
                            examId: e.examId
                        }),
                        i.assign(r.params, {
                            ids: e.examId
                        }),
                        this.get(r).then(function() {
                            return r.data = r.data[0],
                            l.get(l.models.paper, {
                                loading: !0
                            }).then(function() {
                                s.init(n.data),
                                t.init(s.data, !0, !0),
                                i.assign(r.data, {
                                    paper: i.assign(n.data, {
                                        questions: s.data
                                    }),
                                    examNotes: n.data.exam.examNotes || "",
                                    paperShowRule: r.data.paperShowRule || n.data.exam.paperShowRule || 1
                                }),
                                a.init(r.data || {})
                            })
                        })) : ""
                    }
                }
            }
        }
          , o = i.assign({}, t.store.models)
          , c = i.assign({}, t.store.callbacks)
          , u = i.assign({}, {
            items: t.items,
            store: {
                models: i.assign(o, l.store.models),
                callbacks: i.assign(c, l.store.callbacks)
            },
            beforeRender: function() {
                return this.dispatch("init", this.renderOptions)
            },
            getCurrentStatus: function() {
                return r.INIT
            }
        });
        n.exports = u
    }
    , {
        "./app/exam/exam/base-paper/index": "./app/exam/exam/base-paper/index",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/preview-paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="achievement-content">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="head"></div>\n        <div class="achievement-main" data-region="main"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="side-top">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.preview-questionary.questionary-point-total", null != (s = null != n ? n.state : n) ? s.totalCount : s, null != (s = null != n ? n.state : n) ? s.totalScore : s, {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n    <ul class="list">' + (null != (s = a.each.call(r, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <div class="list-title" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.program(7, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(5, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ')\n            </div>\n            <div class="min-btn-groups  ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.program(7, i, 0),
                    data: i
                })) ? s : "") + '">\n' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n        </li>\n    "
            },
            5: function(e, n, a, t, i) {
                return ""
            },
            7: function(e, n, a, t, i) {
                return "hidden"
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "correct", {
                    name: "compare",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "error", {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "no-answer", {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item current" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item right" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item wrong" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item no-mark" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            20: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '    <div class="pull-left title" title="' + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.exam.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ": " + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n' + (null != (s = a.if.call(o, null != n ? n.showExamNotes : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        </ul>\n        <div id="close" class="btn">' + l((a.string || n && n.string || c).call(o, "main.modal.close", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n    </div>\n"
            },
            21: function(e, n, a, t, i) {
                var s;
                return '                <li class="drop-down-wrapper right">\n                    <i class="iconfont icon-notice drop-down-btn">\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">' + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.examNotes : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                        </div></div>\n                    </i>\n                </li>\n"
            },
            23: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="preview-content" oncontextmenu="window.event.returnValue=false;" oncopy="return false;" oncut="return false;" onpaste="return false">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(24, i, 0),
                    inverse: e.program(27, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(31, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            24: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(25, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            25: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                <div class="row"></div>\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeDesc : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.markIndex : s, n)) + "/" + l(r(null != (s = null != n ? n.state : n) ? s.totalCount : s, n)) + ')</div>\n                    <div class="inline-block">' + l((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.questionary-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.score : s, n)) + '</div>\n                </div>\n                <div data-dynamic-key="' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            27: function(e, n, a, t, i) {
                var s;
                return "            <div>\n" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(28, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            28: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="h3 m-bottom">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ")</div>\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(29, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            29: function(e, n, a, t, i) {
                var s;
                return '                        <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            31: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="text-right m-bottom">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasPrevious : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(32, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasNext : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(34, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            32: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border m-right" id="prev-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            34: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border" id="next-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            36: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.showAnswerDetail : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(37, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            37: function(e, n, a, t, i) {
                return '        <div data-dynamic-key="answer-detail"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "head", {
                    name: "view",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "answer-detail", {
                    name: "view",
                    hash: {},
                    fn: e.program(36, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/preview-paper/view-exam-notes": [function(e, n, a) {
        n.exports = e("./app/exam/exam/base-paper/view-exam-notes")
    }
    , {
        "./app/exam/exam/base-paper/view-exam-notes": "./app/exam/exam/base-paper/view-exam-notes"
    }],
    "./app/exam/exam/preview-paper/view-head": [function(e, n, a) {
        var t = e("./app/exam/exam/base-paper/view-head")
          , i = e("drizzlejs")
          , s = i.assign({}, t)
          , r = i.assign({}, s.events)
          , l = i.assign({}, s.handlers);
        s.events = r,
        i.assign(s.events, {
            "click close": "clickClose"
        }),
        s.handlers = l,
        i.assign(s.handlers, {
            clickClose: function() {
                window.close()
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/exam/base-paper/view-head": "./app/exam/exam/base-paper/view-head",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/preview-paper/view-main": [function(e, n, a) {
        var t, i, s, r = e("./app/exam/exam/base-paper/view-main"), l = e("drizzlejs"), o = l.assign({}, r), c = l.assign({}, o.bindings), u = e("./app/exam/exam-question-types"), d = e("lodash/collection"), p = {
            ANSWER_PAPER_MODE: 3,
            NO_DETAIL_MODE: -1,
            TO_BE_OVER: 5,
            SINGLE: 1,
            MUTIPLE: 2,
            JUDGE: 3,
            SORT: 8
        };
        o.bindings = c,
        l.assign(o.bindings, {
            exam: !1
        }),
        l.assign(o, {
            type: "dynamic",
            getEntity: function(e) {
                var n = this.bindings.types.getQuestionById(e)
                  , a = l.assign({}, n)
                  , i = d.map(n.subs, function(e) {
                    var n = l.assign({}, e);
                    return l.assign(n, {
                        questionAttrs: e.questionAttrCopys,
                        errorRate: n.errorRate / 1e4,
                        answerRecord: null === n.answerRecord ? null : l.assign({}, n.answerRecord, {
                            score: t(n)
                        })
                    })
                });
                return l.assign(a, {
                    errorRate: a.errorRate / 1e4,
                    questionAttrs: n.questionAttrCopys,
                    answerRecord: a.answerRecord ? l.assign({}, a.answerRecord, {
                        score: t(a)
                    }) : null,
                    subs: i
                })
            },
            getEntityModuleName: function(e, n) {
                return u.get(n.type, p.ANSWER_PAPER_MODE)
            },
            dataForEntityModule: function(e) {
                return {
                    data: e,
                    multiple: 2 === e.type,
                    mode: -1
                }
            },
            afterRender: function() {
                i.call(this)
            },
            beforeClose: function() {
                s.call(this)
            },
            mixin: {
                pause: function(e) {
                    var n, a = this;
                    n = d.map(a.getEntities(), function(n) {
                        var a = n.items && n.items.content;
                        return a && a.components && a.components.player && e.id_ !== a.components.player.id_ ? a.components.player : null
                    }),
                    d.map(n, function(e) {
                        e && e.pause()
                    })
                }
            }
        }),
        n.exports = o,
        t = function(e) {
            return 1 === e.type || 2 === e.type || 3 === e.type || 8 === e.type ? e.answerRecord ? e.answerRecord.score / 100 : 0 : e.answerRecord && e.answerRecord.score && e.answerRecord.score ? e.answerRecord.score / 100 : null
        }
        ,
        i = function() {
            this.app.askbar.on("exam.player.pause", this.pause, this)
        }
        ,
        s = function() {
            this.app.askbar.off("exam.player.pause", this.pause, this)
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/exam/exam/base-paper/view-main": "./app/exam/exam/base-paper/view-main",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/preview-paper/view-side": [function(e, n, a) {
        n.exports = e("./app/exam/exam/base-paper/view-side")
    }
    , {
        "./app/exam/exam/base-paper/view-side": "./app/exam/exam/base-paper/view-side"
    }],
    "./app/exam/exam/question/types/answer/choise/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("drizzlejs")
          , s = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options",
            "picker/preview": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {
                    mixin: {
                        getOption: function(e) {
                            return this.data.options[e]
                        }
                    }
                },
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a, r = this.models.state.data = {
                        options: [],
                        title: s.get("exam.research-activity.question.single-answer-question"),
                        answer: "",
                        mutiple: !1,
                        gainScore: 0,
                        errorRate: 0
                    }, l = e.data, o = t.get("question-types");
                    if (l) {
                        for (i.assign(r, l),
                        a = l.questionAttrs,
                        n = 0; n < a.length; n++)
                            r.options.push({
                                content: a[n].value,
                                isAnswer: 0 === Number(a[n].type),
                                isRichText: !1,
                                mutiple: 2 === l.type,
                                id: a[n].id,
                                name: a[n].name
                            }),
                            0 === Number(a[n].type) && (r.answer += String.fromCharCode(n + "A".charCodeAt(0)));
                        r.type = o[Number(l.type) - 1].value,
                        2 === Number(l.type) && (r.title = s.get("exam.research-activity.question.mutiple-answer-question")),
                        !r.gainScore && l.answerRecord && (r.gainScore = l.answerRecord.score),
                        this.module.renderOptions.indexType && 1 !== this.module.renderOptions.indexType || i.assign(r, {
                            markIndex: r.markIndex + "、"
                        })
                    }
                    r.detailMode = e.mode,
                    r.showMode = e.showMode,
                    r.currentTime = e.currentTime,
                    r.parsingViewRule = e.parsingViewRule,
                    r.endTime = e.endTime,
                    r.passStatus = e.passStatus,
                    r.isStudent = e.isStudent,
                    r.sourceType = e.sourceType,
                    r.showAnswerRule = e.showAnswerRule,
                    r.isNormal = e.isNormal,
                    r.paperViewRule = e.paperViewRule,
                    r.rule = e.rule,
                    this.module.dispatch("checkMedia"),
                    this.models.answer.init(e.answer),
                    this.models.state.changed()
                },
                getAttachment1: function(e) {
                    var n = this.models.attachment1;
                    return n.set({
                        id: e.id
                    }),
                    this.get(n)
                },
                getAttachment2: function(e) {
                    var n = this.models.attachment2;
                    return n.set({
                        id: e.id
                    }),
                    this.get(n)
                },
                checkMedia: function() {
                    var e, n = new RegExp('<img id="preview-(.*?)".*?class="video-img".*?/>',"ig"), a = {}, t = this.models.state.data;
                    t.content && t.content.search(n) > -1 && (e = n.exec(t.content),
                    t.content = t.content.replace(n, ""),
                    e && e[1] && (e = e[1].split(","),
                    a.id = e[0],
                    a.name = e[1],
                    a.type = e[2],
                    "mp4,mpg,mpeg,mpe,avi,3gp,rm,rmvb,wmv,mov,flv,mkv".indexOf(a.type) > -1 ? a.type = "mp4" : a.type = "mp3",
                    t.attachment = a))
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/answer/choise/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="question o-question">\n        <span class="pull-left o-span"><a class="normal" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.markIndex : s, n)) + "</a></span>\n        " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div id="startPlayer" class="fullScreen-content video-js media-mix-content vjs-big-play-centered">\n                    <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                        <span class="vjs-control-text"></span>\n                    </button>\n                </div>\n            </div>\n'
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/preview-media.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" poster="./images/preview-media.jpg" preload="auto" muted="true">\n                        <source src="' + l(r(null != (s = null != n ? n.media : n) ? s.path : s, n)) + '" type="' + l(r(null != (s = null != n ? n.media : n) ? s.type : s, n)) + '"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '<div class="answer">\n    <div class="preview-list"><dl>' + (null != (s = a.each.call(r, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '    </dl></div>\n    <div class="show-answer">\n' + (null != (s = a.if.call(r, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != n ? n.isShowParsing : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n</div>"
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <dd id="item-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n' + (null != (s = a.if.call(l, null != n ? n.mutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.program(16, i, 0),
                    data: i
                })) ? s : "") + '            <div class="inline-block pointer" id="answer-item-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <span class="pull-left option-num">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.code : n, ".", {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</span>\n                <div class="answer-options m-left">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n            </div>\n        </dd>\n"
            },
            11: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="checkbox">\n                    <input ' + (null != (s = a.if.call(l, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + " " + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" id="check-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                    <label for="check-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                </div>\n'
            },
            12: function(e, n, a, t, i) {
                return ' disabled="disabled"'
            },
            14: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            16: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="radio m-right">\n                    <input ' + (null != (s = a.if.call(l, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + " " + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="value-' + c((r = null != (r = a.questionId || (null != n ? n.questionId : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "questionId",
                    hash: {},
                    data: i
                }) : r)) + '" id="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                    <label for="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                </div>\n'
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="clearfix">\n                <div class="custom-color-4">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowAnswer : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                </div>\n                <div class="custom-color-3 m-top">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowGainScore : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n"
            },
            19: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "                        " + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n"
            },
            21: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return "                        <span>" + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.question.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + r(e.lambda(null != (s = null != n ? n.state : n) ? s.gainScore : s, n)) + "</span>\n"
            },
            23: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="parsing m-top">\n                <div class="pull-left m-right">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="parsing-detail">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n            </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/answer/choise/view-content": [function(e, n, a) {
        var t, i = e("drizzlejs"), s = e("jquery"), r = e("./app/util/strings"), l = e("lodash/collection"), o = e("./app/util/aes"), c = e("./app/util/browser"), u = c.detectIE();
        a.currentDef = 0,
        a.bindings = {
            state: !0,
            download: !1
        },
        a.dataForTemplate = {
            state: function() {
                var e = this.module.renderOptions.indexType
                  , n = this.bindings.state.data;
                return e && 1 === e ? i.assign(n, {
                    markIndex: String.fromCharCode(9263 + (n.index + "").charCodeAt(0)) + "【" + n.type + "】"
                }) : n
            },
            url: function() {
                var e = this.bindings.state.data;
                return t || (t = e.url || ""),
                t
            },
            media: function() {
                var e = this.bindings.state.data
                  , n = e.media || [];
                return this.options.currentDef >= n.length && (this.options.currentDef = 0),
                n[this.options.currentDef]
            }
        },
        a.components = [function() {
            var e, n, a, t, s, r, l = this.bindings.state.data, o = this.module.renderOptions.rule || {};
            return n = o.rule2 && JSON.parse(o.rule2.value) || {},
            i.assign(n, {
                businessType: "exam"
            }),
            r = o.rule1 && Number(JSON.parse(o.rule1.value).TIME_PLAY),
            a = this.app.global.currentUser.name,
            t = this.app.global.currentUser.fullName,
            s = this.app.global.currentUser.organization.name,
            "1" === n.watermarkTextPrefixType ? n.watermarkText = t + "_" + n.watermarkText : "2" === n.watermarkTextPrefixType ? n.watermarkText = a + "_" + n.watermarkText : "3" === n.watermarkTextPrefixType ? n.watermarkText = t + "_" + s + "_" + n.watermarkText : "4" === n.watermarkTextPrefixType && (n.watermarkText = a + "_" + s + "_" + n.watermarkText),
            e = {
                mType: "",
                preventScreenShotConfig: n,
                playbackRates: !!r && [1, 1.5, 2]
            },
            l.attachment && ["mp3"].indexOf(l.attachment.type) > -1 && i.assign(e, {
                mType: "audio"
            }),
            l.attachment && ["mp4"].indexOf(l.attachment.type) > -1 && i.assign(e, {
                mType: "video",
                translateFlag: 1,
                notAllowPreload: !0
            }),
            {
                id: "player",
                name: "videojs",
                options: {
                    controlBar: {
                        playbackRateMenuButton: !0
                    },
                    video: e
                }
            }
        }
        ],
        a.events = {
            "click startPlayer": "startPlayer"
        },
        a.handlers = {
            startPlayer: function() {
                var e = this.bindings.state
                  , n = this;
                e.data.attachment && ["mp3"].indexOf(e.data.attachment.type) > -1 && this.module.dispatch("getAttachment1", {
                    id: e.data.attachment.id
                }).then(function(a) {
                    e.data.url = a[0].path,
                    e.changed(),
                    setTimeout(function() {
                        n.components.player.play(),
                        s(n.$("startPlayer")).hide(),
                        s(".vjs-fullscreen-control").addClass("vjs-hidden"),
                        s(".vjs-menu").addClass("vjs-menu-mix")
                    }, 0)
                }),
                e.data.attachment && ["mp4"].indexOf(e.data.attachment.type) > -1 && this.module.dispatch("getAttachment2", {
                    id: e.data.attachment.id
                }).then(function(a) {
                    e.data.media = a && n.getVideoUrl(a),
                    e.changed(),
                    setTimeout(function() {
                        n.components.player.play(),
                        s(n.$("startPlayer")).hide(),
                        s(".vjs-fullscreen-control").addClass("vjs-hidden"),
                        s(".vjs-menu").addClass("vjs-menu-mix")
                    }, 0)
                })
            }
        },
        a.video = {
            playing: function() {
                s(this.$("startPlayer")).hide(),
                this.app.askbar.trigger("exam.player.pause", this.components.player),
                this.app.askbar.trigger("exam.player.all.pause", this.components.player)
            }
        },
        a.mixin = {
            getVideoUrl: function(e) {
                var n = e[0].configId || "default"
                  , a = l.find(this.app.global.resourceConfigs, {
                    id: n
                }).cdnViewUrl;
                return l.map(e[0].items, function(e) {
                    var n = {}
                      , t = o.decrypt(e.path)
                      , i = parseInt(e.def, 10);
                    return 0 !== t.indexOf("/") && (t = "/" + t),
                    a && (t = a + t),
                    n.path = t.replace(".mp4", "/index.m3u8"),
                    n.type = u && u < 11 ? "video/mp4" : "application/x-mpegURL",
                    n.name = e.name || r.get("study.course.detail.original-image"),
                    n.def = i || 0,
                    n
                })
            }
        }
    }
    , {
        "./app/util/aes": "./app/util/aes",
        "./app/util/browser": "./app/util/browser",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/answer/choise/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/util/business/examAnswerRuleUtil");
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                var n = e.answer
                  , a = e.state.isNormal
                  , i = this;
                return t.map(e.state.options, function(s, r) {
                    var l = s;
                    l.index = r,
                    l.code = String.fromCharCode(l.index + "A".charCodeAt(0)),
                    l.questionId = i.bindings.state.data.id,
                    l.isDisabled = e.state.detailMode > 0,
                    a && (l.isDisabled = !0),
                    t.find(n.value, ["value", l.name]) && (l.checked = !0)
                }),
                e.state.options
            },
            isShowDetail: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0 && e < 4
            },
            state: function(e) {
                return i.assign(e.state, {
                    errorRate: e.state.errorRate / 1e4
                })
            },
            isShowParsing: function() {
                var e = this.bindings.state.data
                  , n = !0;
                if (!e.parsing)
                    return !1;
                if (e.isNormal) {
                    if (e.isStudent && 1 !== e.showAnswerRule)
                        return !1
                } else if (!e.isStudent || 2 !== e.parsingViewRule || 1 !== e.passStatus && null !== e.passStatus && void 0 !== e.passStatus || (n = !1),
                e.isStudent && 3 === e.parsingViewRule && e.endTime > (new Date).getTime() && (n = !1),
                e.isStudent && 0 === e.parsingViewRule && (n = !1),
                e.isStudent && !e.parsingViewRule && 1 !== e.showAnswerRule)
                    return !1;
                return n
            }
        },
        a.events = {
            "click check-*": "check",
            "click radio-*": "radio",
            "click answer-item-*": "label"
        },
        a.handlers = {
            check: function(e) {
                var n, a = this.bindings.answer.data, i = this.bindings.state.getOption(e);
                return this.$("check-" + e).checked ? (a.key = this.bindings.state.data.id,
                a.value.push({
                    id: i.id,
                    value: i.name
                })) : (n = t.reject(a.value, ["value", i.name]),
                this.bindings.answer.data = {
                    key: this.bindings.state.data.id,
                    value: n
                }),
                this.module.dispatch("save")
            },
            radio: function(e) {
                var n, a = this.bindings.answer.data, i = this.bindings.state.getOption(e);
                return this.$("radio-" + e).checked ? (a.key = this.bindings.state.data.id,
                a.value = [{
                    id: i.id,
                    value: i.name
                }]) : (n = t.reject(a.value, ["value", i.name]),
                this.bindings.answer.data = n),
                this.module.dispatch("save")
            },
            label: function(e) {
                var n, a = this.bindings.answer.data, i = this.bindings.state, s = i.data.options, r = s[e];
                return !(i.data.detailMode > 0) && (r.mutiple ? this.$("check-" + e).checked ? (r.checked = !1,
                n = t.reject(a.value, ["value", r.name]),
                this.bindings.answer.data = {
                    key: this.bindings.state.data.id,
                    value: n
                }) : (r.checked = !0,
                n = t.reject(a.value, ["value", r.name]),
                n.push({
                    id: r.id,
                    value: r.name
                }),
                this.bindings.answer.data = {
                    key: this.bindings.state.data.id,
                    value: n
                }) : (t.map(s, function(e) {
                    var n = e;
                    return n.checked = !1,
                    n
                }),
                r.checked = !0,
                a.key = this.bindings.state.data.id,
                a.value = [{
                    id: r.id,
                    value: r.name
                }]),
                i.changed(),
                this.module.dispatch("save"))
            }
        },
        a.beforeRender = function() {
            s.answerShowRule.call(this)
        }
    }
    , {
        "./app/util/business/examAnswerRuleUtil": "./app/util/business/examAnswerRuleUtil",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/answer/judgement/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("drizzlejs")
          , s = e("../choise");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {
                    data: {}
                },
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a = e.data, s = this.models.state.data = {
                        gainScore: 0,
                        errorRate: 0
                    }, r = t.get("judgement"), l = t.get("question-types");
                    i.assign(s, a),
                    -1 !== e.mode && a.questionAttrs.length > 0 && (n = a.questionAttrCopys[0] && a.questionAttrCopys[0].value,
                    Number(n) >= 0 && (s.answer = r[n] && r[n].value)),
                    s.type = l[Number(a.type) - 1].value,
                    !s.gainScore && a.answerRecord && (s.gainScore = a.answerRecord.score),
                    s.parsingViewRule = e.parsingViewRule,
                    s.endTime = e.endTime,
                    s.currentTime = e.currentTime,
                    s.detailMode = e.mode,
                    s.showMode = e.showMode,
                    s.passStatus = e.passStatus,
                    s.isStudent = e.isStudent,
                    s.showAnswerRule = e.showAnswerRule,
                    s.isNormal = e.isNormal,
                    s.sourceType = e.sourceType,
                    s.paperViewRule = e.paperViewRule,
                    this.module.dispatch("checkMedia"),
                    this.models.answer.init(e.answer)
                },
                getAttachment1: function(e) {
                    return s.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return s.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return s.store.callbacks.checkMedia.call(this, e)
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/answer/judgement/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="question o-question">\n        <span class="pull-left"><a class="normal" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.markIndex : s, n)) + "、</a></span>\n        " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div id="startPlayer" class="fullScreen-content video-js media-mix-content vjs-big-play-centered">\n                    <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                        <span class="vjs-control-text"></span>\n                    </button>\n                </div>\n            </div>\n'
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/preview-media.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" poster="./images/preview-media.jpg" preload="auto" muted="true">\n                        <source src="' + l(r(null != (s = null != n ? n.media : n) ? s.path : s, n)) + '" type="' + l(r(null != (s = null != n ? n.media : n) ? s.type : s, n)) + '"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '<div class="answer">\n    <div class="preview-list"><dl>\n        <dd>\n            <div class="radio">\n                <input ' + (null != (s = a.if.call(r, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + " " + (null != (s = a.if.call(r, null != n ? n.isCorrect : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="value-' + o(l(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '" value="1" id="check-0"/>\n                <label for="check-0"></label>\n            </div>\n            <span class="m-right">' + o((a.string || n && n.string || c).call(r, "right", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span>\n            <div class="radio">\n                <input ' + (null != (s = a.if.call(r, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + " " + (null != (s = a.if.call(r, null != n ? n.isError : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="value-' + o(l(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '" value="0" id="check-1"/>\n                <label for="check-1"></label>\n            </div>\n            <span>' + o((a.string || n && n.string || c).call(r, "wrong", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span>\n        </dd>\n    </dl></div>\n    <div class="show-answer">\n' + (null != (s = a.if.call(r, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != n ? n.isShowParsing : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n</div>"
            },
            10: function(e, n, a, t, i) {
                return ' disabled="disabled"'
            },
            12: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="clearfix">\n                <div class="custom-color-4">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowAnswer : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                </div>\n                <div class="custom-color-3 m-top">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowGainScore : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n"
            },
            15: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "                        " + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n"
            },
            17: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return "                        <span>" + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.question.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + r(e.lambda(null != (s = null != n ? n.state : n) ? s.gainScore : s, n)) + "</span>\n"
            },
            19: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="parsing m-top">\n                <div class="pull-left m-right">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="parsing-detail">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n            </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/answer/judgement/view-content": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("../choise/view-content.js");
        a.currentDef = i.currentDef,
        a.bindings = t.assign(i.bindings, {}),
        a.dataForTemplate = t.assign(i.dataForTemplate, {}),
        a.components = t.assign(i.components, {}),
        a.events = t.assign(i.events, {}),
        a.handlers = t.assign(i.handlers, {}),
        a.video = t.assign(i.video, {}),
        a.mixin = t.assign(i.mixin, {})
    }
    , {
        "../choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/answer/judgement/view-options": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("./app/util/business/examAnswerRuleUtil");
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.dataForTemplate = {
            isCorrect: function() {
                var e = this.bindings.answer.data;
                return !!(e.value && e.value.length > 0) && 1 === Number(e.value[0].value)
            },
            isError: function() {
                var e = this.bindings.answer.data;
                return !!(e.value && e.value.length > 0) && 0 === Number(e.value[0].value)
            },
            isShowDetail: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0 && e < 4
            },
            state: function(e) {
                return t.assign(e.state, {
                    errorRate: e.state.errorRate / 1e4
                })
            },
            isShowParsing: function() {
                var e = this.bindings.state.data
                  , n = !0;
                if (!e.parsing)
                    return !1;
                if (e.isNormal) {
                    if (e.isStudent && 1 !== e.showAnswerRule)
                        return !1
                } else if (!e.isStudent || 2 !== e.parsingViewRule || 1 !== e.passStatus && null !== e.passStatus && void 0 !== e.passStatus || (n = !1),
                e.isStudent && 3 === e.parsingViewRule && e.endTime > (new Date).getTime() && (n = !1),
                e.isStudent && 0 === e.parsingViewRule && (n = !1),
                e.isStudent && !e.parsingViewRule && 1 !== e.showAnswerRule)
                    return !1;
                return n
            },
            isDisabled: function() {
                var e = this.bindings.state.data.detailMode;
                return !!this.bindings.state.data.isNormal || e && e > 0
            }
        },
        a.events = {
            "click check-*": "check"
        },
        a.handlers = {
            check: function(e) {
                return this.bindings.answer.set({
                    key: this.bindings.state.data.id,
                    value: [{
                        id: this.$("check-" + e).value,
                        value: this.$("check-" + e).value
                    }]
                }),
                this.module.dispatch("save")
            }
        },
        a.beforeRender = function() {
            i.answerShowRule.call(this)
        }
    }
    , {
        "./app/util/business/examAnswerRuleUtil": "./app/util/business/examAnswerRuleUtil",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/answer/line/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("../choise");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {
                    data: {}
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a = e.data, i = a.questionAttrs, s = t.get("question-types"), r = t.get("question-difficultys"), l = this.models.state.data = {
                        answer: ""
                    }, o = [], c = [], u = 0;
                    for (l.content = a.content,
                    l.score = a.score,
                    l.type = s[Number(a.type) - 1].value,
                    l.difficulty = r[Number(a.difficulty) - 1].value,
                    l.paperViewRule = e.paperViewRule,
                    u; u < i.length; u++)
                        n = String.fromCharCode(u + "A".charCodeAt(0)),
                        o.push({
                            content: i[u].name,
                            i: u,
                            code: n
                        }),
                        c.push({
                            content: i[u].value,
                            i: u,
                            code: n
                        }),
                        l.answer += i[u].name + "-" + i[u].value;
                    l.items = o,
                    l.matchs = c,
                    this.models.state.changed()
                },
                getAttachment1: function(e) {
                    return i.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return i.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return i.store.callbacks.checkMedia.call(this, e)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps"
    }],
    "./app/exam/exam/question/types/answer/line/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="row">\n        <div class="col-xs-6"><div class="com-title">' + o((a.string || n && n.string || l).call(r, "exam.question.types.matching", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></div>\n        <div class="col-xs-6"><div class="m-top text-right">\n            ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.preview-questionary.questionary-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '\n        </div></div>\n    </div>\n    <p class="question">\n        ' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n        " + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n    </p>\n"
            },
            4: function(e, n, a, t, i) {
                return ""
            },
            6: function(e, n, a, t, i) {
                var s;
                return '        <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/preview-media.jpg">\n            <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n        </audio>\n'
            },
            8: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '        <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" poster="./images/preview-media.jpg" preload="auto" muted="true">\n            <source src="' + l(r(null != (s = null != n ? n.media : n) ? s.path : s, n)) + '" type="' + l(r(null != (s = null != n ? n.media : n) ? s.type : s, n)) + '"/>\n        </video>\n'
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '<div class="answer line">\n    <div class="row">\n        <div class="col-sm-6"><ul>' + (null != (s = a.each.call(r, null != (s = null != n ? n.state : n) ? s.items : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        </ul></div>\n        <div class="col-sm-6"><ul>' + (null != (s = a.each.call(r, null != (s = null != n ? n.state : n) ? s.matchs : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        </ul></div>\n    </div>\n    <div class="clearfix">\n        <div class="pull-right m-bottom">\n            <div class="inline-block">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                <span>" + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</span>\n            </div>\n            <div class="inline-block m-left">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.state : n) ? s.type : s, n)) + '</span>\n            </div>\n            <div class="inline-block m-left">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '</span>\n            </div>\n            <div class="inline-block m-left">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.select-question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.state : n) ? s.difficulty : s, n)) + "</span>\n            </div>\n        </div>\n    </div>\n</div>"
            },
            11: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing;
                return '\n            <li>\n                <div class="inline-block"><label class="no-margin" for="answer-item-' + e.escapeExpression((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + '">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.code : n, ".", null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</label></div>\n            </li>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '<div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || c).call(o, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || c).call(o, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '    <div id="startPlayer" class="fullScreen-content video-js media-mix-content vjs-big-play-centered">\n        <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n            <span class="vjs-control-text"></span>\n        </button>\n    </div>\n</div>\n' + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/answer/line/view-content": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("../choise/view-content.js");
        a.currentDef = i.currentDef,
        a.bindings = t.assign(i.bindings, {
            state: !0
        }),
        a.dataForTemplate = t.assign(i.dataForTemplate, {}),
        a.components = t.assign(i.components, {}),
        a.events = t.assign(i.events, {}),
        a.handlers = t.assign(i.handlers, {}),
        a.video = t.assign(i.video, {}),
        a.mixin = t.assign(i.mixin, {})
    }
    , {
        "../choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/answer/line/view-options": [function(e, n, a) {
        a.bindings = {
            state: !0
        }
    }
    , {}],
    "./app/exam/exam/question/types/answer/question-answer/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("../choise")
          , s = e("drizzlejs");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {},
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data = {
                        gainScore: 5 === e.status ? "-" : 0,
                        errorRate: 0
                    }
                      , i = t.get("question-types");
                    s.assign(a, n),
                    n.questionAttrs.length > 0 && (a.answer = n.questionAttrs[0].value),
                    a.type = i[Number(n.type) - 1].value,
                    n.answerRecord && null !== n.answerRecord.score ? a.gainScore = n.answerRecord.score : n.answerRecord || (a.gainScore = 0),
                    a.parsingViewRule = e.parsingViewRule,
                    a.endTime = e.endTime,
                    a.currentTime = e.currentTime,
                    a.detailMode = e.mode,
                    a.showMode = e.showMode,
                    a.passStatus = e.passStatus,
                    a.isStudent = e.isStudent,
                    a.sourceType = e.sourceType,
                    a.showAnswerRule = e.showAnswerRule,
                    a.isNormal = e.isNormal,
                    a.paperViewRule = e.paperViewRule,
                    this.module.renderOptions.indexType && 1 !== this.module.renderOptions.indexType || s.assign(a, {
                        markIndex: a.markIndex + "、"
                    }),
                    this.module.dispatch("checkMedia"),
                    this.models.answer.init(e.answer)
                },
                getAttachment1: function(e) {
                    return i.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return i.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return i.store.callbacks.checkMedia.call(this, e)
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/answer/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="question o-question">\n        <span class="pull-left"><a class="normal" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.markIndex : s, n)) + "</a></span>\n        " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div id="startPlayer" class="fullScreen-content video-js media-mix-content vjs-big-play-centered">\n                    <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                        <span class="vjs-control-text"></span>\n                    </button>\n                </div>\n            </div>\n'
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/preview-media.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" poster="./images/preview-media.jpg" preload="auto" muted="true">\n                        <source src="' + l(r(null != (s = null != n ? n.media : n) ? s.path : s, n)) + '" type="' + l(r(null != (s = null != n ? n.media : n) ? s.type : s, n)) + '"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '<form class="vertical layout-mb-small"><div class="row"><div class="col-sm-12">\n' + (null != (s = a.if.call(r, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.program(12, i, 0),
                    data: i
                })) ? s : "") + '    <div class="show-answer">\n' + (null != (s = a.if.call(r, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != n ? n.isShowParsing : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n</div>\n</div>\n</form>"
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing;
                return '        \x3c!--  .m-top  --\x3e\n        <div class="textarea input disabled" maxlength="5000" x-rule="maxLength:5000" x-marker="text" id="answer" name="value" ' + e.escapeExpression((r = null != (r = a.disabled || (null != n ? n.disabled : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "disabled",
                    hash: {},
                    data: i
                }) : r)) + ">" + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.answer : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n"
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '        \x3c!--  .m-top  --\x3e\n        <textarea class="input w-full" maxlength="5000" x-rule="maxLength:5000" x-marker="text" id="answer" name="value" rows="5" placeholder="' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.input-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != n ? n.answer : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</textarea>\n        <div class="tips" style="position:static;text-align:right;">0/5000</div>\n'
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="clearfix">\n                <div class="custom-color-4 pull-left">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowAnswer : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                </div>\n                <div class="custom-color-3 m-top text-right">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowGainScore : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n"
            },
            15: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "                        " + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n"
            },
            17: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return "                        <span>" + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.question.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + r(e.lambda(null != (s = null != n ? n.state : n) ? s.gainScore : s, n)) + "</span>\n"
            },
            19: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="parsing m-top">\n                <div class="pull-left m-right">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="parsing-detail">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n            </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/answer/question-answer/view-content": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("../choise/view-content.js");
        a.currentDef = i.currentDef,
        a.bindings = t.assign(i.bindings, {
            state: !0
        }),
        a.components = t.assign(i.components, {}),
        a.events = t.assign(i.events, {}),
        a.handlers = t.assign(i.handlers, {}),
        a.video = t.assign(i.video, {}),
        a.dataForTemplate = t.assign(i.dataForTemplate, {
            state: function(e) {
                var n = this.module.renderOptions.indexType
                  , a = e.state;
                return n && 1 === n ? t.assign(a, {
                    markIndex: String.fromCharCode(9263 + (a.index + "").charCodeAt(0)) + "【" + a.type + "】"
                }) : a
            }
        }),
        a.mixin = t.assign(i.mixin, {})
    }
    , {
        "../choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/answer/question-answer/view-options": [function(e, n, a) {
        var t = e("jquery")
          , i = e("drizzlejs")
          , s = e("./app/util/business/examAnswerRuleUtil");
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.type = "form",
        a.events = {
            "change answer": "changeAnswer"
        },
        a.handlers = {
            changeAnswer: function() {
                return this.bindings.answer.set({
                    key: this.bindings.state.data.id,
                    value: [{
                        id: this.bindings.state.data.id,
                        value: t(this.$("answer")).val().trim()
                    }]
                }),
                this.module.dispatch("save")
            }
        },
        a.dataForTemplate = {
            answer: function() {
                var e = this.bindings.answer;
                return e.data.value && e.data.value.length > 0 ? e.data.value[0].value : ""
            },
            isShowDetail: function(e) {
                var n = e.state.detailMode;
                return n && n > 0 && n < 4
            },
            state: function(e) {
                return i.assign(e.state, {
                    errorRate: e.state.errorRate / 1e4
                })
            },
            isShowParsing: function() {
                var e = this.bindings.state.data
                  , n = !0;
                if (!e.parsing)
                    return !1;
                if (e.isNormal) {
                    if (e.isStudent && 1 !== e.showAnswerRule)
                        return !1
                } else if (!e.isStudent || 2 !== e.parsingViewRule || 1 !== e.passStatus && null !== e.passStatus && void 0 !== e.passStatus || (n = !1),
                e.isStudent && 3 === e.parsingViewRule && e.endTime > (new Date).getTime() && (n = !1),
                e.isStudent && 0 === e.parsingViewRule && (n = !1),
                e.isStudent && !e.parsingViewRule && 1 !== e.showAnswerRule)
                    return !1;
                return n
            },
            isDisabled: function(e) {
                var n = e.state.detailMode;
                return !!this.bindings.state.data.isNormal || n && n > 0
            }
        },
        a.beforeRender = function() {
            s.answerShowRule.call(this)
        }
    }
    , {
        "./app/util/business/examAnswerRuleUtil": "./app/util/business/examAnswerRuleUtil",
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/exam/question/types/answer/reading-comprehension/index": [function(e, n, a) {
        var t, i = e("./app/util/maps"), s = e("lodash/collection"), r = e("../choise"), l = e("drizzlejs");
        a.items = {
            content: "content",
            subs: "subs"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {},
                sub: {
                    data: {},
                    mixin: {
                        getQuestionById: function(e) {
                            return s.find(this.data.questions, ["id", e])
                        }
                    }
                },
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: this.store.models.state.data.id,
                                type: 6,
                                value: []
                            }
                        },
                        save: function(e) {
                            var n, a = this.data.value;
                            n = s.reject(a, ["key", e.key]),
                            n.push(e),
                            this.data.value = n
                        },
                        getAnswer: function(e) {
                            var n = this.data.value;
                            return s.find(n, ["key", e])
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data
                      , s = i.get("question-types");
                    l.assign(a, n),
                    a.type = s[Number(n.type) - 1].value,
                    a.detailMode = e.mode,
                    a.subMode = e.subMode,
                    a.status = e.status,
                    a.showMode = e.showMode,
                    a.passStatus = e.passStatus,
                    a.parsingViewRule = e.parsingViewRule,
                    a.isStudent = e.isStudent,
                    a.endTime = e.endTime,
                    a.currentTime = e.currentTime,
                    a.sourceType = e.sourceType,
                    a.showAnswerRule = e.showAnswerRule,
                    a.isNormal = e.isNormal,
                    a.paperViewRule = e.paperViewRule,
                    this.module.dispatch("checkMedia"),
                    this.models.sub.data.questions = t(n.subs),
                    this.models.answer.init(e.answer)
                },
                getAttachment1: function(e) {
                    return r.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return r.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return r.store.callbacks.checkMedia.call(this, e)
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(l.assign(e, {
                        type: 6
                    }))
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        t = function(e) {
            return s.orderBy(e, ["createTime", "type"], ["asc", "asc"])
        }
    }
    , {
        "../choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/answer/reading-comprehension/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="subs"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="question o-question">\n        <span class="pull-left o-span"><a class="normal" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.markIndex : s, n)) + "、</a></span>\n        " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div id="startPlayer" class="fullScreen-content video-js media-mix-content vjs-big-play-centered">\n                    <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                        <span class="vjs-control-text"></span>\n                    </button>\n                </div>\n            </div>\n'
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/preview-media.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" poster="./images/preview-media.jpg" preload="auto" muted="true">\n                        <source src="' + l(r(null != (s = null != n ? n.media : n) ? s.path : s, n)) + '" type="' + l(r(null != (s = null != n ? n.media : n) ? s.type : s, n)) + '"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s;
                return '<div class="m-bottom reading-comprehension-view o-subs">\n' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.subs : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>"
            },
            10: function(e, n, a, t, i) {
                var s;
                return '        <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "subs", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/answer/reading-comprehension/view-content": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("../choise/view-content.js");
        a.currentDef = i.currentDef,
        a.bindings = t.assign(i.bindings, {}),
        a.components = t.assign(i.components, {}),
        a.events = t.assign(i.events, {}),
        a.handlers = t.assign(i.handlers, {}),
        a.video = t.assign(i.video, {}),
        a.dataForTemplate = t.assign(i.dataForTemplate, {
            state: function() {
                var e, n = this.module.renderOptions.indexType, a = this.bindings.state.data;
                return n && 1 === n && (e = String.fromCharCode(9263 + (a.index + "").charCodeAt(0)) + "【" + a.type + "】",
                a.markIndex = e),
                a
            }
        }),
        a.mixin = t.assign(i.mixin, {})
    }
    , {
        "../choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/answer/reading-comprehension/view-options": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/exam/question/types/answer/reading-comprehension/view-subs": [function(e, n, a) {
        var t, i, s = e("lodash/collection"), r = e("./app/exam/exam-question-types"), l = e("drizzlejs");
        a.type = "dynamic",
        a.bindings = {
            sub: !0,
            answer: !0,
            state: !0
        },
        a.dataForTemplate = {
            subs: function() {
                var e = this.bindings.sub.data.questions;
                return ~location.href.indexOf("preview-paper") && (e = s.orderBy(e, ["type", "order"], ["asc", "asc"])),
                s.map(e, function(e, n) {
                    var a = e;
                    return a.index = n + 1,
                    a
                })
            }
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.sub.getQuestionById(e)
              , a = l.assign({}, n)
              , t = l.assign({}, n.answerRecord);
            return n.questionAttrs || l.assign(a, {
                questionAttrs: n.questionAttrCopys,
                answerRecord: l.assign(t, {
                    score: t.score / 100
                })
            }),
            a
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return r.get(n.type, 3)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this
              , a = this.bindings.state.data;
            return {
                type: e.type,
                data: e,
                multiple: 2 === e.type,
                callback: function(e) {
                    return n.bindings.answer.save(e),
                    n.module.dispatch("save")
                },
                answer: this.bindings.answer.getAnswer(e.id),
                mode: a.detailMode,
                parsingViewRule: a.parsingViewRule,
                showMode: a.showMode,
                passStatus: a.passStatus,
                isStudent: a.isStudent,
                status: a.status,
                endTime: a.endTime,
                currentTime: a.currentTime,
                sourceType: a.sourceType,
                isNormal: a.isNormal,
                showAnswerRule: a.showAnswerRule,
                rule: this.module.renderOptions.rule,
                indexType: 1
            }
        }
        ,
        a.afterRender = function() {
            t.call(this)
        }
        ,
        a.beforeClose = function() {
            i.call(this)
        }
        ,
        a.mixin = {
            pause: function(e) {
                var n, a = this;
                n = s.map(a.getEntities(), function(n) {
                    var a = n.items && n.items.content;
                    if (a && a.components && a.components.player) {
                        if (!e)
                            return a.components.player;
                        if (e.id_ !== a.components.player.id_)
                            return a.components.player
                    }
                    return null
                }),
                s.map(n, function(e) {
                    e && e.pause()
                })
            }
        },
        t = function() {
            this.app.askbar.on("exam.player.all.pause", this.pause, this)
        }
        ,
        i = function() {
            this.app.askbar.off("exam.player.all.pause", this.pause, this)
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/answer/sentence-completion/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("../choise")
          , s = e("drizzlejs");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {},
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data = {
                        gainScore: 5 === e.status ? "-" : 0,
                        errorRate: 0
                    }
                      , i = t.get("question-types");
                    s.assign(a, n),
                    n.questionAttrs.length > 0 && (a.answer = n.questionAttrs[0].value),
                    a.parsingViewRule = e.parsingViewRule,
                    a.endTime = e.endTime,
                    a.currentTime = e.currentTime,
                    a.type = i[Number(n.type) - 1].value,
                    a.detailMode = e.mode,
                    a.showMode = e.showMode,
                    a.passStatus = e.passStatus,
                    a.isStudent = e.isStudent,
                    a.isNormal = e.isNormal,
                    a.showAnswerRule = e.showAnswerRule,
                    a.sourceType = e.sourceType,
                    a.paperViewRule = e.paperViewRule,
                    n.answerRecord && null !== n.answerRecord.score ? a.gainScore = n.answerRecord.score : n.answerRecord || (a.gainScore = 0),
                    this.module.dispatch("checkMedia"),
                    this.models.answer.init(e.answer)
                },
                getAttachment1: function(e) {
                    return i.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return i.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return i.store.callbacks.checkMedia.call(this, e)
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/answer/sentence-completion/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="question o-question">\n        <span class="pull-left"><a class="normal" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.markIndex : s, n)) + "、</a></span>\n        " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div id="startPlayer" class="fullScreen-content video-js media-mix-content vjs-big-play-centered">\n                    <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                        <span class="vjs-control-text"></span>\n                    </button>\n                </div>\n            </div>\n'
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/preview-media.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" poster="./images/preview-media.jpg" preload="auto" muted="true">\n                        <source src="' + l(r(null != (s = null != n ? n.media : n) ? s.path : s, n)) + '" type="' + l(r(null != (s = null != n ? n.media : n) ? s.type : s, n)) + '"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return "<form class=\"vertical m-bottom\">\n    \x3c!--  textarea.input.w-full(id='answer' name='value' rows='5' placeholder='请输入答案')('disabled')&if(isDisabled) > @echoX(answer) --\x3e\n" + (null != (s = a.each.call(r, null != n ? n.sentences : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '    <div class="show-answer">\n' + (null != (s = a.if.call(r, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != n ? n.isShowParsing : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n</form>"
            },
            10: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.program(13, i, 0),
                    data: i
                })) ? s : ""
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <div class="m-top">\n                <input class="input w-full disabled" x-rule="maxLength:5000" x-maker="text-new" id="answer-' + o((s = null != (s = a.i || (null != n ? n.i : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "i",
                    hash: {},
                    data: i
                }) : s)) + '" name="value" value="' + o((s = null != (s = a.answer || (null != n ? n.answer : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : s)) + '" ' + o((s = null != (s = a.disabled || (null != n ? n.disabled : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "disabled",
                    hash: {},
                    data: i
                }) : s)) + "/>\n            </div>\n"
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <div class="m-top">\n                <input class="input w-full" x-rule="maxLength:5000" x-maker="text-new" id="answer-' + o((s = null != (s = a.i || (null != n ? n.i : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "i",
                    hash: {},
                    data: i
                }) : s)) + '" name="value" value="' + o((s = null != (s = a.answer || (null != n ? n.answer : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : s)) + '" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"/>\n                <div class="tips" style="position:static;text-align:right;">0/5000</div>\n            </div>\n'
            },
            15: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="clearfix">\n                <div class="custom-color-4">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowAnswer : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                </div>\n                <div class="custom-color-3 m-top">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowGainScore : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "                        " + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n"
            },
            18: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return "                        <span>" + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.question.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + r(e.lambda(null != (s = null != n ? n.state : n) ? s.gainScore : s, n)) + "</span>\n"
            },
            20: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="parsing m-top">\n                <div class="pull-left m-right">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="parsing-detail">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n            </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/answer/sentence-completion/view-content": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("../choise/view-content.js");
        a.currentDef = i.currentDef,
        a.bindings = t.assign(i.bindings, {}),
        a.components = t.assign(i.components, {}),
        a.events = t.assign(i.events, {}),
        a.handlers = t.assign(i.handlers, {}),
        a.video = t.assign(i.video, {}),
        a.dataForTemplate = t.assign(i.dataForTemplate, {}),
        a.mixin = t.assign(i.mixin, {})
    }
    , {
        "../choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/answer/sentence-completion/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/util/business/examAnswerRuleUtil");
        a.type = "form",
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.events = {
            "change answer-*": "changeAnswer"
        },
        a.handlers = {
            changeAnswer: function() {
                var e = this.bindings.answer;
                return e.set({
                    key: this.bindings.state.data.id,
                    value: [{
                        id: this.bindings.state.data.id,
                        value: function(e) {
                            var n = "";
                            return e && (t.every(e, function(e) {
                                var n = e.value;
                                return !n || "" === n
                            }) || (n = t.map(e, function(e) {
                                return e.value
                            }).join("@answer@"))),
                            n
                        }(this.$$('[name="value"]'))
                    }]
                }),
                this.module.dispatch("save")
            }
        },
        a.dataForTemplate = {
            answer: function() {
                var e = this.bindings.answer;
                return e.data.value && e.data.value.length > 0 ? e.data.value[0].value : ""
            },
            isShowDetail: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0 && e < 4
            },
            isShowParsing: function() {
                var e = this.bindings.state.data
                  , n = !0;
                if (!e.parsing)
                    return !1;
                if (e.isNormal) {
                    if (e.isStudent && 1 !== e.showAnswerRule)
                        return !1
                } else if (!e.isStudent || 2 !== e.parsingViewRule || 1 !== e.passStatus && null !== e.passStatus && void 0 !== e.passStatus || (n = !1),
                e.isStudent && 3 === e.parsingViewRule && e.endTime > (new Date).getTime() && (n = !1),
                e.isStudent && 0 === e.parsingViewRule && (n = !1),
                e.isStudent && !e.parsingViewRule && 1 !== e.showAnswerRule)
                    return !1;
                return n
            },
            state: function(e) {
                return i.assign(e.state, {
                    errorRate: e.state.errorRate / 1e4
                })
            },
            isDisabled: function(e) {
                var n = e.state.detailMode;
                return !!this.bindings.state.data.isNormal || n && n > 0
            },
            sentences: function(e) {
                var n = e.state.content
                  , a = new RegExp("\\(\\)","g")
                  , t = n.match(a)
                  , i = t ? t.length : 0
                  , s = []
                  , r = e.answer.split("@answer@")
                  , l = e.state.detailMode
                  , o = l && l > 0
                  , c = 0
                  , u = this.bindings.state.data;
                for (u.isNormal && (o = !0),
                c; c < i; c++)
                    s.push({
                        i: c,
                        answer: r.length > c ? r[c] : "",
                        isDisabled: o
                    });
                return s
            }
        },
        a.beforeRender = function() {
            s.answerShowRule.call(this)
        }
    }
    , {
        "./app/util/business/examAnswerRuleUtil": "./app/util/business/examAnswerRuleUtil",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/answer/sorting/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("lodash/collection")
          , s = e("../choise")
          , r = e("drizzlejs");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {
                    data: {}
                },
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a = e.data, s = this.models.state.data = {
                        gainScore: 0,
                        errorRate: 0
                    }, l = t.get("question-types"), o = a.questionAttrs, c = 0, u = "";
                    for (r.assign(s, a),
                    s.type = i.find(l, ["key", a.type.toString()]).value,
                    s.options = [],
                    i.find(o, ["type", "0"]) && (u = i.find(o, ["type", "0"]).value),
                    o = i.filter(o, function(e) {
                        return 0 !== Number(e.type)
                    }),
                    c; c < o.length; c++)
                        n = String.fromCharCode(c + "A".charCodeAt(0)),
                        s.options.push({
                            content: o[c].value,
                            name: o[c].name,
                            code: n,
                            i: c
                        });
                    "" !== u && (s.answer = i.map(i.filter(u.split("|"), function(e) {
                        return e
                    }), function(e) {
                        return i.find(s.options, ["name", e]).code
                    }).join("")),
                    !s.gainScore && a.answerRecord && (s.gainScore = a.answerRecord.score),
                    s.parsingViewRule = e.parsingViewRule,
                    s.endTime = e.endTime,
                    s.currentTime = e.currentTime,
                    s.detailMode = e.mode,
                    s.showMode = e.showMode,
                    s.passStatus = e.passStatus,
                    s.isStudent = e.isStudent,
                    s.sourceType = e.sourceType,
                    s.isNormal = e.isNormal,
                    s.showAnswerRule = e.showAnswerRule,
                    s.paperViewRule = e.paperViewRule,
                    this.module.dispatch("checkMedia"),
                    this.models.answer.init(e.answer)
                },
                getAttachment1: function(e) {
                    return s.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return s.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return s.store.callbacks.checkMedia.call(this, e)
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e),
                    this.models.state.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/answer/sorting/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="question o-question">\n        <span class="pull-left"><a class="normal" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.markIndex : s, n)) + "、</a></span>\n        " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div id="startPlayer" class="fullScreen-content video-js media-mix-content vjs-big-play-centered">\n                    <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                        <span class="vjs-control-text"></span>\n                    </button>\n                </div>\n            </div>\n'
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/preview-media.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" poster="./images/preview-media.jpg" preload="auto" muted="true">\n                        <source src="' + l(r(null != (s = null != n ? n.media : n) ? s.path : s, n)) + '" type="' + l(r(null != (s = null != n ? n.media : n) ? s.type : s, n)) + '"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    <div class="answer"><div class="preview-list">\n        <dl>' + (null != (s = a.each.call(l, null != (s = null != n ? n.state : n) ? s.options : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</dl>\n        <form class="vertical form">\n            <div class="w-half form-row">\n                <input class="input" ' + (null != (s = a.if.call(l, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' id="answer" name="value" placeholder="' + c((a.string || n && n.string || o).call(l, "exam.question.types.input-sort", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" autocomplete="off" value="' + c((r = null != (r = a.answer || (null != n ? n.answer : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                <div class="inline-block error" id="error"></div>\n            </div>\n        </form>\n    </div></div>\n    <div class="show-answer">\n' + (null != (s = a.if.call(l, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(l, null != n ? n.isShowParsing : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n            <dd id="item-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <label for="answer-item-' + c((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + '">\n                    <span class="option-num">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.code : n, ".", {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</span>\n                    <div class="answer-options m-left">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                </label>\n            </dd>\n        "
            },
            12: function(e, n, a, t, i) {
                return ' disabled="disabled"'
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="clearfix">\n                <div class="custom-color-4">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowAnswer : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                </div>\n                <div class="custom-color-3 m-top">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowGainScore : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n"
            },
            15: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "                        " + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n"
            },
            17: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return "                        <span>" + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.question.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + r(e.lambda(null != (s = null != n ? n.state : n) ? s.gainScore : s, n)) + "</span>\n"
            },
            19: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="parsing m-top">\n                <div class="pull-left m-right">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="parsing-detail">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n            </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/answer/sorting/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/sentence-completion/view-content"][0].apply(a, arguments)
    }
    , {
        "../choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/exam/question/types/answer/sentence-completion/view-content"
    }],
    "./app/exam/exam/question/types/answer/sorting/view-options": [function(e, n, a) {
        var t, i, s, r, l = e("lodash/collection"), o = e("jquery"), c = e("./app/util/strings"), u = e("./app/util/business/examAnswerRuleUtil");
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                return l.map(e.state.options, function(e, n) {
                    var a = e;
                    a.index = n,
                    a.code = String.fromCharCode(a.index + "A".charCodeAt(0))
                }),
                e.state.options
            },
            answer: function() {
                var e = this.bindings.answer
                  , n = this.bindings.state.data.options
                  , a = "";
                return e.data.value && e.data.value.length > 0 && (a = l.map(l.filter(e.data.value[0].value.split("|"), function(e) {
                    return e
                }), function(e) {
                    return l.find(n, ["name", e]).code
                }).join("")),
                a
            },
            isShowDetail: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0 && e < 4
            },
            isShowParsing: function() {
                var e = this.bindings.state.data
                  , n = !0;
                if (!e.parsing)
                    return !1;
                if (e.isNormal) {
                    if (e.isStudent && 1 !== e.showAnswerRule)
                        return !1
                } else if (!e.isStudent || 2 !== e.parsingViewRule || 1 !== e.passStatus && null !== e.passStatus && void 0 !== e.passStatus || (n = !1),
                e.isStudent && 3 === e.parsingViewRule && e.endTime > (new Date).getTime() && (n = !1),
                e.isStudent && 0 === e.parsingViewRule && (n = !1),
                e.isStudent && !e.parsingViewRule && 1 !== e.showAnswerRule)
                    return !1;
                return n
            },
            isDisabled: function(e) {
                var n = e.state.detailMode;
                return !!this.bindings.state.data.isNormal || n && n > 0
            }
        },
        a.events = {
            "change answer": "changeAnswer",
            "keypress answer": "keypressAnswer"
        },
        a.handlers = {
            changeAnswer: function() {
                var e, n, a = this.bindings.answer, i = this.bindings.state.data.options, o = this.$("answer").value.toLocaleUpperCase(), u = o;
                if (!s.call(this, u))
                    return !1;
                if (o.length > 0 && !r(o))
                    return t.call(this, c.get("exam.exam.question.repeat-letter-sort")),
                    !1;
                for (e = 0; e < o.length; e++)
                    n = l.find(i, ["code", o.charAt(e)]),
                    u = u.replace(o.charAt(e), n.name + "|");
                return a.set({
                    key: this.bindings.state.data.id,
                    value: [{
                        id: this.bindings.state.data.id,
                        value: u
                    }]
                }),
                this.module.dispatch("save")
            },
            keypressAnswer: function(e) {
                var n = e.keyCode || e.which || e.charCode
                  , a = String.fromCharCode(n).toLocaleUpperCase()
                  , s = this.$("answer").value;
                return 8 === n || (n >= 65 && n <= 122 && l.find(this.bindings.state.data.options, ["code", a]) ? s.length > 0 && function(e, n) {
                    return !e || !l.every(e, function(e) {
                        return e !== n
                    })
                }(s.toLocaleUpperCase(), a) ? (t.call(this, c.get("exam.exam.question.repeat-letter-sort")),
                e.preventDefault(),
                !1) : (i(),
                !0) : !/^[a-zA-Z]*$/.test(s) && s.length > 0 ? t.call(this, c.get("exam.exam.question.only-support-letter-sort")) : s.length > 0 && !r(s) ? (t.call(this, c.get("exam.exam.question.repeat-letter-sort")),
                e.preventDefault(),
                !1) : (e.preventDefault(),
                !1))
            }
        },
        t = function(e) {
            o(this.$("error")).html('<span class="error-text">' + e + "</span>"),
            o(this.$("answer")).addClass("error")
        }
        ,
        i = function() {
            o(this.$("error")).html(""),
            o(this.$("answer")).removeClass("error")
        }
        ,
        s = function(e) {
            return !/.*[\u4e00-\u9fa5]+.*$/.test(e) || (t.call(this, c.get("exam.exam.question.uncorrect-input")),
            this.$("answer").value = "",
            !1)
        }
        ,
        r = function(e) {
            return !/^.*(.).*\1/i.test(e)
        }
        ,
        a.beforeRender = function() {
            u.answerShowRule.call(this)
        }
    }
    , {
        "./app/util/business/examAnswerRuleUtil": "./app/util/business/examAnswerRuleUtil",
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/edit/choise/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("jquery")
          , s = e("drizzlejs")
          , r = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options",
            score: "score"
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        isRichText: function(e) {
                            return /<[^>]+>/g.test(e) || /&nbsp;/gi.test(e)
                        }
                    }
                },
                bottom: {
                    data: {}
                },
                img: {
                    url: "../system/file/upload"
                },
                file: {
                    url: "../human/sharding-file/auth/upload-parse-file"
                },
                fileAdmin: {
                    url: "../course-study/file/file-admin"
                },
                loadWaitTime: {
                    url: "../course-study/transform-queue"
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a, t, i = this.models.state.data, r = this.models.bottom, l = e.data, o = this.module.items.content;
                    if (l) {
                        if (a = l.questionAttrs,
                        r.data.score = l.score,
                        r.data.parsing = l.parsing,
                        !i.options)
                            for (s.assign(i, l),
                            i.options = [],
                            n = 0; n < a.length; n++)
                                t = this.models.state.isRichText(a[n].value),
                                i.options.push({
                                    content: a[n].value,
                                    isAnswer: 0 === Number(a[n].type),
                                    isRichText: t
                                });
                        o.components.content.html(l.content),
                        this.module.dispatch("checkMedia", l.content)
                    } else {
                        for (i.options = [],
                        n = 0; n < 4; n++)
                            i.options.push({
                                content: "",
                                isAnswer: !1,
                                isRichText: !1
                            });
                        i.type = this.module.renderOptions.type
                    }
                    i.subset = e.subset,
                    i.multiple = e.multiple,
                    this.models.state.changed(),
                    r.changed()
                },
                addOption: function() {
                    var e = this.models.state.data.options;
                    if (e.length + 1 > 10)
                        return void this.app.message.error(r.get("exam.question.types.option-only-10"));
                    e.push({
                        content: "",
                        isAnswer: !1,
                        isRichText: !1
                    }),
                    this.models.state.changed()
                },
                changeContent: function(e) {
                    this.models.state.data.options[Number(e.index)].content = e.content
                },
                removeOption: function(e) {
                    this.models.state.data.options.splice(Number(e.index), 1),
                    this.models.state.changed()
                },
                checkMedia: function(e) {
                    var n, a = new RegExp('<img id="preview-(.*?)".*?class="video-img".*?/>',"ig"), t = this.models.state, i = this;
                    return !!(e.search(a) > -1 && (n = a.exec(e),
                    e && e[1])) && (n = e[1].split(","),
                    t.data.attachments = {
                        id: n[0]
                    },
                    i.module.dispatch("fileQueue"))
                },
                fileQueue: function() {
                    var e = this.models.loadWaitTime
                      , n = this.models.state
                      , a = n.data.attachments || this.models.file.data.imgs[0];
                    return e.set({
                        ids: a.id
                    }),
                    this.post(e, {
                        loading: !0
                    }).then(function(e) {
                        var a = e[0][0];
                        a.translateFlag || (n.data.content = "音视频还未进行转换,请等待"),
                        1 === a.translateFlag && (n.data.content = "音视频转换已完成"),
                        2 === a.translateFlag && (n.data.content = "音视频转换失败，请重新上传"),
                        3 === a.translateFlag && (0 !== Number(a.rank) && 0 !== Number(a.duration) && (n.data.content = "视频正在转换中,排队undefined个,预估等待undefined钟"),
                        n.data.content = "视频正在转换中,请稍等"),
                        i(".progress-content .progress-text").html(n.data.content),
                        i(".progress-content").show()
                    })
                },
                changeAnswer: function(e) {
                    var n = this.models.state.data.options
                      , a = this.module.renderOptions.multiple
                      , s = n[Number(e.index)];
                    if ("" === i(this.module.items.options.$("content-" + e.index)).val() && !n[e.index].content)
                        return void this.app.message.error(r.get("exam.question.types.not-empty-option"));
                    a || t.map(n, function(e) {
                        var n = e;
                        n.isAnswer && (n.isAnswer = !1)
                    }),
                    s.isAnswer = !s.isAnswer,
                    this.models.state.changed()
                }
            }
        },
        a.mixin = {
            getValue: function() {
                var e = this.items.options
                  , n = this.store.models.state.data.options;
                return !!e.checkAnswer(n) && e.getResult(n)
            },
            isValidate: function() {
                return this.items.content.validate() && this.items.score.check()
            },
            clear: function() {
                this.renderOptions = {}
            },
            getContent: function() {
                return this.items.content.components.content.getValue()
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/edit/choise/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise"><form class="vertical">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n    <div data-region="score"></div>\n</form>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="row col-sm-left"><div class="col-sm-12">\n        <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.question.question-info", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</label>\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        <div class="m-bottom progress-wrapper"></div>\n        <textarea id="content" class="input" name="content" x-rule="required,maxLength:5000" x-marker="rich-text" x-target="content"></textarea>\n    </div></div>\n    <input type="hidden"/>\n' + (null != (s = a.if.call(r, null != n ? n.showDiffculty : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            4: function(e, n, a, t, i) {
                return '                <div class="inline-block">\n                    <div class="drop-down-wrapper left">\n                        <i class="iconfont icon-info custom-color-6"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <p>上传资源支持格式</p>\n                            <p>音视频：mp3、mp4(大小<100m  支持mpg,mpeg,mpe,avi,rm,3gp,rm,rmvb,wmv,mov,flv,mkv视频格式自动转换)</p>\n                        </div></div>\n                    </div>\n                </div>\n            '
            },
            6: function(e, n, a, t, i) {
                return '            <div class="inline-block pull-right progress-content" style="display:none">\n                <div id="refreshStatus">\n                    <i title="刷新" class="iconfont pointer icon-reload"></i>\n                    <div class="progress-text"></div>\n                </div>\n            </div>\n'
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '        <div class="row col-sm-left"><div class="col-sm-12">\n            <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <select id="difficulty" class="input" name="difficulty" x-rule="required" x-marker="selectize" readonly>' + (null != (s = a.each.call(r, null != n ? n.difficultys : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</select>\n        </div></div>\n"
            },
            9: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "\n                <option " + (null != (s = a.if.call(l, null != n ? n.selected : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="' + c((r = null != (r = a.key || (null != n ? n.key : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "key",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.value || (null != n ? n.value : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "value",
                    hash: {},
                    data: i
                }) : r)) + "</option>\n            "
            },
            10: function(e, n, a, t, i) {
                return ' selected="selected"'
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "    <label>\n        " + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        <a id="add" class="m-left" href="javascript:;">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.add-options", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n    </label>\n    <ul class="row col-sm-left">' + (null != (s = a.each.call(r, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            13: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression;
                return '\n        <li class="col-sm-6 col-p-right-0 options" id="item-' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" style="float:none;display: inline-block;">\n            <div class="input-box">\n                <div class="text">\n                    <span class="list-option">' + u((a.string || n && n.string || o).call(l, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + u((r = null != (r = a.code || (null != n ? n.code : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "code",
                    hash: {},
                    data: i
                }) : r)) + " :</span>\n                </div>\n" + (null != (s = a.if.call(l, null != n ? n.isRichText : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.program(16, i, 0),
                    data: i
                })) ? s : "") + '            </div>\n            <div class="clearfix set-row">\n                <div class="pull-left">\n                    <span class="set-answer pointer m-right  ' + (null != (s = a.if.call(l, null != n ? n.isAnswer : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" id="is-answer-' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="index" data-value="' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                        <span class="tick"><div class="iconfont icon-tick" style="display:block"></div></span>\n                        ' + u((a.string || n && n.string || o).call(l, "exam.question.types.set-to-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                    </span>\n                </div>\n                <div class="pull-right text-tips">\n                    <span data-dynamic-key="' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></span>\n                    <a href="javascript:;" id="remove-' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="index" data-value="' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((a.string || n && n.string || o).call(l, "remove", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                </div>\n            </div>\n        </li>\n    "
            },
            14: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="input block choise-content">\n                        ' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '\n                        <input type="hidden" id="content-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.content || (null != n ? n.content : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "content",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                    </div>\n'
            },
            16: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <textarea class="input block" placeholder="' + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.input-description", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" id="content-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="index" data-value="' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" rows="3">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</textarea>\n"
            },
            18: function(e, n, a, t, i) {
                return "selected"
            },
            20: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return (null != (s = a.if.call(r, null != n ? n.showScore : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.subset : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            21: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '        <div class="row col-sm-left">\n            <div class="col-sm-6 col-p-right-0">\n                <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <input class="input" id="score" value="' + o(e.lambda(null != (s = null != n ? n.bottom : n) ? s.score : s, n)) + '" x-rule="required,number,range:0:100,keepDecimal:1" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"/>\n            </div>\n        </div>\n'
            },
            23: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '        <div class="row col-sm-left">\n            <div class="col-sm-6 col-p-right-0">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <textarea class="oparsing input block" id="parsing" x-rule="maxLength:400" x-marker="rich-text" name="parsing" x-target="parsing" value="' + o(e.lambda(null != (s = null != n ? n.bottom : n) ? s.parsing : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.bottom : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</textarea>\n            </div>\n        </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "score", {
                    name: "view",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/edit/choise/view-content": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("lodash/collection");
        a.type = "form",
        a.bindings = {
            file: "fileChange",
            img: !0,
            state: !1
        },
        a.fileChange = function() {
            this.module.dispatch("fileQueue")
        }
        ,
        a.components = [function() {
            return {
                id: "content",
                name: "rich-text",
                options: {
                    model: "img",
                    supportMedia: !0,
                    question: this.module.renderOptions.data
                }
            }
        }
        , {
            id: "difficulty",
            name: "selectize"
        }],
        a.dataForTemplate = {
            isSupportMedia: function() {
                return !0
            },
            showDiffculty: function() {
                return 2 === this.module.renderOptions.editMode
            },
            difficultys: function(e) {
                var n = t.get("question-difficultys");
                return e.state && i.map(n, function(n) {
                    var a = n;
                    Number(a.key) === e.state.difficulty && (a.selected = !0)
                }),
                i.orderBy(n, ["key"], ["desc"])
            }
        },
        a.events = {
            "click refreshStatus": "refreshStatus"
        },
        a.handlers = {
            refreshStatus: function() {
                return this.module.dispatch("fileQueue")
            }
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/edit/choise/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("jquery")
          , s = e("drizzlejs")
          , r = e("./app/ext/views/form/validators")
          , l = e("./app/util/strings");
        a.type = "dynamic",
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                return t.map(e.state.options, function(e, n) {
                    var a = e;
                    a.index = n,
                    a.code = String.fromCharCode(a.index + "A".charCodeAt(0))
                }),
                e.state.options
            }
        },
        a.actions = {
            "click add": "addOption",
            "click remove-*": "removeOption",
            "click is-answer-*": "changeAnswer",
            "change content-*": "changeContent"
        },
        a.dataForActions = {
            changeContent: function(e) {
                var n = e;
                return n.content = this.$("content-" + e.index).value,
                n
            }
        },
        a.getEntity = function(e) {
            return e
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/question/senior-editor"
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this
              , a = n.bindings.state
              , t = a.data.options[e];
            return {
                data: {
                    id: e,
                    value: a.data.options[e].value
                },
                callback: function(e, a) {
                    n.changeOptionContent(e, a)
                },
                getValue: function() {
                    var a = i(n.$("content-" + e)).val();
                    return a && !t.isRichText && (a = window.KindEditor.escape(a)),
                    a
                }
            }
        }
        ,
        a.mixin = {
            checkAnswer: function(e) {
                var n, a = this.bindings.state.data;
                return !!this.validateOption() && (n = t.filter(e, function(e) {
                    return e.isAnswer
                }),
                a.multiple && n.length < 2 ? (this.app.message.error(l.get("exam.question.types.two-or-above")),
                !1) : !a.multiple && n.length < 1 ? (this.app.message.error(l.get("exam.question.types.one")),
                !1) : 1 !== a.type && "1" !== a.type || !(e.length < 2) || (this.app.message.error(l.get("exam.question.types.signle-option-must-gt-two")),
                !1))
            },
            getResult: function(e) {
                var n, a, t = [], r = {}, l = this.module.items.content, o = this.module.items.score, c = this.bindings.state.data;
                for (n = 0; n < e.length; n++)
                    a = i(this.$("content-" + n)).val(),
                    a || (a = e[n].content),
                    "" !== a && (e[n].isAnswer ? t.push({
                        value: a,
                        name: n,
                        type: 0
                    }) : t.push({
                        value: a,
                        name: n,
                        type: c.multiple ? 2 : 1
                    }));
                return r.questionAttrs = t,
                r.content = l.components.content.html(),
                r.contentText = l.components.content.text(),
                2 === this.module.renderOptions.editMode && (r.difficulty = l.$("difficulty").value),
                this.module.renderOptions.hideScore || (r.score = o.$("score").value),
                r.id = c.id,
                s.assign(r, o.getData()),
                r
            },
            changeOptionContent: function(e, n) {
                var a = this.bindings.state.data.options
                  , t = this.getResult(a)
                  , i = this.bindings.state.isRichText(n);
                return a[e].content = n,
                a[e].isRichText = i,
                this.module.dispatch("init", {
                    data: t
                })
            },
            validateOption: function() {
                var e, n = this.bindings.state.data.options, a = 0, t = !0, s = function(e) {
                    return i(e).removeClass("error"),
                    r.required.fn(e.value) ? !!r.maxLength.fn(e.value, 1e3) || (this.app.message.error(l.get("exam.question.types.option-maximum-length") + 1e3),
                    i(e).addClass("error"),
                    !1) : (i(e).addClass("error"),
                    !1)
                };
                if (n)
                    for (a; a < n.length && (e = this.$("content-" + a),
                    t = s.call(this, e)); a++)
                        ;
                return t
            }
        }
    }
    , {
        "./app/ext/views/form/validators": "./app/ext/views/form/validators",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/edit/choise/view-score": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            img: !1,
            state: !1,
            bottom: !0
        },
        a.dataForTemplate = {
            showScore: function() {
                return !this.module.renderOptions.hideScore
            }
        },
        a.components = [{
            id: "parsing",
            name: "rich-text",
            options: {
                model: "img",
                isCheckForm: !0
            }
        }],
        a.mixin = {
            getData: function() {
                return {
                    parsing: this.components.parsing && this.components.parsing.getValue(),
                    parsingText: this.components.parsing && this.components.parsing.getInnerText()
                }
            },
            check: function() {
                var e = this.components.parsing;
                return !(e && !e.validate()) && this.validate()
            }
        }
    }
    , {}],
    "./app/exam/exam/question/types/edit/judgement/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("jquery")
          , s = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options",
            score: "score"
        },
        a.store = {
            models: {
                state: {
                    data: {}
                },
                img: {
                    url: "../system/file/upload"
                },
                file: {
                    url: "../human/sharding-file/auth/upload-parse-file"
                },
                fileAdmin: {
                    url: "../course-study/file/file-admin"
                },
                loadWaitTime: {
                    url: "../course-study/transform-queue"
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a = this.models.state.data, i = e.data;
                    i && (n = i.questionAttrs,
                    a.correct = "1" === n[0].value,
                    a.error = "0" === n[0].value,
                    t.assign(a, i)),
                    a.type = this.module.renderOptions.type
                },
                fileQueue: function() {
                    var e = this.models.loadWaitTime
                      , n = this.models.file.data.imgs[0]
                      , a = this.models.state;
                    return e.set({
                        ids: n.id
                    }),
                    this.post(e).then(function(e) {
                        var n = e[0][0];
                        n.translateFlag || (a.data.content = "音视频还未进行转换,请等待"),
                        1 === n.translateFlag && (a.data.content = "音视频转换已完成"),
                        2 === n.translateFlag && (a.data.content = "音视频转换失败，请重新上传"),
                        3 === n.translateFlag && (a.data.content = "视频正在转换中,请稍等"),
                        i(".progress-content").html(a.data.content)
                    })
                }
            }
        },
        a.mixin = {
            getValue: function() {
                var e = this.items.options;
                return e.checkAnswer() ? e.getResult() : (this.app.message.error(s.get("exam.question.types.t-or-f")),
                !1)
            },
            isValidate: function() {
                return this.items.content.validate() && this.items.score.validate()
            },
            clear: function() {
                this.renderOptions = {}
            },
            getContent: function() {
                return this.items.content.components.content.getValue()
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/exam/question/types/edit/judgement/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n    <div data-region="score"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.escapeExpression;
                return '    <div class="row col-sm-left"><div class="col-sm-12">\n        <label class="required">' + l((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.question.question-info", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</label>\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        <div class="m-bottom progress-wrapper"></div>\n        <textarea id="content" class="input" name="content" x-rule="required,maxLength:5000" x-marker="rich-text" x-target="content">' + l(e.lambda(null != (s = null != n ? n.state : n) ? s.content : s, n)) + "</textarea>\n    </div></div>\n"
            },
            4: function(e, n, a, t, i) {
                return '                <div class="inline-block">\n                    <div class="drop-down-wrapper left">\n                        <i class="iconfont icon-info custom-color-6"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <p>上传资源支持格式</p>\n                            <p>音视频：mp3、mp4(大小<100m  支持mpg,mpeg,mpe,avi,rm,3gp,rm,rmvb,wmv,mov,flv,mkv视频格式自动转换)</p>\n                        </div></div>\n                    </div>\n                </div>\n            '
            },
            6: function(e, n, a, t, i) {
                return '            <div class="inline-block pull-right progress-content" style="display:none">\n                <div id="refreshStatus">\n                    <i title="刷新" class="iconfont pointer icon-reload"></i>\n                    <div class="progress-text"></div>\n                </div>\n            </div>\n'
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <input class="inline-block" ' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.correct : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="judge" value="1"/>\n    <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "right", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n    <input class="inline-block m-left" ' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.error : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="judge" value="0"/>\n    <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "wrong", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            9: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="row col-sm-left">\n        <div class="col-sm-6">\n            <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <input class="input" id="score" x-rule="required,number,range:0:100,keepDecimal:1" value="' + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"/>\n        </div>\n    </div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "score", {
                    name: "view",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/edit/judgement/view-content": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            file: "fileChange",
            img: !0,
            state: !0
        },
        a.fileChange = function() {
            this.module.dispatch("fileQueue")
        }
        ,
        a.components = [{
            id: "content",
            name: "rich-text",
            options: {
                model: "img",
                supportMedia: !0
            }
        }]
    }
    , {}],
    "./app/exam/exam/question/types/edit/judgement/view-options": [function(e, n, a) {
        var t = e("jquery");
        a.bindings = {
            state: !0
        },
        a.mixin = {
            checkAnswer: function() {
                return t(this.$$('[name="judge"]:checked')).val()
            },
            getResult: function() {
                var e = t(this.$$('[name="judge"]:checked')).val()
                  , n = {}
                  , a = this.module.items.content
                  , i = this.module.items.score
                  , s = this.bindings.state.data;
                return n.content = a.components.content.html(),
                n.contentText = a.components.content.text(),
                n.questionAttrs = [{
                    value: e,
                    name: e,
                    type: 3
                }],
                n.score = i.$("score").value,
                n.id = s.id,
                n.type = s.type,
                n
            }
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/exam/question/types/edit/judgement/view-score": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            state: !0
        }
    }
    , {}],
    "./app/exam/exam/question/types/edit/line/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("jquery")
          , s = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options",
            score: "score"
        },
        a.store = {
            models: {
                state: {},
                img: {
                    url: "../system/file/upload"
                },
                file: {
                    url: "../human/sharding-file/auth/upload-parse-file"
                },
                fileAdmin: {
                    url: "../course-study/file/file-admin"
                },
                loadWaitTime: {
                    url: "../course-study/transform-queue"
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a, i = this.models.state.data = {
                        content: e.content || "",
                        options: []
                    }, s = e.data;
                    if (e.options)
                        return void (i.options = e.options);
                    if (s) {
                        for (a = s.questionAttrs,
                        n = 0; n < a.length; n++)
                            i.options.push({
                                content: a[n].name,
                                match: a[n].value,
                                isAnswer: !1,
                                isRichText: !1
                            });
                        t.assign(i, s)
                    } else {
                        for (n = 0; n < 4; n++)
                            i.options.push({
                                content: "",
                                isAnswer: !1,
                                isRichText: !1
                            });
                        i.type = this.module.renderOptions.type
                    }
                },
                addOption: function() {
                    this.models.state.data.options.push({
                        content: "",
                        isAnswer: !1,
                        isRichText: !1
                    }),
                    this.models.state.changed()
                },
                removeOption: function(e) {
                    this.models.state.data.options.splice(Number(e.index), 1),
                    this.models.state.changed()
                },
                changeContent: function(e) {
                    this.models.state.data.options[Number(e.index)].content = e.content
                },
                fileQueue: function() {
                    var e = this.models.loadWaitTime
                      , n = this.models.file.data.imgs[0]
                      , a = this.models.state;
                    return e.set({
                        ids: n.id
                    }),
                    this.post(e).then(function(e) {
                        var n = e[0][0];
                        n.translateFlag || (a.data.content = "音视频还未进行转换,请等待"),
                        1 === n.translateFlag && (a.data.content = "音视频转换已完成"),
                        2 === n.translateFlag && (a.data.content = "音视频转换失败，请重新上传"),
                        3 === n.translateFlag && (a.data.content = "视频正在转换中,请稍等"),
                        i(".progress-content").html(a.data.content)
                    })
                }
            }
        },
        a.mixin = {
            getValue: function() {
                var e = this.items.options
                  , n = this.store.models.state.data.options;
                return e.checkAnswer(n) ? e.getResult(n) : (this.app.message.error(s.get("exam.question.types.incomplete-options")),
                !1)
            },
            isValidate: function() {
                return this.items.content.validate() && this.items.score.validate()
            },
            clear: function() {
                this.renderOptions = {}
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/exam/question/types/edit/line/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n    <div data-region="score"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.escapeExpression;
                return '    <div class="row"><div class="col-sm-12">\n        <label class="required">' + l((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.question.question-info", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</label>\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        <div class="m-bottom progress-wrapper"></div>\n        <textarea id="content" class="input" name="content" x-rule="required,maxLength:3000" x-marker="rich-text" x-target="content">' + l(e.lambda(null != (s = null != n ? n.state : n) ? s.content : s, n)) + "</textarea>\n    </div></div>\n"
            },
            4: function(e, n, a, t, i) {
                return '                <div class="inline-block">\n                    <div class="drop-down-wrapper left">\n                        <i class="iconfont icon-info custom-color-6"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <p>上传资源支持格式</p>\n                            <p>音视频：mp3、mp4(大小<100m  支持mpg,mpeg,mpe,avi,rm,3gp,rm,rmvb,wmv,mov,flv,mkv视频格式自动转换)</p>\n                        </div></div>\n                    </div>\n                </div>\n            '
            },
            6: function(e, n, a, t, i) {
                return '            <div class="inline-block pull-right progress-content" style="display:none">\n                <div id="refreshStatus">\n                    <i title="刷新" class="iconfont pointer icon-reload"></i>\n                    <div class="progress-text"></div>\n                </div>\n            </div>\n'
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "    <label>\n        " + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        <a id="add" class="m-left" href="javascript:;">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.add-options", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n    </label>\n    <ul class="row">' + (null != (s = a.each.call(r, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = "function", c = e.escapeExpression;
                return '\n        <li class="col-sm-6 options" id="item-' + c((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '">\n            <div class="input-box">\n                <div class="text">\n                    <span class="list-option">' + c((a.string || n && n.string || l).call(r, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + c((s = null != (s = a.code || (null != n ? n.code : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "code",
                    hash: {},
                    data: i
                }) : s)) + ':</span>\n                </div>\n                <textarea class="input block" placeholder="' + c((a.string || n && n.string || l).call(r, "exam.research-activity.question.input-description", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" id="content-' + c((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="index" data-value="' + c((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((s = null != (s = a.content || (null != n ? n.content : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "content",
                    hash: {},
                    data: i
                }) : s)) + '</textarea>\n            </div>\n            <div class="input-box">\n                <div class="text">' + c((a.string || n && n.string || l).call(r, "exam.question.types.match-option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <textarea class="input block" placeholder="' + c((a.string || n && n.string || l).call(r, "exam.question.types.input-match-desc", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" id="match-' + c((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '" value="' + c((s = null != (s = a.match || (null != n ? n.match : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "match",
                    hash: {},
                    data: i
                }) : s)) + '"></textarea>\n            </div>\n            <div class="pull-right text-tips m-top">\n                <a class="m-right">' + c((a.string || n && n.string || l).call(r, "senior-editor", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n                <a href="javascript:;" id="remove-' + c((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="index" data-value="' + c((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((a.string || n && n.string || l).call(r, "remove", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n            </div>\n        </li>\n    "
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="row">\n        <div class="col-sm-6">\n            <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <input class="input" id="score" x-rule="required,number,interval:0:1:100:0,keepDecimal:1" value="' + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"/>\n        </div>\n    </div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "score", {
                    name: "view",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/edit/line/view-content": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            file: "fileChange",
            img: !0,
            state: !1
        },
        a.fileChange = function() {
            this.module.dispatch("fileQueue")
        }
        ,
        a.components = [{
            id: "content",
            name: "rich-text",
            options: {
                model: "img",
                supportMedia: !0
            }
        }]
    }
    , {}],
    "./app/exam/exam/question/types/edit/line/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("jquery");
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                return t.map(e.state.options, function(e, n) {
                    var a = e;
                    a.index = n,
                    a.code = String.fromCharCode(a.index + "A".charCodeAt(0))
                }),
                e.state.options
            }
        },
        a.actions = {
            "click add": "addOption",
            "click remove-*": "removeOption",
            "change content-*": "changeContent"
        },
        a.dataForActions = {
            changeContent: function(e) {
                var n = e;
                return n.content = this.$("content-" + e.index).value,
                n
            }
        },
        a.mixin = {
            checkAnswer: function(e) {
                var n;
                for (n = 0; n < e.length; n++) {
                    if ("" === i(this.$("content-" + n)).val() && "" !== i(this.$("match-" + n)).val())
                        return !1;
                    if ("" !== i(this.$("content-" + n)).val() && "" === i(this.$("match-" + n)).val())
                        return !1
                }
                return !0
            },
            getResult: function(e) {
                var n, a, t, s = [], r = {}, l = this.module.items.content, o = this.module.items.score, c = this.bindings.state.data;
                for (n = 0; n < e.length; n++)
                    a = i(this.$("content-" + n)).val(),
                    t = i(this.$("match-" + n)).val(),
                    "" !== a && "" !== t && s.push({
                        value: t,
                        name: a,
                        type: 7
                    });
                return r.questionAttrs = s,
                r.content = l.components.content.html(),
                r.score = o.$("score").value,
                r.type = c.type,
                r.id = c.id,
                r
            }
        }
    }
    , {
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/edit/line/view-score": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/edit/judgement/view-score"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/edit/judgement/view-score"
    }],
    "./app/exam/exam/question/types/edit/question-answer/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("jquery");
        a.items = {
            content: "content",
            score: "score"
        },
        a.store = {
            models: {
                state: {
                    data: {}
                },
                bottom: {
                    data: {}
                },
                img: {
                    url: "../system/file/upload"
                },
                file: {
                    url: "../human/sharding-file/auth/upload-parse-file"
                },
                fileAdmin: {
                    url: "../course-study/file/file-admin"
                },
                loadWaitTime: {
                    url: "../course-study/transform-queue"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data;
                    a.subset = e.subset,
                    n && (a.answer = n.questionAttrs[0].value,
                    t.assign(a, n)),
                    a.type = this.module.renderOptions.type
                },
                fileQueue: function() {
                    var e = this.models.loadWaitTime
                      , n = this.models.file.data.imgs[0]
                      , a = this.models.state;
                    return e.set({
                        ids: n.id
                    }),
                    this.post(e).then(function(e) {
                        var n = e[0][0];
                        n.translateFlag || (a.data.content = "音视频还未进行转换,请等待"),
                        1 === n.translateFlag && (a.data.content = "音视频转换已完成"),
                        2 === n.translateFlag && (a.data.content = "音视频转换失败，请重新上传"),
                        3 === n.translateFlag && (a.data.content = "视频正在转换中,请稍等"),
                        i(".progress-content").html(a.data.content)
                    })
                }
            }
        },
        a.mixin = {
            getValue: function() {
                return this.items.content.getResult()
            },
            isValidate: function() {
                return this.items.content.validate() && this.items.score.check()
            },
            clear: function() {
                this.renderOptions = {}
            },
            getContent: function() {
                return this.items.content.components.content.getValue()
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/exam/question/types/edit/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise"><form class="vertical">\n    <div data-region="content"></div>\n    <div data-region="score"></div>\n</form>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="row col-sm-left"><div class="col-sm-12">\n        <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.question-info", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</label>\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        <div class="m-bottom progress-wrapper"></div>\n        <textarea id="content" class="input" name="content" x-rule="required,maxLength:5000" x-marker="rich-text" x-target="content">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</textarea>\n        <input type="hidden"/>\n    </div></div>\n    <div class="row col-sm-left"><div class="col-sm-12">\n' + (null != (s = a.if.call(r, null != n ? n.showDiffculty : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        <div class="text-tips"></div>\n        <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.question.types.reference-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n        <textarea id="answer" class="input" x-rule="required,maxLength:3000" name="answer">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</textarea>\n    </div></div>\n"
            },
            4: function(e, n, a, t, i) {
                return '                <div class="inline-block">\n                    <div class="drop-down-wrapper left">\n                        <i class="iconfont icon-info custom-color-6"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <p>上传资源支持格式</p>\n                            <p>音视频：mp3、mp4(大小<100m  支持mpg,mpeg,mpe,avi,rm,3gp,rm,rmvb,wmv,mov,flv,mkv视频格式自动转换)</p>\n                        </div></div>\n                    </div>\n                </div>\n            '
            },
            6: function(e, n, a, t, i) {
                return '            <div class="inline-block pull-right progress-content" style="display:none">\n                <div id="refreshStatus">\n                    <i title="刷新" class="iconfont pointer icon-reload"></i>\n                    <div class="progress-text"></div>\n                </div>\n            </div>\n'
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="row col-sm-left"><div class="col-sm-12">\n                <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <select id="difficulty" class="input" name="difficulty" x-rule="required" x-marker="selectize" readonly>' + (null != (s = a.each.call(r, null != n ? n.difficultys : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</select>\n            </div></div>\n"
            },
            9: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "\n                    <option " + (null != (s = a.if.call(l, null != n ? n.selected : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="' + c((r = null != (r = a.key || (null != n ? n.key : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "key",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.value || (null != n ? n.value : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "value",
                    hash: {},
                    data: i
                }) : r)) + "</option>\n                "
            },
            10: function(e, n, a, t, i) {
                return ' selected="selected"'
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return (null != (s = a.if.call(r, null != n ? n.showScore : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.subset : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '        <div class="row col-sm-left">\n            <div class="col-sm-6">\n                <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <input class="input" id="score" x-rule="required,number,range:0:100,keepDecimal:1" value="' + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"/>\n            </div>\n        </div>\n'
            },
            15: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '        <div class="row col-sm-left">\n            <div class="col-sm-6 col-p-right-0">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <textarea class="oparsing input block" id="parsing" x-rule="maxLength:400" x-marker="rich-text" name="parsing" x-target="parsing" value="' + o(e.lambda(null != (s = null != n ? n.bottom : n) ? s.parsing : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.bottom : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</textarea>\n            </div>\n        </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "score", {
                    name: "view",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/edit/question-answer/view-content": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("jquery")
          , s = e("drizzlejs")
          , r = e("./app/util/maps");
        a.type = "form",
        a.bindings = {
            file: "fileChange",
            img: !0,
            state: !1
        },
        a.fileChange = function() {
            this.module.dispatch("fileQueue")
        }
        ,
        a.components = [{
            id: "content",
            name: "rich-text",
            options: {
                model: "img",
                supportMedia: !0
            }
        }, {
            id: "difficulty",
            name: "selectize"
        }],
        a.mixin = {
            getResult: function() {
                var e = {}
                  , n = i(this.$$('[name="answer"]')).val()
                  , a = this.module.items.score
                  , t = this.bindings.state.data;
                return e.questionAttrs = [{
                    value: n,
                    name: n,
                    type: 5
                }],
                e.content = this.components.content.html(),
                e.contentText = this.components.content.text(),
                this.module.renderOptions.hideScore || (e.score = a.$("score").value),
                s.assign(e, a.getData()),
                e.type = t.type,
                e.id = t.id,
                2 === this.module.renderOptions.editMode && (e.difficulty = this.$("difficulty").value),
                e
            }
        },
        a.dataForTemplate = {
            showDiffculty: function() {
                return 2 === this.module.renderOptions.editMode
            },
            difficultys: function(e) {
                var n = r.get("question-difficultys");
                return e.state && t.map(n, function(n) {
                    var a = n;
                    Number(a.key) === Number(e.state.difficulty) && (a.selected = !0)
                }),
                t.orderBy(n, ["key"], ["desc"])
            }
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/edit/question-answer/view-score": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            img: !1,
            state: !0
        },
        a.dataForTemplate = {
            showScore: function() {
                return !this.module.renderOptions.hideScore
            }
        },
        a.components = [{
            id: "parsing",
            name: "rich-text",
            options: {
                model: "img",
                isCheckForm: !0
            }
        }],
        a.mixin = {
            getData: function() {
                return {
                    parsing: this.components.parsing && this.components.parsing.getValue(),
                    parsingText: this.components.parsing && this.components.parsing.getInnerText()
                }
            },
            check: function() {
                var e = this.components.parsing;
                return !(e && !e.validate()) && this.validate()
            }
        }
    }
    , {}],
    "./app/exam/exam/question/types/edit/reading-comprehension/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("jquery")
          , r = e("./app/util/strings");
        a.items = {
            content: "content",
            modal: "",
            score: "score",
            subs: "subs"
        },
        a.store = {
            models: {
                img: {
                    url: "../system/file/upload"
                },
                file: {
                    url: "../human/sharding-file/auth/upload-parse-file"
                },
                fileAdmin: {
                    url: "../course-study/file/file-admin"
                },
                loadWaitTime: {
                    url: "../course-study/transform-queue"
                },
                state: {
                    data: {}
                },
                sub: {
                    mixin: {
                        getQuestionById: function(e) {
                            return t.find(this.data.questions, ["id", e])
                        },
                        sumScore: function() {
                            var e = t.map(this.data.questions, function(e) {
                                return e.score
                            });
                            this.module.store.models.state.data.score = parseFloat(t.reduce(e, function(e, n) {
                                return Number(e) + Number(n)
                            }, 0).toFixed(1))
                        },
                        sortQuestion: function() {
                            this.data.questions = t.orderBy(this.data.questions, ["type"], ["asc"])
                        }
                    }
                },
                readingQuestion: {
                    url: "../exam/question/front"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data
                      , s = this.module.items.content
                      , r = this;
                    if (this.models.sub.data = {
                        questions: []
                    },
                    n && n.subs && n.subs.length > 0)
                        this.models.sub.data.questions = t.orderBy(n.subs, ["createTime", "type"], ["asc", "asc"]),
                        i.assign(a, n),
                        s.components.content.html(n.content);
                    else if (n && 0 === n.subs.length && n.id)
                        return i.assign(this.models.readingQuestion.data, {
                            id: n.id
                        }),
                        this.get(this.models.readingQuestion).then(function() {
                            var e = r.models.readingQuestion.data;
                            i.assign(a, e, {
                                score: parseFloat((e.score / 100).toFixed(1))
                            }),
                            s.components.content.html(e.content),
                            r.models.sub.data.questions = t.orderBy(t.map(e.subs, function(e) {
                                return i.assign(e, {
                                    score: parseFloat((e.score / 100).toFixed(1))
                                })
                            }), ["createTime", "type"], ["asc", "asc"]),
                            r.models.sub.changed(),
                            r.models.state.changed()
                        });
                    return this.models.sub.changed(),
                    this.models.state.changed(),
                    ""
                },
                refreshSub: function() {
                    this.models.sub.sumScore(),
                    this.models.sub.sortQuestion(),
                    this.models.state.changed(),
                    this.models.sub.changed()
                },
                fileQueue: function() {
                    var e = this.models.loadWaitTime
                      , n = this.models.file.data.imgs[0]
                      , a = this.models.state;
                    return e.set({
                        ids: n.id
                    }),
                    this.post(e).then(function(e) {
                        var n = e[0][0];
                        n.translateFlag || (a.data.content = "音视频还未进行转换,请等待"),
                        1 === n.translateFlag && (a.data.content = "音视频转换已完成"),
                        2 === n.translateFlag && (a.data.content = "音视频转换失败，请重新上传"),
                        3 === n.translateFlag && (a.data.content = "视频正在转换中,请稍等"),
                        s(".progress-content").html(a.data.content)
                    })
                }
            }
        },
        a.mixin = {
            getValue: function() {
                var e = {}
                  , n = this.items.content
                  , a = this.items.score
                  , t = this.store.models.state.data;
                return e.questionAttrs = this.store.models.sub.data.questions,
                e.content = n.components.content.html(),
                e.contentText = n.components.content.text(),
                e.score = a.$("score").value,
                e.id = t.id,
                e.type = "6",
                e
            },
            isValidate: function() {
                var e = this.store.models.sub.data
                  , n = function(e) {
                    return !!(e && e.questions.length > 0) || (this.app.message.error(r.get("exam.question.types.input-sub-question")),
                    !1)
                };
                return this.items.content.validate() && this.items.score.validate() && n.call(this, e)
            },
            clear: function() {
                this.renderOptions = {}
            },
            getContent: function() {
                return this.items.content.components.content.getValue()
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/edit/reading-comprehension/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise">\n    <div data-region="content"></div>\n    <div data-region="subs"></div>\n    <div data-region="score"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="row col-sm-left"><div class="col-sm-12">\n        <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.question-info", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</label>\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        <div class="m-bottom progress-wrapper"></div>\n        <textarea id="content" class="input" name="content" x-rule="required,maxLength:5000" x-marker="rich-text" x-target="content"></textarea>\n    </div></div>\n    <label>\n        <div id="add-question-1" class="btn">' + o((a.string || n && n.string || l).call(r, "exam.question.types.add-signle-option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        <div id="add-question-2" class="btn">' + o((a.string || n && n.string || l).call(r, "exam.question.types.add-multi-options", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        <div id="add-question-5" class="btn">' + o((a.string || n && n.string || l).call(r, "exam.question.types.add-question-and-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n    </label>\n"
            },
            4: function(e, n, a, t, i) {
                return '                <div class="inline-block">\n                    <div class="drop-down-wrapper left">\n                        <i class="iconfont icon-info custom-color-6"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <p>上传资源支持格式</p>\n                            <p>音视频：mp3、mp4(大小<100m  支持mpg,mpeg,mpe,avi,rm,3gp,rm,rmvb,wmv,mov,flv,mkv视频格式自动转换)</p>\n                        </div></div>\n                    </div>\n                </div>\n            '
            },
            6: function(e, n, a, t, i) {
                return '            <div class="inline-block pull-right progress-content" style="display:none">\n                <div id="refreshStatus">\n                    <i title="刷新" class="iconfont pointer icon-reload"></i>\n                    <div class="progress-text"></div>\n                </div>\n            </div>\n'
            },
            8: function(e, n, a, t, i) {
                var s;
                return '<div class="preview-content">\n    <div class="question-list">' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.subs : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n</div>"
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "\n        (" + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + ')\n        <div class="question-item">\n            <div data-dynamic-key="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n            <div class="text-right"><div class="m-top">\n                <i class="iconfont icon-edit-solid custom-color-4 pe-2x pointer m-right" id="edit-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="javascript:;"></i>\n                <i class="iconfont icon-delete-solid custom-color-3 pointer" id="delete-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="javascript:;"></i>\n            </div></div>\n        </div>\n    '
            },
            11: function(e, n, a, t, i) {
                return '    <form class="vertical">\n        <div data-dynamic-key="modal"></div>\n    </form>\n'
            },
            13: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '    <div class="row col-sm-left">\n        <div class="col-sm-6">\n            <label class="required">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.question.types.sorting-question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <input class="input" id="score" value="' + r(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '" readOnly="readOnly"/>\n        </div>\n    </div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "subs", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "modal", {
                    name: "view",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "score", {
                    name: "view",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/edit/reading-comprehension/view-content": [function(e, n, a) {
        var t = e("./app/util/maps");
        a.type = "form",
        a.bindings = {
            file: "fileChange",
            img: !0,
            state: !1
        },
        a.fileChange = function() {
            this.module.dispatch("fileQueue")
        }
        ,
        a.events = {
            "click add-question-*": "addQuestion"
        },
        a.handlers = {
            addQuestion: function(e) {
                var n = {
                    type: e
                }
                  , a = this.module.items.modal;
                n.title = t.get("question-types")[Number(n.type) - 1].value,
                n.multiple = 2 === Number(n.type),
                n.editMode = 2,
                this.app.viewport.modal(a, n)
            }
        },
        a.components = [{
            id: "content",
            name: "rich-text",
            options: {
                model: "img",
                supportMedia: !0
            }
        }]
    }
    , {
        "./app/util/maps": "./app/util/maps"
    }],
    "./app/exam/exam/question/types/edit/reading-comprehension/view-modal": [function(e, n, a) {
        var t = e("./app/exam/exam-question-types")
          , i = e("./app/util/strings");
        a.bindings = {
            sub: !0
        },
        a.type = "dynamic",
        a.getEntity = function() {
            return this.renderOptions.data
        }
        ,
        a.getEntityModuleName = function(e, n) {
            var a = n ? n.type : this.renderOptions.type;
            return t.get(a, 1)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = e ? e.type : this.renderOptions.type;
            return {
                data: e,
                subset: !0,
                multiple: 2 === Number(n),
                editMode: this.renderOptions.editMode || 1
            }
        }
        ,
        a.buttons = [{
            text: i.get("ok"),
            fn: function() {
                var e = this.getEntities()[0]
                  , n = e.getValue()
                  , a = this.bindings.sub.data
                  , t = !1
                  , i = 0;
                if (!e.isValidate() || !n)
                    return !1;
                for (i; i < a.questions.length; i++)
                    a.questions[i].id === n.id && (n.type = this.renderOptions.type || this.renderOptions.data.type,
                    a.questions[i] = n,
                    t = !0);
                return t || (n.id = "q-" + (a.questions.length + 1),
                n.type = this.renderOptions.type || this.renderOptions.data.type,
                a.questions.push(n)),
                this.module.dispatch("refreshSub")
            }
        }]
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/exam/question/types/edit/reading-comprehension/view-score": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/edit/judgement/view-score"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/edit/judgement/view-score"
    }],
    "./app/exam/exam/question/types/edit/reading-comprehension/view-subs": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/exam/exam-question-types")
          , r = e("./app/util/strings");
        a.type = "dynamic",
        a.bindings = {
            sub: !0
        },
        a.events = {
            "click edit-*": "editSub",
            "click delete-*": "deleteSub"
        },
        a.handlers = {
            editSub: function(e) {
                var n = this.bindings.sub.getQuestionById(e)
                  , a = {
                    data: n,
                    multiple: 2 === Number(n.type),
                    title: 1 === Number(n.type) ? r.get("exam.dimension.buttons.single-choose") : r.get("exam.dimension.buttons.mutiple-choose"),
                    editMode: 2
                };
                this.app.viewport.modal(this.module.items.modal, a)
            },
            deleteSub: function(e) {
                var n = r.get("exam.question.types.data-delete-confirm")
                  , a = this
                  , s = this.bindings.sub.data.questions;
                a.app.message.confirm(n, function() {
                    var n = t.map(t.filter(s, function(n) {
                        return n.id !== e
                    }), function(e, n) {
                        return i.assign(e, {
                            id: "q-" + n
                        })
                    });
                    return a.bindings.sub.data.questions = n,
                    a.module.dispatch("refreshSub")
                }, function() {
                    return !1
                })
            }
        },
        a.dataForTemplate = {
            subs: function() {
                var e = this.bindings.sub.data.questions;
                return t.map(e, function(e, n) {
                    var a = e;
                    return a.index = n + 1,
                    a
                })
            }
        },
        a.getEntity = function(e) {
            return this.module.store.models.sub.getQuestionById(e)
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return s.get(n.type, 2)
        }
        ,
        a.dataForEntityModule = function(e) {
            return {
                type: e.type,
                data: e,
                multiple: 2 === e.type,
                previewMode: 1
            }
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/edit/sentence-completion/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("jquery")
          , s = e("drizzlejs");
        a.items = {
            content: "content",
            score: "score"
        },
        a.store = {
            models: {
                state: {
                    data: {},
                    mixin: {
                        patch: function(e, n) {
                            var a, t = new RegExp(e,"g");
                            return "" === n || !!(a = n.match(t)) && a.length
                        }
                    }
                },
                img: {
                    url: "../system/file/upload"
                },
                file: {
                    url: "../human/sharding-file/auth/upload-parse-file"
                },
                fileAdmin: {
                    url: "../course-study/file/file-admin"
                },
                loadWaitTime: {
                    url: "../course-study/transform-queue"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state
                      , i = a.data;
                    n && (i.answer = t.map(n.questionAttrs, function(e) {
                        return e.value
                    }).join("|"),
                    s.assign(i, n))
                },
                fileQueue: function() {
                    var e = this.models.loadWaitTime
                      , n = this.models.file.data.imgs[0]
                      , a = this.models.state;
                    return e.set({
                        ids: n.id
                    }),
                    this.post(e).then(function(e) {
                        var n = e[0][0];
                        n.translateFlag || (a.data.content = "音视频还未进行转换,请等待"),
                        1 === n.translateFlag && (a.data.content = "音视频转换已完成"),
                        2 === n.translateFlag && (a.data.content = "音视频转换失败，请重新上传"),
                        3 === n.translateFlag && (a.data.content = "视频正在转换中,请稍等"),
                        i(".progress-content").html(a.data.content)
                    })
                }
            }
        },
        a.mixin = {
            getValue: function() {
                var e = this.items.content;
                return !!e.checkAnswer() && e.getResult()
            },
            isValidate: function() {
                return this.items.content.validate() && this.items.score.validate()
            },
            clear: function() {
                this.renderOptions = {}
            },
            getContent: function() {
                return this.items.content.components.content.getValue()
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/edit/sentence-completion/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise">\n    <div data-region="content"></div>\n    <div data-region="score"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '    <div class="row col-sm-left"><div class="col-sm-12">\n        <div class="relative">\n            <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.question-info", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</label>\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            <div class="m-bottom progress-wrapper"></div>\n            <div class="text-tips clearfix">\n                <span class="error">' + o((a.string || n && n.string || l).call(r, "exam.question.types.space", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                <span>" + o((a.string || n && n.string || l).call(r, "exam.question.types.example", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span>\n            </div>\n            <textarea id="content" class="input" name="content" x-rule="required,maxLength:5000" x-marker="rich-text" x-target="content">' + o(c(null != (s = null != n ? n.state : n) ? s.content : s, n)) + '</textarea>\n        </div>\n        <br/>\n        <div class="relative">\n            <div class="text-tips clearfix">\n                <span class="error">' + o((a.string || n && n.string || l).call(r, "exam.question.types.line", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                <span>" + o((a.string || n && n.string || l).call(r, "exam.question.types.example2", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span>\n            </div>\n            <textarea id="answer" class="input" x-rule="required,maxLength:3000">' + o(c(null != (s = null != n ? n.state : n) ? s.answer : s, n)) + "</textarea>\n        </div>\n    </div></div>\n"
            },
            4: function(e, n, a, t, i) {
                return '                    <div class="inline-block">\n                        <div class="drop-down-wrapper left">\n                            <i class="iconfont icon-info custom-color-6"></i>\n                            <div class="drop-down-content"><div class="content">\n                                <p>上传资源支持格式</p>\n                                <p>音视频：mp3、mp4(大小<100m  支持mpg,mpeg,mpe,avi,rm,3gp,rm,rmvb,wmv,mov,flv,mkv视频格式自动转换)</p>\n                            </div></div>\n                        </div>\n                    </div>\n                '
            },
            6: function(e, n, a, t, i) {
                return '                <div class="inline-block pull-right progress-content" style="display:none">\n                    <div id="refreshStatus">\n                        <i title="刷新" class="iconfont pointer icon-reload"></i>\n                        <div class="progress-text"></div>\n                    </div>\n                </div>\n'
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="row col-sm-left">\n        <div class="col-sm-6">\n            <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <input class="input" id="score" x-rule="required,number,range:0:100,keepDecimal:1" value="' + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"/>\n        </div>\n    </div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "score", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/edit/sentence-completion/view-content": [function(e, n, a) {
        var t = e("jquery")
          , i = e("./app/util/strings");
        a.type = "form",
        a.bindings = {
            file: "fileChange",
            img: !0,
            state: !0
        },
        a.fileChange = function() {
            this.module.dispatch("fileQueue")
        }
        ,
        a.components = [{
            id: "content",
            name: "rich-text",
            options: {
                model: "img",
                supportMedia: !0
            }
        }],
        a.mixin = {
            checkAnswer: function() {
                var e = t(this.$("answer")).val().split("|")
                  , n = this.components.content.html()
                  , a = this.module.store.models.state;
                return "" === n ? (this.app.message.error(i.get("exam.question.types.question-detail-required")),
                !1) : a.patch("\\（\\）", n) ? (this.app.message.error(i.get("exam.question.types.invalid-chinese-parentheses")),
                !1) : e.length === a.patch("\\(\\)", n) || (this.app.message.error(i.get("exam.question.types.parentheses-must-eq")),
                !1)
            },
            getResult: function() {
                var e = t(this.$("answer")).val().split("|")
                  , n = {}
                  , a = e.join("|")
                  , i = this.module.items.score;
                return n.questionAttrs = [{
                    value: a,
                    name: a,
                    type: 4
                }],
                n.content = this.components.content.html(),
                n.contentText = this.components.content.text(),
                n.score = i.$("score").value,
                n.id = this.bindings.state.data.id,
                n
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery"
    }],
    "./app/exam/exam/question/types/edit/sentence-completion/view-score": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/edit/judgement/view-score"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/edit/judgement/view-score"
    }],
    "./app/exam/exam/question/types/edit/sorting/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("jquery")
          , r = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options",
            score: "score"
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        isRichText: function(e) {
                            return /<[^>]+>/g.test(e)
                        }
                    }
                },
                img: {
                    url: "../system/file/upload"
                },
                file: {
                    url: "../human/sharding-file/auth/upload-parse-file"
                },
                fileAdmin: {
                    url: "../course-study/file/file-admin"
                },
                loadWaitTime: {
                    url: "../course-study/transform-queue"
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a, s, r, l, o = this.models.state.data, c = e.data, u = this.module.items.content;
                    if (e.options)
                        return void (o.options = e.options);
                    if (c) {
                        if (!o.options) {
                            for (r = i.find(c.questionAttrs, function(e) {
                                return 0 === Number(e.type)
                            }).value,
                            a = i.filter(c.questionAttrs, function(e) {
                                return 0 !== Number(e.type)
                            }),
                            t.assign(o, c),
                            o.options = [],
                            n = 0; n < a.length; n++)
                                l = this.models.state.isRichText(a[n].value),
                                s = String.fromCharCode(n + "A".charCodeAt(0)),
                                o.options.push({
                                    content: a[n].value,
                                    isRichText: l,
                                    name: a[n].name,
                                    code: s,
                                    i: n
                                }),
                                s = String.fromCharCode(n + "A".charCodeAt(0));
                            o.answer = i.map(i.filter(r.split("|"), function(e) {
                                return e
                            }), function(e) {
                                return String.fromCharCode(Number(e) + "A".charCodeAt(0))
                            }).join("")
                        }
                        u.components.content.html(c.content)
                    } else
                        for (o.options = [],
                        n = 0; n < 4; n++)
                            s = String.fromCharCode(n + "A".charCodeAt(0)),
                            o.options.push({
                                content: "",
                                isRichText: !1,
                                name: n,
                                code: s,
                                i: n
                            });
                    this.models.state.changed()
                },
                addOption: function() {
                    var e = this.models.state.data.options
                      , n = e.length - 1 + 1;
                    if (26 === e.length)
                        return void this.app.message.error(r.get("exam.question.types.option-not-gt-26"));
                    e.push({
                        content: "",
                        isRichText: !1,
                        name: n,
                        code: String.fromCharCode(n + "A".charCodeAt(0)),
                        i: n
                    }),
                    this.models.state.changed()
                },
                changeContent: function(e) {
                    this.models.state.data.options[Number(e.index)].content = e.content
                },
                removeOption: function(e) {
                    var n = this.models.state.data.options;
                    n.splice(Number(e.index), 1),
                    i.map(n, function(e, n) {
                        t.assign(e, {
                            code: String.fromCharCode(n + "A".charCodeAt(0))
                        })
                    }),
                    this.models.state.changed()
                },
                fileQueue: function() {
                    var e = this.models.loadWaitTime
                      , n = this.models.file.data.imgs[0]
                      , a = this.models.state;
                    return e.set({
                        ids: n.id
                    }),
                    this.post(e).then(function(e) {
                        var n = e[0][0];
                        n.translateFlag || (a.data.content = "音视频还未进行转换,请等待"),
                        1 === n.translateFlag && (a.data.content = "音视频转换已完成"),
                        2 === n.translateFlag && (a.data.content = "音视频转换失败，请重新上传"),
                        3 === n.translateFlag && (a.data.content = "视频正在转换中,请稍等"),
                        s(".progress-content").html(a.data.content)
                    })
                }
            }
        },
        a.mixin = {
            getValue: function() {
                var e = this.items.options
                  , n = this.store.models.state.data.options;
                return e.checkAnswer(n) ? e.getResult(n) : (this.app.message.error(r.get("exam.question.types.sort-not-eq")),
                !1)
            },
            isValidate: function() {
                return this.items.content.validate() && this.items.score.validate()
            },
            clear: function() {
                this.renderOptions = {}
            },
            getContent: function() {
                return this.items.content.components.content.getValue()
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/edit/sorting/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n    <div data-region="score"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="row col-sm-left"><div class="col-sm-12">\n        <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.question.question-info", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</label>\n" + (null != (s = a.if.call(r, null != n ? n.isSupportMedia : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        <div class="m-bottom progress-wrapper"></div>\n        <textarea id="content" class="input" name="content" x-rule="required,maxLength:5000" x-marker="rich-text" x-target="content"></textarea>\n    </div></div>\n'
            },
            4: function(e, n, a, t, i) {
                return '                <div class="inline-block">\n                    <div class="drop-down-wrapper left">\n                        <i class="iconfont icon-info custom-color-6"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <p>上传资源支持格式</p>\n                            <p>音视频：mp3、mp4(大小<100m  支持mpg,mpeg,mpe,avi,rm,3gp,rm,rmvb,wmv,mov,flv,mkv视频格式自动转换)</p>\n                        </div></div>\n                    </div>\n                </div>\n            '
            },
            6: function(e, n, a, t, i) {
                return '            <div class="inline-block pull-right progress-content" style="display:none">\n                <div id="refreshStatus">\n                    <i title="刷新" class="iconfont pointer icon-reload"></i>\n                    <div class="progress-text"></div>\n                </div>\n            </div>\n'
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "    <label>\n        " + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        <a id="add" class="m-left" href="javascript:;">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.add-options", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n    </label>\n    <ul class="row col-sm-left">' + (null != (s = a.each.call(r, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            9: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression;
                return "\n        \x3c!--  li.col-sm-6.options(id='item-' + index) --\x3e\n        \x3c!--      .input-box --\x3e\n        \x3c!--          .text --\x3e\n        \x3c!--              span.list-option > echo('选项' + code ':') --\x3e\n        \x3c!--          if(isRichText) --\x3e\n        \x3c!--              .input.block.choise-content --\x3e\n        \x3c!--                  @echoX(content) --\x3e\n        \x3c!--                  input(type='hidden' id='content-' + index value=cotent) --\x3e\n        \x3c!--          else --\x3e\n        \x3c!--              textarea.input(id='content-' + index data-name='index' data-value=index) > echo(content) --\x3e\n        \x3c!--          .clearfix.set-row --\x3e\n        \x3c!--              .pull-right.text-tips --\x3e\n        \x3c!--                  span(data-dynamic-key=index) --\x3e\n        \x3c!--                  a(href='javascript:;' id='remove-' + index data-name='index' data-value=index) 删除 --\x3e\n        <li class=\"col-sm-6 col-p-right-0 options\" id=\"item-" + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n            <div class="input-box">\n                <div class="text">\n                    <span class="list-option">' + u((a.string || n && n.string || o).call(l, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + u((r = null != (r = a.code || (null != n ? n.code : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "code",
                    hash: {},
                    data: i
                }) : r)) + ":</span>\n                </div>\n" + (null != (s = a.if.call(l, null != n ? n.isRichText : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.program(12, i, 0),
                    data: i
                })) ? s : "") + '            </div>\n            <div class="clearfix set-row">\n                <div class="pull-right text-tips">\n                    <span data-dynamic-key="' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></span>\n                    <a href="javascript:;" id="remove-' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="index" data-value="' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((a.string || n && n.string || o).call(l, "remove", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                </div>\n            </div>\n        </li>\n    "
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="input block choise-content">\n                        ' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '\n                        <input type="hidden" id="content-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.content || (null != n ? n.content : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "content",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                    </div>\n'
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <textarea class="input block" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.input-description", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" id="content-' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="index" data-value="' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '" rows="3">' + o((s = null != (s = a.content || (null != n ? n.content : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "content",
                    hash: {},
                    data: i
                }) : s)) + "</textarea>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '    <div class="row col-sm-left">\n        <div class="col-sm-6">\n            <div class="m-bottom">' + o((a.string || n && n.string || l).call(r, "exam.question.types.choose-here", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            <input class="input" id="answer" value="' + o(c(null != (s = null != n ? n.state : n) ? s.answer : s, n)) + '"/>\n        </div>\n        <div class="col-md-3">\n            <div id="error"></div>\n        </div>\n    </div>\n    <div class="hr"></div>\n    <div class="row col-sm-left">\n        <div class="col-sm-6">\n            <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <input class="input" id="score" x-rule="required,number,range:0:100,keepDecimal:1" value="' + o(c(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"/>\n        </div>\n    </div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "score", {
                    name: "view",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/edit/sorting/view-content": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            file: "fileChange",
            img: !0
        },
        a.fileChange = function() {
            this.module.dispatch("fileQueue")
        }
        ,
        a.components = [{
            id: "content",
            name: "rich-text",
            options: {
                model: "img",
                supportMedia: !0
            }
        }]
    }
    , {}],
    "./app/exam/exam/question/types/edit/sorting/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("jquery")
          , s = e("./app/util/strings");
        a.bindings = {
            state: !0
        },
        a.type = "dynamic",
        a.dataForTemplate = {
            options: function(e) {
                return t.map(e.state.options, function(e, n) {
                    var a = e;
                    a.index = n,
                    a.code = String.fromCharCode(a.index + "A".charCodeAt(0))
                }),
                e.state.options
            }
        },
        a.actions = {
            "click add": "addOption",
            "click remove-*": "removeOption",
            "change content-*": "changeContent"
        },
        a.dataForActions = {
            changeContent: function(e) {
                var n = e;
                return n.content = this.$("content-" + e.index).value,
                this.checkEmptyOption(),
                n
            }
        },
        a.mixin = {
            checkAnswer: function(e) {
                var n = this
                  , a = this.module.items.score
                  , r = 0
                  , l = a.$("answer").value.toLocaleUpperCase();
                return this.checkEmptyOption() ? (this.app.message.error(s.get("exam.question.types.empty-option")),
                !1) : (t.forEach(e, function(e, a) {
                    "" !== i(n.$("content-" + a)).val() && r++
                }),
                r === l.length)
            },
            getResult: function(e) {
                var n, a, t, s = [], r = this.module.items.content, l = this.module.items.score, o = l.$("answer").value.toLocaleUpperCase(), c = o, u = {};
                for (n = 0; n < e.length; n++)
                    "" !== (a = i(this.$("content-" + n)).val()) && s.push({
                        value: a,
                        name: n,
                        type: 8
                    });
                for (n = 0; n < o.length; n++)
                    t = o.charAt(n),
                    c = c.replace(t, e[t.charCodeAt(0) - "A".charCodeAt(0)].name + "|");
                return s.push({
                    value: c,
                    name: 0,
                    type: 0
                }),
                u.questionAttrs = s,
                u.content = r.components.content.html(),
                u.contentText = r.components.content.text(),
                u.score = l.$("score").value,
                u.id = this.bindings.state.data.id,
                u
            },
            changeOptionContent: function(e, n) {
                var a = this.bindings.state.data.options
                  , t = this.getResult(a)
                  , i = this.bindings.state.isRichText(n);
                return a[e].content = n,
                a[e].isRichText = i,
                this.module.dispatch("init", {
                    data: t
                })
            },
            checkEmptyOption: function() {
                var e, n = this.bindings.state.data.options, a = 0, t = !1;
                if (n)
                    for (a; a < n.length; a++)
                        e = this.$("content-" + a),
                        "" === e.value ? (t = !0,
                        i(e).parent().addClass("input error")) : i(e).parent().removeClass("input error");
                return t
            }
        },
        a.getEntity = function(e) {
            return e
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/question/senior-editor"
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this
              , a = n.bindings.state;
            return {
                data: {
                    id: e,
                    value: a.data.options[e].content
                },
                callback: function(e, a) {
                    n.changeOptionContent(e, a)
                },
                getValue: function() {
                    return i(n.$("content-" + e)).val()
                }
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/edit/sorting/view-score": [function(e, n, a) {
        var t, i, s, r = e("jquery"), l = e("lodash/collection"), o = e("./app/util/strings");
        a.type = "form",
        a.bindings = {
            state: !0
        },
        a.events = {
            "change answer": "changeAnswer",
            "keypress answer": "keypressAnswer"
        },
        a.handlers = {
            changeAnswer: function() {
                var e = this.$("answer").value.toLocaleUpperCase()
                  , n = e;
                return i.call(this),
                !!s.call(this, n)
            },
            keypressAnswer: function(e) {
                var n = e.keyCode || e.charCode || e.which
                  , a = String.fromCharCode(n).toLocaleUpperCase()
                  , s = this.$("answer").value;
                return 8 === n || (n >= 65 && n <= 122 && l.find(this.bindings.state.data.options, ["code", a]) ? s.length > 0 && function(e, n) {
                    return !e || !l.every(e, function(e) {
                        return e !== n
                    })
                }(s.toLocaleUpperCase(), a) ? (t.call(this, o.get("exam.question.types.repeat-letter")),
                e.preventDefault(),
                !1) : (i(),
                !0) : (t.call(this, o.get("exam.question.types.letter-out-of-range")),
                e.preventDefault(),
                !1))
            }
        },
        t = function(e) {
            r(this.$("error")).html('<span class="error-text">' + e + "</span>"),
            r(this.$("answer")).addClass("error")
        }
        ,
        i = function() {
            r(this.$("error")).html(""),
            r(this.$("answer")).removeClass("error")
        }
        ,
        s = function(e) {
            return !/.*[\u4e00-\u9fa5]+.*$/.test(e) || (t.call(this, o.get("exam.question.types.illegal-input")),
            this.$("answer").value = "",
            !1)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/mark/checkScore": [function(e, n, a) {
        var t = e("jquery");
        n.exports = {
            isNull: function(e) {
                return e && "" === e
            },
            isInputNumber: function(e) {
                return 46 === e || e >= 48 && e <= 57
            },
            isKeepOneDecimal: function(e) {
                return /^\d+[.]?[1-9]?$/.test(e)
            },
            isOverRange: function(e, n) {
                return e > n
            },
            setError: function(e, n, a) {
                t(n).html('<span class="error-text">' + e + "</span>"),
                t(a).addClass("error")
            },
            clearError: function(e, n) {
                t(e).html(""),
                t(n).removeClass("error")
            }
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/exam/question/types/mark/question-answer/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("../../answer/choise");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {},
                goal: {
                    mixin: {
                        init: function(e, n) {
                            this.data = e || {
                                key: "",
                                value: ""
                            },
                            n.answerRecord && "" !== n.answerRecord.answer || (this.data = {
                                key: n.id,
                                value: 0
                            })
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data;
                    t.assign(a, n, {
                        answer: n.questionAttrs[0].value
                    }),
                    a.answer = n.questionAttrs[0].value,
                    this.models.goal.init(e.goal, a),
                    this.module.dispatch("checkMedia")
                },
                getAttachment1: function(e) {
                    return i.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return i.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return i.store.callbacks.checkMedia.call(this, e)
                },
                save: function() {
                    var e = this.module.renderOptions.callback
                      , n = this.models.goal.data;
                    e && e(n),
                    this.models.goal.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../../answer/choise": "./app/exam/exam/question/types/answer/choise/index",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/mark/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="question o-question">\n        <span class="pull-left"><a class="normal" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.markIndex : s, n)) + "</a></span>\n        " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n    " + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.answerRecord : s) ? s.answerWithKey : s, n)) + "\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content new-play-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div id="startPlayer" class="fullScreen-content video-js media-mix-content vjs-big-play-centered">\n                    <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                        <span class="vjs-control-text"></span>\n                    </button>\n                </div>\n            </div>\n'
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/preview-media.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" poster="./images/preview-media.jpg" preload="auto" muted="true">\n                        <source src="' + l(r(null != (s = null != n ? n.media : n) ? s.path : s, n)) + '" type="' + l(r(null != (s = null != n ? n.media : n) ? s.type : s, n)) + '"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <form class="vertical">\n        <div class="answer-row">\n            <p class="question color-pass">' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</p>\n            <div class="clearfix mark-row border top dashed">\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.question.types.this-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ', </div>\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.question.types.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n" + (null != (s = a.if.call(r, null != (s = null != (s = null != n ? n.state : n) ? s.answerRecord : s) ? s.answer : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.program(12, i, 0),
                    data: i
                })) ? s : "") + '                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="inline-block m-left color-error" id="error"></div>\n            </div>\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.currentScore : n) ? s.remark : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </form>\n"
            },
            10: function(e, n, a, t, i) {
                var s;
                return '                    <input id="goal" class="input inline-block min" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.goal : n) ? s.value : s, n)) + '" name="goal"/>\n'
            },
            12: function(e, n, a, t, i) {
                var s;
                return '                    <input id="goal" class="input inline-block min" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.goal : n) ? s.value : s, n)) + '" name="goal" disabled="disabled"/>\n'
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                <p>\n                    " + o((a.string || n && n.string || l).call(r, "exam.already.mark.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                    " + o(e.lambda(null != (s = null != n ? n.currentScore : n) ? s.score : s, n)) + "\n                    " + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                </p>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/mark/question-answer/view-content": [function(e, n, a) {
        var t, i = e("../../answer/choise/view-content.js"), s = e("drizzlejs"), r = e("./app/util/maps"), l = e("./app/util/strings");
        a.currentDef = i.currentDef,
        a.bindings = s.assign(i.bindings, {
            state: !0
        }),
        a.components = s.assign(i.components, {}),
        a.events = s.assign(i.events, {}),
        a.handlers = s.assign(i.handlers, {}),
        a.video = s.assign(i.video, {}),
        a.mixin = s.assign(i.mixin, {}),
        a.dataForTemplate = {
            state: function(e) {
                var n = this.module.renderOptions.indexType
                  , a = e.state
                  , t = r.get("question-types");
                return a.answerRecord.answerWithKey = l.getWithParams("exam.exam.answer", a.answerRecord.answer),
                n && 1 === n ? (a.type = t[Number(a.type) - 1].value,
                s.assign(a, {
                    markIndex: String.fromCharCode(9263 + (a.index + "").charCodeAt(0)) + "【" + a.type + "】"
                })) : s.assign(a, {
                    markIndex: a.markIndex + "、"
                })
            },
            url: function() {
                var e = this.bindings.state.data;
                return t || (t = e.url || ""),
                t
            },
            media: function() {
                var e = this.bindings.state.data
                  , n = e.media || [];
                return this.options.currentDef >= n.length && (this.options.currentDef = 0),
                n[this.options.currentDef]
            }
        }
    }
    , {
        "../../answer/choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/mark/question-answer/view-options": [function(e, n, a) {
        var t = e("./app/exam/exam/question/types/mark/checkScore")
          , i = e("./app/util/strings");
        a.bindings = {
            state: !0,
            goal: !0
        },
        a.events = {
            "change goal": "changeGoal",
            "mouseout goal": "changeGoal"
        },
        a.dataForTemplate = {
            currentScore: function(e) {
                var n, a = e.state.answerRecord;
                return a && void 0 !== a.score && null !== a.score ? (n = a.score / 100 + "",
                n = n.indexOf(".") > 0 ? parseFloat(Number(n).toFixed(2)) : Number(n),
                {
                    remark: !0,
                    score: n
                }) : {
                    remark: !1
                }
            }
        },
        a.handlers = {
            changeGoal: function() {
                var e = this.$("goal")
                  , n = this.bindings.state.data;
                return !!function(e, n) {
                    return t.isNull(e) ? (t.setError(i.get("exam.exam.question.mark-question"), this.$("error"), this.$("goal")),
                    !1) : isNaN(Number(e)) ? (t.setError(i.get("exam.exam.question.only-number"), this.$("error"), this.$("goal")),
                    this.$("goal").value = "",
                    !1) : t.isOverRange(e, n) ? (t.setError(i.get("exam.exam.question.question-total-score") + n + i.get("exam.exam.question.remark-question"), this.$("error"), this.$("goal")),
                    this.$("goal").value = "",
                    !1) : t.isKeepOneDecimal(Number(e)) ? (t.clearError(this.$("error")),
                    !0) : (t.setError(i.get("exam.exam.question.illegal-input"), this.$("error"), this.$("goal")),
                    this.$("goal").value = "",
                    !1)
                }
                .call(this, e.value, this.bindings.state.data.score) && (this.bindings.goal.data = {
                    key: this.bindings.state.data.id,
                    value: e.value,
                    type: this.bindings.state.data.type,
                    isRight: Number(e.value) === n.score ? 1 : 0
                },
                this.module.dispatch("save"))
            }
        }
    }
    , {
        "./app/exam/exam/question/types/mark/checkScore": "./app/exam/exam/question/types/mark/checkScore",
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/exam/question/types/mark/reading-comprehension/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("lodash/collection")
          , s = e("../../answer/choise")
          , r = e("drizzlejs");
        a.items = {
            content: "content",
            subs: "subs"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {},
                sub: {
                    data: {},
                    mixin: {
                        getQuestionById: function(e) {
                            return i.find(this.data.questions, ["id", e])
                        }
                    }
                },
                goal: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: this.store.models.state.data.id,
                                type: 6,
                                value: []
                            }
                        },
                        save: function(e) {
                            var n, a = this.data.value;
                            n = i.reject(a, ["key", e.key]),
                            n.push(e),
                            this.data.value = n
                        },
                        getGoal: function(e) {
                            var n = this.data.value;
                            return i.find(n, ["key", e])
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data
                      , s = t.get("question-types");
                    this.models.sub.clear(),
                    r.assign(a, n),
                    a.type = s[Number(n.type) - 1].value,
                    this.models.sub.data.questions = i.filter(n.subs, ["type", 5]),
                    this.models.goal.init(e.goal),
                    this.module.dispatch("checkMedia")
                },
                getAttachment1: function(e) {
                    return s.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return s.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return s.store.callbacks.checkMedia.call(this, e)
                },
                save: function() {
                    var e = this.models.goal.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../../answer/choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/mark/reading-comprehension/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="subs"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="question o-question">\n        <span class="pull-left"><a class="normal" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.markIndex : s, n)) + "、</a></span>\n        " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content new-play-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div id="startPlayer" class="fullScreen-content video-js media-mix-content vjs-big-play-centered">\n                    <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                        <span class="vjs-control-text"></span>\n                    </button>\n                </div>\n            </div>\n'
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/preview-media.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" poster="./images/preview-media.jpg" preload="auto" muted="true">\n                        <source src="' + l(r(null != (s = null != n ? n.media : n) ? s.path : s, n)) + '" type="' + l(r(null != (s = null != n ? n.media : n) ? s.type : s, n)) + '"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s;
                return null != (s = a.each.call(null != n ? n : {}, null != n ? n.subs : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            10: function(e, n, a, t, i) {
                var s;
                return '        <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "subs", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/mark/reading-comprehension/view-content": [function(e, n, a) {
        var t, i = e("../../answer/choise/view-content.js"), s = e("drizzlejs");
        a.currentDef = i.currentDef,
        a.bindings = s.assign(i.bindings, {
            state: !0
        }),
        a.components = s.assign(i.components, {}),
        a.events = s.assign(i.events, {}),
        a.handlers = s.assign(i.handlers, {}),
        a.video = s.assign(i.video, {}),
        a.mixin = s.assign(i.mixin, {}),
        a.dataForTemplate = {
            url: function() {
                var e = this.bindings.state.data;
                return t || (t = e.url || ""),
                t
            },
            media: function() {
                var e = this.bindings.state.data
                  , n = e.media || [];
                return this.options.currentDef >= n.length && (this.options.currentDef = 0),
                n[this.options.currentDef]
            }
        }
    }
    , {
        "../../answer/choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/mark/reading-comprehension/view-options": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/exam/question/types/mark/reading-comprehension/view-subs": [function(e, n, a) {
        var t, i, s = e("lodash/collection"), r = e("./app/exam/exam-question-types"), l = e("drizzlejs");
        a.type = "dynamic",
        a.bindings = {
            sub: !0,
            goal: !0
        },
        a.dataForTemplate = {
            subs: function() {
                var e = this.bindings.sub.data.questions;
                return s.map(e, function(e, n) {
                    var a = e;
                    return a.index = n + 1,
                    a
                })
            }
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.sub.getQuestionById(e)
              , a = {};
            return l.assign(a, n, {
                score: n.score / 100,
                questionAttrs: s.orderBy(n.questionAttrCopys, ["name"], ["asc"])
            }),
            a
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return r.get(n.type, 4)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                type: e.type,
                data: e,
                multiple: 2 === e.type,
                callback: function(e) {
                    return n.bindings.goal.save(e),
                    n.module.dispatch("save")
                },
                rule: this.module.renderOptions.rule,
                goal: this.bindings.goal.getGoal(e.id),
                indexType: 1
            }
        }
        ,
        a.afterRender = function() {
            t.call(this)
        }
        ,
        a.beforeClose = function() {
            i.call(this)
        }
        ,
        a.mixin = {
            pause: function(e) {
                var n, a = this;
                n = s.map(a.getEntities(), function(n) {
                    var a = n.items && n.items.content;
                    return a && a.components && a.components.player && e.id_ !== a.components.player.id_ ? a.components.player : null
                }),
                s.map(n, function(e) {
                    e && e.pause()
                })
            }
        },
        t = function() {
            this.app.askbar.on("exam.player.all.pause", this.pause, this)
        }
        ,
        i = function() {
            this.app.askbar.off("exam.player.all.pause", this.pause, this)
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/mark/sentence-completion/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("../../answer/choise");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {},
                goal: {
                    mixin: {
                        init: function(e, n) {
                            this.data = e || {
                                key: "",
                                value: ""
                            },
                            n.answerRecord && "" !== n.answerRecord.answer || (this.data = {
                                key: n.id,
                                value: 0
                            })
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data;
                    t.assign(a, n, {
                        answer: n.questionAttrs[0].value
                    }),
                    this.models.goal.init(e.goal, a),
                    this.models.state.changed(),
                    this.module.dispatch("checkMedia")
                },
                getAttachment1: function(e) {
                    return i.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return i.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return i.store.callbacks.checkMedia.call(this, e)
                },
                save: function() {
                    var e = this.module.renderOptions.callback
                      , n = this.models.goal.data;
                    e && e(n)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../../answer/choise": "./app/exam/exam/question/types/answer/choise/index",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/mark/sentence-completion/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="question o-question">\n        <span class="pull-left"><a class="normal" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.markIndex : s, n)) + "、</a></span>\n        " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n    <div>\n" + (null != (s = a.each.call(o, null != n ? n.answers : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content new-play-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div id="startPlayer" class="fullScreen-content video-js media-mix-content vjs-big-play-centered">\n                    <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                        <span class="vjs-control-text"></span>\n                    </button>\n                </div>\n            </div>\n'
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/preview-media.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" poster="./images/preview-media.jpg" preload="auto" muted="true">\n                        <source src="' + l(r(null != (s = null != n ? n.media : n) ? s.path : s, n)) + '" type="' + l(r(null != (s = null != n ? n.media : n) ? s.type : s, n)) + '"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "            <div>\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.answer.ellipsis.colon", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o((s = null != (s = a.i || (null != n ? n.i : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "i",
                    hash: {},
                    data: i
                }) : s)) + "：" + o((s = null != (s = a.answer || (null != n ? n.answer : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : s)) + "\n            </div>\n"
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <form class="vertical">\n        <div class="answer-row">\n            <p class="m-top color-pass">' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</p>\n            <div class="clearfix mark-row border top dashed">\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.question.types.this-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ', </div>\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.question.types.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n" + (null != (s = a.if.call(r, null != (s = null != (s = null != n ? n.state : n) ? s.answerRecord : s) ? s.answer : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.program(14, i, 0),
                    data: i
                })) ? s : "") + '                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="inline-block m-left color-error" id="error"></div>\n            </div>\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.currentScore : n) ? s.remark : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </form>\n"
            },
            12: function(e, n, a, t, i) {
                var s;
                return '                    <input id="goal" class="input inline-block min" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.goal : n) ? s.value : s, n)) + '" name="goal"/>\n'
            },
            14: function(e, n, a, t, i) {
                var s;
                return '                    <input id="goal" class="input inline-block min" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.goal : n) ? s.value : s, n)) + '" name="goal" disabled="disabled"/>\n'
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                <p>\n                    " + o((a.string || n && n.string || l).call(r, "exam.already.mark.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                    " + o(e.lambda(null != (s = null != n ? n.currentScore : n) ? s.score : s, n)) + "\n                    " + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                </p>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/mark/sentence-completion/view-content": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("../../answer/choise/view-content.js"), r = e("drizzlejs");
        a.currentDef = s.currentDef,
        a.bindings = r.assign(s.bindings, {
            state: !0
        }),
        a.components = r.assign(s.components, {}),
        a.events = r.assign(s.events, {}),
        a.handlers = r.assign(s.handlers, {}),
        a.video = r.assign(s.video, {}),
        a.mixin = r.assign(s.mixin, {}),
        a.dataForTemplate = {
            answer: function(e) {
                var n = e.state.answerRecord && e.state.answerRecord.answer;
                return n ? i.filter(n.split("@answer@"), function(e) {
                    return e
                }).join("|") : n
            },
            answers: function(e) {
                var n = e.state.content
                  , a = new RegExp("\\(\\)","g")
                  , t = n ? n.match(a) : ""
                  , i = t ? t.length : 0
                  , s = e.state.answerRecord && e.state.answerRecord.answer
                  , r = s ? s.split("@answer@") : ""
                  , l = []
                  , o = 0;
                for (o; o < i; o++)
                    l.push({
                        i: o + 1,
                        answer: r.length > o ? r[o] : ""
                    });
                return l
            },
            url: function() {
                var e = this.bindings.state.data;
                return t || (t = e.url || ""),
                t
            },
            media: function() {
                var e = this.bindings.state.data
                  , n = e.media || [];
                return this.options.currentDef >= n.length && (this.options.currentDef = 0),
                n[this.options.currentDef]
            }
        }
    }
    , {
        "../../answer/choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/mark/sentence-completion/view-options": [function(e, n, a) {
        var t = e("./app/exam/exam/question/types/mark/checkScore")
          , i = e("jquery")
          , s = e("./app/util/strings");
        a.bindings = {
            state: !0,
            goal: !0
        },
        a.events = {
            "change goal": "changeGoal",
            "mouseout goal": "changeGoal"
        },
        a.dataForTemplate = {
            currentScore: function(e) {
                var n, a = e.state.answerRecord;
                return a && void 0 !== a.score && null !== a.score ? (n = a.score / 100 + "",
                n = n.indexOf(".") > 0 ? parseFloat(Number(n).toFixed(2)) : Number(n),
                {
                    remark: !0,
                    score: n
                }) : {
                    remark: !1
                }
            }
        },
        a.handlers = {
            changeGoal: function() {
                var e = this.$("goal")
                  , n = this.bindings.state.data;
                return !!function(e, n) {
                    return t.isNull(e) ? (t.setError(s.get("exam.exam.question.mark-question"), this.$("error"), this.$("goal")),
                    !1) : isNaN(Number(e)) ? (t.setError(s.get("exam.exam.question.illegal-input"), this.$("error"), this.$("goal")),
                    this.$("goal").value = "",
                    !1) : t.isOverRange(e, n) ? (t.setError(s.get("exam.exam.question.question-total-score") + n + s.get("exam.exam.question.remark-question"), this.$("error"), this.$("goal")),
                    this.$("goal").value = "",
                    !1) : t.isKeepOneDecimal(Number(e)) ? (i(this.$("goal")).removeClass("error"),
                    t.clearError(this.$("error")),
                    !0) : (t.setError(s.get("exam.exam.question.illegal-input"), this.$("error"), this.$("goal")),
                    this.$("goal").value = "",
                    !1)
                }
                .call(this, e.value, this.bindings.state.data.score) && (this.bindings.goal.data = {
                    key: this.bindings.state.data.id,
                    value: e.value,
                    type: this.bindings.state.data.type,
                    isRight: Number(e.value) === n.score ? 1 : 0
                },
                this.module.dispatch("save"))
            },
            keypressGoal: function(e) {
                var n = e.keyCode || e.which || e.charCode
                  , a = this.$("goal")
                  , i = String.fromCharCode(n);
                return 8 === n || (!(!t.isInputNumber(n) || !t.isKeepOneDecimal(Number(a.value + i))) || (t.setError(s.get("exam.exam.question.illegal-input"), this.$("error"), this.$("goal")),
                e.preventDefault(),
                !1))
            }
        }
    }
    , {
        "./app/exam/exam/question/types/mark/checkScore": "./app/exam/exam/question/types/mark/checkScore",
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery"
    }],
    "./app/exam/exam/question/types/preview/choise/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("drizzlejs")
          , s = e("../../answer/choise")
          , r = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n, a, i = this.models.state.data = {
                        options: [],
                        title: r.get("exam.research-activity.question.single-answer-question"),
                        answer: ""
                    }, s = e.data, l = t.get("question-difficultys"), o = t.get("question-types");
                    if (s) {
                        for (i.id = s.id,
                        a = s.questionAttrs,
                        n = 0; n < a.length; n++)
                            i.options.push({
                                content: a[n].value,
                                isAnswer: 0 === Number(a[n].type),
                                isRichText: !1
                            }),
                            0 === Number(a[n].type) && (i.answer += String.fromCharCode(n + "A".charCodeAt(0)));
                        i.score = s.score,
                        i.content = s.content,
                        i.parsing = s.parsing,
                        s.difficulty && (i.difficulty = l[Number(s.difficulty) - 1].value),
                        i.type = o[Number(s.type) - 1].value,
                        2 === Number(s.type) && (i.title = r.get("exam.research-activity.question.mutiple-answer-question"))
                    }
                    this.module.dispatch("checkMedia"),
                    this.models.state.changed()
                },
                getAttachment1: function(e) {
                    return s.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return s.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return s.store.callbacks.checkMedia.call(this, e)
                },
                changeScore: function(e) {
                    var n = this.module.renderOptions.callback
                      , a = this.models.state.data;
                    n && n(i.assign(e, {
                        id: a.id
                    }))
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../../answer/choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/preview/choise/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="row">\n        <div class="col-xs-6"><div class="com-title font-weight-600">' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.title : s, n)) + '</div></div>\n    </div>\n    <p class="question">\n        ' + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </p>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/default-cover/music.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n                    <div id="startPlayer" class="video-js media-mix-content vjs-big-play-centered">\n                        <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                            <span class="vjs-control-text"></span>\n                        </button>\n                    </div>\n'
            },
            7: function(e, n, a, t, i) {
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" preload="auto" muted="true">\n                        <source src="https://cdn.zhixueyun.com//default/M00/01/C5/cjeztl5nXVKEL8a3AAAAAGdxysM211_t/index.m3u8" type="application/x-mpegURL"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '<div class="answer">\n    <dl>' + (null != (s = a.each.call(r, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</dl>\n" + (null != (s = a.if.call(r, null != n ? n.isShowParsing : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '    <div class="clearfix">\n        <div class="m-bottom">\n            <div class="inline-block">\n                <span class="text-tips">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                <span>" + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</span>\n            </div>\n        </div>\n        <div class="m-bottom text-right">\n' + (null != (s = a.if.call(r, null != n ? n.showScore : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n" + (null != (s = a.if.call(r, null != n ? n.showEditScore : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>"
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <dd id="item-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n            <label class="no-margin" for="answer-item-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <div class="answer-options inline-block"><div class="option-num">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.code : n, ".", {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</div></div>\n                <div class="answer-content">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n            </label>\n        </dd>\n    "
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '        <div class="parsing m-bottom m-top">\n            <div class="pull-left m-right">\n                ' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                :\n            </div>\n            <div class="parsing-detail">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n        </div>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '                <div class="inline-block m-right">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.type : s, n)) + '</span>\n                </div>\n                <div class="inline-block m-right">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '</span>\n                </div>\n                <div class="inline-block">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.select-question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.difficulty : s, n)) + "</span>\n                </div>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '        <div class="input-box inline-block">\n            <div class="text">' + o((a.string || n && n.string || l).call(r, "exam.question.types.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            <input class="input input-left" id="edit-score" name="editScore" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input-question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" value="' + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '" x-rule="required,number,range:0:100,keepDecimal:1"/>\n        </div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/preview/choise/view-content": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("../../answer/choise/view-content.js");
        a.currentDef = i.currentDef,
        a.bindings = t.assign(i.bindings, {
            state: !0
        }),
        a.dataForTemplate = t.assign(i.dataForTemplate, {}),
        a.components = t.assign(i.components, {}),
        a.events = t.assign(i.events, {}),
        a.handlers = t.assign(i.handlers, {}),
        a.video = t.assign(i.video, {}),
        a.mixin = t.assign(i.mixin, {})
    }
    , {
        "../../answer/choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/preview/choise/view-options": [function(e, n, a) {
        var t = e("lodash/collection");
        a.type = "form",
        a.bindings = {
            state: !0
        },
        a.events = {
            "change edit-score": "changeScore"
        },
        a.handlers = {
            changeScore: function() {
                return !!this.validate() && this.module.dispatch("changeScore", {
                    score: this.$("edit-score").value
                })
            }
        },
        a.dataForTemplate = {
            options: function(e) {
                return t.map(e.state.options, function(e, n) {
                    var a = e;
                    a.index = n,
                    a.code = String.fromCharCode(a.index + "A".charCodeAt(0))
                }),
                e.state.options
            },
            isShowParsing: function() {
                return !!this.bindings.state.data.parsing
            },
            showScore: function() {
                return 1 === this.module.renderOptions.previewMode
            },
            showEditScore: function() {
                return 3 === this.module.renderOptions.previewMode
            }
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/preview/judgement/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("../../answer/choise")
          , s = e("drizzlejs");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data = {
                        content: "",
                        answer: "",
                        score: 0,
                        type: 2,
                        difficulty: ""
                    }
                      , i = t.get("judgement")
                      , r = t.get("question-types")
                      , l = t.get("question-difficultys");
                    s.assign(a, n),
                    a.answer = i[Number(n.questionAttrs[0].value)].value,
                    a.type = r[Number(n.type) - 1].value,
                    a.difficulty = l[Number(n.difficulty) - 1].value,
                    a.correct = "1" === a.questionAttrs[0].value,
                    a.error = "0" === a.questionAttrs[0].value,
                    a.parsing = n.parsing,
                    this.module.dispatch("checkMedia"),
                    this.models.state.changed()
                },
                getAttachment1: function(e) {
                    return i.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return i.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return i.store.callbacks.checkMedia.call(this, e)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../../answer/choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/preview/judgement/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '    <div class="row">\n        <div class="col-xs-6"><div class="com-title">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.judgment", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></div>\n    </div>\n    <p class="question">\n        ' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </p>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/default-cover/music.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n                    <div id="startPlayer" class="video-js media-mix-content vjs-big-play-centered">\n                        <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                            <span class="vjs-control-text"></span>\n                        </button>\n                    </div>\n'
            },
            7: function(e, n, a, t, i) {
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" preload="auto" muted="true">\n                        <source src="https://cdn.zhixueyun.com//default/M00/01/C5/cjeztl5nXVKEL8a3AAAAAGdxysM211_t/index.m3u8" type="application/x-mpegURL"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="radio">\n        <input type="radio" name="judge" value="1" id="check-0" disabled="disabled"/>\n        <label for="check-0"></label>\n    </div>\n    <div class="inline-block m-right">' + o((a.string || n && n.string || l).call(r, "right", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n    <div class="radio m-left">\n        <input type="radio" name="judge" value="0" id="check-1" disabled="disabled"/>\n        <label for="check-1"></label>\n    </div>\n    <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "wrong", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n" + (null != (s = a.if.call(r, null != n ? n.isShowParsing : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '    <div class="clearfix">\n        <div class="m-bottom">\n            <div class="inline-block">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                <span>" + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</span>\n            </div>\n        </div>\n        <div class="m-bottom text-right">\n' + (null != (s = a.if.call(r, null != n ? n.showScore : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n"
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '        <div class="parsing m-bottom m-top">\n            <div class="pull-left m-right">\n                ' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                :\n            </div>\n            <div class="parsing-detail">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n        </div>\n"
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '                <div class="inline-block m-right">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.type : s, n)) + '</span>\n                </div>\n                <div class="inline-block m-right">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '</span>\n                </div>\n                <div class="inline-block">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.select-question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.difficulty : s, n)) + "</span>\n                </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/preview/judgement/view-content": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("../../answer/choise/view-content.js");
        a.currentDef = i.currentDef,
        a.bindings = t.assign(i.bindings, {
            state: !0
        }),
        a.components = t.assign(i.components, {}),
        a.events = t.assign(i.events, {}),
        a.handlers = t.assign(i.handlers, {}),
        a.video = t.assign(i.video, {})
    }
    , {
        "../../answer/choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/preview/judgement/view-options": [function(e, n, a) {
        var t = e("lodash/collection");
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                return t.map(e.state.options, function(e, n) {
                    var a = e;
                    a.index = n,
                    a.code = String.fromCharCode(a.index + "A".charCodeAt(0))
                }),
                e.state.options
            },
            isShowParsing: function() {
                return !!this.bindings.state.data.parsing
            },
            showScore: function() {
                return 1 === this.module.renderOptions.previewMode
            }
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/preview/line/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("../../answer/choise");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {
                    data: {}
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a = e.data, i = a.questionAttrs, s = t.get("question-types"), r = t.get("question-difficultys"), l = this.models.state.data = {
                        answer: ""
                    }, o = [], c = [], u = 0;
                    for (l.content = a.content,
                    l.score = a.score,
                    l.type = s[Number(a.type) - 1].value,
                    l.difficulty = r[Number(a.difficulty) - 1].value,
                    u; u < i.length; u++)
                        n = String.fromCharCode(u + "A".charCodeAt(0)),
                        o.push({
                            content: i[u].name,
                            i: u,
                            code: n
                        }),
                        c.push({
                            content: i[u].value,
                            i: u,
                            code: n
                        }),
                        l.answer += i[u].name + "-" + i[u].value;
                    l.items = o,
                    l.matchs = c,
                    this.module.dispatch("checkMedia"),
                    this.models.state.changed()
                },
                getAttachment1: function(e) {
                    return i.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return i.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return i.store.callbacks.checkMedia.call(this, e)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../../answer/choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps"
    }],
    "./app/exam/exam/question/types/preview/line/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="row">\n        <div class="col-xs-6"><div class="com-title">' + o((a.string || n && n.string || l).call(r, "exam.question.types.matching", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></div>\n        <div class="col-xs-6"><div class="m-top text-right">\n            ' + o((a.string || n && n.string || l).call(r, "exam.question.types.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '\n        </div></div>\n    </div>\n    <p class="question">\n        ' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </p>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/default-cover/music.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n                    <div id="startPlayer" class="video-js media-mix-content vjs-big-play-centered">\n                        <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                            <span class="vjs-control-text"></span>\n                        </button>\n                    </div>\n'
            },
            7: function(e, n, a, t, i) {
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" preload="auto" muted="true">\n                        <source src="https://cdn.zhixueyun.com//default/M00/01/C5/cjeztl5nXVKEL8a3AAAAAGdxysM211_t/index.m3u8" type="application/x-mpegURL"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '<div class="answer line">\n    <div class="row">\n        <div class="col-sm-6"><ul>' + (null != (s = a.each.call(r, null != (s = null != n ? n.state : n) ? s.items : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        </ul></div>\n        <div class="col-sm-6"><ul>' + (null != (s = a.each.call(r, null != (s = null != n ? n.state : n) ? s.matchs : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        </ul></div>\n    </div>\n    <div class="clearfix">\n        <div class="m-bottom">\n            <div class="inline-block">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                <span>" + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</span>\n            </div>\n        </div>\n        <div class="m-bottom text-right">\n            <div class="inline-block m-right">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.state : n) ? s.type : s, n)) + '</span>\n            </div>\n            <div class="inline-block m-right">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '</span>\n            </div>\n            <div class="inline-block">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.select-question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.state : n) ? s.difficulty : s, n)) + "</span>\n            </div>\n        </div>\n    </div>\n</div>"
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing;
                return '\n            <li>\n                <div class="inline-block"><label class="no-margin" for="answer-item-' + e.escapeExpression((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + '">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.code : n, ".", null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</label></div>\n            </li>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/preview/line/view-content": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("../../answer/choise/view-content.js");
        a.currentDef = i.currentDef,
        a.bindings = t.assign(i.bindings, {
            state: !0
        }),
        a.components = t.assign(i.components, {}),
        a.events = t.assign(i.events, {}),
        a.handlers = t.assign(i.handlers, {}),
        a.video = t.assign(i.video, {})
    }
    , {
        "../../answer/choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/preview/line/view-options": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/exam/question/types/preview/question-answer/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("../../answer/choise")
          , s = e("drizzlejs");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data
                      , i = t.get("question-types")
                      , s = t.get("question-difficultys");
                    a.id = n.id,
                    a.content = n.content,
                    a.answer = n.questionAttrs[0].value,
                    a.score = n.score,
                    a.parsing = n.parsing,
                    a.type = i[Number(n.type) - 1].value,
                    n.difficulty && (a.difficulty = s[Number(n.difficulty) - 1].value),
                    this.module.dispatch("checkMedia"),
                    this.models.state.changed()
                },
                changeScore: function(e) {
                    var n = this.module.renderOptions.callback
                      , a = this.models.state.data;
                    n && n(s.assign(e, {
                        id: a.id
                    }))
                },
                getAttachment1: function(e) {
                    return i.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return i.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return i.store.callbacks.checkMedia.call(this, e)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../../answer/choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/preview/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '    <div class="row">\n        <div class="col-xs-6"><div class="com-title">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.research-activity.question.answer-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></div>\n    </div>\n    <p class="question">\n        ' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </p>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/default-cover/music.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n                    <div id="startPlayer" class="video-js media-mix-content vjs-big-play-centered">\n                        <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                            <span class="vjs-control-text"></span>\n                        </button>\n                    </div>\n'
            },
            7: function(e, n, a, t, i) {
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" preload="auto" muted="true">\n                        <source src="https://cdn.zhixueyun.com//default/M00/01/C5/cjeztl5nXVKEL8a3AAAAAGdxysM211_t/index.m3u8" type="application/x-mpegURL"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '<div class="answer">\n    <dl>' + (null != (s = a.each.call(r, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</dl>\n    <div class="clearfix">\n        <div class="m-bottom">\n            <div class="inline-block">\n                <span class="text-tips">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                <span>" + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</span>\n            </div>\n        </div>\n        <div class="text-right m-bottom">\n' + (null != (s = a.if.call(r, null != n ? n.showScore : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n" + (null != (s = a.if.call(r, null != n ? n.isShowParsing : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != n ? n.showEditScore : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>"
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing;
                return '\n        <dd id="item-' + e.escapeExpression((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n            <div class="inline-block"><label class="no-margin" for="answer-item-1">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</label></div>\n        </dd>\n    "
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '                <div class="inline-block m-right">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.type : s, n)) + '</span>\n                </div>\n                <div class="inline-block m-right">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '</span>\n                </div>\n                <div class="inline-block">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.select-question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.difficulty : s, n)) + "</span>\n                </div>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '        <div class="parsing m-bottom m-top">\n            <div class="pull-left m-right">\n                ' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                :\n            </div>\n            <div class="parsing-detail">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n        </div>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '        <div class="input-box inline-block">\n            <div class="text">' + o((a.string || n && n.string || l).call(r, "exam.question.types.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            <input class="input input-left" id="edit-score" name="editScore" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input-question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" value="' + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '" x-rule="required,number,range:0:100,keepDecimal:1"/>\n        </div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/preview/question-answer/view-content": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("../../answer/choise/view-content.js");
        a.currentDef = i.currentDef,
        a.bindings = t.assign(i.bindings, {
            state: !0
        }),
        a.components = t.assign(i.components, {}),
        a.events = t.assign(i.events, {}),
        a.handlers = t.assign(i.handlers, {}),
        a.video = t.assign(i.video, {})
    }
    , {
        "../../answer/choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/question/types/preview/question-answer/view-options": [function(e, n, a) {
        var t = e("lodash/collection");
        a.type = "form",
        a.bindings = {
            state: !0
        },
        a.events = {
            "change edit-score": "changeScore"
        },
        a.handlers = {
            changeScore: function() {
                return !!this.validate() && this.module.dispatch("changeScore", {
                    score: this.$("edit-score").value
                })
            }
        },
        a.dataForTemplate = {
            options: function(e) {
                return t.map(e.state.options, function(e, n) {
                    var a = e;
                    a.index = n,
                    a.code = String.fromCharCode(a.index + "A".charCodeAt(0))
                }),
                e.state.options
            },
            isShowParsing: function() {
                return !!this.bindings.state.data.parsing
            },
            showScore: function() {
                return 1 === this.module.renderOptions.previewMode
            },
            showEditScore: function() {
                return 3 === this.module.renderOptions.previewMode
            }
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/preview/reading-comprehension/index": [function(e, n, a) {
        var t, i = e("./app/util/maps"), s = e("drizzlejs"), r = e("../../answer/choise"), l = e("lodash/collection");
        a.items = {
            content: "content",
            score: "score",
            subs: "subs"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {},
                sub: {
                    data: {},
                    mixin: {
                        getQuestionById: function(e) {
                            return l.find(this.data.questions, ["id", e])
                        },
                        changeScore: function(e) {
                            l.map(this.data.questions, function(n) {
                                n.id === e.id && s.assign(n, {
                                    score: e.score
                                })
                            })
                        },
                        countSummary: function() {
                            return l.reduce(l.map(this.data.questions, "score"), function(e, n) {
                                return Number(e) + Number(n)
                            })
                        }
                    }
                },
                readingQuestion: {
                    url: "../exam/question/front"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data
                      , t = i.get("question-types")
                      , r = i.get("question-difficultys")
                      , o = this.models.state
                      , c = this;
                    if (this.models.sub.clear(),
                    this.module.dispatch("checkMedia"),
                    n.subs.length > 0)
                        s.assign(o.data, n),
                        a.type = t[Number(n.type) - 1].value,
                        a.difficulty = r[Number(n.difficulty) - 1].value,
                        this.models.sub.data.questions = l.orderBy(n.subs, ["createTime", "type"], ["asc", "asc"]);
                    else if (n && 0 === n.subs.length && n.id)
                        return s.assign(this.models.readingQuestion.data, {
                            id: n.id
                        }),
                        this.get(this.models.readingQuestion).then(function() {
                            var e = c.models.readingQuestion.data
                              , n = l.map(e.subs, function(e) {
                                return s.assign({}, e)
                            });
                            s.assign(o.data, e, {
                                score: parseFloat((e.score / 100).toFixed(1))
                            }),
                            a.type = t[Number(e.type) - 1].value,
                            a.difficulty = r[Number(e.difficulty) - 1].value,
                            c.models.sub.data.questions = l.orderBy(l.map(n, function(e) {
                                return s.assign(e, {
                                    score: parseFloat((e.score / 100).toFixed(1))
                                })
                            }), ["createTime", "type"], ["asc", "asc"]),
                            c.models.sub.changed(),
                            c.module.renderOptions.setReading && c.module.renderOptions.setReading(e)
                        });
                    return ""
                },
                getAttachment1: function(e) {
                    return r.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return r.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return r.store.callbacks.checkMedia.call(this, e)
                },
                changeScore: function(e) {
                    var n = this.module.renderOptions.callback
                      , a = this.module.renderOptions.data
                      , i = this.models.sub;
                    this.models.sub.changeScore(e),
                    s.assign(a, {
                        score: i.countSummary(),
                        subs: this.models.sub.data.questions,
                        questionAttrs: this.models.sub.data.questions
                    }),
                    n && n(t(a))
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        t = function(e) {
            var n = s.assign({}, e)
              , a = l.map(n.subs, function(e) {
                var n = e;
                return s.assign(n, {
                    score: (100 * n.score).toFixed(0)
                })
            });
            return s.assign(n, {
                score: (100 * n.score).toFixed(0),
                subs: a,
                questionAttrs: a
            })
        }
    }
    , {
        "../../answer/choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/preview/reading-comprehension/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="subs"></div>\n    <div data-region="score"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '    <div class="row">\n        <div class="col-xs-6"><div class="com-title">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.reading-comprehension", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></div>\n    </div>\n    <p class="question">\n        ' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </p>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/default-cover/music.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n                    <div id="startPlayer" class="video-js media-mix-content vjs-big-play-centered">\n                        <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                            <span class="vjs-control-text"></span>\n                        </button>\n                    </div>\n'
            },
            7: function(e, n, a, t, i) {
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" preload="auto" muted="true">\n                        <source src="https://cdn.zhixueyun.com//default/M00/01/C5/cjeztl5nXVKEL8a3AAAAAGdxysM211_t/index.m3u8" type="application/x-mpegURL"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s;
                return null != (s = a.each.call(null != n ? n : {}, null != n ? n.subs : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "        (" + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + ')\n        <div data-dynamic-key="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            12: function(e, n, a, t, i) {
                var s;
                return '    <div class="clearfix">\n        <div class="pull-right m-bottom">\n' + (null != (s = a.if.call(null != n ? n : {}, null != n ? n.showScore : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n"
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '                <div class="inline-block">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.type : s, n)) + '</span>\n                </div>\n                <div class="inline-block m-left">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '</span>\n                </div>\n                <div class="inline-block m-left">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.select-question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.difficulty : s, n)) + "</span>\n                </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "subs", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "score", {
                    name: "view",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/preview/reading-comprehension/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/preview/question-answer/view-content"][0].apply(a, arguments)
    }
    , {
        "../../answer/choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/exam/question/types/preview/question-answer/view-content"
    }],
    "./app/exam/exam/question/types/preview/reading-comprehension/view-options": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/exam/question/types/preview/reading-comprehension/view-score": [function(e, n, a) {
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            showScore: function() {
                return 1 === this.module.renderOptions.previewMode
            }
        }
    }
    , {}],
    "./app/exam/exam/question/types/preview/reading-comprehension/view-subs": [function(e, n, a) {
        var t, i, s = e("lodash/collection"), r = e("drizzlejs"), l = e("./app/exam/exam-question-types");
        a.type = "dynamic",
        a.bindings = {
            sub: !0
        },
        a.dataForTemplate = {
            subs: function() {
                var e = this.bindings.sub.data.questions;
                return s.map(s.orderBy(e, ["type", "order"], ["asc", "asc"]), function(e, n) {
                    var a = e;
                    return a.index = n + 1,
                    a
                })
            }
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.sub.getQuestionById(e);
            return r.assign(n, {
                questionAttrs: s.orderBy(n.questionAttrs, ["name"], ["asc"])
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return l.get(n.type, 2)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                type: e.type,
                data: e,
                multiple: 2 === e.type,
                callback: function(e) {
                    return n.module.dispatch("changeScore", e)
                },
                previewMode: this.module.renderOptions.previewMode
            }
        }
        ,
        a.afterRender = function() {
            t.call(this)
        }
        ,
        a.beforeClose = function() {
            i.call(this)
        }
        ,
        a.mixin = {
            pause: function(e) {
                var n, a = this;
                n = s.map(a.getEntities(), function(n) {
                    var a = n.items && n.items.content;
                    return a && a.components && a.components.player && e.id_ !== a.components.player.id_ ? a.components.player : null
                }),
                s.map(n, function(e) {
                    e && e.pause()
                })
            }
        },
        t = function() {
            this.app.askbar.on("exam.player.all.pause", this.pause, this)
        }
        ,
        i = function() {
            this.app.askbar.off("exam.player.all.pause", this.pause, this)
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/preview/sentence-completion/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("../../answer/choise");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data
                      , i = t.get("question-types")
                      , s = t.get("question-difficultys");
                    a.content = n.content,
                    a.score = n.score,
                    a.parsing = n.parsing,
                    a.answer = n.questionAttrs[0].value,
                    a.type = i[Number(n.type) - 1].value,
                    a.difficulty = s[Number(n.difficulty) - 1].value,
                    this.module.dispatch("checkMedia"),
                    this.models.state.changed()
                },
                getAttachment1: function(e) {
                    return i.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return i.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return i.store.callbacks.checkMedia.call(this, e)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../../answer/choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps"
    }],
    "./app/exam/exam/question/types/preview/sentence-completion/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '    <div class="row">\n        <div class="col-xs-6"><div class="com-title">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.completion", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></div>\n    </div>\n    <p class="question">\n        ' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </p>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/default-cover/music.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n                    <div id="startPlayer" class="video-js media-mix-content vjs-big-play-centered">\n                        <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                            <span class="vjs-control-text"></span>\n                        </button>\n                    </div>\n'
            },
            7: function(e, n, a, t, i) {
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" preload="auto" muted="true">\n                        <source src="https://cdn.zhixueyun.com//default/M00/01/C5/cjeztl5nXVKEL8a3AAAAAGdxysM211_t/index.m3u8" type="application/x-mpegURL"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '<div class="answer">\n    \x3c!--  p.question > @echoX(state.answer) --\x3e\n' + (null != (s = a.if.call(r, null != n ? n.isShowParsing : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '    <div class="clearfix">\n        <div class="m-bottom">\n            <div class="inline-block">\n                <span class="text-tips">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                <span>" + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</span>\n            </div>\n        </div>\n        <div class="m-bottom text-right">\n' + (null != (s = a.if.call(r, null != n ? n.showScore : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n</div>"
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '        <div class="parsing m-bottom m-top">\n            <div class="pull-left m-right">\n                ' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                :\n            </div>\n            <div class="parsing-detail">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n        </div>\n"
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '                <div class="inline-block m-right">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.type : s, n)) + '</span>\n                </div>\n                <div class="inline-block m-right">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '</span>\n                </div>\n                <div class="inline-block">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.select-question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.difficulty : s, n)) + "</span>\n                </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/preview/sentence-completion/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/preview/question-answer/view-content"][0].apply(a, arguments)
    }
    , {
        "../../answer/choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/exam/question/types/preview/question-answer/view-content"
    }],
    "./app/exam/exam/question/types/preview/sentence-completion/view-options": [function(e, n, a) {
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            showScore: function() {
                return 1 === this.module.renderOptions.previewMode
            },
            isShowParsing: function() {
                return !!this.bindings.state.data.parsing
            }
        }
    }
    , {}],
    "./app/exam/exam/question/types/preview/sorting/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("../../answer/choise")
          , s = e("lodash/collection");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                attachment1: {
                    url: "../course-study/file/safe"
                },
                attachment2: {
                    url: "../course-study/file/info-auth"
                },
                download: {
                    url: "../course-study/file/download"
                },
                state: {
                    data: {}
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a = e.data, i = this.models.state.data = {
                        content: "",
                        score: 0,
                        type: 8,
                        difficulty: "",
                        options: []
                    }, r = t.get("question-types"), l = t.get("question-difficultys"), o = a.questionAttrs, c = 0, u = "";
                    for (i.content = a.content,
                    i.score = a.score,
                    i.type = s.find(r, ["key", a.type.toString()]).value,
                    i.difficulty = l[Number(a.difficulty) - 1].value,
                    i.options = [],
                    i.parsing = a.parsing,
                    u = s.find(s.map(o, function(e) {
                        var n = e;
                        return n.type = Number(n.type),
                        n
                    }), ["type", 0]).value,
                    o = s.filter(o, function(e) {
                        return 0 !== Number(e.type)
                    }),
                    c; c < o.length; c++)
                        n = String.fromCharCode(c + "A".charCodeAt(0)),
                        i.options.push({
                            content: o[c].value,
                            code: n,
                            i: c
                        });
                    i.answer = s.map(s.filter(u.split("|"), function(e) {
                        return e
                    }), function(e) {
                        return String.fromCharCode(Number(e) + "A".charCodeAt(0))
                    }).join(""),
                    this.module.dispatch("checkMedia"),
                    this.models.state.changed()
                },
                getAttachment1: function(e) {
                    return i.store.callbacks.getAttachment1.call(this, e)
                },
                getAttachment2: function(e) {
                    return i.store.callbacks.getAttachment2.call(this, e)
                },
                checkMedia: function(e) {
                    return i.store.callbacks.checkMedia.call(this, e)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "../../answer/choise": "./app/exam/exam/question/types/answer/choise/index",
        "./app/util/maps": "./app/util/maps",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/question/types/preview/sorting/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '    <div class="row">\n        <div class="col-xs-6"><div class="com-title">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.sort", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></div>\n    </div>\n    <p class="question">\n        ' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.attachment : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </p>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '            <div class="media-mix player-content">\n' + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp3", {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != (s = null != n ? n.state : n) ? s.attachment : s) ? s.type : s, "eq", "mp4", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <audio id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered" controls="controls" poster="./images/default-cover/music.jpg">\n                        <source src="' + e.escapeExpression((s = null != (s = a.url || (null != n ? n.url : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "url",
                    hash: {},
                    data: i
                }) : s)) + '" type="audio/mp3"/>\n                    </audio>\n                    <div id="startPlayer" class="video-js media-mix-content vjs-big-play-centered">\n                        <button class="vjs-big-play-button" type="button" aria-live="polite" title="Play Video" aria-disabled="false">\n                            <span class="vjs-control-text"></span>\n                        </button>\n                    </div>\n'
            },
            7: function(e, n, a, t, i) {
                return '                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand" preload="auto" muted="true">\n                        <source src="https://cdn.zhixueyun.com//default/M00/01/C5/cjeztl5nXVKEL8a3AAAAAGdxysM211_t/index.m3u8" type="application/x-mpegURL"/>\n                    </video>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '<div class="answer">\n    <dl>' + (null != (s = a.each.call(r, null != (s = null != n ? n.state : n) ? s.options : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</dl>\n" + (null != (s = a.if.call(r, null != n ? n.isShowParsing : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '    <div class="clearfix">\n        <div class="m-bottom">\n            <div class="inline-block">\n                <span class="text-tips">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                <span>" + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</span>\n            </div>\n        </div>\n        <div class="m-bottom text-right">\n' + (null != (s = a.if.call(r, null != n ? n.showScore : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n</div>"
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <dd id="item-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n            <label class="no-margin" for="answer-item-' + c((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <div class="answer-options inline-block"><div class="option-num">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.code : n, ".", {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</div></div>\n                <div class="answer-content">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n            </label>\n        </dd>\n    "
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '        <div class="parsing m-bottom m-top">\n            <div class="pull-left m-right">\n                ' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                :\n            </div>\n            <div class="parsing-detail">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n        </div>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '                <div class="inline-block m-right">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.type : s, n)) + '</span>\n                </div>\n                <div class="inline-block m-right">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '</span>\n                </div>\n                <div class="inline-block">\n                    <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.select-question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                    <span>" + o(c(null != (s = null != n ? n.state : n) ? s.difficulty : s, n)) + "</span>\n                </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/question/types/preview/sorting/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/preview/question-answer/view-content"][0].apply(a, arguments)
    }
    , {
        "../../answer/choise/view-content.js": "./app/exam/exam/question/types/answer/choise/view-content",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/exam/question/types/preview/question-answer/view-content"
    }],
    "./app/exam/exam/question/types/preview/sorting/view-options": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/preview/judgement/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/preview/judgement/view-options",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/score-detail-manage/index": [function(e, n, a) {
        var t = e("./app/exam/exam/score-detail/index")
          , i = e("drizzlejs")
          , s = {
            store: {
                models: {
                    exam: {
                        url: "../exam/exam/score-detail"
                    }
                }
            }
        }
          , r = i.assign({}, t.store.models)
          , l = i.assign({}, t.store.callbacks)
          , o = i.assign({}, {
            items: t.items,
            store: {
                models: i.assign(r, s.store.models),
                callbacks: l
            },
            beforeRender: t.beforeRender,
            getCurrentStatus: t.getCurrentStatus
        });
        n.exports = o
    }
    , {
        "./app/exam/exam/score-detail/index": "./app/exam/exam/score-detail/index",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/score-detail-manage/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="achievement-content">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="head"></div>\n        <div class="achievement-main" data-region="main"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div class="show-score">\n' + (null != (s = a.if.call(r, null != n ? n.showAnswer : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        <div class="score">' + o(l(null != (s = null != n ? n.state : n) ? s.examineeTotalScore : s, n)) + o((a.string || n && n.string || c).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        <a id="close" class="btn small">' + o((a.string || n && n.string || c).call(r, "main.modal.close", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n        <hr/>\n    </div>\n    <ul class="list">' + (null != (s = a.each.call(r, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</ul>\n    <div class="bottom">\n        <div class="title-tips"><span>' + o((a.string || n && n.string || c).call(r, "exam.research-activity.preview-questionary.questionary-point-total", null != (s = null != n ? n.state : n) ? s.totalCount : s, null != (s = null != n ? n.state : n) ? s.totalScore : s, {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n        <div class="items">\n            <div class="item">\n                <div class="list-item right">' + o(l(null != (s = null != n ? n.state : n) ? s.correctNum : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "right", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="item">\n                <div class="list-item wrong">' + o(l(null != (s = null != n ? n.state : n) ? s.errorNum : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "wrong", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="item">\n                <div class="list-item no-mark">' + o(l(null != (s = null != n ? n.state : n) ? s.noAnswerCount : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "exam.question.add-question.unanswered", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="item">\n                <div class="list-item no-evaluate">' + o(l(null != (s = null != n ? n.state : n) ? s.noEvaluateCount : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "exam.question.add-question.to-be-evaluated", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            </div>\n        </div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s;
                return (null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.img : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            \x3c!--  compare(state.examRecord.status 'eq' 5) > img(src='images/exam/score-3.png') --\x3e\n            \x3c!--  compare(state.examRecord.status 'eq' 6) > img(src='images/exam/score-1.png') --\x3e\n            \x3c!--  compare(state.examRecord.status 'eq' 7) > img(src='images/exam/score-2.png') --\x3e\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                <img src="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.img : s, n)) + '"/>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <div class="list-title" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.program(10, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.program(8, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                <b>' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '</b>\n                <span class="sub-text">(' + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ')</span>\n            </div>\n            <div class="min-btn-groups  ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.program(10, i, 0),
                    data: i
                })) ? s : "") + '">\n' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n        </li>\n    "
            },
            8: function(e, n, a, t, i) {
                return ""
            },
            10: function(e, n, a, t, i) {
                return "hidden"
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "correct", {
                    name: "compare",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "error", {
                    name: "compare",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "no-answer", {
                    name: "compare",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "no-evaluate", {
                    name: "compare",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item click ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">\n                            ' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "\n                        </a>\n"
            },
            15: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item right" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            17: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item wrong" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            19: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item no-mark" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            21: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item no-evaluate" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            23: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            25: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '    <div class="pull-left title" title="' + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.exam.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ": " + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n            <li class="border right">' + l((a.string || n && n.string || c).call(o, "exam.question.add-question.examinee", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != n ? n.state : n) ? s.examinee : s, n)) + "</li>\n" + (null != (s = a.if.call(o, null != n ? n.showExamNotes : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(26, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            \x3c!--  li.border.right > echo('本卷共' state.totalCount '道题') --\x3e\n            \x3c!--  li.border.right > echo('总分: ' state.totalScore '分') --\x3e\n        </ul>\n        \x3c!--      li.border.right > echo('总得分：' state.examineeTotalScore) --\x3e\n        \x3c!--      li.border.right > echo(scoreResult) --\x3e\n        \x3c!--  .btn#close 关闭 --\x3e\n    </div>\n"
            },
            26: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <li class="drop-down-wrapper right">\n                    <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.exam.other-exam.prompt.exam-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    <i class="iconfont icon-notice drop-down-btn"></i>\n                    <div class="drop-down-content"><div class="content">\n                        <div class="sub-tip rich-text" style="font-family:' + o((a.string || n && n.string || l).call(r, "song-dynasty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ';">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.examNotes : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                    </div></div>\n                </li>\n"
            },
            28: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="preview-content" oncontextmenu="window.event.returnValue=false;" oncopy="return false;" oncut="return false;" onpaste="return false">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(29, i, 0),
                    inverse: e.program(32, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(36, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            29: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(30, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            30: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                <div class="row"></div>\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeDesc : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.index : s, n)) + "/" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.totalCount : s, n)) + ')</div>\n                    <div class="inline-block">' + l((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.questionary-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.score : s, n)) + '</div>\n                </div>\n                <div data-dynamic-key="' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            32: function(e, n, a, t, i) {
                var s;
                return "            <div>\n" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(33, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            33: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="h3 m-bottom">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ")</div>\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(34, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            34: function(e, n, a, t, i) {
                var s;
                return '                        <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            36: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="text-right m-bottom">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasPrevious : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(37, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasNext : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(39, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            37: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border m-right" id="prev-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            39: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border" id="next-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            41: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.showAnswerDetail : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(42, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            42: function(e, n, a, t, i) {
                return '        <div data-dynamic-key="answer-detail"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "head", {
                    name: "view",
                    hash: {},
                    fn: e.program(25, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(28, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "answer-detail", {
                    name: "view",
                    hash: {},
                    fn: e.program(41, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/score-detail-manage/view-exam-notes": [function(e, n, a) {
        n.exports = e("./app/exam/exam/score-detail/view-exam-notes")
    }
    , {
        "./app/exam/exam/score-detail/view-exam-notes": "./app/exam/exam/score-detail/view-exam-notes"
    }],
    "./app/exam/exam/score-detail-manage/view-head": [function(e, n, a) {
        n.exports = e("./app/exam/exam/score-detail/view-head")
    }
    , {
        "./app/exam/exam/score-detail/view-head": "./app/exam/exam/score-detail/view-head"
    }],
    "./app/exam/exam/score-detail-manage/view-main": [function(e, n, a) {
        var t = e("./app/exam/exam/score-detail/view-main")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        i.assign(s, {
            dataForEntityModule: function(e) {
                var n = this.bindings.exam.data;
                return {
                    data: e,
                    answer: this.bindings.answer.getAnswer(e.id),
                    mode: n.showAnswerRule,
                    subMode: n.showAnswerRule,
                    status: n.examRecord.status,
                    showMode: n.isShowAnswerImmed,
                    parsingViewRule: n.parsingViewRule,
                    endTime: n.endTime,
                    passStatus: n.examRegist.passStatus,
                    currentTime: n.examRecord.currentTime,
                    isStudent: !1
                }
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/exam/score-detail/view-main": "./app/exam/exam/score-detail/view-main",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/exam/score-detail-manage/view-side": [function(e, n, a) {
        n.exports = e("./app/exam/exam/score-detail/view-side")
    }
    , {
        "./app/exam/exam/score-detail/view-side": "./app/exam/exam/score-detail/view-side"
    }],
    "./app/exam/exam/score-detail/index": [function(e, n, a) {
        var t, i, s, r, l, o = e("./app/exam/exam/base-paper/index"), c = e("drizzlejs"), u = e("lodash/collection"), d = {
            ONE_HUNDRED: 100,
            ZERO: 0,
            ONE: 1,
            SINGLE_MODE: 1,
            PC_CLIENT_TYPE: 1
        }, p = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current",
            CORRECT: "correct",
            ERROR: "error",
            NOANSWER: "no-answer",
            NOMARK: "no-mark",
            noEvaluate: "no-evaluate"
        }, m = [3, 4], h = {
            store: {
                models: {
                    exam: {
                        url: "../exam/exam/front/score-detail"
                    },
                    rule: {
                        url: "../system/rule-config/key"
                    },
                    state: {
                        mixin: {
                            initNoSujective: function(e) {
                                var n = this.module.store.models.types
                                  , a = this.module.store.models.answer
                                  , t = e.examRecord
                                  , i = a.questionSummary();
                                this.data = {
                                    name: e.name,
                                    examinee: t.member && (t.member.fullName || t.member.name),
                                    totalCount: e.paper.questionNum,
                                    totalScore: e.paper.totalScore / d.ONE_HUNDRED,
                                    singleMode: e.paperShowRule === d.SINGLE_MODE,
                                    examineeTotalScore: 0,
                                    hasPrevious: !1,
                                    hasNext: e.paper.questions.length > 1
                                },
                                (e.examRecord.status > 5 || 0 === e.paper.isSubjective) && c.assign(this.data, {
                                    examineeTotalScore: i.totalScore
                                }),
                                -1 !== e.showAnswerRule && c.assign(this.data, {
                                    currentQuestion: n.getFirstQuestion(),
                                    correctNum: "-",
                                    errorNum: "-",
                                    noAnswerCount: "-",
                                    examineeTotalScore: "-",
                                    noEvaluateCount: "-"
                                })
                            },
                            initWithSuject: function(e) {
                                var n = this.module.store.models.types
                                  , a = e.paper.questions
                                  , t = e.examRecord
                                  , i = this.module.store.models.answerSheet.data
                                  , s = function(e) {
                                    return [4, 5].indexOf(Number(e.type)) > -1
                                };
                                c.assign(this.data, e, {
                                    name: e.name,
                                    examinee: t.member && (t.member.fullName || t.member.name),
                                    totalCount: e.paper.questionNum,
                                    totalScore: e.paper.totalScore / d.ONE_HUNDRED,
                                    singleMode: e.paperShowRule === d.SINGLE_MODE,
                                    currentQuestion: n.getFirstQuestion(),
                                    correctNum: 0,
                                    errorNum: 0,
                                    noAnswerCount: 0,
                                    noMarkNum: 0,
                                    noEvaluateCount: 0,
                                    examineeTotalScore: 0,
                                    hasPrevious: !1,
                                    hasNext: e.paper.questions.length > 1
                                }),
                                -1 !== e.showAnswerRule && e.examRecord.status >= 5 && (u.forEach(a, function(e) {
                                    6 === e.type ? u.some(e.subs, function(e) {
                                        return e.answerRecord
                                    }) ? u.every(u.filter(e.subs, function(e) {
                                        return e.answerRecord
                                    }), function(e) {
                                        return null !== e.answerRecord.score
                                    }) ? u.some(e.subs, function(e) {
                                        return e.answerRecord && 1 === e.answerRecord.isRight
                                    }) ? i.corrects.push(e) : i.errors.push(e) : u.some(u.filter(e.subs, function(e) {
                                        return e.answerRecord
                                    }), function(e) {
                                        return null === e.answerRecord.score
                                    }) && i.noEvaluates.push(e) : i.noAnswers.push(e) : e.answerRecord && e.answerRecord.answer ? 1 === e.answerRecord.isRight ? i.corrects.push(e) : 0 === e.answerRecord.isRight ? i.errors.push(e) : s(e) && i.noEvaluates.push(e) : i.noAnswers.push(e)
                                }),
                                this.data.correctNum = i.corrects.length,
                                this.data.errorNum = i.errors.length,
                                this.data.noAnswerCount = i.noAnswers.length,
                                this.data.noEvaluateCount = i.noEvaluates.length,
                                this.data.examineeTotalScore = u.reduce(u.map(i.corrects, function(e) {
                                    var n;
                                    return 6 === e.type ? (n = u.reduce(u.map(u.filter(e.subs, function(e) {
                                        return e.answerRecord && e.answerRecord.score
                                    }), function(e) {
                                        return e.answerRecord.score / 100
                                    }), function(e, n) {
                                        return (1e3 * e + 1e3 * n) / 1e3
                                    }),
                                    n >= 0 ? n : 0) : e.answerRecord && e.answerRecord.score ? e.answerRecord.score / 100 : 0
                                }), function(e, n) {
                                    return (1e3 * e + 1e3 * n) / 1e3
                                }) || 0),
                                e.showAnswerRule !== e.NO_SHOW_ANYTHING && e.examRecord.status > 5 && (this.data.examineeTotalScore = e.examRecord.score / 100),
                                1 === e.sourceType ? 3 === e.type || 4 === e.type ? (-1 === e.showAnswerRule || 0 === e.isShowAnswerImmed && e.endTime > (new Date).getTime() || 2 === e.isShowAnswerImmed && (1 === e.examRegist.passStatus || void 0 === e.examRegist.passStatus || null === e.examRegist.passStatus)) && c.assign(this.data, {
                                    examineeTotalScore: "-",
                                    correctNum: "-",
                                    errorNum: "-",
                                    noAnswerCount: "-",
                                    noEvaluateCount: "-"
                                }) : (-1 === e.showAnswerRule || 0 === e.paperViewRule && e.endTime > (new Date).getTime() || 2 === e.paperViewRule && (1 === e.examRegist.passStatus || void 0 === e.examRegist.passStatus || null === e.examRegist.passStatus)) && c.assign(this.data, {
                                    examineeTotalScore: "-",
                                    correctNum: "-",
                                    errorNum: "-",
                                    noAnswerCount: "-",
                                    noEvaluateCount: "-"
                                }) : -1 === e.showAnswerRule && c.assign(this.data, {
                                    examineeTotalScore: "-",
                                    correctNum: "-",
                                    errorNum: "-",
                                    noAnswerCount: "-",
                                    noEvaluateCount: "-"
                                })
                            },
                            selectQuestion: function(e) {
                                var n = this.module.store.models.types;
                                c.assign(this.data, {
                                    currentQuestion: n.getQuestionById(e)
                                })
                            },
                            resetCurrentQuestion: function() {
                                var e = this.module.store.models.types;
                                c.assign(this.data, {
                                    currentQuestion: e.getCurrentQuestion()
                                })
                            }
                        }
                    },
                    answer: {
                        mixin: {
                            getAnswer: function(e) {
                                return u.find(this.data, ["key", e])
                            },
                            questionSummary: function() {
                                var e = {
                                    correctNum: 0,
                                    errorNum: 0,
                                    noAnswerCount: 0,
                                    totalScore: 0
                                }
                                  , n = this.module.store.models.types.data
                                  , a = this;
                                return u.forEach(n, function(n) {
                                    u.forEach(n.questions, function(n) {
                                        var l = u.find(a.data, ["key", n.id]);
                                        e = 1 === n.type || 2 === n.type ? t.call(a, n, l, e) : 3 === n.type ? i.call(a, n, l, e) : 8 === n.type ? s.call(a, n, l, e) : r.call(a, n, l, e)
                                    })
                                }),
                                e
                            },
                            init: function(e) {
                                var n = function(e) {
                                    return u.map(e.answerRecord.answer.split(","), function(n) {
                                        return {
                                            id: u.find(e.questionAttrCopys, ["name", n]).id,
                                            value: n
                                        }
                                    })
                                }
                                  , a = function(e) {
                                    return [{
                                        id: e.id,
                                        value: e.answerRecord.answer
                                    }]
                                };
                                this.data = u.map(e, function(e) {
                                    var t = [];
                                    return e.answerRecord && e.answerRecord.answer ? t = 1 === e.type || 2 === e.type ? n(e) : a(e) : 6 === e.type && (t = u.map(e.subs, function(e) {
                                        var t = [];
                                        return e.answerRecord && e.answerRecord.answer && (t = 1 === e.type || 2 === e.type ? n(e) : a(e)),
                                        {
                                            key: e.id,
                                            value: t
                                        }
                                    })),
                                    {
                                        key: e.id,
                                        value: t
                                    }
                                })
                            }
                        }
                    },
                    answerSheet: {
                        data: {
                            corrects: [],
                            errors: [],
                            noAnswers: [],
                            noEvaluates: []
                        },
                        mixin: {
                            init: function() {
                                this.data.corrects = [],
                                this.data.errors = [],
                                this.data.noAnswers = [],
                                this.data.noEvaluates = []
                            }
                        }
                    }
                },
                callbacks: {
                    init: function(e) {
                        var n = e.data
                          , a = this.models.rule
                          , t = this;
                        return this.chain([function() {
                            return a.params = {
                                key: "COURSE_COMPLETE_RULE"
                            },
                            this.get(a, {
                                slient: !0
                            })
                        }
                        , function() {
                            return a.params = {
                                key: "PREVENT_SCREENSHOT_CONFIG"
                            },
                            this.get(a, {
                                slient: !0
                            }).then(function(e) {
                                return c.assign({}, {
                                    key: e[0].key,
                                    value: e[0].value,
                                    type: e[0].type
                                })
                            })
                        }
                        ], function(e) {
                            a.set({
                                rule1: e[0] && e[0][0],
                                rule2: e[1]
                            })
                        }),
                        n ? (this.models.exam.set(n.exam),
                        this.models.types.set(n.types),
                        this.models.types.initStatus(),
                        this.models.answer.set(n.answer),
                        this.models.state.initNoSujective(n.exam),
                        "") : (c.assign(this.models.exam.params, e),
                        this.get(this.models.exam, {
                            loading: !0
                        }).then(function() {
                            var e = t.models.exam.data;
                            t.models.answer.clear(),
                            t.models.types.clearByKey(e.id),
                            t.models.state.clear(),
                            -1 !== m.indexOf(e.type) && -1 === e.showAnswerRule || t.models.answer.init(e.paper.questions),
                            t.models.types.init(e.paper.questions),
                            t.models.answerSheet.init(),
                            e.examRecord.status < 5 ? t.models.state.initNoSujective(e) : t.models.state.initWithSuject(e),
                            t.models.types.resetQuestionStatus()
                        }, function(e) {
                            var n = JSON.parse(e[0].responseText).errorCode;
                            30145 !== n && 39012 !== n || l.call(t)
                        }))
                    }
                }
            }
        }, v = c.assign({}, o.store.models), f = c.assign({}, o.store.callbacks), g = c.assign({}, {
            items: c.assign(o.items, {
                "watermark-mix": "watermark-mix"
            }),
            store: {
                models: c.assign(v, h.store.models),
                callbacks: c.assign(f, h.store.callbacks)
            },
            beforeRender: function() {
                return this.dispatch("init", this.renderOptions)
            },
            getCurrentStatus: function(e) {
                var n = this.store.models.answerSheet.data;
                return u.find(n.corrects, ["id", e]) ? p.CORRECT : u.find(n.errors, ["id", e]) ? p.ERROR : u.find(n.noAnswers, ["id", e]) ? p.NOANSWER : u.find(n.noEvaluates, ["id", e]) ? p.noEvaluate : p.INIT
            }
        });
        n.exports = g,
        a.large = !0,
        t = function(e, n, a) {
            var t, i = [], s = a;
            return n && 0 !== n.value.length ? (1 === e.type && (0 === u.find(e.questionAttrCopys, ["name", n.value[0].value]).type ? (c.assign(e, {
                gainScore: e.score
            }),
            c.assign(s, {
                correctNum: ++s.correctNum,
                totalScore: s.totalScore + e.score
            })) : (c.assign(e, {
                gainScore: 0
            }),
            c.assign(s, {
                errorNum: ++s.errorNum
            }))),
            2 === e.type && (i = u.filter(e.questionAttrCopys, function(e) {
                return 0 === e.type
            }),
            n.value.length === i.length ? (t = u.every(i, function(e) {
                return !!u.find(n.value, ["value", e.name])
            }),
            t ? (c.assign(e, {
                gainScore: e.score
            }),
            c.assign(s, {
                correctNum: ++s.correctNum,
                totalScore: s.totalScore + e.score
            })) : (c.assign(e, {
                gainScore: 0
            }),
            c.assign(s, {
                errorNum: ++s.errorNum
            }))) : (c.assign(e, {
                gainScore: 0
            }),
            c.assign(s, {
                errorNum: ++s.errorNum
            })))) : (c.assign(e, {
                gainScore: 0
            }),
            c.assign(s, {
                noAnswerCount: ++s.noAnswerCount
            })),
            s
        }
        ,
        i = function(e, n, a) {
            var t = a;
            return n && 0 !== n.value.length ? n.value[0].value === e.questionAttrCopys[0].value ? (c.assign(e, {
                gainScore: e.score
            }),
            c.assign(t, {
                correctNum: ++t.correctNum,
                totalScore: t.totalScore + e.score
            })) : (c.assign(e, {
                gainScore: 0
            }),
            c.assign(t, {
                errorNum: ++t.errorNum
            })) : (c.assign(e, {
                gainScore: 0
            }),
            c.assign(t, {
                noAnswerCount: ++t.noAnswerCount
            })),
            t
        }
        ,
        s = function(e, n, a) {
            var t = a;
            return n && 0 !== n.value.length ? u.find(e.questionAttrCopys, ["type", "0"]).value === n.value[0].value ? (c.assign(e, {
                gainScore: e.score
            }),
            c.assign(t, {
                correctNum: ++t.correctNum,
                totalScore: t.totalScore + e.score
            })) : (c.assign(e, {
                gainScore: 0
            }),
            c.assign(t, {
                errorNum: ++t.errorNum
            })) : (c.assign(e, {
                gainScore: 0
            }),
            c.assign(t, {
                noAnswerCount: ++t.noAnswerCount
            })),
            t
        }
        ,
        r = function(e, n, a) {
            var t = a;
            return n && 0 !== n.value.length ? n || c.assign(t, {
                noAnswerCount: ++t.noAnswerCount
            }) : (c.assign(e, {
                gainScore: 0
            }),
            c.assign(t, {
                noAnswerCount: ++t.noAnswerCount
            })),
            t
        }
        ,
        l = function() {
            var e = this;
            setTimeout(function() {
                e.module.dispatch("clearModels"),
                window.opener ? window.close() : window.setlocationHref("#/activity/index")
            }, 3e3)
        }
    }
    , {
        "./app/exam/exam/base-paper/index": "./app/exam/exam/base-paper/index",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/score-detail/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="achievement-content">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="head"></div>\n        <div class="achievement-main">\n            <div data-region="watermark-mix"></div>\n            <div data-region="main"></div>\n        </div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                return '    <div id="watermark" class="watermark watermark-mix"></div>\n'
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div class="show-score">\n        \x3c!--  if(showAnswer) --\x3e\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.img : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        <div class="score">' + o(l(null != (s = null != n ? n.state : n) ? s.examineeTotalScore : s, n)) + o((a.string || n && n.string || c).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        <a id="close" class="btn small">' + o((a.string || n && n.string || c).call(r, "main.modal.close", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n        <hr/>\n    </div>\n    <ul class="list">' + (null != (s = a.each.call(r, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</ul>\n    <div class="bottom">\n        <div class="title-tips"><span>' + o(l(null != (s = null != n ? n.state : n) ? s.countAndScore : s, n)) + '</span></div>\n        <div class="items">\n            <div class="item">\n                <div class="list-item right">' + o(l(null != (s = null != n ? n.state : n) ? s.correctNum : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "right", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="item">\n                <div class="list-item wrong">' + o(l(null != (s = null != n ? n.state : n) ? s.errorNum : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "wrong", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="item">\n                <div class="list-item no-mark">' + o(l(null != (s = null != n ? n.state : n) ? s.noAnswerCount : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "exam.question.add-question.unanswered", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="item">\n                <div class="list-item no-evaluate">' + o(l(null != (s = null != n ? n.state : n) ? s.noEvaluateCount : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "exam.question.add-question.to-be-evaluated", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            </div>\n        </div>\n    </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s;
                return '            <img src="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.img : s, n)) + "\"/>\n            \x3c!--  compare(state.examRecord.status 'eq' 5) > img(src='images/exam/score-3.png') --\x3e\n            \x3c!--  compare(state.examRecord.status 'eq' 6) > img(src='images/exam/score-1.png') --\x3e\n            \x3c!--  compare(state.examRecord.status 'eq' 7) > img(src='images/exam/score-2.png') --\x3e\n"
            },
            8: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <div class="list-title" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.program(11, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                <b>' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '</b>\n                <span class="sub-text">(' + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ')</span>\n            </div>\n            <div class="min-btn-groups  ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.program(11, i, 0),
                    data: i
                })) ? s : "") + '">\n' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n        </li>\n    "
            },
            9: function(e, n, a, t, i) {
                return ""
            },
            11: function(e, n, a, t, i) {
                return "hidden"
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "correct", {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "error", {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "no-answer", {
                    name: "compare",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "no-evaluate", {
                    name: "compare",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(24, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item click ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">\n                            ' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "\n                        </a>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item right" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item wrong" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            20: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item no-mark" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            22: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item no-evaluate" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            24: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            26: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '    <div class="pull-left title" title="' + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.exam.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ": " + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n            <li class="border right">' + l((a.string || n && n.string || c).call(o, "exam.question.add-question.examinee", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != n ? n.state : n) ? s.examinee : s, n)) + "</li>\n" + (null != (s = a.if.call(o, null != n ? n.showExamNotes : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(27, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            \x3c!--  li.border.right > echo('本卷共' state.totalCount '道题') --\x3e\n            \x3c!--  li.border.right > echo('总分: ' state.totalScore '分') --\x3e\n        </ul>\n        \x3c!--      li.border.right > echo('总得分：' state.examineeTotalScore) --\x3e\n        \x3c!--      li.border.right > echo(scoreResult) --\x3e\n        \x3c!--  .btn#close 关闭 --\x3e\n    </div>\n"
            },
            27: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <li class="drop-down-wrapper right">\n                    <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.exam.other-exam.prompt.exam-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    <i class="iconfont icon-notice drop-down-btn"></i>\n                    <div class="drop-down-content"><div class="content">\n                        <div class="sub-tip rich-text" style="font-family:' + o((a.string || n && n.string || l).call(r, "song-dynasty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ';">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.examNotes : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                    </div></div>\n                </li>\n"
            },
            29: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="preview-content" oncontextmenu="window.event.returnValue=false;" oncopy="return false;" oncut="return false;" onpaste="return false">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(30, i, 0),
                    inverse: e.program(33, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(37, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            30: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(31, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            31: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                <div class="row"></div>\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeDesc : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.markIndex : s, n)) + "/" + l(r(null != (s = null != n ? n.state : n) ? s.totalCount : s, n)) + ')</div>\n                    <div class="inline-block">' + l((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.questionary-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.score : s, n)) + '</div>\n                </div>\n                <div data-dynamic-key="' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            33: function(e, n, a, t, i) {
                var s;
                return "            <div>\n" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(34, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            34: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="h3 m-bottom">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ")</div>\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(35, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            35: function(e, n, a, t, i) {
                var s;
                return '                        <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            37: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="text-right m-bottom">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasPrevious : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(38, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasNext : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(40, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            38: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border m-right" id="prev-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            40: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border" id="next-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            42: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.showAnswerDetail : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(43, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            43: function(e, n, a, t, i) {
                return '        <div data-dynamic-key="answer-detail"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "watermark-mix", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "head", {
                    name: "view",
                    hash: {},
                    fn: e.program(26, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(29, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "answer-detail", {
                    name: "view",
                    hash: {},
                    fn: e.program(42, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/exam/score-detail/view-exam-notes": [function(e, n, a) {
        n.exports = e("./app/exam/exam/base-paper/view-exam-notes")
    }
    , {
        "./app/exam/exam/base-paper/view-exam-notes": "./app/exam/exam/base-paper/view-exam-notes"
    }],
    "./app/exam/exam/score-detail/view-head": [function(e, n, a) {
        arguments[4]["./app/exam/exam/preview-paper/view-head"][0].apply(a, arguments)
    }
    , {
        "./app/exam/exam/base-paper/view-head": "./app/exam/exam/base-paper/view-head",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/exam/preview-paper/view-head"
    }],
    "./app/exam/exam/score-detail/view-main": [function(e, n, a) {
        var t, i, s, r = e("./app/exam/exam/base-paper/view-main"), l = e("drizzlejs"), o = l.assign({}, r), c = l.assign({}, o.bindings), u = e("./app/exam/exam-question-types"), d = e("lodash/collection"), p = {
            ANSWER_PAPER_MODE: 3,
            NO_DETAIL_MODE: -1,
            TO_BE_OVER: 5,
            SINGLE: 1,
            MUTIPLE: 2,
            JUDGE: 3,
            SORT: 8
        };
        o.bindings = c,
        l.assign(o.bindings, {
            rule: !0,
            answer: !1,
            exam: !1
        }),
        l.assign(o, {
            type: "dynamic",
            getEntity: function(e) {
                var n = this.bindings.types.getQuestionById(e)
                  , a = l.assign({}, n)
                  , i = d.map(n.subs, function(e) {
                    var n = l.assign({}, e);
                    return l.assign(n, {
                        questionAttrs: e.questionAttrCopys,
                        errorRate: n.errorRate / 1e4,
                        answerRecord: null === n.answerRecord ? null : l.assign({}, n.answerRecord, {
                            score: t(n)
                        })
                    })
                });
                return l.assign(a, {
                    errorRate: a.errorRate / 1e4,
                    questionAttrs: n.questionAttrCopys,
                    answerRecord: a.answerRecord ? l.assign({}, a.answerRecord, {
                        score: t(a)
                    }) : null,
                    subs: i
                })
            },
            getEntityModuleName: function(e, n) {
                return u.get(n.type, p.ANSWER_PAPER_MODE)
            },
            dataForEntityModule: function(e) {
                var n = this.bindings.exam.data
                  , a = this.bindings.answer
                  , t = this.bindings.rule.data
                  , i = !0;
                return 3 !== n.type && 4 !== n.type || (i = !1),
                {
                    data: e,
                    answer: a.getAnswer(e.id),
                    mode: n.showAnswerRule,
                    subMode: n.showAnswerRule,
                    status: n.examRecord.status,
                    showMode: n.isShowAnswerImmed,
                    parsingViewRule: n.parsingViewRule,
                    endTime: n.endTime,
                    currentTime: n.examRecord.currentTime,
                    passStatus: n.examRegist.passStatus,
                    sourceType: n.sourceType,
                    showAnswerRule: n.showAnswerRule,
                    isStudent: !0,
                    isNormal: i,
                    rule: t,
                    from: "score-detail",
                    paperViewRule: n.paperViewRule
                }
            },
            afterRender: function() {
                i.call(this)
            },
            beforeClose: function() {
                s.call(this)
            },
            mixin: {
                pause: function(e) {
                    var n, a = this;
                    n = d.map(a.getEntities(), function(n) {
                        var a = n.items && n.items.content;
                        return a && a.components && a.components.player && e.id_ !== a.components.player.id_ ? a.components.player : null
                    }),
                    d.map(n, function(e) {
                        e && e.pause()
                    })
                }
            }
        }),
        n.exports = o,
        t = function(e) {
            return 1 === e.type || 2 === e.type || 3 === e.type || 8 === e.type ? e.answerRecord ? e.answerRecord.score / 100 : 0 : e.answerRecord && e.answerRecord.score && e.answerRecord.score ? e.answerRecord.score / 100 : null
        }
        ,
        i = function() {
            this.app.askbar.on("exam.player.pause", this.pause, this)
        }
        ,
        s = function() {
            this.app.askbar.off("exam.player.pause", this.pause, this)
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/exam/exam/base-paper/view-main": "./app/exam/exam/base-paper/view-main",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/exam/score-detail/view-side": [function(e, n, a) {
        arguments[4]["./app/exam/exam/preview-paper/view-side"][0].apply(a, arguments)
    }
    , {
        "./app/exam/exam/base-paper/view-side": "./app/exam/exam/base-paper/view-side",
        dup: "./app/exam/exam/preview-paper/view-side"
    }],
    "./app/exam/exam/score-detail/view-watermark-mix": [function(e, n, a) {
        var t, i;
        a.bindings = {
            rule: !0
        },
        a.components = [function() {
            var e, n = this.bindings.rule.data;
            return e = n.rule2 && JSON.parse(n.rule2.value) || {},
            {
                id: "watermark",
                name: "watermark-heighten",
                options: {
                    ruleConfig: e,
                    renderNode: ".watermark-mix",
                    watermarkArea: ".preview-content"
                }
            }
        }
        ],
        a.mixin = {
            recreate: function() {
                this.components.watermark.recreate()
            }
        },
        a.afterRender = function() {
            t.call(this)
        }
        ,
        a.beforeClose = function() {
            i.call(this)
        }
        ,
        t = function() {
            this.app.askbar.on("exam.watermark.recreate", this.recreate, this)
        }
        ,
        i = function() {
            this.app.askbar.off("exam.watermark.recreate", this.recreate, this)
        }
    }
    , {}],
    "./app/exam/paper-library/select-paper/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.title = "选择试卷",
        a.large = !0,
        a.items = {
            main: "main",
            "exam/paper/preview-paper": {
                isModule: !0
            },
            search: "search"
        },
        a.buttons = function() {
            var e = this.renderOptions.btnName ? this.renderOptions.btnName : "确定"
              , n = []
              , a = {
                text: e,
                fn: function() {
                    var e, n = this.renderOptions.callbacks || this.renderOptions.callback, a = this.store.models.state.data.selects;
                    return a && 0 !== a.length ? (e = a[0].id,
                    n && n.call(this, e),
                    !0) : (this.app.message.error("请选择数据"),
                    !1)
                }
            };
            return n.push(a),
            n
        }
        ,
        a.store = {
            models: {
                state: {},
                searchInfo: {},
                papers: {
                    url: "../exam/paper/front",
                    type: "pageable",
                    root: "items",
                    mixin: {
                        getPaperById: function(e) {
                            var n = this.module.store.models.papers.data;
                            return t.find(n, ["id", e])
                        }
                    }
                }
            },
            callbacks: {
                reset: function() {
                    this.models.searchInfo.changed()
                },
                refreshList: function(e) {
                    var n = this.models.state.data
                      , a = e;
                    return a.createTime && (a.createTimeStart = a.createTime.split("to")[0].trim(),
                    a.createTimeEnd = a.createTime.split("to")[1].trim()),
                    delete a.createTime,
                    this.models.papers.clear(),
                    this.models.papers.params = i.assign(e, {
                        selectIds: n.selectIds,
                        organizationId: a.organizationId ? a.organizationId : n.organizationId
                    }),
                    this.get(this.models.papers, {
                        loading: !0
                    })
                },
                singleSelect: function(e) {
                    this.models.state.data.selects = [t.find(this.models.papers.data, e)]
                },
                enterSearch: function(e) {
                    return this.module.options.store.callbacks.refreshList.call(this, e)
                }
            }
        },
        a.mixin = {
            getData: function() {
                var e = this.store.models.state.data;
                return e.value ? {
                    id: e.value,
                    text: e.text
                } : null
            }
        },
        a.beforeRender = function() {
            var e = t.map(this.renderOptions.selectIds || {}, "id");
            this.store.models.papers.clear(),
            this.store.models.state.clear(),
            this.store.models.state.set({
                selectIds: e.join(),
                organizationId: this.renderOptions.organizationId
            }),
            this.dispatch("refreshList", {})
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper-library/select-paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="exam-manage-review">\n    <div class="course-search-row" data-region="search"></div>\n    <div class="review-main" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s = null != n ? n : {}
                  , r = a.helperMissing
                  , l = e.escapeExpression;
                return '<form class="vertical">\n    <div id="searchPannel" class="row o">\n        <div class="col-sm-2">\n            <label>试卷名称:</label>\n            <input class="input" name="name" maxlength="30"/>\n        </div>\n        <div class="col-sm-2">\n            <label>所属部门:</label>\n            <div id="owner"></div>\n        </div>\n        <div class="col-sm-2">\n            <label>所属目录:</label>\n            <div id="paper-depot"></div>\n        </div>\n        <div class="col-sm-3">\n            <label>创建时间:</label>\n            <div class="date"><input id="createTime" class="input" name="createTime"/></div>\n        </div>\n        <div class="col-sm-2">\n            <label>&nbsp;</label>\n            <div id="search" class="btn inline-block">' + l((a.string || n && n.string || r).call(s, "search", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            <div id="reset" class="btn btn-reset skin-borderColor-style skin-color-style inline-block">' + l((a.string || n && n.string || r).call(s, "reset", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n        </div>\n    </div>\n</form>"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '    <div class="hr"></div>\n    <div class="clearfix">\n        <div class="pull-left m-top">试卷列表</div>\n    </div>\n    <div class="list m-top">\n        <table class="table table2 text-center">\n            <thead><tr>\n                <th width="50"></th>\n                <th>试卷名称</th>\n                <th>归属部门</th>\n                <th>所属目录</th>\n                <th>组卷方式</th>\n                <th>试题数量</th>\n                <th>总分</th>\n                <th>创建时间</th>\n            </tr></thead>\n            <tbody>' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.papers : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(8, i, 0),
                    data: i
                })) ? s : "") + '</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression, d = e.lambda;
                return '<tr>\n                <td>\n                    <div class="radio no-margin">\n                        <input type="radio" id="check-radio-' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" name="paperId" value="' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                        <label for="check-radio-' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                    </div>\n                </td>\n                <td><div class="td-content" title="' + u((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '"><a id="paper-' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">\n                    ' + u((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '\n                </a>\n                </div></td>\n                <td><div class="td-content" title="' + u(d(null != (s = null != n ? n.organization : n) ? s.name : s, n)) + '">' + u(d(null != (s = null != n ? n.organization : n) ? s.name : s, n)) + '</div></td>\n                <td><div class="td-content" title="' + u(d(null != (s = null != n ? n.paperDepot : n) ? s.name : s, n)) + '">' + u(d(null != (s = null != n ? n.paperDepot : n) ? s.name : s, n)) + "</div></td>\n                <td>" + u((a.map || n && n.map || o).call(l, "paper-library-type", null != n ? n.type : n, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "</td>\n                <td>" + u((r = null != (r = a.questionNum || (null != n ? n.questionNum : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "questionNum",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                <td>" + u((r = null != (r = a.totalScore || (null != n ? n.totalScore : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "totalScore",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                <td>" + u((a.dateMinute || n && n.dateMinute || o).call(l, null != n ? n.createTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "\n"
            },
            8: function(e, n, a, t, i) {
                return '                    <tr class="nothing-content"><td colspan="8">\n                        <div class="content-empty">\n                            <div class="img img-type-1"></div>\n                            <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                        </div>\n                    </td></tr></td>\n            </tr>\n            "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "search", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/paper-library/select-paper/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.type = "form",
        a.bindings = {
            state: !0,
            papers: !0
        },
        a.events = {
            "click check-radio-*": "checkRadio",
            "click paper-*": "previewPaper"
        },
        a.handlers = {
            checkRadio: function(e) {
                this.module.dispatch("singleSelect", {
                    id: e
                })
            },
            previewPaper: function(e) {
                var n = this.module.items["exam/paper/preview-paper"]
                  , a = this
                  , t = this.bindings.papers.getPaperById(e);
                if (2 !== t.type)
                    return void a.app.message.error("随机组卷不提供预览");
                a.app.viewport.ground(n, {
                    exam: i.assign(t, {
                        paperShowRule: 2
                    }),
                    paperId: e,
                    isPreview: !0
                })
            }
        },
        a.components = [{
            id: "pager",
            name: "pager",
            options: {
                model: "papers"
            }
        }],
        a.dataForTemplate = {
            papers: function(e) {
                var n = t.map(this.module.renderOptions.selectIds || {}, "id");
                return t.map(e.papers, function(e) {
                    var a = e;
                    return a.totalScore = a.totalScore ? a.totalScore / 100 : a.totalScore,
                    a.checked = -1 !== n.indexOf(a.id),
                    a
                })
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper-library/select-paper/view-search": [function(e, n, a) {
        a.bindings = {
            state: !1,
            searchInfo: !0
        },
        a.components = [function() {
            var e = this;
            return {
                id: "paper-depot",
                name: "picker",
                required: !1,
                options: {
                    picker: "paper-depot",
                    inputName: "paperDepotId",
                    params: {
                        operatorType: this.app.global.EDIT,
                        state: 1,
                        share: !1
                    },
                    data: {},
                    canShowModal: function() {
                        return e.components.owner.getValue()
                    },
                    errorMsg: "请先选择归属部门"
                }
            }
        }
        , function() {
            var e = this;
            return {
                id: "owner",
                name: "picker",
                options: {
                    module: this.module.renderOptions.url || "exam/exam",
                    params: {
                        organizationId: this.module.renderOptions.organizationId
                    },
                    picker: "owner-admin",
                    required: !1,
                    autoFill: !1,
                    supportMore: !0,
                    inputName: "organizationId",
                    selectChanged: function(n) {
                        return e.components["paper-depot"].reset({
                            operatorType: e.app.global.EDIT,
                            state: 1,
                            organizationId: n.id,
                            share: !0,
                            autoFill: !0
                        })
                    }
                }
            }
        }
        , {
            id: "createTime",
            name: "flatpickr",
            options: {
                enableTime: !0,
                mode: "range"
            }
        }],
        a.dataForTemplate = {},
        a.actions = {
            "click reset": "reset",
            "click search": "refreshList",
            "keypress searchPannel": "enterSearch"
        },
        a.dataForActions = {
            enterSearch: function(e, n) {
                return 13 === n.keyCode && e
            }
        }
    }
    , {}],
    "./app/exam/paper/add-normal-paper/index": [function(e, n, a) {
        var t, i, s = e("lodash/collection"), r = e("./app/util/maps"), l = e("jquery"), o = e("drizzlejs"), c = e("./app/util/helpers"), u = {
            1: 1,
            2: 2,
            3: 3,
            4: 5,
            5: 6,
            6: 7,
            8: 4
        }, d = e("./app/util/strings");
        a.title = function() {
            return this.renderOptions.id ? "编辑试卷" : "试题组卷"
        }
        ,
        a.items = {
            summary: "summary",
            "question-classes": "question-classes",
            "exam/question/add-question": {
                isModule: !0
            },
            "exam/question/select-question": {
                isModule: !0
            },
            "exam/question/import-data": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                paper: {
                    url: "../exam/paper-class/front",
                    data: {
                        questionNum: 0,
                        totalScore: 0,
                        paperClassQuestions: []
                    },
                    mixin: {
                        getQuestionClass: function(e) {
                            var n = this;
                            return s.find(n.store.models.paper.data.paperClassQuestions, {
                                questionId: e
                            })
                        },
                        getQuestionIds: function() {
                            var e = this;
                            return s.map(e.store.models.paper.data.paperClassQuestions, function(e) {
                                return e.questionId
                            })
                        },
                        sortQuestion: function() {
                            var e = this.data.paperClassQuestions;
                            this.data.paperClassQuestions = s.map(s.orderBy(s.map(e, function(e) {
                                return o.assign(e, {
                                    sortType: u[e.question.type]
                                })
                            }), ["sortType", "sequence"], ["asc", "asc"]), function(e, n) {
                                return o.assign(e, {
                                    sequence: n + 1
                                })
                            })
                        },
                        filterSubs: function() {
                            var e = []
                              , n = []
                              , a = this.module.store.models.subs;
                            s.forEach(this.data.paperClassQuestions, function(a) {
                                a.parentId ? e.push(a) : n.push(a)
                            }),
                            this.data.paperClassQuestions = n,
                            a.data = e
                        },
                        fillOriginalQuestionId: function() {
                            s.map(this.data.paperClassQuestions || [], function(e) {
                                var n = e;
                                n.originalQuestionId = n.question && n.question.originalQuestionId
                            })
                        }
                    }
                },
                subs: {
                    data: [],
                    mixin: {
                        getScore: function(e) {
                            var n = s.find(this.data, ["questionId", e.id]);
                            return n ? parseFloat((n.score / 100).toFixed(1)) : parseFloat((e.score / 100).toFixed(1))
                        },
                        updateQuestion: function(e) {
                            var n = e.subs;
                            this.data = s.map(this.data, function(e) {
                                var a = s.find(n, ["id", e.question.id]);
                                return o.assign(e, {
                                    score: a ? a.score : e.score
                                })
                            })
                        },
                        setPaperClassQuestionScore: function(e) {
                            var n = this;
                            s.map(e, function(e) {
                                var a = s.find(n.data, ["questionId", e.id]);
                                o.assign(e, {
                                    score: a ? a.score : e.score
                                })
                            })
                        },
                        addSubs: function(e) {
                            var n = this
                              , a = this.module.store.models.paper
                              , t = s.map(e.question.subs, function(n, t) {
                                return {
                                    paperClassId: a.data.id,
                                    questionId: n.id,
                                    score: Number(n.score),
                                    sequence: n.order || t,
                                    parentId: e.question.id,
                                    question: n
                                }
                            });
                            s.forEach(t, function(e) {
                                n.data.push(e)
                            })
                        }
                    }
                },
                summary: {
                    data: {}
                },
                paperClass: {
                    url: "../exam/paper-class/front"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this
                      , a = n.module.renderOptions.id;
                    if (e.isPaper && e.paperClass.paperClassQuestions)
                        return o.assign(n.models.paper.data, e.paperClass),
                        n.models.paper.filterSubs(),
                        n.models.paper.fillOriginalQuestionId(),
                        void n.module.reload();
                    a ? (o.assign(n.models.paper.params, {
                        paperId: a
                    }),
                    n.get(n.models.paper, {
                        loading: !0
                    }).then(function() {
                        n.models.paper.filterSubs(),
                        n.models.paper.fillOriginalQuestionId(),
                        n.module.reload()
                    })) : n.module.reload()
                },
                savePaper: function(e) {
                    var n, a, t = this, i = t.models.paper.data.paperClassQuestions, r = this.models.subs, l = [], c = this.models.paperClass;
                    return t.module.renderOptions.isPaper ? (n = o.assign({}, t.models.paper.data, e, {
                        paperClassQuestions: i,
                        type: t.module.renderOptions.type || 1,
                        totalScore: (100 * t.models.paper.data.totalScore).toFixed(0),
                        name: this.module.renderOptions.paperName
                    }),
                    t.module.renderOptions.callback(n)) : (s.forEach(i, function(e) {
                        6 === Number(e.question.type) ? (l.push(e),
                        a = 0 === e.question.questionAttrs.length ? s.orderBy(e.question.subs, ["createTime"], ["asc"]) : s.orderBy(e.question.questionAttrs, ["createTime"], ["asc"]),
                        r.setPaperClassQuestionScore(a),
                        s.forEach(a, function(n, a) {
                            l.push({
                                paperClassId: t.models.paper.data.id,
                                questionId: n.id,
                                score: Number(n.score),
                                sequence: n.order || a,
                                parentId: e.question.id,
                                question: n
                            })
                        })) : l.push(e)
                    }),
                    s.map(l, function(e, n) {
                        return delete e.question,
                        o.assign(e, {
                            sequence: e.parentId ? e.sequence : n
                        })
                    }),
                    o.assign(t.models.paper.data, e, {
                        paperClassQuestions: JSON.stringify(l),
                        type: t.module.renderOptions.type || 1,
                        totalScore: (100 * t.models.paper.data.totalScore).toFixed(0),
                        name: this.module.renderOptions.paperName
                    }),
                    o.assign(c.data, t.models.paper.data, {
                        examId: this.module.renderOptions.examId
                    }),
                    t.save(c, {
                        loading: !0
                    }).then(function(e) {
                        var n = t.module.renderOptions.callback
                          , a = e[0].id || "";
                        t.app.message.success("试题组卷已保存成功"),
                        n && n(a)
                    }))
                },
                submitDataBack: function() {
                    var e = this
                      , n = e.models.paper.data.paperClassQuestions;
                    o.assign(e.models.paper.data, {
                        paperClassQuestions: JSON.parse(n),
                        totalScore: parseFloat((e.models.paper.data.totalScore / 100).toFixed(1))
                    })
                },
                moveDown: function(e) {
                    var n, a, t = this.models.paper.data.paperClassQuestions;
                    (a = t.findIndex(function(n) {
                        return n.questionId === e
                    })) >= t.length - 1 || (n = t[a],
                    t[a] = t[a + 1],
                    t[a + 1] = n,
                    this.models.paper.changed())
                },
                moveUp: function(e) {
                    var n, a, t = this.models.paper.data.paperClassQuestions;
                    (a = t.findIndex(function(n) {
                        return n.questionId === e
                    })) <= 0 || (n = t[a],
                    t[a] = t[a - 1],
                    t[a - 1] = n,
                    this.models.paper.changed())
                },
                addQuestionClass: function(e) {
                    i.call(this, [e], e.refreshCallback)
                },
                addQuestionClasses: function(e) {
                    i.call(this, e, e.refreshCallback)
                },
                updatePaper: function(e) {
                    e && e.key && (this.models.paper.data[e.key] = e.value)
                },
                updatePaperTotal: function() {
                    var e = this
                      , n = e.models.summary.data || {}
                      , a = e.models.paper.data;
                    n.total || (n.total = {
                        amount: 0,
                        score: 0
                    }),
                    a.questionNum = n.total.amount,
                    a.totalScore = n.total.score,
                    e.models.paper.changed()
                },
                setScore: function(e) {
                    var n = this;
                    s.find(n.models.paper.data.paperClassQuestions, {
                        questionId: e.questionId
                    }).score = (100 * e.score).toFixed(0),
                    n.module.dispatch("reloadSummary")
                },
                setArrScore: function(e) {
                    var n = this
                      , a = e.arr
                      , t = n.models.paper
                      , i = this.models.subs
                      , r = s.filter(t.data.paperClassQuestions, function(e) {
                        var n = e.question
                          , t = Number(n.difficulty) === Number(a[1]) && Number(n.type) === Number(a[2]);
                        return t = n.questionDepotId ? t && n.questionDepotId === a[0] : t && !n.questionDepotId
                    })
                      , l = c.avgScoreFunc(100 * e.score, a[3], 10);
                    s.map(r || [], function(e, n) {
                        var a, t, o = e;
                        return o.score = l.avgScore,
                        n === r.length - 1 && (o.score = l.remScore),
                        o.question.score = o.score,
                        6 === Number(o.question.type) && (a = o.question.subs.length || 0,
                        t = c.avgScoreFunc(o.score, a, 10),
                        o.question.subs = s.orderBy(o.question.subs, ["type"], ["asc"]),
                        i.data.length > 0 ? s.map(o.question.subs, function(e, n) {
                            var r = e
                              , l = s.find(i.data, {
                                questionId: e.id
                            });
                            return r.score = t.avgScore,
                            n === a - 1 && (r.score = t.remScore),
                            l.score = r.score
                        }) : s.map(o.question.subs, function(e, n) {
                            var i = e;
                            return i.score = t.avgScore,
                            n === a - 1 && (i.score = t.remScore),
                            i
                        })),
                        o
                    }),
                    n.module.dispatch("reloadSummary")
                },
                updateQuestion: function(e) {
                    var n, a = this, t = this.models.subs, i = a.models.paper.data.paperClassQuestions;
                    n = s.find(i, {
                        questionId: e.id
                    }),
                    n.question = e,
                    n.questionId = e.id,
                    n.score = e.score,
                    6 === Number(e.type) && t.updateQuestion(e),
                    a.models.paper.changed(),
                    a.module.dispatch("reloadSummary")
                },
                updateEditQuestion: function(e) {
                    var n, a = this, t = this.models.subs, i = a.models.paper.data.paperClassQuestions;
                    n = s.find(i, {
                        questionId: e.replaceId
                    }),
                    n.question = e,
                    n.questionId = e.id,
                    n.score = e.score,
                    6 === Number(e.type) && t.updateQuestion(e),
                    a.models.paper.changed(),
                    a.module.dispatch("reloadSummary")
                },
                removeQuestionClass: function(e) {
                    var n, a = this.models.paper.data.paperClassQuestions;
                    (n = a.findIndex(function(n) {
                        return n.questionId === e
                    })) >= 0 && (this.models.paper.data.paperClassQuestions.splice(n, 1),
                    this.models.paper.changed(),
                    this.module.dispatch("reloadSummary"))
                },
                removeQuestionClasses: function(e) {
                    var n = this.models.paper.data.paperClassQuestions
                      , a = this;
                    s.forEach(e, function(e) {
                        var t = n.findIndex(function(n) {
                            return n.questionId === e.id
                        });
                        t >= 0 && a.models.paper.data.paperClassQuestions.splice(t, 1)
                    }),
                    this.models.paper.changed(),
                    this.module.dispatch("reloadSummary")
                },
                reloadSummary: function() {
                    var e = this
                      , n = e.models.summary.data
                      , a = t()
                      , i = e.models.paper.data.paperClassQuestions;
                    n.total = {
                        amount: 0,
                        score: 0
                    },
                    s.forEach(i, function(e) {
                        var t = e.question;
                        if (!a[e.question.type])
                            throw new Error("paperClassQuestions type is not define");
                        a[e.question.type].total || (a[e.question.type].total = {
                            amount: 0,
                            score: 0
                        }),
                        a[e.question.type].total.amount++,
                        a[e.question.type].total.score += parseFloat((Number(e.score) / 100).toFixed(1)),
                        a[e.question.type].total.score = parseFloat(a[e.question.type].total.score.toFixed(1)),
                        n.total.amount++,
                        n.total.score += parseFloat((Number(e.score) / 100).toFixed(1)),
                        n.total.score = parseFloat(n.total.score.toFixed(1)),
                        t.questionAttrs = s.orderBy(t.questionAttrs, ["name"], ["asc"])
                    }),
                    n.rows = a,
                    n.rows = s.filter(n.rows, function(e) {
                        return !!(e.total && e.total.amount && e.total.amount > 0)
                    }),
                    e.models.summary.changed(),
                    e.module.dispatch("updatePaperTotal")
                },
                reset: function() {
                    this.models.paper.data = {
                        questionNum: 0,
                        totalScore: 0,
                        paperClassQuestions: []
                    }
                }
            }
        },
        t = function() {
            var e = r.get("question-types")
              , n = {};
            return s.forEach(e, function(e) {
                var a = {
                    type: Number(e.key),
                    typeName: e.value
                };
                n[a.type] = a
            }),
            n
        }
        ,
        a.buttons = [{
            text: "保存",
            fn: function(e) {
                var n = this
                  , a = n.store.models.paper.data.paperClassQuestions
                  , t = l('input[name="organizationId"]').val();
                return n.dispatch("updatePaper", {
                    key: "organizationId",
                    value: t
                }).then(function() {
                    return a.length < 1 ? (n.app.message.error("试题不能为空"),
                    !1) : !!n.items["question-classes"].validate() && (n.store.models.paper.data.totalScore > 1e3 ? (n.app.message.error(d.get("exam.paper.add-paper.paper-total-score-not-gt-1000")),
                    !1) : n.dispatch("savePaper", e))
                })
            }
        }],
        a.mixin = {
            reload: function() {
                return this.dispatch("reloadSummary")
            }
        },
        a.beforeRender = function() {
            this.store.models.paper.data = {
                questionNum: 0,
                totalScore: 0,
                paperClassQuestions: []
            }
        }
        ,
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        i = function(e, n) {
            var a = this
              , t = a.models.paper
              , i = this.module.store.models.subs
              , r = t.data.paperClassQuestions
              , l = 0
              , c = function(n) {
                return s.forEach(e, function(e) {
                    var a = {}
                      , l = !1;
                    s.find(r, {
                        questionId: e.id
                    }) || (r = s.reject(r, function(t) {
                        var i = t.originalQuestionId && t.originalQuestionId === e.originalQuestionId;
                        return i && (l = i,
                        a.sequence = t.sequence),
                        !n && i
                    }),
                    n && l || (a.paperClassId = t.data.id,
                    a.questionId = e.id,
                    a.score = Number(e.score),
                    a.sequence = a.sequence || 0 === a.sequence ? a.sequence : r.length + 1,
                    a.isFromSelected = e.isFromSelected || 0,
                    a.question = e,
                    a.originalQuestionId = e.originalQuestionId,
                    r.push(a),
                    6 === Number(e.type) && i.addSubs(a),
                    o.assign(t.data, {
                        paperClassQuestions: r
                    })))
                }),
                t.sortQuestion(),
                t.changed(),
                a.module.dispatch("reloadSummary"),
                !0
            }
              , u = s.reduce(e, function(e, n) {
                var a = e || {};
                return n.originalQuestionId && (a[n.originalQuestionId] = n),
                e
            }, {}) || [];
            return l = s.filter(r, function(e) {
                var n = e.originalQuestionId && u[e.originalQuestionId];
                return n && n.id !== e.questionId
            }) || [],
            l.length > 0 ? this.app.message.confirm("该试题已被修改，是否使用原试题？", function() {
                return c.call(a, !0),
                n && n(),
                !0
            }, function() {
                return c.call(a)
            }, {
                labels: {
                    ok: "是",
                    cancel: "否"
                }
            }) : c.call(a)
        }
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/add-normal-paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="exam-base-info add-info-popup">\n    <div data-region="summary"></div>\n    <br/>\n    <div data-region="question-classes"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <div class="add-paper-list">\n        <div class="bottom dashed">\n            <div class="paper-mark clearfix">\n                <div class="choose-question pull-left">\n                    <div id="select-question" class="btn"><i class="iconfont icon-questions m-left"></i><span class="m-right">选择试题</span></div>\n                    <div id="temporary-question" class="btn"><i class="iconfont icon-file m-left"></i><span class="m-right">新增试题</span></div>\n                    <div id="import-question" class="btn"><i class="iconfont icon-cloud-down m-left"></i><span class="m-right">导入试卷</span></div>\n                </div>\n                <div class="choose-question text-right pull-right">\n                    <span>试题总数：</span>\n                    <b>' + l(r(null != (s = null != n ? n.paper : n) ? s.questionNum : s, n)) + "</b>\n                    <span>试卷总分：</span>\n                    <b>" + l(r(null != (s = null != n ? n.paper : n) ? s.totalScore : s, n)) + '</b>\n                </div>\n            </div>\n            <div id="directory-score-table"></div>\n        </div>\n    </div>\n'
            },
            5: function(e, n, a, t, i) {
                var s;
                return '<form class="vertical">\n    <ul class="question-list paper">' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.paperClassQuestions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</ul>\n    <div class="top-bottom">\n        <div id="backToTop" class="back-box">\n            <a>返回</a>\n            <a>顶部</a>\n        </div>\n        <div id="goToBottom" class="back-box">\n            <a>返回</a>\n            <a>底部</a>\n        </div>\n    </div>\n</form>'
            },
            6: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '\n        <li class="question-item"><div class="row">\n            <div class="col-md-12">\n                <div data-dynamic-key="' + l(r(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '"></div>\n            </div>\n            <div class="col-md-12">\n                <div class="col-xs-6">\n                    <div class="inline-block m-right">\n                        <b class="error">难易度：</b>\n                        ' + l(r(null != (s = null != n ? n.question : n) ? s.difficulty : s, n)) + "\n                    </div>\n" + (null != (s = (a.compare || n && n.compare || c).call(o, null != (s = null != n ? n.question : n) ? s.type : s, "eq", 6, {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || c).call(o, null != (s = null != n ? n.question : n) ? s.type : s, "ne", 6, {
                    name: "compare",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                </div>\n                <div class="col-xs-6 text-right">\n                    <div class="inline-block m-right" id="move-up-' + l(r(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '" title="上移"><i class="iconfont icon-arrow-up-circle pe-2x pe-va pointer"></i></div>\n                    <div class="inline-block m-right" id="move-down-' + l(r(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '" title="下移"><i class="iconfont icon-arrow-down-circle pe-2x pe-va pointer"></i></div>\n' + (null != (s = (a.compare || n && n.compare || c).call(o, null != n ? n.isFromSelected : n, "eq", 0, {
                    name: "compare",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                    <div class="inline-block" id="remove-question-' + l(r(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '" title="移除"><i class="iconfont icon-delete-solid custom-color-3 pointer"></i></div>\n                </div>\n            </div>\n        </div></li>\n    '
            },
            7: function(e, n, a, t, i) {
                var s;
                return '                        <div class="inline-block">\n                            题目分数：' + e.escapeExpression((s = null != (s = a.score || (null != n ? n.score : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + "\n                        </div>\n"
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <div class="input-box inline-block">\n                            <div class="text">题目分数：</div>\n                            <input class="input input-left" id="score-' + o((s = null != (s = a.questionId || (null != n ? n.questionId : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionId",
                    hash: {},
                    data: i
                }) : s)) + '" name="score" placeholder="请输入题目分数（分）" value="' + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + '" x-rule="required,range:0:100,keepDecimal:1"/>\n                        </div>\n'
            },
            11: function(e, n, a, t, i) {
                var s;
                return '                        <div class="inline-block m-right" id="edit-question-' + e.escapeExpression(e.lambda(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '" title="编辑"><i class="iconfont icon-edit-solid custom-color-4 pe-2x pointer m-right"></i></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "summary", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "question-classes", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/paper/add-normal-paper/view-question-classes": [function(e, n, a) {
        var t, i = e("./app/exam/exam-question-types"), s = e("lodash/collection"), r = e("drizzlejs"), l = e("jquery"), o = e("./app/ext/views/form/validators"), c = e("./app/ext/views/form/markers");
        a.type = "dynamic",
        a.bindings = {
            paper: !0,
            summary: !1,
            subs: !1
        },
        a.getEntity = function(e) {
            var n = this.bindings.paper.getQuestionClass(e).question
              , a = this.bindings.subs
              , t = r.assign({}, n)
              , i = s.map(t.subs, function(e) {
                var n = r.assign({}, e);
                return r.assign(n, {
                    score: a.getScore(n)
                })
            });
            return n = r.assign(t, {
                score: n.score / 100,
                subs: i,
                questionAttrs: s.orderBy(n.questionAttrs, ["name"], ["asc"])
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return i.get(n.type, 2)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                type: e.type,
                data: e,
                multiple: 2 === e.type,
                previewMode: 6 === Number(e.type) ? 3 : 2,
                callback: function(e) {
                    return n.module.dispatch("updateQuestion", e)
                }
            }
        }
        ,
        a.mixin = {
            validate: function() {
                var e = this.bindings.summary.data
                  , n = l(this.$$('[name = "score"]'))
                  , a = l(this.$$('[name = "editScore"]'));
                return !!s.every(n, function(e) {
                    return t.call(this, e)
                }) && (!(a && !s.every(a, function(e) {
                    return t.call(this, e)
                })) && (!(e.total.score > 1e3) || (this.app.message.error("试卷总分必须在0~1000分，可以保留一位小数"),
                !1)))
            }
        },
        a.dataForTemplate = {
            paperClassQuestions: function(e) {
                return e.paper ? s.map(e.paper.paperClassQuestions, function(e) {
                    var n = e;
                    return n.question && (1 === Number(n.question.difficulty) ? n.question.difficulty = "高" : 2 === Number(n.question.difficulty) ? n.question.difficulty = "中" : 3 === Number(n.question.difficulty) && (n.question.difficulty = "低")),
                    n.score = e.score / 100,
                    n.question = r.assign(n.question, {
                        type: Number(n.question.type)
                    }),
                    n
                }) : []
            }
        },
        a.events = {
            "click move-up-*": "moveUp",
            "click move-down-*": "moveDown",
            "click edit-question-*": "editQuestion",
            "click remove-question-*": "removeQuestion",
            "change score-*": "updatePaper",
            "click backToTop": "backToTop",
            "click goToBottom": "goToBottom"
        },
        a.handlers = {
            moveUp: function(e) {
                this.module.dispatch("moveUp", e)
            },
            moveDown: function(e) {
                this.module.dispatch("moveDown", e)
            },
            editQuestion: function(e) {
                var n = this
                  , a = this.bindings.paper.getQuestionClass(e)
                  , t = r.assign({}, a.question)
                  , i = {
                    url: this.module.renderOptions.url,
                    question: r.assign(t, {
                        score: a.score
                    }),
                    callback: function(e) {
                        return n.module.dispatch("updateEditQuestion", e)
                    },
                    interim: !t.questionDepot || !t.questionDepot.id,
                    titleType: "edit"
                };
                this.app.viewport.popup(this.module.items["exam/question/add-question"], i)
            },
            removeQuestion: function(e) {
                var n = this;
                n.app.message.confirm("确定删除该试题吗？", function() {
                    n.module.dispatch("removeQuestionClass", e)
                })
            },
            updatePaper: function(e) {
                return !!t.call(this, this.$("score-" + e)) && this.module.dispatch("setScore", {
                    questionId: e,
                    score: this.$("score-" + e).value
                })
            },
            backToTop: function(e) {
                l(e.target).parents(".dialog-main").animate({
                    scrollTop: 0
                }, 500)
            },
            goToBottom: function(e) {
                var n = l(e.target).parents(".dialog-main");
                n.animate({
                    scrollTop: n[0].scrollHeight
                }, 500)
            }
        },
        t = function(e) {
            var n = e
              , a = l(n).val();
            return c.text.valid(l(n)),
            o.required.fn(a) ? o.keepDecimal.fn(a, 1) ? !!o.range.fn(a, 0, 100) || (c.text.invalid(l(n), "只能填0分~100分"),
            !1) : (c.text.invalid(l(n), "只能保留1位小数"),
            !1) : (c.text.invalid(l(n), "必填项"),
            !1)
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/ext/views/form/markers": "./app/ext/views/form/markers",
        "./app/ext/views/form/validators": "./app/ext/views/form/validators",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/add-normal-paper/view-summary": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = [{
            id: 1,
            type: 1,
            name: "单选"
        }, {
            id: 2,
            type: 2,
            name: "多选"
        }, {
            id: 3,
            type: 3,
            name: "判断"
        }, {
            id: 4,
            type: 8,
            name: "排序"
        }, {
            id: 6,
            type: 4,
            name: "填空"
        }, {
            id: 7,
            type: 5,
            name: "问答"
        }, {
            id: 8,
            type: 6,
            name: "阅读理解"
        }]
          , s = e("drizzlejs");
        a.bindings = {
            paper: !0,
            summary: !0
        },
        a.dataForTemplate = {
            summary: function() {
                var e = this.bindings.summary.data
                  , n = e.rows
                  , a = t.map(t.orderBy(i, ["id", "asc"]), function(e) {
                    return {
                        total: {
                            amount: "-",
                            score: "-"
                        },
                        type: e.type,
                        typeName: e.name
                    }
                });
                return n = t.map(a, function(e) {
                    var a = t.find(n, ["type", e.type]);
                    return a || e
                }),
                {
                    rows: n
                }
            }
        },
        a.components = [function() {
            var e = this;
            return {
                id: "directory-score-table",
                name: "picker",
                options: {
                    picker: "directory-score-table",
                    data: this.bindings.paper.data,
                    callback: function(n) {
                        return e.module.dispatch("setArrScore", {
                            arr: n.arr,
                            score: n.value
                        })
                    }
                }
            }
        }
        ],
        a.events = {
            "click select-question": "selectQuestion",
            "click temporary-question": "temporaryQuestion",
            "click import-question": "importQuestion"
        },
        a.handlers = {
            selectQuestion: function() {
                var e = this;
                this.app.viewport.popup(this.module.items["exam/question/select-question"], {
                    url: this.module.renderOptions.url,
                    name: "",
                    organizationId: e.module.renderOptions.organizationId,
                    callback: {
                        addQuestionClass: function(n, a) {
                            return e.module.dispatch("addQuestionClass", s.assign(n, {
                                refreshCallback: a
                            })),
                            e.bindings.paper.data.questionNum
                        },
                        addQuestionClasses: function(n, a) {
                            return e.module.dispatch("addQuestionClasses", s.assign(n, {
                                refreshCallback: a
                            })),
                            e.bindings.paper.data.questionNum
                        },
                        removeQuestionClass: function(n) {
                            return e.module.dispatch("removeQuestionClass", n),
                            e.bindings.paper.data.questionNum
                        },
                        removeQuestionClasses: function(n) {
                            return e.module.dispatch("removeQuestionClasses", n),
                            e.bindings.paper.data.questionNum
                        },
                        getQuestionIds: function() {
                            return e.bindings.paper.getQuestionIds()
                        }
                    }
                })
            },
            temporaryQuestion: function() {
                var e = this;
                this.app.viewport.popup(this.module.items["exam/question/add-question"], {
                    url: this.module.renderOptions.url,
                    organizationId: e.module.renderOptions.organizationId,
                    callback: function(n) {
                        return e.module.dispatch("addQuestionClass", n)
                    },
                    interim: !0,
                    titleType: "add",
                    isTemp: 1
                })
            },
            importQuestion: function() {
                var e = this;
                this.app.viewport.popup(this.module.items["exam/question/import-data"], {
                    templateType: 1,
                    organizationId: e.module.renderOptions.organizationId,
                    isOtherModuleType: this.module.renderOptions.isOtherModuleType || 1,
                    callback: function(n) {
                        return e.module.dispatch("addQuestionClasses", n)
                    }
                })
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/add-paper/index": [function(e, n, a) {
        var t, i, s = e("lodash/collection"), r = e("./app/util/maps"), l = e("jquery"), o = e("drizzlejs"), c = {
            1: 1,
            2: 2,
            3: 3,
            4: 5,
            5: 6,
            6: 7,
            8: 4
        }, u = e("./app/util/strings");
        a.title = function() {
            return this.renderOptions.id ? u.get("exam.paper.add-paper.edit-paper") : u.get("exam.paper.add-paper.temporary-paper")
        }
        ,
        a.items = {
            summary: "summary",
            "question-classes": "question-classes",
            "exam/question/add-question": {
                isModule: !0
            },
            "exam/question/select-question": {
                isModule: !0
            },
            "exam/question/import-data": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                paper: {
                    url: "../exam/paper-class/front",
                    data: {
                        questionNum: 0,
                        totalScore: 0,
                        paperClassQuestions: []
                    },
                    mixin: {
                        getQuestionClass: function(e) {
                            var n = this;
                            return s.find(n.store.models.paper.data.paperClassQuestions, {
                                questionId: e
                            })
                        },
                        getQuestionIds: function() {
                            var e = this;
                            return s.map(e.store.models.paper.data.paperClassQuestions, function(e) {
                                return e.questionId
                            })
                        },
                        sortQuestion: function() {
                            var e = this.data.paperClassQuestions;
                            this.data.paperClassQuestions = s.map(s.orderBy(s.map(e, function(e) {
                                return o.assign(e, {
                                    sortType: c[e.question.type]
                                })
                            }), ["sortType", "sequence"], ["asc", "asc"]), function(e, n) {
                                return o.assign(e, {
                                    sequence: n + 1
                                })
                            })
                        },
                        filterSubs: function() {
                            var e = []
                              , n = []
                              , a = this.module.store.models.subs;
                            s.forEach(this.data.paperClassQuestions, function(a) {
                                a.parentId ? e.push(a) : n.push(a)
                            }),
                            this.data.paperClassQuestions = n,
                            a.data = e
                        },
                        fillOriginalQuestionId: function() {
                            s.map(this.data.paperClassQuestions || [], function(e) {
                                var n = e;
                                n.originalQuestionId = n.question && n.question.originalQuestionId
                            })
                        }
                    }
                },
                subs: {
                    data: [],
                    mixin: {
                        getScore: function(e) {
                            var n = s.find(this.data, ["questionId", e.id]);
                            return n ? parseFloat((n.score / 100).toFixed(1)) : parseFloat((e.score / 100).toFixed(1))
                        },
                        updateQuestion: function(e) {
                            var n = e.subs;
                            this.data = s.map(this.data, function(e) {
                                var a = s.find(n, ["id", e.question.id]);
                                return o.assign(e, {
                                    score: a ? a.score : e.score
                                })
                            })
                        },
                        setPaperClassQuestionScore: function(e) {
                            var n = this;
                            s.map(e, function(e) {
                                var a = s.find(n.data, ["questionId", e.id]);
                                o.assign(e, {
                                    score: a ? a.score : e.score
                                })
                            })
                        },
                        addSubs: function(e) {
                            var n = this
                              , a = this.module.store.models.paper
                              , t = s.map(e.question.subs, function(n, t) {
                                return {
                                    paperClassId: a.data.id,
                                    questionId: n.id,
                                    score: Number(n.score),
                                    sequence: n.order || t,
                                    parentId: e.question.id,
                                    question: n
                                }
                            });
                            s.forEach(t, function(e) {
                                n.data.push(e)
                            })
                        }
                    }
                },
                summary: {
                    data: {}
                },
                paperClass: {
                    url: "../exam/paper-class/front"
                }
            },
            callbacks: {
                init: function() {
                    var e = this
                      , n = e.module.renderOptions.id;
                    n ? (o.assign(e.models.paper.params, {
                        paperId: n
                    }),
                    e.get(e.models.paper, {
                        loading: !0
                    }).then(function() {
                        e.models.paper.filterSubs(),
                        e.models.paper.fillOriginalQuestionId(),
                        e.module.reload()
                    })) : e.module.reload()
                },
                savePaper: function(e) {
                    var n, a = this, t = a.models.paper.data.paperClassQuestions, i = this.models.subs, r = [], l = this.models.paperClass;
                    return s.forEach(t, function(e) {
                        6 === Number(e.question.type) ? (r.push(e),
                        n = 0 === e.question.questionAttrs.length ? s.orderBy(e.question.subs, ["createTime"], ["asc"]) : s.orderBy(e.question.questionAttrs, ["createTime"], ["asc"]),
                        i.setPaperClassQuestionScore(n),
                        s.forEach(n, function(n, t) {
                            r.push({
                                paperClassId: a.models.paper.data.id,
                                questionId: n.id,
                                score: Number(n.score),
                                sequence: n.order || t,
                                parentId: e.question.id,
                                question: n
                            })
                        })) : r.push(e)
                    }),
                    s.map(r, function(e, n) {
                        return delete e.question,
                        o.assign(e, {
                            sequence: e.parentId ? e.sequence : n
                        })
                    }),
                    o.assign(a.models.paper.data, e, {
                        paperClassQuestions: JSON.stringify(r),
                        type: a.module.renderOptions.type || 1,
                        totalScore: (100 * a.models.paper.data.totalScore).toFixed(0),
                        name: this.module.renderOptions.paperName
                    }),
                    o.assign(l.data, a.models.paper.data, {
                        examId: this.module.renderOptions.examId
                    }),
                    a.save(l, {
                        loading: !0
                    }).then(function(e) {
                        var n = a.module.renderOptions.callback
                          , t = e[0].id || "";
                        a.app.message.success(u.get("exam.paper.add-paper.temporary-paper-save-success")),
                        n && n(t)
                    })
                },
                submitDataBack: function() {
                    var e = this
                      , n = e.models.paper.data.paperClassQuestions;
                    o.assign(e.models.paper.data, {
                        paperClassQuestions: JSON.parse(n),
                        totalScore: parseFloat((e.models.paper.data.totalScore / 100).toFixed(1))
                    })
                },
                moveDown: function(e) {
                    var n, a, t = this.models.paper.data.paperClassQuestions;
                    (a = t.findIndex(function(n) {
                        return n.questionId === e
                    })) >= t.length - 1 || (n = t[a],
                    t[a] = t[a + 1],
                    t[a + 1] = n,
                    this.models.paper.changed())
                },
                moveUp: function(e) {
                    var n, a, t = this.models.paper.data.paperClassQuestions;
                    (a = t.findIndex(function(n) {
                        return n.questionId === e
                    })) <= 0 || (n = t[a],
                    t[a] = t[a - 1],
                    t[a - 1] = n,
                    this.models.paper.changed())
                },
                addQuestionClass: function(e) {
                    i.call(this, [e], e.refreshCallback)
                },
                addQuestionClasses: function(e) {
                    i.call(this, e, e.refreshCallback)
                },
                updatePaper: function(e) {
                    e && e.key && (this.models.paper.data[e.key] = e.value)
                },
                updatePaperTotal: function() {
                    var e = this
                      , n = e.models.summary.data || {}
                      , a = e.models.paper.data;
                    n.total || (n.total = {
                        amount: 0,
                        score: 0
                    }),
                    a.questionNum = n.total.amount,
                    a.totalScore = n.total.score,
                    e.models.paper.changed()
                },
                setScore: function(e) {
                    var n = this;
                    s.find(n.models.paper.data.paperClassQuestions, {
                        questionId: e.questionId
                    }).score = (100 * e.score).toFixed(0),
                    n.module.dispatch("reloadSummary")
                },
                updateQuestion: function(e) {
                    var n, a = this, t = this.models.subs, i = a.models.paper.data.paperClassQuestions;
                    n = s.find(i, {
                        questionId: e.id
                    }),
                    n.question = e,
                    n.score = e.score,
                    6 === Number(e.type) && t.updateQuestion(e),
                    a.models.paper.changed(),
                    a.module.dispatch("reloadSummary")
                },
                updateEditQuestion: function(e) {
                    var n, a = this, t = this.models.subs, i = a.models.paper.data.paperClassQuestions;
                    n = s.find(i, {
                        questionId: e.replaceId
                    }),
                    n.question = e,
                    n.questionId = e.id,
                    n.score = e.score,
                    6 === Number(e.type) && t.updateQuestion(e),
                    a.models.paper.changed(),
                    a.module.dispatch("reloadSummary")
                },
                removeQuestionClass: function(e) {
                    var n, a = this.models.paper.data.paperClassQuestions;
                    n = a.findIndex(function(n) {
                        return n.questionId === e
                    }),
                    this.models.paper.data.paperClassQuestions.splice(n, 1),
                    this.models.paper.changed(),
                    this.module.dispatch("reloadSummary")
                },
                removeQuestionClasses: function(e) {
                    var n = this.models.paper.data.paperClassQuestions
                      , a = this;
                    s.forEach(e, function(e) {
                        var t = n.findIndex(function(n) {
                            return n.questionId === e.id
                        });
                        t >= 0 && a.models.paper.data.paperClassQuestions.splice(t, 1)
                    }),
                    this.models.paper.changed(),
                    this.module.dispatch("reloadSummary")
                },
                reloadSummary: function() {
                    var e = this
                      , n = e.models.summary.data
                      , a = t()
                      , i = e.models.paper.data.paperClassQuestions;
                    n.total = {
                        amount: 0,
                        score: 0
                    },
                    s.forEach(i, function(e) {
                        var t = e.question;
                        if (!a[e.question.type])
                            throw new Error("paperClassQuestions type is not define");
                        a[e.question.type].total || (a[e.question.type].total = {
                            amount: 0,
                            score: 0
                        }),
                        a[e.question.type].total.amount++,
                        a[e.question.type].total.score += parseFloat((Number(e.score) / 100).toFixed(1)),
                        a[e.question.type].total.score = parseFloat(a[e.question.type].total.score.toFixed(1)),
                        n.total.amount++,
                        n.total.score += parseFloat((Number(e.score) / 100).toFixed(1)),
                        n.total.score = parseFloat(n.total.score.toFixed(1)),
                        t.questionAttrs = s.orderBy(t.questionAttrs, ["name"], ["asc"])
                    }),
                    n.rows = a,
                    n.rows = s.filter(n.rows, function(e) {
                        return !!(e.total && e.total.amount && e.total.amount > 0)
                    }),
                    e.models.summary.changed(),
                    e.module.dispatch("updatePaperTotal")
                },
                reset: function() {
                    this.models.paper.data = {
                        questionNum: 0,
                        totalScore: 0,
                        paperClassQuestions: []
                    }
                }
            }
        },
        t = function() {
            var e = r.get("question-types")
              , n = {};
            return s.forEach(e, function(e) {
                var a = {
                    type: Number(e.key),
                    typeName: e.value
                };
                n[a.type] = a
            }),
            n
        }
        ,
        a.buttons = [{
            text: u.get("save"),
            fn: function(e) {
                var n = this
                  , a = n.store.models.paper.data.paperClassQuestions
                  , t = l('input[name="organizationId"]').val();
                return n.dispatch("updatePaper", {
                    key: "organizationId",
                    value: t
                }).then(function() {
                    return a.length < 1 ? (n.app.message.error(u.get("exam.paper.add-paper.paper-question-can-not-empty")),
                    !1) : !!n.items["question-classes"].validate() && (n.store.models.paper.data.totalScore > 1e3 ? (n.app.message.error(u.get("exam.paper.add-paper.paper-total-score-not-gt-1000")),
                    !1) : n.dispatch("savePaper", e))
                })
            }
        }],
        a.mixin = {
            reload: function() {
                return this.dispatch("reloadSummary")
            }
        },
        a.beforeRender = function() {
            this.store.models.paper.data = {
                questionNum: 0,
                totalScore: 0,
                paperClassQuestions: []
            }
        }
        ,
        a.afterRender = function() {
            return this.dispatch("init")
        }
        ,
        i = function(e, n) {
            var a = this
              , t = a.models.paper
              , i = this.module.store.models.subs
              , r = t.data.paperClassQuestions
              , l = 0
              , c = function(n) {
                return s.forEach(e, function(e) {
                    var a = {}
                      , l = !1;
                    s.find(r, {
                        questionId: e.id
                    }) || (r = s.reject(r, function(t) {
                        var i = t.originalQuestionId && t.originalQuestionId === e.originalQuestionId;
                        return i && (l = i,
                        a.sequence = t.sequence),
                        !n && i
                    }),
                    n && l || (a.paperClassId = t.data.id,
                    a.questionId = e.id,
                    a.score = Number(e.score),
                    a.sequence = a.sequence || 0 === a.sequence ? a.sequence : r.length + 1,
                    a.isFromSelected = e.isFromSelected || 0,
                    a.question = e,
                    a.originalQuestionId = e.originalQuestionId,
                    r.push(a),
                    6 === Number(e.type) && i.addSubs(a),
                    o.assign(t.data, {
                        paperClassQuestions: r
                    })))
                }),
                t.sortQuestion(),
                t.changed(),
                a.module.dispatch("reloadSummary"),
                !0
            }
              , d = s.reduce(e, function(e, n) {
                var a = e || {};
                return n.originalQuestionId && (a[n.originalQuestionId] = n),
                e
            }, {}) || [];
            return l = s.filter(r, function(e) {
                var n = e.originalQuestionId && d[e.originalQuestionId];
                return n && n.id !== e.questionId
            }) || [],
            l.length > 0 ? this.app.message.confirm(u.get("exam.paper.add-paper.question-changed"), function() {
                return c.call(a, !0),
                n && n(),
                !0
            }, function() {
                return c.call(a)
            }, {
                labels: {
                    ok: u.get("yes"),
                    cancel: u.get("no")
                }
            }) : c.call(a)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/add-paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="exam-base-info add-info-popup">\n    <div data-region="summary"></div>\n    <br/>\n    <div data-region="question-classes"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '    <form class="vertical">\n        <div class="add-paper-list">\n            <div class="bottom dashed">\n                <div class="paper-mark clearfix">\n                    <div class="choose-question pull-left">\n                        <div id="select-question" class="btn"><i class="iconfont icon-questions m-left"></i><span class="m-right">' + o((a.string || n && n.string || l).call(r, "exam.question.select-question.select-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n                        <div id="temporary-question" class="btn"><i class="iconfont icon-file m-left"></i><span class="m-right">' + o((a.string || n && n.string || l).call(r, "exam.paper.add-paper.add-paper", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n                        <div id="import-question" class="btn"><i class="iconfont icon-cloud-down m-left"></i><span class="m-right">' + o((a.string || n && n.string || l).call(r, "exam.paper.add-paper.import-paper", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n                    </div>\n                    <div class="choose-question text-right pull-right">\n                        <span>' + o((a.string || n && n.string || l).call(r, "exam.paper.add-paper.paper-count", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                        <b>" + o(c(null != (s = null != n ? n.paper : n) ? s.questionNum : s, n)) + "</b>\n                        <span>" + o((a.string || n && n.string || l).call(r, "exam.paper.add-paper.paper-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                        <b>" + o(c(null != (s = null != n ? n.paper : n) ? s.totalScore : s, n)) + '</b>\n                    </div>\n                </div>\n                <div class="container-fluid"><div class="row list">\n                    <table class="table">\n                        <thead><tr>\n                            <th>' + o((a.string || n && n.string || l).call(r, "type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n" + (null != (s = a.each.call(r, null != (s = null != n ? n.summary : n) ? s.rows : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                            <th>" + o((a.string || n && n.string || l).call(r, "operation.select.type.all", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                        </tr></thead>\n                        <tbody><tr>\n                            <th>" + o((a.string || n && n.string || l).call(r, "count", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n" + (null != (s = a.each.call(r, null != (s = null != n ? n.summary : n) ? s.rows : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                            <td>" + o(c(null != (s = null != n ? n.paper : n) ? s.questionNum : s, n)) + "</td>\n                        </tr></tbody>\n                        <tbody><tr>\n                            <th>" + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n" + (null != (s = a.each.call(r, null != (s = null != n ? n.summary : n) ? s.rows : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                            <td>" + o(c(null != (s = null != n ? n.paper : n) ? s.totalScore : s, n)) + "</td>\n                        </tr></tbody>\n                    </table>\n                </div></div>\n            </div>\n            \x3c!--  ul > each(summary.rows) --\x3e\n            \x3c!--      li --\x3e\n            \x3c!--          span.title > echo(typeName ':') --\x3e\n            \x3c!--          span > echo(total.amount '道共' total.score '分') --\x3e\n        </div>\n    </form>\n"
            },
            4: function(e, n, a, t, i) {
                var s;
                return "                                <th>" + e.escapeExpression((s = null != (s = a.typeName || (null != n ? n.typeName : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "typeName",
                    hash: {},
                    data: i
                }) : s)) + "</th>\n"
            },
            6: function(e, n, a, t, i) {
                var s;
                return "                                <td>" + e.escapeExpression(e.lambda(null != (s = null != n ? n.total : n) ? s.amount : s, n)) + "</td>\n"
            },
            8: function(e, n, a, t, i) {
                var s;
                return "                                <td>" + e.escapeExpression(e.lambda(null != (s = null != n ? n.total : n) ? s.score : s, n)) + "</td>\n"
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '<form class="vertical">\n    <ul class="question-list paper">' + (null != (s = a.each.call(r, null != n ? n.paperClassQuestions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</ul>\n    <div class="top-bottom">\n        <div id="backToTop" class="back-box">\n            <a>' + o((a.string || n && n.string || l).call(r, "back", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n            <a>" + o((a.string || n && n.string || l).call(r, "top", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n        </div>\n        <div id="goToBottom" class="back-box">\n            <a>' + o((a.string || n && n.string || l).call(r, "back", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n            <a>" + o((a.string || n && n.string || l).call(r, "bottom", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n        </div>\n    </div>\n</form>"
            },
            11: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '\n        <li class="question-item"><div class="row">\n            <div class="col-md-12">\n                <div data-dynamic-key="' + l(r(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '"></div>\n            </div>\n            <div class="col-md-12">\n                <div class="col-xs-6">\n                    <div class="inline-block m-right">\n                        <b class="error">' + l((a.string || n && n.string || c).call(o, "exam.question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</b>\n                        " + l(r(null != (s = null != n ? n.question : n) ? s.difficulty : s, n)) + "\n                    </div>\n" + (null != (s = (a.compare || n && n.compare || c).call(o, null != (s = null != n ? n.question : n) ? s.type : s, "eq", 6, {
                    name: "compare",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || c).call(o, null != (s = null != n ? n.question : n) ? s.type : s, "ne", 6, {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                </div>\n                <div class="col-xs-6 text-right">\n                    <div class="inline-block m-right" id="move-up-' + l(r(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '" title="' + l((a.string || n && n.string || c).call(o, "up", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"><i class="iconfont icon-arrow-up-circle pe-2x pe-va pointer"></i></div>\n                    <div class="inline-block m-right" id="move-down-' + l(r(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '" title="' + l((a.string || n && n.string || c).call(o, "dowm", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"><i class="iconfont icon-arrow-down-circle pe-2x pe-va pointer"></i></div>\n' + (null != (s = (a.compare || n && n.compare || c).call(o, null != n ? n.isFromSelected : n, "eq", 0, {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                    <div class="inline-block" id="remove-question-' + l(r(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '" title="' + l((a.string || n && n.string || c).call(o, "remove-out", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"><i class="iconfont icon-trash pe-1x pe-va pointer"></i></div>\n                </div>\n            </div>\n        </div></li>\n    '
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <div class="inline-block">\n                            ' + o((a.string || n && n.string || l).call(r, "exam.question.types.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + "\n                        </div>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <div class="input-box inline-block">\n                            <div class="text">' + o((a.string || n && n.string || l).call(r, "exam.question.types.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                            <input class="input input-left" id="score-' + o((s = null != (s = a.questionId || (null != n ? n.questionId : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionId",
                    hash: {},
                    data: i
                }) : s)) + '" name="score" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input-question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" value="' + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + '" x-rule="required,range:0:100,keepDecimal:1"/>\n                        </div>\n'
            },
            16: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                        <div class="inline-block m-right" id="edit-question-' + r(e.lambda(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '" title="' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "edit", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"><i class="iconfont icon-edit pe-1x pe-va pointer"></i></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "summary", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "question-classes", {
                    name: "view",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/paper/add-paper/view-question-classes": [function(e, n, a) {
        var t, i = e("./app/exam/exam-question-types"), s = e("lodash/collection"), r = e("drizzlejs"), l = e("jquery"), o = e("./app/ext/views/form/validators"), c = e("./app/ext/views/form/markers"), u = e("./app/util/strings");
        a.type = "dynamic",
        a.bindings = {
            paper: !0,
            summary: !1,
            subs: !1
        },
        a.getEntity = function(e) {
            var n = this.bindings.paper.getQuestionClass(e).question
              , a = this.bindings.subs
              , t = r.assign({}, n)
              , i = s.map(t.subs, function(e) {
                var n = r.assign({}, e);
                return r.assign(n, {
                    score: a.getScore(n)
                })
            });
            return n = r.assign(t, {
                score: n.score / 100,
                subs: i,
                questionAttrs: s.orderBy(n.questionAttrs, ["name"], ["asc"])
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return i.get(n.type, 2)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                type: e.type,
                data: e,
                multiple: 2 === e.type,
                previewMode: 6 === Number(e.type) ? 3 : 2,
                callback: function(e) {
                    return n.module.dispatch("updateQuestion", e)
                }
            }
        }
        ,
        a.mixin = {
            validate: function() {
                var e = this.bindings.summary.data
                  , n = l(this.$$('[name = "score"]'))
                  , a = l(this.$$('[name = "editScore"]'));
                return !!s.every(n, function(e) {
                    return t.call(this, e)
                }) && (!(a && !s.every(a, function(e) {
                    return t.call(this, e)
                })) && (!(e.total.score > 1e3) || (this.app.message.error(u.get("exam.paper.add-paper.total-score")),
                !1)))
            }
        },
        a.dataForTemplate = {
            paperClassQuestions: function(e) {
                return e.paper ? s.map(e.paper.paperClassQuestions, function(e) {
                    var n = e;
                    return n.question && (1 === Number(n.question.difficulty) ? n.question.difficulty = u.get("exam.high") : 2 === Number(n.question.difficulty) ? n.question.difficulty = u.get("exam.middle") : 3 === Number(n.question.difficulty) && (n.question.difficulty = u.get("exam.low"))),
                    n.score = e.score / 100,
                    n.question = r.assign(n.question, {
                        type: Number(n.question.type)
                    }),
                    n
                }) : []
            }
        },
        a.events = {
            "click move-up-*": "moveUp",
            "click move-down-*": "moveDown",
            "click edit-question-*": "editQuestion",
            "click remove-question-*": "removeQuestion",
            "change score-*": "updatePaper",
            "click backToTop": "backToTop",
            "click goToBottom": "goToBottom"
        },
        a.handlers = {
            moveUp: function(e) {
                this.module.dispatch("moveUp", e)
            },
            moveDown: function(e) {
                this.module.dispatch("moveDown", e)
            },
            editQuestion: function(e) {
                var n = this
                  , a = this.bindings.paper.getQuestionClass(e)
                  , t = r.assign({}, a.question)
                  , i = {
                    question: r.assign(t, {
                        score: a.score
                    }),
                    callback: function(e) {
                        return n.module.dispatch("updateEditQuestion", e)
                    },
                    interim: !t.questionDepot || !t.questionDepot.id,
                    titleType: "edit"
                };
                this.app.viewport.popup(this.module.items["exam/question/add-question"], i)
            },
            removeQuestion: function(e) {
                var n = this;
                n.app.message.confirm(u.get("exam.paper.add-paper.delete-paper-question-confirm"), function() {
                    n.module.dispatch("removeQuestionClass", e)
                })
            },
            updatePaper: function(e) {
                return !!t.call(this, this.$("score-" + e)) && this.module.dispatch("setScore", {
                    questionId: e,
                    score: this.$("score-" + e).value
                })
            },
            backToTop: function(e) {
                l(e.target).parents(".dialog-main").animate({
                    scrollTop: 0
                }, 500)
            },
            goToBottom: function(e) {
                var n = l(e.target).parents(".dialog-main");
                n.animate({
                    scrollTop: n[0].scrollHeight
                }, 500)
            }
        },
        t = function(e) {
            var n = e
              , a = l(n).val();
            return c.text.valid(l(n)),
            o.required.fn(a) ? o.keepDecimal.fn(a, 1) ? !!o.range.fn(a, 0, 100) || (c.text.invalid(l(n), u.get("exam.paper.mark-paper.only-0-to-100")),
            !1) : (c.text.invalid(l(n), u.get("exam.question.types.only-one-decimal")),
            !1) : (c.text.invalid(l(n), u.get("exam.paper.mark-paper.option-required")),
            !1)
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/ext/views/form/markers": "./app/ext/views/form/markers",
        "./app/ext/views/form/validators": "./app/ext/views/form/validators",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/add-paper/view-summary": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings")
          , s = [{
            id: 1,
            type: 1,
            name: i.get("exam.signle-option")
        }, {
            id: 2,
            type: 2,
            name: i.get("exam.mutiple-option")
        }, {
            id: 3,
            type: 3,
            name: i.get("exam.judge")
        }, {
            id: 4,
            type: 8,
            name: i.get("exam.sort")
        }, {
            id: 6,
            type: 4,
            name: i.get("exam.blank")
        }, {
            id: 7,
            type: 5,
            name: i.get("exam.question-and-answer")
        }, {
            id: 8,
            type: 6,
            name: i.get("exam.reading-comprehension")
        }]
          , r = e("drizzlejs");
        a.bindings = {
            paper: !0,
            summary: !0
        },
        a.dataForTemplate = {
            summary: function() {
                var e = this.bindings.summary.data
                  , n = e.rows
                  , a = t.map(t.orderBy(s, ["id", "asc"]), function(e) {
                    return {
                        total: {
                            amount: "-",
                            score: "-"
                        },
                        type: e.type,
                        typeName: e.name
                    }
                });
                return n = t.map(a, function(e) {
                    var a = t.find(n, ["type", e.type]);
                    return a || e
                }),
                {
                    rows: n
                }
            }
        },
        a.events = {
            "click select-question": "selectQuestion",
            "click temporary-question": "temporaryQuestion",
            "click import-question": "importQuestion"
        },
        a.handlers = {
            selectQuestion: function() {
                var e = this;
                this.app.viewport.popup(this.module.items["exam/question/select-question"], {
                    url: this.module.renderOptions.url,
                    name: "",
                    organizationId: e.module.renderOptions.organizationId,
                    callback: {
                        addQuestionClass: function(n, a) {
                            return e.module.dispatch("addQuestionClass", r.assign(n, {
                                refreshCallback: a
                            }))
                        },
                        addQuestionClasses: function(n, a) {
                            return e.module.dispatch("addQuestionClasses", r.assign(n, {
                                refreshCallback: a
                            }))
                        },
                        removeQuestionClass: function(n) {
                            return e.module.dispatch("removeQuestionClass", n)
                        },
                        removeQuestionClasses: function(n) {
                            return e.module.dispatch("removeQuestionClasses", n)
                        },
                        getQuestionIds: function() {
                            return e.bindings.paper.getQuestionIds()
                        }
                    }
                })
            },
            temporaryQuestion: function() {
                var e = this;
                this.app.viewport.popup(this.module.items["exam/question/add-question"], {
                    callback: function(n) {
                        return e.module.dispatch("addQuestionClass", n)
                    },
                    interim: !0,
                    organizationId: e.module.renderOptions.organizationId,
                    titleType: "add",
                    isTemp: 1
                })
            },
            importQuestion: function() {
                var e = this;
                this.app.viewport.popup(this.module.items["exam/question/import-data"], {
                    templateType: 1,
                    isOtherModuleType: this.module.renderOptions.isOtherModuleType || 1,
                    callback: function(n) {
                        return e.module.dispatch("addQuestionClasses", n)
                    }
                })
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/base-paper/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/util/maps")
          , r = s.get("question-types")
          , l = {
            ONE_HUNDRED: 100,
            ZERO: 0,
            ONE: 1,
            SINGLE_MODE: 1,
            PC_CLIENT_TYPE: 1,
            SHOW_ANSWER_IMMED: 1
        }
          , o = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current"
        }
          , c = {
            REMOTE: 1,
            QUESTION: 2,
            QUESTION_ATTR: 3,
            QUESTION_AND_ATTR: 4
        }
          , u = {
            1: 1,
            2: 2,
            3: 3,
            4: 6,
            5: 7,
            6: 8,
            7: 5,
            8: 4
        }
          , d = e("./app/util/strings");
        a.large = !0,
        a.items = {
            side: "side",
            "side-top": "side-top",
            main: "main"
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        init: function(e) {
                            var n = this.module.store.models.types
                              , a = e.examRecord;
                            this.data = {
                                name: e.name,
                                examNotes: e.examNotes,
                                examinee: a && (a.member.fullName || a.member.name),
                                totalCount: e.paper.questionNum,
                                totalScore: e.paper.totalScore / l.ONE_HUNDRED,
                                totalMarkCount: e.paper.questions.length,
                                noAnswerCount: e.paper.questionNum,
                                answeredCount: l.ZERO,
                                singleMode: Number(e.paperShowRule) === l.SINGLE_MODE && e.paper.questions.length > 1,
                                currentQuestion: n.getFirstQuestion()
                            }
                        },
                        selectQuestion: function(e) {
                            var n = this.module.store.models.types;
                            i.assign(this.data, {
                                currentQuestion: n.getQuestionById(e)
                            })
                        },
                        resetCurrentQuestion: function() {
                            var e = this.module.store.models.types;
                            i.assign(this.data, {
                                currentQuestion: e.getCurrentQuestion()
                            })
                        },
                        calculate: function() {
                            var e = this.module.store.models.answer
                              , n = e.answeredCount();
                            i.assign(this.data, {
                                answeredCount: n,
                                noAnswerCount: this.data.totalCount - n
                            })
                        },
                        isComplete: function() {
                            return 0 === this.data.noAnswerCount
                        }
                    }
                },
                types: {
                    mixin: {
                        init: function(e, n, a, s) {
                            var c = {}
                              , d = 0
                              , p = 0
                              , m = 0;
                            e && (t.forEach(e, function(e, n) {
                                var a = u[e.type];
                                c[a] || (c[a] = {},
                                i.assign(c[a], {
                                    type: a,
                                    name: t.find(r, ["key", e.type.toString()]).value,
                                    totalScore: l.ZERO,
                                    size: l.ZERO,
                                    status: o.INIT,
                                    questions: []
                                })),
                                c[a].size++,
                                c[a].questions.push(i.assign(e, {
                                    index: n + l.ONE,
                                    score: e.score / l.ONE_HUNDRED,
                                    status: o.INIT
                                }))
                            }),
                            this.data = t.map(c, function(e) {
                                return t.map(e.questions, function(n) {
                                    var a = n;
                                    return i.assign(a, {
                                        typeIndex: p,
                                        totalCount: e.size,
                                        markIndex: ++d,
                                        questionAttrCopys: t.orderBy(n.questionAttrCopys, ["name"], ["asc"]),
                                        questionAttrs: t.orderBy(n.questionAttrs, ["name"], ["asc"]),
                                        subs: t.map(n.subs, function(e) {
                                            return i.assign(e, {
                                                questionAttrCopys: t.orderBy(e.questionAttrCopys, ["name"], ["asc"]),
                                                questionAttrs: t.orderBy(e.questionAttrs, ["name"], ["asc"])
                                            })
                                        }),
                                        status: p === l.ZERO && m++ === l.ZERO ? o.CURRENT : o.INIT
                                    }),
                                    6 === n.type && s && (a.score = t.sumBy(n.subs, function(e) {
                                        return 5 === e.type ? e.score / 100 : 0
                                    })),
                                    a
                                }),
                                i.assign(e, {
                                    totalScore: parseFloat(t.reduce(t.map(e.questions, "score"), function(e, n) {
                                        return (1e3 * e + 1e3 * n) / 1e3
                                    }).toFixed(1)),
                                    isCurrent: p++ === l.ZERO
                                })
                            }),
                            a && this.sortQuestion(),
                            n && this.sortQuestion2())
                        },
                        sortQuestion2: function() {
                            var e, n = this.module.store.models.exam.data, a = n.examRecord.orderContent, s = 0;
                            a && (e = JSON.parse(a)),
                            e && (this.data = t.map(this.data, function(n) {
                                return i.assign(n, {
                                    questions: t.orderBy(t.map(n.questions, function(n) {
                                        var a = t.find(e, ["questionId", n.id])
                                          , s = a.attrOrder
                                          , r = a.subsOrder || [];
                                        return i.assign(n, {
                                            order: a.order,
                                            questionAttrCopys: t.orderBy(t.map(n.questionAttrCopys, function(e) {
                                                var n = t.find(s, ["attrId", e.id]);
                                                return i.assign(e, {
                                                    order: n && n.order
                                                })
                                            }), ["order"], ["asc"]),
                                            subs: t.orderBy(t.map(n.subs, function(e) {
                                                var n = t.find(r, ["questionId", e.id])
                                                  , a = n.attrOrder;
                                                return i.assign(e, {
                                                    order: n.order,
                                                    questionAttrCopys: t.orderBy(t.map(e.questionAttrCopys, function(e) {
                                                        var n = t.find(a, ["attrId", e.id]);
                                                        return i.assign(e, {
                                                            order: n && n.order
                                                        })
                                                    }), ["order"], ["asc"])
                                                })
                                            }), ["order"], ["asc"])
                                        })
                                    }), ["order"], ["asc"])
                                })
                            }),
                            this.data = t.map(this.data, function(e, n) {
                                return i.assign(e, {
                                    questions: t.map(e.questions, function(e, a) {
                                        return i.assign(e, {
                                            index: a + 1,
                                            markIndex: ++s,
                                            status: 0 === n && 0 === a ? o.CURRENT : o.INIT
                                        })
                                    })
                                })
                            }))
                        },
                        sortQuestion: function() {
                            var e = this.module.store.models.exam.data
                              , n = 0
                              , a = Number(e.paperSortRule);
                            a === c.REMOTE && (this.data = t.map(this.data, function(e) {
                                return i.assign(e, {
                                    questions: t.map(e.questions, function(e) {
                                        return i.assign(e, {
                                            markIndex: ++n,
                                            subs: t.orderBy(e.subs, ["order"], ["asc"])
                                        })
                                    })
                                })
                            })),
                            a === c.QUESTION && (this.data = t.map(this.data, function(e) {
                                return i.assign(e, {
                                    questions: t.map(e.questions.sort(function() {
                                        return .001 * window.cryptoCustom() - .128
                                    }), function(e, a) {
                                        return i.assign(e, {
                                            index: a + 1,
                                            markIndex: ++n,
                                            subs: t.map(e.subs.sort(function() {
                                                return .001 * window.cryptoCustom() - .128
                                            }), function(e, n) {
                                                return i.assign(e, {
                                                    index: n + 1
                                                })
                                            })
                                        })
                                    })
                                })
                            })),
                            a === c.QUESTION_ATTR && (this.data = t.map(this.data, function(e) {
                                return i.assign(e, {
                                    questions: t.map(e.questions, function(e) {
                                        return i.assign(e, {
                                            questionAttrs: e.questionAttrs.sort(function() {
                                                return .001 * window.cryptoCustom() - .128
                                            }),
                                            markIndex: ++n,
                                            subs: t.map(t.orderBy(e.subs, ["order"], ["asc"]), function(e) {
                                                return i.assign(e, {
                                                    questionAttrs: e.questionAttrs.sort(function() {
                                                        return .001 * window.cryptoCustom() - .128
                                                    })
                                                })
                                            })
                                        }),
                                        e
                                    })
                                })
                            })),
                            a === c.QUESTION_AND_ATTR && (this.data = t.map(this.data, function(e) {
                                return i.assign(e, {
                                    questions: t.map(e.questions.sort(function() {
                                        return .001 * window.cryptoCustom() - .128
                                    }), function(e, a) {
                                        return i.assign(e, {
                                            index: a + 1,
                                            markIndex: ++n,
                                            questionAttrs: e.questionAttrs.sort(function() {
                                                return .001 * window.cryptoCustom() - .128
                                            }),
                                            subs: t.map(e.subs.sort(function() {
                                                return .001 * window.cryptoCustom() - .128
                                            }), function(e, n) {
                                                return i.assign(e, {
                                                    index: n + 1,
                                                    questionAttrs: e.questionAttrs.sort(function() {
                                                        return .001 * window.cryptoCustom() - .128
                                                    })
                                                })
                                            })
                                        }),
                                        e
                                    })
                                })
                            })),
                            this.data = t.map(this.data, function(e, n) {
                                return i.assign(e, {
                                    questions: t.map(e.questions, function(e, a) {
                                        return i.assign(e, {
                                            status: 0 === n && 0 === a ? o.CURRENT : o.INIT
                                        })
                                    })
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n;
                            return t.forEach(this.data, function(a) {
                                t.forEach(a.questions, function(a) {
                                    a.id === e && (n = a)
                                })
                            }),
                            i.assign(n, {
                                typeDesc: t.find(r, ["key", n.type.toString()]).value + d.get("exam.research-activity.question.topic")
                            })
                        },
                        getFirstQuestion: function() {
                            var e = this.data[0].questions[0];
                            return i.assign(e, {
                                typeDesc: t.find(r, ["key", e.type.toString()]).value + d.get("exam.research-activity.question.topic")
                            })
                        },
                        selectType: function(e) {
                            this.module.store.models.state.data.selectQuestion || (this.data[e].isCurrent = !this.data[e].isCurrent),
                            this.module.store.models.state.data.selectQuestion = !1
                        },
                        getType: function(e) {
                            return t.find(this.data, function(n) {
                                return t.some(n.questions, function(n) {
                                    return n.id === e
                                })
                            })
                        },
                        selectQuestion: function(e) {
                            var n = this.getType(e)
                              , a = n.questions.findIndex(function(e) {
                                return e.status === o.CURRENT
                            })
                              , s = this;
                            a > -1 && (n.questions[a].status = this.module.options.getCurrentStatus.call(this.module, n.questions[a].id)),
                            i.assign(this.getQuestionById(e), {
                                status: o.CURRENT
                            }),
                            t.forEach(t.filter(this.data, function(n) {
                                return t.every(n.questions, function(n) {
                                    return n.id !== e
                                })
                            }), function(e) {
                                var n = e.questions.findIndex(function(e) {
                                    return e.status === o.CURRENT
                                });
                                -1 !== n && i.assign(e.questions[n], {
                                    status: s.module.options.getCurrentStatus.call(s.module, e.questions[n].id)
                                })
                            }),
                            this.module.store.models.state.data.selectQuestion = !0
                        },
                        getCurrentQuestion: function() {
                            var e;
                            return t.forEach(this.data, function(n) {
                                t.forEach(n.questions, function(n) {
                                    n.status === o.CURRENT && (e = n)
                                })
                            }),
                            e
                        },
                        move: function(e) {
                            var n, a = this.data[e.id], t = a.questions.findIndex(function(e) {
                                return e.status === o.CURRENT
                            }), i = e.offset, s = a.questions[t + i];
                            s ? (s.status = o.CURRENT,
                            a.questions[t].status = this.module.options.getCurrentStatus.call(this.module, a.questions[t].id)) : this.data[Number(e.id) + i] && (n = this.data[Number(e.id) + i],
                            s = n.questions[i > 0 ? 0 : n.questions.length - 1],
                            s.status = o.CURRENT,
                            this.initStatus("notCurrent"),
                            n.isCurrent = !0,
                            a.questions[t].status = this.module.options.getCurrentStatus.call(this.module, a.questions[t].id))
                        },
                        updateStatus: function(e, n) {
                            i.assign(this.getQuestionById(e), {
                                status: n
                            })
                        },
                        initStatus: function(e) {
                            this.data = t.map(this.data, function(n) {
                                return i.assign(n, {
                                    isCurrent: !e
                                })
                            })
                        },
                        resetQuestionStatus: function() {
                            var e = this;
                            this.data = t.map(this.data, function(n, a) {
                                return i.assign(n, {
                                    questions: t.map(n.questions, function(n, t) {
                                        return i.assign(n, {
                                            index: t + 1,
                                            status: 0 === a && 0 === t ? o.CURRENT : e.module.options.getCurrentStatus.call(e.module, n.id)
                                        })
                                    })
                                })
                            })
                        }
                    }
                }
            },
            callbacks: {
                selectType: function(e) {
                    this.models.types.selectType(e.id),
                    this.models.types.changed()
                },
                selectQuestion: function(e) {
                    this.models.state.selectQuestion(e.id),
                    this.models.types.selectQuestion(e.id),
                    this.models.state.changed(),
                    this.models.types.changed()
                },
                move: function(e) {
                    this.models.types.move(e),
                    this.models.types.changed(),
                    this.models.state.resetCurrentQuestion(),
                    this.models.state.changed()
                },
                clearModels: function() {
                    t.forEach(this.models, function(e) {
                        e.clear()
                    })
                }
            }
        },
        a.getCurrentStatus = function() {
            return o.INIT
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/base-paper/view-main": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.bindings = {
            state: !0,
            types: !0
        },
        a.type = "dynamic",
        a.events = {
            "click prev-*": "prev",
            "click next-*": "next",
            "click close": "close"
        },
        a.handlers = {
            prev: function(e) {
                return this.module.dispatch("move", {
                    id: e,
                    offset: -1
                })
            },
            next: function(e) {
                return this.module.dispatch("move", {
                    id: e,
                    offset: 1
                })
            },
            close: function() {
                this.app.viewport.closeModal()
            }
        },
        a.dataForTemplate = {
            scoreResult: function(e) {
                var n = e.state;
                if (n.examRecord && n.examRecord.status) {
                    if (6 === n.examRecord.status)
                        return t.get("exam.pass");
                    if (7 === n.examRecord.status)
                        return t.get("exam.flunk")
                }
                return ""
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/paper/base-paper/view-side-top": [function(e, n, a) {
        a.bindings = {
            state: !0
        },
        a.events = {
            "click close": "close"
        },
        a.handlers = {
            close: function() {
                this.app.viewport.closeModal()
            }
        }
    }
    , {}],
    "./app/exam/paper/base-paper/view-side": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection");
        a.bindings = {
            state: !1,
            types: !0
        },
        a.events = {
            "click question-*": "selectQuestion",
            "click list-item-*": "toggleMore",
            "click close": "close"
        },
        a.dataForTemplate = {
            types: function(e) {
                return i.map(e.types, function(n) {
                    var a = n;
                    return a.questions = i.orderBy(a.questions, ["markIndex"], ["asc"]),
                    t.assign(n, {
                        singleMode: e.state.singleMode
                    })
                })
            }
        },
        a.handlers = {
            selectQuestion: function(e) {
                return this.module.dispatch("selectQuestion", {
                    id: e
                })
            },
            toggleMore: function(e) {
                return this.module.dispatch("selectType", {
                    id: e
                })
            },
            close: function() {
                this.app.viewport.closeModal()
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/correction-paper/correct/index": [function(e, n, a) {
        var t = e("drizzlejs");
        a.items = {
            main: "main"
        },
        a.store = {
            models: {
                state: {}
            },
            callbacks: {
                init: function(e) {
                    t.assign(this.models.state, e)
                },
                setValue: function(e) {
                    t.assign(this.models.state.data, e),
                    this.models.state.changed()
                },
                saveContent: function(e) {
                    var n = this.models.state.callback;
                    n && n(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.mixin = {
            getData: function() {
                this.module.main.getData()
            }
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/paper/correction-paper/correct/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <form class="vertical">\n        <div class="clearfix correct-row"><div class="col-sm-12">\n            <div id="error-label" class="pull-left">\n                <div class="h4">' + o((a.string || n && n.string || l).call(r, "exam.paper.correction-paper.error-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div id="error-content" class="col-sm-5">\n                <input id="content" class="input" type="text" value="' + o(e.lambda(null != (s = null != n ? n.state : n) ? s.errorReason : s, n)) + '"/>\n            </div>\n            <div class="pull-right">\n                <div id="cancel" class="btn">' + o((a.string || n && n.string || l).call(r, "cancel", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div id="correct" class="btn">' + o((a.string || n && n.string || l).call(r, "exam.paper.correction-paper.error-correction", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            </div>\n        </div></div>\n    </form>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/paper/correction-paper/correct/view-main": [function(e, n, a) {
        var t = e("jquery");
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            showErrorContent: function(e) {
                return 1 === e.state.open
            }
        },
        a.events = {
            "click correct": "correct",
            "click cancel": "cancel",
            "change content": "changeContent"
        },
        a.handlers = {
            correct: function() {
                var e = this.bindings.state
                  , n = t(this.$("content"));
                t(this.$("correct")).hide(),
                t(this.$("cancel")).show(),
                t(this.$("error-label")).show(),
                t(this.$("error-content")).show(),
                e.callback({
                    errorReason: n.val(),
                    examNum: e.data.examNum,
                    paperName: e.data.paperName
                })
            },
            cancel: function() {
                var e = this.bindings.state;
                t(this.$("correct")).show(),
                t(this.$("cancel")).hide(),
                t(this.$("error-label")).hide(),
                t(this.$("error-content")).hide(),
                e.callback({
                    errorReason: null,
                    examNum: e.data.examNum,
                    paperName: e.data.paperName
                })
            },
            changeContent: function() {
                return this.module.dispatch("saveContent", {
                    examNum: this.bindings.state.data.examNum,
                    paperName: this.bindings.state.data.paperName,
                    errorReason: this.$("content").value
                })
            }
        },
        a.afterRender = function() {
            this.bindings.state.data.errorReason ? t(this.$("correct")).hide() : (t(this.$("cancel")).hide(),
            t(this.$("error-label")).hide(),
            t(this.$("error-content")).hide())
        }
        ,
        a.mixin = {
            getData: function() {
                return {
                    questionId: this.bindings.state.data.id,
                    content: this.$("content").value
                }
            }
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/paper/correction-paper/index": [function(e, n, a) {
        var t, i = e("./app/exam/paper/base-paper/index"), s = e("drizzlejs"), r = e("lodash/collection"), l = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current"
        }, o = e("./app/util/strings"), c = {
            items: {
                "exam-notes": ""
            },
            store: {
                models: {
                    exam: {},
                    paper: {
                        url: "../exam/paper-class/front"
                    },
                    saveCorrect: {
                        url: "../exam/sync/save-correct"
                    },
                    questions: {
                        mixin: {
                            init: function(e) {
                                var n = r.filter(e.paperClassQuestions, function(e) {
                                    return e.parentId
                                })
                                  , a = r.filter(e.paperClassQuestions, function(e) {
                                    return !e.parentId
                                });
                                this.data = r.map(a, function(e) {
                                    return 6 === e.question.type ? s.assign(e.question, {
                                        score: e.score,
                                        sequence: e.sequence,
                                        subs: r.map(e.question.subs, function(e) {
                                            var a = r.find(n, ["questionId", e.id]);
                                            return s.assign(e, {
                                                score: a ? a.score : e.score
                                            })
                                        })
                                    }) : s.assign(e.question, {
                                        score: e.score,
                                        sequence: e.sequence
                                    })
                                })
                            }
                        }
                    },
                    corrects: {
                        url: "../exam/sync/correction",
                        data: [],
                        mixin: {
                            saveCorrect: function(e) {
                                this.data = r.reject(this.data, ["questionId", e.questionId]),
                                this.data.push(e)
                            },
                            changeCorrect: function(e) {
                                this.data = r.reject(this.data, ["examNum", e.examNum]),
                                this.data.push(e)
                            }
                        }
                    },
                    correction: {
                        url: "../exam/sync/correction"
                    }
                },
                callbacks: {
                    init: function(e) {
                        var n = this.models.paper
                          , a = this.models.state
                          , t = this.models.types
                          , i = this.models.questions
                          , r = this.models.exam
                          , l = this;
                        return this.module.dispatch("clearModels"),
                        e.exam && s.assign(r.data, e.exam),
                        e.paperId || e.examId ? (s.assign(n.params, {
                            paperId: e.paperId,
                            examId: e.examId
                        }),
                        this.get(this.models.paper, {
                            loading: !0
                        }).then(function() {
                            i.init(n.data),
                            t.init(i.data, !1, l.module.renderOptions.isPreview),
                            s.assign(r.data, {
                                paper: s.assign(n.data, {
                                    questions: i.data
                                }),
                                examNotes: n.data.exam.examNotes || "",
                                paperShowRule: r.data.paperShowRule || n.data.exam.paperShowRule || 1
                            }),
                            a.init(r.data || {})
                        })) : ""
                    },
                    saveCorrect: function(e) {
                        this.models.corrects.saveCorrect(e)
                    },
                    changeCorrect: function(e) {
                        this.models.corrects.changeCorrect(e)
                    },
                    save: function() {
                        var e = this.models.saveCorrect
                          , n = this.models.corrects.data;
                        r.map(n, function(e) {
                            e.questionId && delete e.questionId
                        }),
                        e.set({
                            paraStr: JSON.stringify(n)
                        }),
                        this.post(e).then(function(e) {
                            null !== e && void 0 !== e && e[0].success ? this.app.message.success(o.get("save-success") + "! ") : this.app.message.error(o.get("save-failed") + "! ")
                        })
                    },
                    submit: function() {
                        var e = this.models.correction;
                        e.set({
                            examId: this.models.exam.data.id,
                            paraStr: JSON.stringify(this.models.corrects.data),
                            paperName: this.models.paper.data.name
                        }),
                        this.post(e).then(function(n) {
                            null !== n && void 0 !== n ? "Y" === n[0].flag ? this.app.message.success(o.get("submit-success") + "! ") : this.app.message.error(n[0] && n[0].message ? n[0].message : o.get("submit-failed") + "! ") : this.app.message.error(o.get("submit-failed") + "! "),
                            e.clear()
                        })
                    }
                }
            }
        }, u = s.assign({}, i.items), d = s.assign({}, i.store.models), p = s.assign({}, i.store.callbacks), m = s.assign({}, {
            largeDetail: !0,
            items: s.assign(u, c.items),
            store: {
                models: s.assign(d, c.store.models),
                callbacks: s.assign(p, c.store.callbacks)
            },
            beforeRender: function() {
                return t = this.app.global.uri,
                this.dispatch("init", this.renderOptions)
            },
            beforeClose: function() {
                return this.app.global.uri = t
            },
            getCurrentStatus: function() {
                return l.INIT
            }
        });
        n.exports = m
    }
    , {
        "./app/exam/paper/base-paper/index": "./app/exam/paper/base-paper/index",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/correction-paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="achievement-content content">\n    <div class="achievement-side">\n        <div data-region="side-top"></div>\n        <div class="achievement-preview" data-region="side"></div>\n    </div>\n    <div class="achievement-layout" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s;
                return '    <div class="row">\n        <div class="side-top block col-sm-12">\n            ' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.questionary-point-total", null != (s = null != n ? n.state : n) ? s.totalCount : s, null != (s = null != n ? n.state : n) ? s.totalScore : s, {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n        </div>\n    </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return "    <ul>" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <label class="pointer" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <span class="text-tips"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.program(7, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ')\n            </label>\n            <div class="min-btn-groups m-left ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '">' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n        </li>\n    "
            },
            7: function(e, n, a, t, i) {
                return ""
            },
            9: function(e, n, a, t, i) {
                return "hidden"
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "\n" + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            "
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn " id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn correct" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = e.escapeExpression, l = null != n ? n : {}, o = a.helperMissing;
                return '    <div class="achievement-main-head">\n        <div class="col-sm-6 text-overflow"><div class="h3">\n            ' + r(e.lambda(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '\n        </div></div>\n        <div class="col-sm-6 text-right">\n            <ul class="head-info inline-block">\n' + (null != (s = a.if.call(l, null != n ? n.showExamNotes : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            </ul>\n            <div class="inline-block">\n                <div id="save" class="btn">' + r((a.string || n && n.string || o).call(l, "save", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="inline-block">\n                <div id="submit" class="btn">' + r((a.string || n && n.string || o).call(l, "submit", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="inline-block">\n                <div id="close" class="btn">' + r((a.string || n && n.string || o).call(l, "main.modal.close", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n        </div>\n    </div>\n    <div class="achievement-main">\n        <div class="preview-content">\n' + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.program(24, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(28, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n"
            },
            17: function(e, n, a, t, i) {
                var s;
                return '                    <li class="drop-down-wrapper right border right">\n                        <i class="iconfont icon-notice drop-down-btn"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">' + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.examNotes : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                        </div></div>\n                    </li>\n"
            },
            19: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                <div class="row">\n                    <div class="col-xs-6">\n                        <div class="com-title inline-block">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeDesc : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.index : s, n)) + "/" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.totalCount : s, n)) + ')</div>\n                        <div class="inline-block">' + l((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.questionary-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.score : s, n)) + "</div>\n                    </div>\n                </div>\n"
            },
            21: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            22: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                    <div data-dynamic-key="' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n                    <div data-dynamic-key="correct-' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            24: function(e, n, a, t, i) {
                var s;
                return "                <div>\n" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(25, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                </div>\n"
            },
            25: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                        <div>\n                            <div class="com-title col-sm-12">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ")</div>\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(26, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                        </div>\n"
            },
            26: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                                <div data-dynamic-key="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n                                <div data-dynamic-key="correct-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            28: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '                <div class="col-sm-12 m-bottom"><div class="text-right">\n                    <div class="btn white border m-right" id="prev-' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    <div class="btn white border" id="next-' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n                </div></div>\n                <p>&nbsp;</p>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "side-top", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/paper/correction-paper/view-exam-notes": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.bindings = {
            state: !0
        },
        a.title = t.get("exam.paper.preview-paper.notes-before-exam")
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/paper/correction-paper/view-main": [function(e, n, a) {
        var t, i, s = e("./app/exam/paper/base-paper/view-main"), r = e("drizzlejs"), l = r.assign({}, {}, s), o = e("jquery"), c = r.assign({}, l.dataForTemplate), u = r.assign({}, l.bindings), d = r.assign({}, l.events), p = r.assign({}, l.handlers), m = e("./app/exam/exam-question-types");
        l.dataForTemplate = c,
        r.assign(l.dataForTemplate, {
            showExamNotes: function(e) {
                return e.state.examNotes
            }
        }),
        l.events = d,
        r.assign(l.events, {
            "click save": "save",
            "click submit": "submit",
            "click correction-*": "correction"
        }),
        l.handlers = p,
        r.assign(l.handlers, {
            save: function() {
                return this.module.dispatch("save")
            },
            submit: function() {
                return this.module.dispatch("submit")
            },
            correction: function(e) {
                o(this.$("error-reason-" + e)).toggleClass("hidden")
            }
        }),
        l.bindings = u,
        r.assign(l.bindings, {
            paper: !0,
            corrects: !1
        }),
        r.assign(l, {
            type: "dynamic",
            getEntity: function(e) {
                var n = ""
                  , a = ""
                  , s = ""
                  , l = "";
                return t(e) ? (a = i(e),
                l = this.bindings.types.getQuestionById(a),
                n = {
                    correct: !0,
                    id: a,
                    examNum: l.examNum
                },
                null !== l.reason && void 0 !== l.reason && r.assign(n, {
                    errorReason: l.reason.errorReason
                })) : n = this.bindings.types.getQuestionById(e),
                s = r.assign({}, n),
                s = r.assign(s, {
                    score: n.score / 100,
                    errorRate: n.errorRate / 1e4,
                    questionAttrs: n.questionAttrs
                })
            },
            getEntityModuleName: function(e, n) {
                return t(e) ? "exam/paper/correction-paper/correct" : m.get(n.type, 3)
            },
            dataForEntityModule: function(e) {
                var n = this
                  , a = this.bindings.paper.data.name
                  , t = this.bindings.corrects.data;
                return e.correct ? (e.errorReason && t.push({
                    errorReason: e.errorReason,
                    examNum: e.examNum,
                    paperName: a
                }),
                {
                    data: {
                        errorReason: e.errorReason,
                        examNum: e.examNum,
                        paperName: a
                    },
                    callback: function(e) {
                        return n.module.dispatch("changeCorrect", e)
                    }
                }) : {
                    data: e,
                    multiple: 2 === e.type,
                    mode: -1
                }
            }
        }),
        t = function(e) {
            return e.indexOf("correct") > -1
        }
        ,
        i = function(e) {
            return e.replace("correct-", "")
        }
        ,
        n.exports = l
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/exam/paper/base-paper/view-main": "./app/exam/paper/base-paper/view-main",
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/paper/correction-paper/view-side-top": [function(e, n, a) {
        var t = e("./app/exam/paper/base-paper/view-side-top")
          , i = e("drizzlejs")
          , s = i.assign({}, t)
          , r = i.assign({}, s.events)
          , l = i.assign({}, s.handlers)
          , o = i.assign({}, s.dataForTemplate);
        s.events = r,
        i.assign(s.events, {
            "click show-exam-notes": "showExamNotes"
        }),
        s.handlers = l,
        i.assign(s.handlers, {
            showExamNotes: function() {
                this.app.viewport.modal(this.module.items["exam-notes"])
            }
        }),
        s.dataForTemplate = o,
        i.assign(s.dataForTemplate, {
            showExamNotes: function(e) {
                return e.state.examNotes
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/paper/base-paper/view-side-top": "./app/exam/paper/base-paper/view-side-top",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/paper/correction-paper/view-side": [function(e, n, a) {
        var t = e("./app/exam/paper/base-paper/view-side")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        n.exports = s
    }
    , {
        "./app/exam/paper/base-paper/view-side": "./app/exam/paper/base-paper/view-side",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/paper/index": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.type = "tree-grid",
        a.searchView = "filter",
        a.items = {
            content: "content",
            filter: "",
            "exam/paper/add-paper": {
                isModule: !0
            },
            "exam/paper/preview-paper": {
                isModule: !0
            },
            "exam/paper/mark-paper": {
                isModule: !0
            },
            "exam/paper/used-exam": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                papers: {
                    url: "../exam/paper-class/front",
                    root: "items",
                    type: "pageable"
                },
                paper: {
                    url: "../exam/paper-class/front"
                },
                updateStatus: {
                    url: "../exam/paper-class/update-status"
                }
            },
            callbacks: {
                doSearch: function(e) {
                    this.module.setSearchOptions(e)
                },
                refreshList: function(e) {
                    var n = this.models.papers;
                    n.clear(),
                    n.params = e,
                    this.get(n)
                },
                viewPaper: function(e) {
                    return this.models.paper.set(e),
                    this.get(this.models.paper)
                },
                publishPaper: function(e) {
                    return this.models.updateStatus.set(e),
                    this.put(this.models.updateStatus)
                },
                undoPaper: function(e) {
                    return this.models.updateStatus.set(e),
                    this.put(this.models.updateStatus)
                },
                selectQuestions: function(e) {
                    return e
                },
                removePaper: function(e) {
                    var n = this;
                    this.models.paper.set(e),
                    this.del(this.models.paper).then(function() {
                        n.app.message.success(t.get("operation-success")),
                        n.get(n.models.papers)
                    })
                }
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/paper/mark-paper/index": [function(e, n, a) {
        var t, i, s, r = e("./app/exam/paper/base-paper/index"), l = e("drizzlejs"), o = e("./app/util/strings"), c = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current"
        }, u = {
            ONE_HUNDRED: 100,
            ZERO: 0,
            ONE: 1,
            SINGLE_MODE: 1,
            PC_CLIENT_TYPE: 1,
            READING: 6,
            QUESTION_ANSWER: 5
        }, d = e("lodash/collection"), p = e("./app/ext/views/form/validators"), m = e("./app/util/maps"), h = {
            store: {
                models: {
                    exam: {
                        url: "../exam/exam/exam-mark-paper",
                        mixin: {
                            getExam: function() {
                                return this.data
                            }
                        }
                    },
                    grades: {
                        mixin: {
                            init: function(e) {
                                this.data = d.map(e, function(e) {
                                    return e.type === u.READING ? {
                                        key: e.id,
                                        value: d.map(d.filter(e.subs, function(e) {
                                            return e.type === u.QUESTION_ANSWER
                                        }), function(e) {
                                            return {
                                                key: e.id,
                                                value: "",
                                                type: e.type,
                                                isRight: 0
                                            }
                                        }),
                                        type: e.type,
                                        isRight: u.ZERO
                                    } : {
                                        key: e.id,
                                        value: "",
                                        type: e.type,
                                        isRight: u.ZERO
                                    }
                                })
                            },
                            getGrade: function(e) {
                                return d.find(this.data, ["key", e])
                            },
                            saveGrade: function(e) {
                                this.data = d.reject(this.data, ["key", e.key]),
                                this.data.push(e)
                            },
                            getAnswerRecord: function() {
                                var e = [];
                                return d.forEach(this.data, function(n) {
                                    n.type === u.READING ? d.forEach(n.value, function(n) {
                                        n.type === u.QUESTION_ANSWER && e.push({
                                            questionId: n.key,
                                            score: n.value * u.ONE_HUNDRED,
                                            questionCopy: {
                                                type: n.type
                                            }
                                        })
                                    }) : e.push({
                                        questionId: n.key,
                                        score: n.value * u.ONE_HUNDRED,
                                        questionCopy: {
                                            type: n.type
                                        }
                                    })
                                }),
                                e
                            },
                            check: function(e) {
                                var n = this
                                  , a = [];
                                return d.forEach(e, function(e) {
                                    d.forEach(e.questions, function(e) {
                                        var t = d.find(n.data, ["key", e.id])
                                          , s = i.call(n, t.value, e);
                                        s.index && a.push(s)
                                    })
                                }),
                                a
                            }
                        }
                    },
                    form: {
                        url: "../exam/exam/front/mark-paper-info"
                    },
                    errors: {
                        data: [],
                        mixin: {
                            saveError: function(e) {
                                this.data.push(e)
                            }
                        }
                    }
                },
                callbacks: {
                    init: function(e) {
                        var n = this.models.exam
                          , a = this.models.types
                          , t = this.models.state
                          , i = this.models.grades
                          , s = this;
                        return this.module.dispatch("clearModels"),
                        l.assign(this.models.exam.params, {
                            remark: e.remark,
                            examRecordId: e.examRecordId,
                            examId: e.examId,
                            memberId: e.memberId
                        }),
                        this.get(this.models.exam, {
                            loading: !0
                        }).then(function() {
                            a.init(n.data.paper.questions, !0, !1, !0),
                            t.init(n.data),
                            i.init(n.data.paper.questions),
                            t.changed(),
                            a.changed()
                        }, function() {
                            s.app.viewport.closeModal(!0)
                        })
                    },
                    saveGrade: function(e) {
                        this.models.grades.saveGrade(e),
                        this.models.state.data.singleMode || (this.models.types.updateStatus(e.key, c.ACTIVE),
                        this.models.types.changed())
                    },
                    submitGrade: function() {
                        var e = this.models.exam.getExam()
                          , n = this
                          , a = this.models.grades.check(this.models.types.data);
                        return a.length > 0 ? (this.app.message.error(o.get("your") + a.length + o.get("exam.paper.mark-paper.score-not-complete")),
                        this.models.types.initStatus(),
                        this.models.types.changed(),
                        !1) : (this.models.form.set({
                            remark: this.module.renderOptions.remark,
                            adminMark: 1,
                            examRecordId: e.examRecord.id,
                            examId: e.id,
                            answerRecords: JSON.stringify(this.models.grades.getAnswerRecord()),
                            businessName: this.module.renderOptions.businessName,
                            businessType: this.module.renderOptions.businessType
                        }),
                        this.post(this.models.form, {
                            loading: !0
                        }).then(function() {
                            var e = n.module.renderOptions.callback;
                            "0" === n.models.form.data.msg ? n.app.message.error(o.get("exam.paper.mark-paper.not-submit-repeat")) : (n.app.message.success(o.get("save-success")),
                            n.models.state.clear(),
                            n.models.types.clear(),
                            n.models.grades.clear(),
                            e && e()),
                            n.app.viewport.closeGround()
                        }))
                    }
                }
            }
        }, v = l.assign({}, r.items), f = l.assign({}, r.store.models), g = l.assign({}, r.store.callbacks), x = l.assign({}, {
            largeDetail: !0,
            items: l.assign(v, {
                "exam-notes": ""
            }),
            store: {
                models: l.assign(f, h.store.models),
                callbacks: l.assign(g, h.store.callbacks)
            },
            afterRender: function() {
                return s = this.app.global.uri,
                this.dispatch("init", this.renderOptions)
            },
            beforeClose: function() {
                return this.app.global.uri = s
            },
            getCurrentStatus: function(e) {
                var n = this.store.models.grades.data || []
                  , a = d.find(n, ["key", e])
                  , t = this.store.models.errors.data
                  , i = d.find(t, ["questionId", e]);
                if (a && l.isArray(a.value) && a.value.length > 0) {
                    if (d.some(a.value, function(e) {
                        return "" !== e.value && e.value >= 0
                    }))
                        return c.ACTIVE
                } else if (a && "" !== a.value && a.value >= 0)
                    return c.ACTIVE;
                return i ? c.CHECK : c.INIT
            },
            buttons: [{
                text: o.get("exam.paper.mark-paper.submit-paper"),
                fn: function() {
                    var e = this;
                    return this.Promise.create(function(n) {
                        var a = o.get("exam.paper.mark-paper.submit-paper-confirm");
                        e.app.message.confirm(a, function() {
                            e.dispatch("submitGrade").then(function(n) {
                                n && e.app.viewport.closeGround()
                            }),
                            n(!1)
                        }, function() {
                            n(!1)
                        })
                    })
                }
            }]
        });
        n.exports = x,
        t = function(e) {
            var n = [];
            return p.required.fn(e) || n.push(o.get("exam.paper.mark-paper.option-required")),
            p.number.fn(e) || n.push(o.get("exam.question.types.only-number")),
            p.keepDecimal.fn(e, 1) || n.push(o.get("exam.question.types.only-one-decimal")),
            p.range.fn(e, 0, 100) || n.push(o.get("exam.paper.mark-paper.only-0-to-100")),
            n
        }
        ,
        i = function(e, n) {
            var a, i, s = this.module.store.models.errors, r = m.get("question-types");
            if (6 === n.type) {
                if (d.every(d.filter(n.subs, function(e) {
                    return 5 === e.type
                }), function(e) {
                    return !e.answerRecord || "" === e.answerRecord.answer
                }))
                    return {}
            } else if (6 !== n.type && (!n.answerRecord || "" === n.answerRecord.answer))
                return {};
            return 6 === n.type ? (i = d.filter(e, function(e) {
                var a = d.filter(n.subs, function(e) {
                    return 5 === e.type && !e.answerRecord
                });
                return !d.find(a, ["id", e.key])
            }),
            a = d.filter(d.map(i, function(e) {
                var n = t(e.value);
                return n.length > 0 ? n : []
            }), function(e) {
                return e.length > 0
            })) : a = t(e),
            a.length > 0 ? (l.assign(n, {
                status: c.CHECK
            }),
            s.saveError({
                questionId: n.id
            }),
            {
                type: d.find(r, ["key", n.type.toString()]).value,
                index: n.index,
                errorStr: a.join(",")
            }) : {}
        }
    }
    , {
        "./app/exam/paper/base-paper/index": "./app/exam/paper/base-paper/index",
        "./app/ext/views/form/validators": "./app/ext/views/form/validators",
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/mark-paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="achievement-content content">\n    <div class="achievement-side">\n        <div data-region="side-top"></div>\n        <div class="achievement-preview" data-region="side"></div>\n    </div>\n    <div class="achievement-layout" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                return ""
            },
            5: function(e, n, a, t, i) {
                var s;
                return "    <ul>" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <label id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <span class="text-tips"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.program(7, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(3, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ')\n            </label>\n            <div class="min-btn-groups m-left ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.program(7, i, 0),
                    data: i
                })) ? s : "") + '">' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n        </li>\n    "
            },
            7: function(e, n, a, t, i) {
                return "hidden"
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "\n" + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "active", {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "check", {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            "
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn current" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn right" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn no-mark" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            18: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '    <div class="achievement-main-head">\n        <div class="col-sm-6 text-overflow"><div class="h3 text-overflow" title="' + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '">\n            ' + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '\n        </div></div>\n        <div class="col-sm-6 text-right">\n            <ul class="head-info inline-block">\n' + (null != (s = a.if.call(o, null != n ? n.showExamNotes : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <li class="border right">\n                    ' + l((a.string || n && n.string || c).call(o, "exam.question.add-question.examinee", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                    " + l(r(null != (s = null != n ? n.state : n) ? s.examinee : s, n)) + '\n                </li>\n            </ul>\n            <div class="inline-block">\n                <div id="submit" class="btn">' + l((a.string || n && n.string || c).call(o, "exam.paper.mark-paper.submit-paper", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="inline-block">\n                <div id="close" class="btn">' + l((a.string || n && n.string || c).call(o, "main.modal.close", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n        </div>\n    </div>\n    <div class="achievement-main">\n        <div class="preview-content">\n' + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.program(26, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(30, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n"
            },
            19: function(e, n, a, t, i) {
                var s;
                return '                    <li class="drop-down-wrapper right border right">\n                        <i class="iconfont icon-notice drop-down-btn"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">' + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.examNotes : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                        </div></div>\n                    </li>\n"
            },
            21: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                <div class="row">\n                    <div class="col-sm-6">\n                        <div class="com-title inline-block">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeDesc : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.index : s, n)) + "/" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.totalCount : s, n)) + ")</div>\n                    </div>\n                </div>\n"
            },
            23: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(24, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            24: function(e, n, a, t, i) {
                var s;
                return '                    <div data-dynamic-key="' + e.escapeExpression(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            26: function(e, n, a, t, i) {
                var s;
                return "                <div>\n" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(27, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                </div>\n"
            },
            27: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                        <div class="com-title col-sm-12">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '(<sstring exam.exam.score.total="exam.exam.score.total" ' + c((r = null != (r = a.totalScore || (null != n ? n.totalScore : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "totalScore",
                    hash: {},
                    data: i
                }) : r)) + '="' + c((r = null != (r = a.totalScore || (null != n ? n.totalScore : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "totalScore",
                    hash: {},
                    data: i
                }) : r)) + '"></sstring>)</div>\n' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(28, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            28: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                            " + o((s = null != (s = a.i || (null != n ? n.i : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "i",
                    hash: {},
                    data: i
                }) : s)) + '\n                            <div data-dynamic-key="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            30: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '                <div class="col-sm-12 m-bottom"><div class="text-right">\n                    <div class="btn white border m-right" id="prev-' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    <div class="btn white border" id="next-' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n                </div></div>\n                <p>&nbsp;</p>\n"
            },
            32: function(e, n, a, t, i) {
                var s;
                return "    <hr/>\n    " + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.examNotes : s, n)) + "\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "side-top", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "exam-notes", {
                    name: "view",
                    hash: {},
                    fn: e.program(32, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/paper/mark-paper/view-exam-notes": [function(e, n, a) {
        arguments[4]["./app/exam/paper/correction-paper/view-exam-notes"][0].apply(a, arguments)
    }
    , {
        "./app/util/strings": "./app/util/strings",
        dup: "./app/exam/paper/correction-paper/view-exam-notes"
    }],
    "./app/exam/paper/mark-paper/view-main": [function(e, n, a) {
        var t = e("./app/exam/paper/base-paper/view-main")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = i.assign({}, {}, t)
          , l = i.assign({}, r.bindings)
          , o = i.assign({}, r.dataForTemplate)
          , c = i.assign({}, r.events)
          , u = i.assign({}, r.handlers)
          , d = e("./app/exam/exam-question-types")
          , p = e("./app/util/strings");
        r.bindings = l,
        i.assign(r.bindings, {
            grades: !1,
            types: !1
        }),
        r.dataForTemplate = o,
        i.assign(r.dataForTemplate, {
            showExamNotes: function(e) {
                return e.state.examNotes
            }
        }),
        r.events = c,
        i.assign(r.events, {
            "click submit": "submitGrade"
        }),
        r.handlers = u,
        i.assign(r.handlers, {
            submitGrade: function() {
                var e = s.find(this.module.options.buttons, ["text", p.get("exam.paper.mark-paper.submit-paper")]);
                return !!e && e.fn.call(this.module)
            }
        }),
        i.assign(r, {
            type: "dynamic",
            changeTypes: function() {},
            getEntity: function(e) {
                var n = this.bindings.types.getQuestionById(e)
                  , a = i.assign({}, n);
                return a = i.assign(a, {
                    questionAttrs: n.questionAttrCopys
                })
            },
            getEntityModuleName: function(e, n) {
                return d.get(n.type, 4)
            },
            dataForEntityModule: function(e) {
                var n = this;
                return {
                    data: e,
                    goal: this.bindings.grades.getGrade(e.id),
                    callback: function(e) {
                        return n.module.dispatch("saveGrade", e)
                    }
                }
            }
        }),
        n.exports = r
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/exam/paper/base-paper/view-main": "./app/exam/paper/base-paper/view-main",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/mark-paper/view-side-top": [function(e, n, a) {
        arguments[4]["./app/exam/paper/correction-paper/view-side-top"][0].apply(a, arguments)
    }
    , {
        "./app/exam/paper/base-paper/view-side-top": "./app/exam/paper/base-paper/view-side-top",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/paper/correction-paper/view-side-top"
    }],
    "./app/exam/paper/mark-paper/view-side": [function(e, n, a) {
        arguments[4]["./app/exam/paper/correction-paper/view-side"][0].apply(a, arguments)
    }
    , {
        "./app/exam/paper/base-paper/view-side": "./app/exam/paper/base-paper/view-side",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/paper/correction-paper/view-side"
    }],
    "./app/exam/paper/preview-paper-configuration/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("./app/util/strings");
        a.title = function() {
            return this.renderOptions.id ? "修改考试" : "添加考试"
        }
        ,
        a.items = {
            main: "main",
            paper: "paper"
        },
        a.store = {
            models: {
                exam: {
                    url: "../exam/exam"
                },
                otherModuelExam: {
                    url: "../exam/exam/other-module-exam"
                },
                state: {},
                offline: {}
            },
            callbacks: {
                init: function(e) {
                    var n = this
                      , a = this.models.state
                      , i = this.models.offline;
                    return a.clear(),
                    i.clear(),
                    a.set({
                        timeOptions: e.timeOptions || {},
                        supportOffline: !!e.supportOffline
                    }),
                    e.id ? (this.models.exam.data = {
                        id: e.id
                    },
                    this.get(this.models.exam, {
                        loading: !0
                    }).then(function() {
                        e.name && t.assign(n.models.exam.data, {
                            name: e.name
                        }),
                        n.models.exam.changed(),
                        i.set(t.assign({}, n.models.exam.data))
                    })) : ""
                },
                save: function(e) {
                    var n = this.models.otherModuelExam
                      , a = this.models.exam
                      , s = this;
                    return t.assign(n.data, a.data, e),
                    this.save(n, {
                        loading: !0
                    }).then(function() {
                        s.app.message.success(i.get("save-success"))
                    })
                },
                changeName: function(e) {
                    var n = this.module.items.paper.getEntities()[0];
                    t.assign(this.models.exam.data, e),
                    n.setData(e)
                },
                changeOffline: function(e) {
                    var n = this.models.offline;
                    this.module.dispatch("changeName", e),
                    n.set(this.models.exam.data, !e.notChanged)
                }
            }
        },
        a.beforeRender = function() {
            var e = this.store.models.exam
              , n = this.store.models.otherModuelExam;
            return e.clear(),
            n.clear(),
            this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/paper/preview-paper-configuration/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <form class="vertical preview-configuration-wrapper">\n        <div class="basic-fields" data-region="main"></div>\n        \x3c!--  .add-member-popupt(data-region=\'offline\') --\x3e\n        <div class="paper-select" data-region="paper"></div>\n    </form>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.escapeExpression;
                return '    <div class="exam-base-info o">\n        <div class="row">\n            <div class="col-sm-1 text-right"><label class="required">' + l((a.string || n && n.string || a.helperMissing).call(r, "exam.exam.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</label></div>\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.supportOffline : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.unless.call(r, null != (s = null != n ? n.state : n) ? s.supportOffline : s, {
                    name: "unless",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n        " + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.supportOffline : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.supportOffline : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        " + (null != (s = a.unless.call(r, null != (s = null != n ? n.state : n) ? s.supportOffline : s, {
                    name: "unless",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '\n        <div class="row">\n            <div class="col-sm-1 text-right"><label class="required">查看试卷规则</label></div>\n            <div class="col-sm-11"><div id="show-answer-rule" x-target="show-answer-rule" x-marker="radiox" value="' + l(e.lambda(null != (s = null != n ? n.exam : n) ? s.showAnswerRule : s, n)) + '">\n                <div class="inline-block m-right-5">\n                    <div class="radio">\n                        <input class="m-left" type="radio" name="showAnswerRule" id="showAnswerRule-4" value="-1" disabled/>\n                        <label for="showAnswerRule-4"></label>\n                    </div>\n                    <div class="inline-block">全部不显示</div>\n                </div>\n                <div class="inline-block m-right-5">\n                    <div class="radio m-left">\n                        <input type="radio" name="showAnswerRule" id="showAnswerRule-3" value="3" disabled/>\n                        <label for="showAnswerRule-3"></label>\n                    </div>\n                    <div class="inline-block">显示得分</div>\n                </div>\n                <div class="inline-block m-right-5">\n                    <div class="radio m-left">\n                        <input type="radio" name="showAnswerRule" id="showAnswerRule-2" value="2" disabled/>\n                        <label for="showAnswerRule-2"></label>\n                    </div>\n                    <div class="inline-block">显示标准答案与得分</div>\n                </div>\n                <div class="inline-block m-right-5">\n                    <div class="radio m-left">\n                        <input class="m-left" type="radio" name="showAnswerRule" id="showAnswerRule-1" value="1" disabled/>\n                        <label for="showAnswerRule-1"></label>\n                    </div>\n                    <div class="inline-block">显示标准答案，得分，试题解析</div>\n                </div>\n            </div></div>\n        </div>\n        <hr/>\n    </div>\n'
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '                <div class="col-sm-5"><div class="relative position-tips">\n                    <input id="name" class="disabled input mark" x-rule="maxLength:100,maxChineseLength:100" name="name" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.exam : n) ? s.name : s, n)) + '" disabled readonly/><div class="tips">0/100</div>\n                </div></div>\n                <div class="col-sm-1 text-right"><label class="required">考试模式</label></div>\n                <div class="col-sm-2"><select id="is-support-offline" class="disabled input" name="supportOffline">\n                    <option ' + (null != (s = a.unless.call(r, null != (s = null != n ? n.exam : n) ? s.supportOffline : s, {
                    name: "unless",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="0">线上模式</option>\n                    <option ' + (null != (s = a.if.call(r, null != (s = null != n ? n.exam : n) ? s.supportOffline : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="1">线上线下混合模式</option>\n                </select></div>\n'
            },
            5: function(e, n, a, t, i) {
                return ' selected="selected"'
            },
            7: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                <div class="col-sm-4"><div class="relative position-tips">\n                    <input id="name" class="disabled input mark" x-rule="maxLength:100,maxChineseLength:100" name="name" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.name : s, n)) + '" disabled readonly/><div class="tips">0/100</div>\n                </div></div>\n                <div class="col-sm-1 text-right"><label class="required">考试时长</label></div>\n                <div class="col-sm-2"><input class="disabled input mark" x-rule="digits,range:1:500" name="duration" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.duration : s, n)) + '"/></div>\n                <div class="col-sm-1 text-right"><label class="required">完成规则</label></div>\n                <div class="col-sm-2"><div id="is-over-by-pass-exam" class="radiox" x-rule="" x-target="is-over-by-pass-exam" x-marker="radiox" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.isOverByPassExam : s, n)) + '">\n                    <div class="radio">\n                        <input type="radio" name="isOverByPassExam" id="isOverByPassExam-0" value="0" disabled/>\n                        <label for="isOverByPassExam-0"></label>\n                    </div>\n                    <div class="inline-block">提交即完成</div>\n                    <div class="radio m-left">\n                        <input type="radio" name="isOverByPassExam" id="isOverByPassExam-1" value="1" disabled/>\n                        <label for="isOverByPassExam-1"></label>\n                    </div>\n                    <div class="inline-block">合格才算完成</div>\n                </div></div>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '<div class="row offlineBool">\n            <div class="col-sm-1 text-right"><label class="required">总及格线</label></div>\n            <div class="col-sm-2"><input class="disabled input inline-block" x-rule="digits,range:0:1000" name="standardScore" value="' + l(r(null != (s = null != n ? n.offline : n) ? s.standardScore : s, n)) + '"/></div>\n            <div class="col-sm-1 text-right"><label class="required">线上成绩占比</label></div>\n            <div class="col-sm-2">\n                <input id="onlinePercent" class="disabled input inline-block" x-rule="digits,range:0:100" name="onlinePercent" value="' + l(r(null != (s = null != n ? n.offline : n) ? s.onlinePercent : s, n)) + '"/>\n                <span class="percentSpan"> %</span>\n            </div>\n            <div class="col-sm-1 text-right"><label class="required">线下成绩占比</label></div>\n            <div class="col-sm-2">\n                <input id="offlinePercent" class="disabled input inline-block" x-rule="digits,range:0:100" name="offlinePercent" value="' + l(r(null != (s = null != n ? n.offline : n) ? s.offlinePercent : s, n)) + '"/>\n                <span class="percentSpan"> %</span>\n            </div>\n            <div class="col-sm-3">\n                <label>总和：<span id="sum" class="error">' + l(r(null != (s = null != n ? n.offline : n) ? s.sum : s, n)) + "</span></label>\n            </div>\n        </div>"
            },
            11: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '            <div class="row">\n                <div class="col-sm-1 text-right"><label class="required">考试时长</label></div>\n                <div class="col-sm-2"><input class="disabled input mark" x-rule="required,digits,range:1:500" name="duration" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.duration : s, n)) + '"/></div>\n                <div class="col-sm-1 text-right"><label class="required">考试合格分数线</label></div>\n                <div class="col-sm-2"><input id="pass-score" class="disabled input mark" x-rule="required,digits,range:0:1000" name="passScore" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.passScore : s, n)) + '"/></div>\n                <div class="col-sm-1 text-right"><label class="required">' + l((a.string || n && n.string || c).call(o, "exam.exam.paper-show-rule", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label></div>\n                <div class="col-sm-2"><select id="paperShowRule" class="disabled input" name="paperShowRule">\n                    <option ' + (null != (s = a.if.call(o, null != (s = null != n ? n.paperShowRule : n) ? s.single : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="1">一页一题</option>\n                    <option ' + (null != (s = a.if.call(o, null != (s = null != n ? n.paperShowRule : n) ? s.mutiple : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="2">一页多题</option>\n                </select></div>\n            </div>\n            <div class="row">\n                <div class="col-sm-1 text-right"><label class="required">允许考试次数\n                    <div class="inline-block drop-down-wrapper right">\n                        <i class="iconfont icon-info custom-color-6"></i>\n                        <div class="drop-down-content" style="overflow: visible;right: unset;"><div class="content">\n                            <p>填写0，默认为不限制考试次数。</p>\n                        </div></div>\n                    </div>\n                </label></div>\n                <div class="col-sm-2"><input class="disabled input mark" x-rule="required,number,range:0:100,keepDecimal:0,space" name="allowExamTimes" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.allowExamTimes : s, n)) + '"/></div>\n                <div class="col-sm-1 text-right"><label ' + (null != (s = a.if.call(o, null != n ? n.timeRequired : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '>进入考试时间范围</label></div>\n                <div class="col-sm-2"><input id="start-time" class="disabled input mark" ' + (null != (s = a.if.call(o, null != n ? n.timeRequired : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' name="startTime" value="' + l((a.dateTime || n && n.dateTime || c).call(o, null != (s = null != n ? n.exam : n) ? s.startTime : s, {
                    name: "dateTime",
                    hash: {},
                    data: i
                })) + '"/></div>\n                <div class="col-sm-1 text-center"><span>——</span></div>\n                <div class="col-sm-2"><input id="end-time" class="disabled input mark" ' + (null != (s = a.if.call(o, null != n ? n.timeRequired : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' name="endTime" value="' + l((a.dateTime || n && n.dateTime || c).call(o, null != (s = null != n ? n.exam : n) ? s.endTime : s, {
                    name: "dateTime",
                    hash: {},
                    data: i
                })) + '"/></div>\n            </div>\n            <div class="row">\n                <div class="col-sm-1 text-right"><label class="required">完成规则</label></div>\n                <div class="col-sm-11"><div id="is-over-by-pass-exam" class="radiox" x-rule="required" x-target="is-over-by-pass-exam" x-marker="radiox" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.isOverByPassExam : s, n)) + '">\n                    <div class="inline-block m-right-5">\n                        <div class="radio">\n                            <input type="radio" name="isOverByPassExam" id="isOverByPassExam-0" value="0" disabled/>\n                            <label for="isOverByPassExam-0"></label>\n                        </div>\n                        <div class="inline-block">提交即完成</div>\n                    </div>\n                    <div class="inline-block m-right-5">\n                        <div class="radio m-left">\n                            <input type="radio" name="isOverByPassExam" id="isOverByPassExam-1" value="1" disabled/>\n                            <label for="isOverByPassExam-1"></label>\n                        </div>\n                        <div class="inline-block">合格才算完成</div>\n                    </div>\n                </div></div>\n            </div>\n'
            },
            12: function(e, n, a, t, i) {
                return ' class="required"'
            },
            14: function(e, n, a, t, i) {
                return ' x-rule="required" x-action="change"'
            },
            16: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '<div class="row">\n            <div class="col-sm-1 text-right"><label class="required">合格分数线</label></div>\n            <div class="col-sm-3"><input id="pass-score" class="disabled input mark" x-rule="required,digits,range:0:1000" name="passScore" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.passScore : s, n)) + '"/></div>\n            <div class="col-sm-2 text-right"><label class="required">允许考试次数\n                <div class="inline-block drop-down-wrapper right">\n                    <i class="iconfont icon-info custom-color-6"></i>\n                    <div class="drop-down-content" style="overflow: visible;"><div class="content">\n                        <p>填写0，默认为不限制考试次数。</p>\n                    </div></div>\n                </div>\n            </label></div>\n            <div class="col-sm-2"><input class="disabled input mark" x-rule="required,number,range:0:100,keepDecimal:0,space" name="allowExamTimes" value="' + l(r(null != (s = null != n ? n.exam : n) ? s.allowExamTimes : s, n)) + '"/></div>\n            <div class="col-sm-1 text-right"><label class="required">' + l((a.string || n && n.string || a.helperMissing).call(o, "exam.exam.paper-show-rule", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label></div>\n            <div class="col-sm-2"><select id="paperShowRule" class="disabled input" name="paperShowRule">\n                <option ' + (null != (s = a.if.call(o, null != (s = null != n ? n.paperShowRule : n) ? s.single : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="1">一页一题</option>\n                <option ' + (null != (s = a.if.call(o, null != (s = null != n ? n.paperShowRule : n) ? s.mutiple : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="2">一页多题</option>\n            </select></div>\n        </div>'
            },
            18: function(e, n, a, t, i) {
                return '    <div data-dynamic-key="paper"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "paper", {
                    name: "view",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\x3c!--  view('offline') > form.vertical --\x3e\n\x3c!--      if(state.supportOffline) --\x3e\n\x3c!--          .row --\x3e\n\x3c!--              .col-sm-3  --\x3e\n\x3c!--                  div.pull-left(style=\"margin-right:20px;\") > label.font-title-weight.required 是否支持线下模式 --\x3e\n\x3c!--                  #is-support-offline(style=\"margin-top:4px;\" x-rule='required' x-target='is-support-offline' x-marker='radiox' value=offline.supportOffline) --\x3e\n\x3c!--                      .radio --\x3e\n\x3c!--                          input.inline-block(type='radio' name='supportOffline' id='supportOffline-0' value=0) --\x3e\n\x3c!--                          label(for='supportOffline-0') --\x3e\n\x3c!--                      .inline-block.m-right 否 --\x3e\n\x3c!--                      .radio --\x3e\n\x3c!--                          input.inline-block(type='radio' name='supportOffline' id='supportOffline-1' value=1) --\x3e\n\x3c!--                          label(for='supportOffline-1') --\x3e\n\x3c!--                      .inline-block 是 --\x3e\n\x3c!--          if(offline.supportOffline) --\x3e\n\x3c!--              .row --\x3e\n\x3c!--                  .col-sm-3 --\x3e\n\x3c!--                      label.required 线上成绩占比 --\x3e\n\x3c!--                      input.disabled.input.inline-block#onlinePercent(x-rule='digits,range:0:100' name='onlinePercent' value=offline.onlinePercent style='width:90%') + span > echo(' %') --\x3e\n\x3c!--                  .col-sm-3 --\x3e\n\x3c!--                      label.required 线下成绩占比 --\x3e\n\x3c!--                      input.disabled.input.inline-block#offlinePercent(x-rule='digits,range:0:100' name='offlinePercent' value=offline.offlinePercent style='width:90%') + span > echo(' %') --\x3e\n\x3c!--                  .col-sm-3 --\x3e\n\x3c!--                      label > @echoX('&nbsp;') --\x3e\n\x3c!--                      label(style=\"margin-top:14px\") > echo('总和：') + span.error#sum > echo(offline.sum) --\x3e\n\x3c!--              .row --\x3e\n\x3c!--                  .col-sm-3 --\x3e\n\x3c!--                      label.required 总及格线 --\x3e\n\x3c!--                      input.disabled.input.inline-block(x-rule='required,digits,range:0:1000' name='standardScore' value=offline.standardScore style='width:90%') --\x3e\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/paper/preview-paper-configuration/view-main": [function(e, n, a) {
        var t, i = e("jquery"), s = e("drizzlejs");
        a.type = "form",
        a.bindings = {
            exam: !0,
            state: !0,
            offline: !0
        },
        a.events = {
            "change name": "changeName",
            "change paperShowRule": "changePaperShowRule",
            "change pass-score": "changePassScore",
            "change is-support-offline": "changeOffline",
            "change onlinePercent": "changeOnlinePercent",
            "change offlinePercent": "changeOfflinePercent"
        },
        a.handlers = {
            changeName: function() {
                return this.module.dispatch("changeName", {
                    name: this.$("name").value
                })
            },
            changePaperShowRule: function() {
                return this.module.dispatch("changeName", {
                    paperShowRule: i(this.$$('[name="paperShowRule"]')).val()
                })
            },
            changePassScore: function() {
                return this.module.dispatch("changeName", {
                    passScore: this.$("pass-score").value
                })
            },
            changeOffline: function(e) {
                Number(e.target.value) ? i(".offlineBool").show() : i(".offlineBool").hide()
            },
            changeOnlinePercent: function(e, n) {
                return i(this.$("sum")).text(t({
                    offlinePercent: this.bindings.offline.data.offlinePercent,
                    onlinePercent: Number(n.value)
                })),
                this.module.dispatch("changeOffline", {
                    onlinePercent: n.value,
                    notChanged: !0
                })
            },
            changeOfflinePercent: function(e, n) {
                return i(this.$("sum")).text(t({
                    offlinePercent: Number(n.value),
                    onlinePercent: this.bindings.offline.data.onlinePercent
                })),
                this.module.dispatch("changeOffline", {
                    offlinePercent: n.value,
                    notChanged: !0
                })
            }
        },
        a.afterRender = function() {
            this.bindings.exam.data.supportOffline ? i(".offlineBool").show() : i(".offlineBool").hide()
        }
        ,
        a.components = [{
            id: "is-support-offline",
            name: "selectize"
        }, {
            id: "paperShowRule",
            name: "selectize"
        }, {
            id: "is-over-by-pass-exam",
            name: "radiox"
        }, {
            id: "show-answer-rule",
            name: "radiox"
        }, function() {
            var e = this
              , n = this.bindings.state.data
              , a = {
                id: "start-time",
                name: "flatpickr",
                options: {
                    enableTime: !0,
                    close: function(n, a, t) {
                        e.changeTime(n, a, t)
                    }
                }
            };
            return n.timeOptions.enable && (a.options.enable = n.timeOptions.enable),
            a
        }
        , function() {
            var e = this
              , n = this.bindings.state.data
              , a = {
                id: "end-time",
                name: "flatpickr",
                options: {
                    enableTime: !0,
                    close: function(n, a, t) {
                        e.changeTime(n, a, t)
                    }
                }
            };
            return n.timeOptions.enable && (a.options.enable = n.timeOptions.enable),
            a
        }
        ],
        a.dataForTemplate = {
            exam: function(e) {
                var n = e.exam
                  , a = 1 === this.module.renderOptions.showTimeRange && this.module.renderOptions.startTime && this.module.renderOptions.endTime
                  , t = this.module.renderOptions.defaultExamTimes;
                return Boolean(t) ? ((Number(t) > 100 || Number(t) < 0) && (t = 0),
                n.allowExamTimes = t) : !n.allowExamTimes && (n.allowExamTimes = 0),
                n.isOverByPassExam || 0 === n.isOverByPassExam || (n.isOverByPassExam = 1),
                n.duration || (n.duration = 60),
                n.allowExamTimes || (n.allowExamTimes = 0),
                n.showAnswerRule || (n.showAnswerRule = 1),
                n.supportOffline || (n.supportOffline = 0),
                a && s.assign(n, {
                    startTime: this.module.renderOptions.startTime,
                    endTime: this.module.renderOptions.endTime
                }),
                n
            },
            paperShowRule: function(e) {
                return {
                    single: 1 === e.exam.paperShowRule,
                    mutiple: 2 === e.exam.paperShowRule
                }
            },
            showTimeRange: function() {
                return 1 === this.module.renderOptions.showTimeRange
            },
            timeRequired: function(e) {
                return (e.state.timeOptions || {}).required
            },
            offline: function(e) {
                var n = e.offline;
                return n.supportOffline = n.supportOffline || 0,
                n.sum = t(n),
                n
            }
        },
        a.mixin = {
            check: function() {
                var e = this.$("start-time") && this.$("start-time").value
                  , n = this.$("end-time") && this.$("end-time").value;
                return !(!this.validate() || (e && !n || !e && n ? (this.app.message.error("必须完整填写考试时间范围或者全部不填"),
                1) : e && n && new Date(e).getTime() > new Date(n).getTime() && (this.app.message.error("开始时间不能大于结束时间"),
                1)))
            },
            changeTime: function(e, n, a) {
                var t = this.bindings.state.data.timeOptions || {};
                t.changeTime && t.changeTime(e, n, a)
            }
        },
        t = function(e) {
            var n = e.offlinePercent
              , a = e.onlinePercent
              , t = "-";
            return isNaN(n) || isNaN(a) || (t = Number(n) + Number(a) + "%"),
            t
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/paper/preview-paper-configuration/view-offline": [function(e, n, a) {
        arguments[4]["./app/exam/exam/other-module-exam/view-offline"][0].apply(a, arguments)
    }
    , {
        drizzlejs: "drizzlejs",
        dup: "./app/exam/exam/other-module-exam/view-offline",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/preview-paper-configuration/view-paper": [function(e, n, a) {
        var t = e("drizzlejs");
        a.type = "dynamic",
        a.bindings = {
            exam: !0
        },
        a.getEntity = function() {
            return this.bindings.exam.data
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/exam/other-module-exam/step-2"
        }
        ,
        a.dataForEntityModule = function(e) {
            return t.assign({
                exam: e.id ? e : {
                    paperShowRule: 1,
                    paperSortRule: 1
                },
                isPreviewPaperConfiguration: this.module.renderOptions.hidePaperShowRule || !0,
                hidePaperShowRule: this.module.renderOptions.hidePaperShowRule || 1,
                hidePaperMark: this.module.renderOptions.hidePaperMark || 1,
                type: "makeUp"
            })
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/paper/preview-paper/index": [function(e, n, a) {
        var t, i = e("./app/exam/paper/base-paper/index"), s = e("drizzlejs"), r = e("lodash/collection"), l = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current"
        }, o = {
            items: {
                "exam-notes": ""
            },
            store: {
                models: {
                    exam: {},
                    paper: {
                        url: "../exam/paper-class/front"
                    },
                    questions: {
                        mixin: {
                            init: function(e) {
                                var n = r.filter(e.paperClassQuestions, function(e) {
                                    return e.parentId
                                })
                                  , a = r.filter(e.paperClassQuestions, function(e) {
                                    return !e.parentId
                                });
                                this.data = r.map(a, function(e) {
                                    return 6 === e.question.type ? s.assign(e.question, {
                                        score: e.score,
                                        sequence: e.sequence,
                                        subs: r.map(e.question.subs, function(e) {
                                            var a = r.find(n, ["questionId", e.id]);
                                            return s.assign(e, {
                                                score: a ? a.score : e.score
                                            })
                                        })
                                    }) : s.assign(e.question, {
                                        score: e.score,
                                        sequence: e.sequence
                                    })
                                })
                            }
                        }
                    }
                },
                callbacks: {
                    init: function(e) {
                        var n = this.models.paper
                          , a = this.models.state
                          , t = this.models.types
                          , i = this.models.questions
                          , r = this.models.exam
                          , l = this;
                        return this.module.dispatch("clearModels"),
                        e.exam && s.assign(r.data, e.exam),
                        e.paperLibraryNew && !e.paperId ? (i.init(e.paperClass),
                        t.init(i.data, !1, l.module.renderOptions.isPreview),
                        s.assign(r.data, {
                            paper: s.assign(e.paperClass, {
                                questions: i.data
                            }),
                            examNotes: e.paperClass.exam.examNotes || "",
                            paperShowRule: 2
                        }),
                        a.init(s.assign({}, r.data)),
                        "") : e.paperId || e.examId ? (s.assign(n.params, {
                            paperId: e.paperId,
                            examId: e.examId,
                            examName: e.exam ? e.exam.name : "",
                            businessType: 1
                        }),
                        this.get(this.models.paper, {
                            loading: !0
                        }).then(function() {
                            i.init(n.data),
                            t.init(i.data, !1, l.module.renderOptions.isPreview),
                            s.assign(r.data, {
                                paper: s.assign(n.data, {
                                    questions: i.data
                                }),
                                examNotes: n.data.exam.examNotes || "",
                                paperShowRule: r.data.paperShowRule || n.data.exam.paperShowRule || 2
                            }),
                            a.init(r.data || {})
                        })) : ""
                    }
                }
            }
        }, c = s.assign({}, i.items), u = s.assign({}, i.store.models), d = s.assign({}, i.store.callbacks), p = s.assign({}, {
            largeDetail: !0,
            items: s.assign(c, o.items),
            store: {
                models: s.assign(u, o.store.models),
                callbacks: s.assign(d, o.store.callbacks)
            },
            beforeRender: function() {
                return t = this.app.global.uri,
                this.dispatch("init", this.renderOptions)
            },
            beforeClose: function() {
                return this.app.global.uri = t
            },
            getCurrentStatus: function() {
                return l.INIT
            }
        });
        n.exports = p
    }
    , {
        "./app/exam/paper/base-paper/index": "./app/exam/paper/base-paper/index",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/preview-paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="achievement-content content normal random-question-main-vertical">\n    <div class="achievement-side">\n        <div data-region="side-top"></div>\n        <div class="achievement-preview layout-mt-small" data-region="side"></div>\n    </div>\n    <div class="achievement-layout" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                return "    \x3c!--  #close.btn.w-half.block.layout-mt-small 关闭 --\x3e\n    \x3c!--  hr --\x3e\n"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return "    <ul>" + (null != (s = a.each.call(r, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</ul>\n    <div class="bottom">\n        <div class="title-tips"><span class="text-tips">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.preview-questionary.questionary-point-total", null != (s = null != n ? n.state : n) ? s.totalCount : s, null != (s = null != n ? n.state : n) ? s.totalScore : s, {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span></div>\n    </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <label class="pointer" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <span class="text-tips"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.program(7, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                <span>' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span>\n                <span class="text-tips">(' + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ')</span>\n            </label>\n            <div class="min-btn-groups m-left ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '">' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n        </li>\n    "
            },
            7: function(e, n, a, t, i) {
                return ""
            },
            9: function(e, n, a, t, i) {
                return "hidden"
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "\n" + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            "
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn " id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn correct" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.markIndex || (null != n ? n.markIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "markIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="achievement-main-head col-sm-left" style="background: #363A3E !important;">\n        <div class="col-sm-6 text-overflow"><div class="h3 text-overflow" title="' + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '">\n            ' + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '\n        </div></div>\n        <div class="col-sm-6 text-right">\n            <ul class="head-info inline-block">\n' + (null != (s = a.if.call(o, null != n ? n.showExamNotes : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            </ul>\n            <div id="close" class="btn btn-head layout-ml-small">' + l((a.string || n && n.string || a.helperMissing).call(o, "main.modal.close", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        </div>\n    </div>\n    <div class="achievement-main">\n        <div class="preview-content">\n' + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.program(24, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(28, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n"
            },
            17: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <li class="drop-down-wrapper right border right">\n                        <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.exam.other-exam.prompt.exam-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                        <i class="iconfont icon-notice drop-down-btn"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip" style="font-family: ' + o((a.string || n && n.string || l).call(r, "song-dynasty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ';">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.examNotes : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                        </div></div>\n                    </li>\n"
            },
            19: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                <div class="row col-xs-left">\n                    <div class="col-xs-6">\n                        <div class="com-title inline-block">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeDesc : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.markIndex : s, n)) + "/" + l(r(null != (s = null != n ? n.state : n) ? s.totalCount : s, n)) + ')</div>\n                        <div class="inline-block">' + l((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.questionary-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.score : s, n)) + "</div>\n                    </div>\n                </div>\n"
            },
            21: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            22: function(e, n, a, t, i) {
                var s;
                return '                    <div data-dynamic-key="' + e.escapeExpression(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            24: function(e, n, a, t, i) {
                var s;
                return "                <div>\n" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(25, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                </div>\n"
            },
            25: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                        <label>\n                            <div class="com-title">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ")</div>\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(26, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                        </label>\n"
            },
            26: function(e, n, a, t, i) {
                var s;
                return '                                <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            28: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '                <div class="col-sm-12 m-bottom"><div class="text-right">\n                    <div class="btn white border m-right" id="prev-' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    <div class="btn white border" id="next-' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n                </div></div>\n                <p>&nbsp;</p>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "side-top", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/paper/preview-paper/view-exam-notes": [function(e, n, a) {
        arguments[4]["./app/exam/paper/correction-paper/view-exam-notes"][0].apply(a, arguments)
    }
    , {
        "./app/util/strings": "./app/util/strings",
        dup: "./app/exam/paper/correction-paper/view-exam-notes"
    }],
    "./app/exam/paper/preview-paper/view-main": [function(e, n, a) {
        var t = e("./app/exam/paper/base-paper/view-main")
          , i = e("drizzlejs")
          , s = i.assign({}, t)
          , r = i.assign({}, s.dataForTemplate)
          , l = e("./app/exam/exam-question-types");
        s.dataForTemplate = r,
        i.assign(s.dataForTemplate, {
            showExamNotes: function(e) {
                return e.state.examNotes
            }
        }),
        i.assign(s, {
            type: "dynamic",
            getEntity: function(e) {
                var n = this.bindings.types.getQuestionById(e)
                  , a = i.assign({}, n);
                return a = i.assign(a, {
                    score: n.score / 100,
                    errorRate: n.errorRate / 1e4,
                    rightRate: n.rightRate / 1e4,
                    questionAttrs: n.questionAttrs
                })
            },
            getEntityModuleName: function(e, n) {
                return l.get(n.type, 3)
            },
            dataForEntityModule: function(e) {
                return {
                    data: e,
                    multiple: 2 === e.type,
                    mode: -1
                }
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/exam/paper/base-paper/view-main": "./app/exam/paper/base-paper/view-main",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/paper/preview-paper/view-side-top": [function(e, n, a) {
        arguments[4]["./app/exam/paper/correction-paper/view-side-top"][0].apply(a, arguments)
    }
    , {
        "./app/exam/paper/base-paper/view-side-top": "./app/exam/paper/base-paper/view-side-top",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/paper/correction-paper/view-side-top"
    }],
    "./app/exam/paper/preview-paper/view-side": [function(e, n, a) {
        arguments[4]["./app/exam/paper/correction-paper/view-side"][0].apply(a, arguments)
    }
    , {
        "./app/exam/paper/base-paper/view-side": "./app/exam/paper/base-paper/view-side",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/paper/correction-paper/view-side"
    }],
    "./app/exam/paper/score-detail-paper/index": [function(e, n, a) {
        var t, i = e("./app/exam/paper/base-paper/index"), s = e("drizzlejs"), r = e("lodash/collection"), l = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current",
            CORRECT: "correct",
            ERROR: "error",
            NOANSWER: "no-answer",
            NOMARK: "no-mark"
        }, o = {
            ONE_HUNDRED: 100,
            ZERO: 0,
            ONE: 1,
            SINGLE_MODE: 1,
            PC_CLIENT_TYPE: 1,
            SHOW_ANSWER_IMMED: 1
        }, c = {
            store: {
                models: {
                    exam: {
                        url: "../exam/exam/score-detail"
                    },
                    state: {
                        mixin: {
                            initWithSuject: function(e) {
                                var n = this.module.store.models.types
                                  , a = e.paper.questions
                                  , t = e.examRecord
                                  , i = this.module.store.models.answerSheet.data
                                  , l = function(e) {
                                    return [4, 5].indexOf(Number(e.type)) > -1
                                };
                                s.assign(this.data, e, {
                                    name: e.name,
                                    examinee: t.member.fullName || t.member.name,
                                    totalCount: e.paper.questionNum,
                                    totalScore: e.paper.totalScore / o.ONE_HUNDRED,
                                    singleMode: e.paperShowRule === o.SINGLE_MODE,
                                    currentQuestion: n.getFirstQuestion(),
                                    correctNum: 0,
                                    errorNum: 0,
                                    noAnswerCount: 0,
                                    noMarkNum: 0,
                                    examineeTotalScore: 0,
                                    examRecordStatus: t.status
                                }),
                                t.status >= 5 && (r.forEach(a, function(e) {
                                    6 === e.type ? r.some(e.subs, function(e) {
                                        return e.answerRecord
                                    }) ? r.every(r.filter(e.subs, function(e) {
                                        return e.answerRecord
                                    }), function(e) {
                                        return null !== e.answerRecord.score
                                    }) ? r.some(e.subs, function(e) {
                                        return e.answerRecord && e.answerRecord.score > 0
                                    }) ? i.corrects.push(e) : i.errors.push(e) : r.some(r.filter(e.subs, function(e) {
                                        return e.answerRecord
                                    }), function(e) {
                                        return null === e.answerRecord.score
                                    }) && i.noEvaluates.push(e) : i.noAnswers.push(e) : e.answerRecord && e.answerRecord.answer ? e.answerRecord.score > 0 ? i.corrects.push(e) : 0 === e.answerRecord.score ? i.errors.push(e) : l(e) && i.noEvaluates.push(e) : i.noAnswers.push(e)
                                }),
                                this.data.correctNum = i.corrects.length,
                                this.data.errorNum = i.errors.length,
                                this.data.noAnswerCount = i.noAnswers.length,
                                this.data.noEvaluatesCount = i.noEvaluates.length,
                                this.data.examineeTotalScore = r.reduce(r.map(i.corrects, function(e) {
                                    var n;
                                    return 6 === e.type ? (n = r.reduce(r.map(r.filter(e.subs, function(e) {
                                        return e.answerRecord && e.answerRecord.score
                                    }), function(e) {
                                        return e.answerRecord.score / 100
                                    }), function(e, n) {
                                        return e + n
                                    }),
                                    n >= 0 ? n : 0) : e.answerRecord && e.answerRecord.score ? e.answerRecord.score / 100 : 0
                                }), function(e, n) {
                                    return e + n
                                })),
                                t.status > 5 && (this.data.examineeTotalScore = e.examRecord.score / 100)
                            },
                            selectQuestion: function(e) {
                                var n = this.module.store.models.types;
                                s.assign(this.data, {
                                    currentQuestion: n.getQuestionById(e)
                                })
                            },
                            resetCurrentQuestion: function() {
                                var e = this.module.store.models.types;
                                s.assign(this.data, {
                                    currentQuestion: e.getCurrentQuestion()
                                })
                            }
                        }
                    },
                    answer: {
                        data: {
                            answers: []
                        },
                        mixin: {
                            getAnswer: function(e) {
                                return r.find(this.data, ["key", e])
                            },
                            init: function(e) {
                                var n = function(e) {
                                    return r.map(e.answerRecord.answer.split(","), function(n) {
                                        return {
                                            id: r.find(e.questionAttrCopys, ["name", n]).id,
                                            value: n
                                        }
                                    })
                                }
                                  , a = function(e) {
                                    return [{
                                        id: e.id,
                                        value: e.answerRecord.answer
                                    }]
                                };
                                this.data = r.map(e, function(e) {
                                    var t = [];
                                    return e.answerRecord && e.answerRecord.answer ? t = 1 === e.type || 2 === e.type ? n(e) : a(e) : 6 === e.type && (t = r.map(e.subs, function(e) {
                                        var t = [];
                                        return e.answerRecord && e.answerRecord.answer && (t = 1 === e.type || 2 === e.type ? n(e) : a(e)),
                                        {
                                            key: e.id,
                                            value: t
                                        }
                                    })),
                                    {
                                        key: e.id,
                                        value: t
                                    }
                                })
                            }
                        }
                    },
                    answerSheet: {
                        data: {
                            corrects: [],
                            errors: [],
                            noAnswers: [],
                            noEvaluates: []
                        },
                        mixin: {
                            init: function() {
                                this.data.corrects = [],
                                this.data.errors = [],
                                this.data.noAnswers = [],
                                this.data.noEvaluates = []
                            }
                        }
                    }
                },
                callbacks: {
                    init: function(e) {
                        var n = this;
                        return this.module.dispatch("clearModels"),
                        s.assign(this.models.exam.params, {
                            examRecordId: e.examRecordId,
                            examId: e.examId,
                            memberId: e.memberId
                        }),
                        this.get(this.models.exam, {
                            loading: !0
                        }).then(function() {
                            var e = n.models.exam.data;
                            n.models.answer.init(e.paper.questions),
                            n.models.types.init(e.paper.questions, !0),
                            n.models.answerSheet.init(),
                            n.models.state.initWithSuject(e),
                            n.models.types.resetQuestionStatus()
                        })
                    }
                }
            },
            beforeRender: function() {
                return this.dispatch("init", this.renderOptions)
            },
            getCurrentStatus: function() {
                return l.INIT
            }
        }, u = s.assign({}, i.items), d = s.assign({}, i.store.models), p = s.assign({}, i.store.callbacks), m = s.assign({}, {
            largeDetail: !0,
            items: u,
            store: {
                models: s.assign(d, c.store.models),
                callbacks: s.assign(p, c.store.callbacks)
            },
            beforeRender: function() {
                return t = this.app.global.uri,
                this.dispatch("init", this.renderOptions)
            },
            beforeClose: function() {
                return this.app.global.uri = t
            },
            getCurrentStatus: function(e) {
                var n = this.store.models.answerSheet.data;
                return r.find(n.corrects, ["id", e]) ? l.CORRECT : r.find(n.errors, ["id", e]) ? l.ERROR : r.find(n.noAnswers, ["id", e]) ? l.NOANSWER : l.INIT
            }
        });
        n.exports = m
    }
    , {
        "./app/exam/paper/base-paper/index": "./app/exam/paper/base-paper/index",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/score-detail-paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="achievement-content content">\n    <div class="achievement-side">\n        <div data-region="side-top"></div>\n        <div class="achievement-preview" data-region="side"></div>\n    </div>\n    <div class="achievement-layout" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                return ""
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div class="show-score">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.img : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        \x3c!--  compare(state.examRecord.status 'eq' 5) > img(src='images/exam/score-3.png') --\x3e\n        \x3c!--  compare(state.examRecord.status 'eq' 6) > img(src='images/exam/score-1.png') --\x3e\n        \x3c!--  compare(state.examRecord.status 'eq' 7) > img(src='images/exam/score-2.png') --\x3e\n        <div class=\"score\">" + o(l(null != (s = null != n ? n.state : n) ? s.examineeTotalScore : s, n)) + o((a.string || n && n.string || c).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        <a id="close" class="btn small">' + o((a.string || n && n.string || c).call(r, "main.modal.close", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n        <hr/>\n    </div>\n    <ul>" + (null != (s = a.each.call(r, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</ul>\n    <div class="bottom">\n        <div class="title-tips"><span>' + o((a.string || n && n.string || c).call(r, "exam.research-activity.preview-questionary.questionary-point-total", null != (s = null != n ? n.state : n) ? s.totalCount : s, null != (s = null != n ? n.state : n) ? s.totalScore : s, {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n        <div class="items">\n            <div class="item">\n                <div class="min-btn num list-item right">' + o(l(null != (s = null != n ? n.state : n) ? s.correctNum : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "right", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="item">\n                <div class="min-btn num list-item wrong">' + o(l(null != (s = null != n ? n.state : n) ? s.errorNum : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "wrong", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="item">\n                <div class="min-btn num list-item">' + o(l(null != (s = null != n ? n.state : n) ? s.noAnswerCount : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "exam.question.add-question.unanswered", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n            <div class="item">\n                <div class="min-btn num list-item">' + o(l(null != (s = null != n ? n.state : n) ? s.noEvaluatesCount : s, n)) + '</div>\n                <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "exam.question.add-question.to-be-evaluated", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            </div>\n        </div>\n    </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s;
                return '            <img src="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.img : s, n)) + '"/>\n'
            },
            8: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <label id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <span class="text-tips"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.program(3, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ')\n            </label>\n            <div class="min-btn-groups m-left ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '">' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n        </li>\n    "
            },
            9: function(e, n, a, t, i) {
                return "hidden"
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "\n" + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "correct", {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "error", {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "no-answer", {
                    name: "compare",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            "
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn current" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn right" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn wrong" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            20: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="num min-btn no-mark" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            22: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="achievement-main-head">\n        <div class="col-sm-6 text-overflow"><div class="h3 text-overflow" title="' + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '">\n            ' + l(r(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '\n        </div></div>\n        <div class="col-sm-6 text-right">\n            <ul class="head-info inline-block">\n' + (null != (s = a.if.call(o, null != n ? n.showExamNotes : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <li class="border right">\n                    ' + l((a.string || n && n.string || a.helperMissing).call(o, "exam.question.add-question.examinee", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                    " + l(r(null != (s = null != n ? n.state : n) ? s.examinee : s, n)) + '\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="achievement-main">\n        <div class="preview-content">\n' + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(25, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(27, i, 0),
                    inverse: e.program(30, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(34, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n"
            },
            23: function(e, n, a, t, i) {
                var s;
                return '                    <li class="drop-down-wrapper right border right">\n                        <i class="iconfont icon-notice drop-down-btn"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">' + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.examNotes : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                        </div></div>\n                    </li>\n"
            },
            25: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                <div class="row">\n                    <div class="col-xs-6">\n                        <div class="com-title inline-block">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeDesc : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.index : s, n)) + "/" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.totalCount : s, n)) + ')</div>\n                        <div class="inline-block">' + l((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.questionary-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.score : s, n)) + "</div>\n                    </div>\n                </div>\n"
            },
            27: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(28, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            28: function(e, n, a, t, i) {
                var s;
                return '                    <div data-dynamic-key="' + e.escapeExpression(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            30: function(e, n, a, t, i) {
                var s;
                return "                <div>\n" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(31, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                </div>\n"
            },
            31: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                        <label>\n                            <div class="com-title col-sm-12">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ")</div>\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(32, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                        </label>\n"
            },
            32: function(e, n, a, t, i) {
                var s;
                return '                                <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            34: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '                <div class="col-sm-12 m-bottom"><div class="text-right">\n                    <div class="btn white border m-right" id="prev-' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    <div class="btn white border" id="next-' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n                </div></div>\n                <p>&nbsp;</p>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "side-top", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/paper/score-detail-paper/view-main": [function(e, n, a) {
        var t, i = e("./app/exam/paper/base-paper/view-main"), s = e("drizzlejs"), r = s.assign({}, i), l = s.assign({}, r.bindings), o = s.assign({}, r.dataForTemplate), c = e("./app/exam/exam-question-types"), u = e("lodash/collection");
        r.bindings = l,
        s.assign(r.bindings, {
            answer: !0,
            state: !1
        }),
        r.dataForTemplate = o,
        s.assign(r.dataForTemplate, {
            showExamNotes: function(e) {
                return e.state.examNotes
            }
        }),
        s.assign(r, {
            type: "dynamic",
            getEntity: function(e) {
                var n = this.bindings.types.getQuestionById(e)
                  , a = s.assign({}, n)
                  , i = u.map(n.subs, function(e) {
                    var n = s.assign({}, e);
                    return s.assign(n, {
                        questionAttrs: e.questionAttrCopys,
                        errorRate: parseFloat((n.errorRate / 1e4).toFixed(2)),
                        answerRecord: null === n.answerRecord ? null : s.assign({}, n.answerRecord, {
                            score: t(n)
                        })
                    })
                });
                return s.assign(a, {
                    errorRate: parseFloat((a.errorRate / 1e4).toFixed(2)),
                    questionAttrs: n.questionAttrCopys,
                    answerRecord: null === a.answerRecord ? null : s.assign({}, a.answerRecord, {
                        score: t(a)
                    }),
                    subs: i
                })
            },
            getEntityModuleName: function(e, n) {
                return c.get(n.type, 3)
            },
            dataForEntityModule: function(e) {
                var n = this.bindings.answer
                  , a = this.bindings.state.data.examRecordStatus;
                return {
                    data: e,
                    multiple: 2 === e.type,
                    answer: n.getAnswer(e.id),
                    mode: 1,
                    examRecordStatus: a
                }
            }
        }),
        n.exports = r,
        t = function(e) {
            return 1 === e.type || 2 === e.type || 3 === e.type || 8 === e.type ? e.answerRecord ? e.answerRecord.score / 100 : 0 : e.answerRecord && e.answerRecord.score && e.answerRecord.score ? e.answerRecord.score / 100 : null
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/exam/paper/base-paper/view-main": "./app/exam/paper/base-paper/view-main",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/score-detail-paper/view-side-top": [function(e, n, a) {
        arguments[4]["./app/exam/paper/correction-paper/view-side-top"][0].apply(a, arguments)
    }
    , {
        "./app/exam/paper/base-paper/view-side-top": "./app/exam/paper/base-paper/view-side-top",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/paper/correction-paper/view-side-top"
    }],
    "./app/exam/paper/score-detail-paper/view-side": [function(e, n, a) {
        arguments[4]["./app/exam/paper/correction-paper/view-side"][0].apply(a, arguments)
    }
    , {
        "./app/exam/paper/base-paper/view-side": "./app/exam/paper/base-paper/view-side",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/paper/correction-paper/view-side"
    }],
    "./app/exam/paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<form class="vertical">\n    <label>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.paper.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n    <input class="input" name="name"/>\n</form>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '    <div class="buttons"></div>\n    <isGrant ' + l(r((s = (s = i && i.root) && s.Global) && s.EDIT, n)) + '="' + l(r((s = (s = i && i.root) && s.Global) && s.EDIT, n)) + '" false="false">\n        <div id="add-paper" class="btn"><i class="icon-plus"></i>' + l((a.string || n && n.string || c).call(o, "add", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n    </isGrant>\n    <div class="list">\n        <table class="table">\n            <thead><tr>\n                <th width="10px">#</th>\n                <th>' + l((a.string || n && n.string || c).call(o, "exam.paper.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "exam.paper.is-subjective", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "exam.paper.question-num", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "exam.paper.total-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "exam.paper.exam-count", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "exam.paper.status", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "system.all.create-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "system.all.operator", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <tbody>" + (null != (s = a.each.call(o, null != n ? n.papers : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.program(11, i, 0),
                    data: i
                })) ? s : "") + '</tbody>\n            </tr></thead>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'
            },
            4: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression, d = e.lambda;
                return "\n                    <tr>\n                        <td>" + u((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                        <td>" + u((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                        <td>" + u((a.map || n && n.map || o).call(l, "yes-or-no", null != n ? n.isSubjective : n, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "</td>\n                        <td>" + u((r = null != (r = a.questionNum || (null != n ? n.questionNum : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "questionNum",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                        <td>" + u((r = null != (r = a.totalScore || (null != n ? n.totalScore : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "totalScore",
                    hash: {},
                    data: i
                }) : r)) + '</td>\n                        <td><a id="exam-count-' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="id" data-value="' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((r = null != (r = a.examCount || (null != n ? n.examCount : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "examCount",
                    hash: {},
                    data: i
                }) : r)) + "</a></td>\n                        <td>" + u((a.map || n && n.map || o).call(l, "publish-status", null != n ? n.status : n, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "</td>\n                        <td>" + u((a.dateTime || n && n.dateTime || o).call(l, null != n ? n.createTime : n, {
                    name: "dateTime",
                    hash: {},
                    data: i
                })) + '</td>\n                        <td class="operation">\n' + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.status : n, "eq", 0, {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                            <isGrant " + u(d((s = (s = i && i.root) && s.Global) && s.REMOVE, n)) + '="' + u(d((s = (s = i && i.root) && s.Global) && s.REMOVE, n)) + '" ' + u(d(null != (s = null != n ? n.organization : n) ? s.id : s, n)) + '="' + u(d(null != (s = null != n ? n.organization : n) ? s.id : s, n)) + '">\n' + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.status : n, "eq", "0", {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                            </isGrant>\n" + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.status : n, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = "function", c = e.escapeExpression;
                return '                                <a id="publish-paper-' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((a.string || n && n.string || l).call(r, "exam.buttons.publish", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n                                 | \n                                <a id="edit-paper-' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((a.string || n && n.string || l).call(r, "edit", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n                                 | \n                                <a id="preview-paper-' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((a.string || n && n.string || l).call(r, "preview", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n                                 | \n                                <a id="remove-paper-' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((a.string || n && n.string || l).call(r, "remove", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n                                 | \n                                <a id="copy-paper-' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((a.string || n && n.string || l).call(r, "copy", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                                     | \n                                    <a id="remove-paper-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((a.string || n && n.string || l).call(r, "remove", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = "function", c = e.escapeExpression;
                return '                                <a id="undo-paper-' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((a.string || n && n.string || l).call(r, "exam.buttons.undo", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n                                 | \n                                <a id="preview-paper-' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((a.string || n && n.string || l).call(r, "preview", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n                                 | \n                                <a id="copy-paper-' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((a.string || n && n.string || l).call(r, "copy", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            11: function(e, n, a, t, i) {
                return '                            <tr class="nothing-content"><td colspan="8">\n                                <div class="content-empty">\n                                    <div class="img img-type-1"></div>\n                                    <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                                </div>\n                            </td></tr>\n                        </td>\n                    </tr>\n                "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return (null != (s = (a.view || n && n.view || l).call(r, "filter", {
                    name: "view",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || l).call(r, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/paper/view-add-paper": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.title = t.get("exam.paper.add-paper"),
        a.events = {
            "click select-question": "selectQuestion",
            "click temporary-question": "temporaryQuestion",
            "click random-question": "randomQuestion"
        },
        a.buttons = [{
            text: t.get("preview")
        }, {
            text: t.get("save")
        }],
        a.handlers = {
            selectQuestion: function() {
                this.app.viewport.popup(this.module.items["exam/question/select-question"])
            },
            temporaryQuestion: function() {
                this.app.viewport.popup(this.module.items["exam/question/add-question"])
            },
            randomQuestion: function() {
                this.app.viewport.modal(this.module.items["random-question"])
            }
        },
        a.components = [{
            id: "owner",
            name: "picker",
            options: {
                module: "human/member",
                picker: "owner",
                required: !0
            }
        }]
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/paper/view-content": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings");
        a.bindings = {
            papers: !0,
            search: "searchChange"
        },
        a.components = [{
            id: "pager",
            name: "pager",
            options: {
                model: "papers"
            }
        }],
        a.events = {
            "click add-paper": "addPaper",
            "click edit-paper-*": "editPaper",
            "click copy-paper-*": "copyPaper",
            "click preview-paper-*": "previewPaper",
            "click mark-paper": "markPaper",
            "click exam-count-*": "openExamCount"
        },
        a.actions = {
            "click publish-paper-*": "publishPaper",
            "click undo-paper-*": "undoPaper",
            "click remove-paper-*": "removePaper"
        },
        a.searchChange = function() {
            this.module.dispatch("refreshList", this.bindings.search.getQueryParams())
        }
        ,
        a.dataForTemplate = {
            papers: function(e) {
                var n = this.bindings.papers.getPageInfo().page;
                return t.map(e.papers || [], function(e, a) {
                    var t = e;
                    return t.i = a + 1 + 10 * (n - 1),
                    t.pb = 0 === t.status,
                    t.totalScore = e.totalScore / 100,
                    t
                })
            }
        },
        a.handlers = {
            addPaper: function() {
                var e = this.module.items["exam/paper/add-paper"]
                  , n = this
                  , a = n.module.store.models.papers.params;
                this.app.viewport.ground(e, {
                    callback: function() {
                        n.app.viewport.closeGround(),
                        n.module.dispatch("refreshList", a)
                    }
                })
            },
            editPaper: function(e) {
                var n = this.module.items["exam/paper/add-paper"]
                  , a = this
                  , t = a.module.store.models.papers.params;
                a.app.viewport.ground(n, {
                    id: e,
                    isEdit: !0,
                    callback: function() {
                        a.app.viewport.closeGround(),
                        a.module.dispatch("refreshList", t)
                    }
                })
            },
            copyPaper: function(e) {
                var n = this.module.items["exam/paper/add-paper"]
                  , a = this
                  , t = a.module.store.models.papers.params;
                this.app.viewport.ground(n, {
                    id: e,
                    isCopy: !0,
                    callback: function() {
                        a.app.viewport.closeGround(),
                        a.module.dispatch("refreshList", t)
                    }
                })
            },
            previewPaper: function(e) {
                this.app.viewport.ground(this.module.items["exam/paper/preview-paper"], {
                    paperId: e
                })
            },
            openExamCount: function(e) {
                this.app.viewport.modal(this.module.items["exam/paper/used-exam"], {
                    paperClassId: e
                })
            }
        },
        a.dataForActions = {
            publishPaper: function(e) {
                var n = this
                  , a = e
                  , t = i.get("exam.paper.publish-paper-confirm");
                return a.status = 1,
                n.Promise.create(function(e) {
                    n.app.message.confirm(t, function() {
                        e(a)
                    }, function() {
                        e(!1)
                    })
                })
            },
            undoPaper: function(e) {
                var n = this
                  , a = e
                  , t = i.get("exam.paper.cancel-paper-confirm");
                return a.status = 0,
                n.Promise.create(function(e) {
                    n.app.message.confirm(t, function() {
                        e(a)
                    }, function() {
                        e(!1)
                    })
                })
            },
            removePaper: function(e) {
                var n = this
                  , a = e
                  , t = i.get("exam.paper.delete-paper-confirm");
                return n.Promise.create(function(e) {
                    n.app.message.confirm(t, function() {
                        e(a)
                    }, function() {
                        e(!1)
                    })
                })
            }
        },
        a.actionCallbacks = {
            publishPaper: function() {
                this.app.message.success(i.get("publish-success")),
                this.module.dispatch("refreshList", this.bindings.search.getQueryParams())
            },
            undoPaper: function() {
                this.app.message.success(i.get("cancel-success")),
                this.module.dispatch("refreshList", this.bindings.search.getQueryParams())
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/paper/view-filter": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings");
        a.title = i.get("exam.paper.find-paper"),
        a.buttons = [{
            text: i.get("ok"),
            action: "doSearch"
        }],
        a.events = {
            "click search": "showModal"
        },
        a.handlers = {
            showModal: function() {
                this.app.viewport.modal(this.module.items.modal)
            }
        },
        a.dataForActions = {
            doSearch: function(e) {
                return t.map(e, function(e, n) {
                    return {
                        type: n,
                        id: e,
                        text: e
                    }
                })
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/add-question/index": [function(e, n, a) {
        var t, i, s = e("drizzlejs"), r = e("lodash/collection"), l = e("./app/util/strings"), o = {
            add: l.get("exam.research-activity.question.add-question"),
            edit: l.get("exam.research-activity.question.modify-question")
        };
        a.items = {
            "item-pool": "item-pool",
            main: "main",
            question: "question",
            parsing: "parsing",
            preview: ""
        },
        a.title = function() {
            return this.renderOptions.titleType ? o[this.renderOptions.titleType] : o.add
        }
        ,
        a.large = !0,
        a.store = {
            models: {
                img: {
                    url: "../system/file/upload"
                },
                question: {
                    url: "../exam/question/front"
                },
                state: {
                    data: {}
                },
                itemPool: {
                    data: {}
                },
                tempAddQuestionOptions: {},
                key: {},
                orgs: {
                    url: "../system/organization/granted-organization",
                    cache: !1
                },
                RealTypeData: {
                    data: {}
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.question
                      , a = this.models.state
                      , t = this.models.key
                      , l = this.models.itemPool
                      , o = this.models.tempAddQuestionOptions
                      , c = e.interim || !1;
                    s.assign(this.models.RealTypeData.data, {
                        isAuth: i.call(this)
                    }),
                    o.set(e),
                    a.clear(),
                    t.clear(),
                    a.data.type = o.data.type || 1,
                    this.models.question.set(n),
                    n && (this.models.key.set({
                        id: n.id
                    }),
                    s.assign(n, {
                        questionAttrs: r.orderBy(n.questionAttrs, ["name", "asc"])
                    })),
                    s.assign(a.data, n),
                    s.assign(a.params, e.params || e.question || {}),
                    l.data.interim = c,
                    c ? n && (n.questionDepot && n.questionDepot.id || n.questionDepotId) ? l.data.entryDepot = !0 : l.data.entryDepot = !1 : l.data = {
                        entryDepot: !0
                    }
                },
                saveQuestion: function(e) {
                    var n, a = this, t = a.module.module, i = a.models.question, r = a.models.state, o = a.module.renderOptions.callback, c = this.app.global.currentUser, u = e.organizationId || i.data && i.data.organization && i.data.organization.id;
                    return u || (u = c.companyOrganization && c.companyOrganization.id || this.app.global.organization.id),
                    this.models.question.set(s.assign(e, {
                        organizationId: u,
                        id: this.models.key.data.id,
                        isTemp: this.module.renderOptions.isTemp
                    })),
                    this.save(this.models.question, {
                        loading: !0
                    }).then(function() {
                        return a.app.message.success(l.get("save-success")),
                        o ? (n = s.assign(r.data, {
                            id: i.data.id,
                            subs: i.data.subs,
                            questionAttrs: 6 === Number(r.data.type) ? i.data.subs : r.data.questionAttrs,
                            questionDepot: r.data.questionDepot,
                            replaceId: i.data.replaceId
                        }),
                        o(n),
                        a.models.state.clear(),
                        a.models.key.clear(),
                        a.renderOptions = {},
                        !0) : t.refreshList()
                    })
                },
                refresh: function() {
                    delete this.module.renderOptions.question,
                    this.models.state.changed()
                },
                reloadItemPool: function() {
                    this.models.itemPool.changed()
                },
                selectOwnerChanged: function(e) {
                    s.assign(this.models.state.params, {
                        organization: {
                            id: e.id,
                            name: e.text
                        },
                        questionDepot: {},
                        priority: !0
                    }),
                    s.assign(this.models.state.data, {
                        questionDepot: {}
                    }),
                    this.models.state.changed()
                },
                changeType: function(e) {
                    var n = this.models.state.data;
                    this.models.state.clear(),
                    n.questionDepotId ? s.assign(this.models.state.data, {
                        type: Number(e.type),
                        questionDepotId: n.questionDepotId,
                        questionDepot: n.questionDepot,
                        organizationId: n.organizationId,
                        organization: n.organization
                    }) : s.assign(this.models.state.data, {
                        type: Number(e.type)
                    }),
                    s.assign(this.models.tempAddQuestionOptions.data, e),
                    this.models.state.changed()
                }
            }
        },
        a.buttons = function() {
            var e, n, a, i = this.renderOptions.interim, o = [];
            return e = {
                text: l.get("preview"),
                fn: function() {
                    var e, n = this.items.question.getEntities()[0], a = this.items.main, i = this.items.parsing, l = i.check(), o = this.items["item-pool"], c = n.store.models.state.data, u = this.store.models.state.data, d = n.getValue(), p = o.validate(), m = a.validate(), h = n.isValidate();
                    return !!(p && m && h && l) && (!!d && (d.type || (d.type = c.type),
                    6 === Number(d.type) && r.forEach(d.questionAttrs, function(e) {
                        e.score = e.score
                    }),
                    e = t(s.assign({}, d, i.getData(), a.getData(), {
                        score: Number(d.score)
                    })),
                    !d.questionDepotId && c.questionDepotId ? e = s.assign(e, {
                        questionDepotId: c.questionDepotId,
                        questionDepot: c.questionDepot
                    }) : !d.questionDepotId && u.questionDepotId && (e = s.assign(e, {
                        questionDepotId: u.questionDepotId,
                        questionDepot: u.questionDepot
                    })),
                    n.clear(),
                    this.renderOptions.callback && s.assign(this.store.models.state.data, e),
                    6 === Number(e.type) && (e.subs = e.questionAttrs),
                    this.store.models.state.set(e),
                    this.app.viewport.modal(this.items.preview),
                    !1))
                }
            },
            n = {
                text: l.get("save"),
                fn: function() {
                    var e, n = this.items.question.getEntities()[0], a = this.items.main, i = this.items.parsing, l = this.items["item-pool"], o = n.store.models.state.data, c = n.getValue(), u = i.check(), d = l.validate(), p = a.validate(), m = n.isValidate();
                    return !!(d && p && m && u) && (!!c && (c.type || (c.type = o.type),
                    6 === Number(c.type) && r.forEach(c.questionAttrs, function(e) {
                        var n = e;
                        n.score = (100 * e.score).toFixed(0),
                        n.order = n.index,
                        delete n.index
                    }),
                    e = t(s.assign({}, c, l.getData(), i.getData(), a.getData(), {
                        score: Number(100 * c.score).toFixed(0)
                    })),
                    n.clear(),
                    this.renderOptions.callback && s.assign(this.store.models.state.data, e),
                    this.dispatch("saveQuestion", e)))
                }
            },
            a = {
                text: l.get("exam.research-activity.question.save-and-insert"),
                fn: function() {
                    var e = this
                      , a = n.fn.call(this);
                    return !!a && a.then(function() {
                        return e.dispatch("init", e.store.models.tempAddQuestionOptions.data).then(function() {
                            e.store.models.state.changed(),
                            e.store.models.itemPool.changed()
                        }),
                        !1
                    })
                }
            },
            i && "add" === this.renderOptions.titleType ? (o.push(n),
            o.push(a)) : (o.push(e),
            o.push(n)),
            o
        }
        ,
        t = function(e) {
            var n = {}
              , a = JSON.stringify(e.questionAttrs);
            return n.value = a,
            s.assign(n, e)
        }
        ,
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        i = function() {
            var e = this.app.global.uri;
            return "exam/exam" !== e && (!(e.indexOf("exam") < -1) && "exam/question-depot" !== e)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/add-question/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="item-pool"></div>\n    <div data-region="main"></div>\n    <div data-region="question"></div>\n    <div data-region="parsing"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '<form class="vertical">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.itemPool : n) ? s.interim : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.itemPool : n) ? s.entryDepot : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</form>"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '        <div class="row col-sm-left">\n            <div class="col-sm-12">\n                <div class="checkbox inline-block no-margin">\n                    <input ' + (null != (s = a.if.call(r, null != (s = null != n ? n.itemPool : n) ? s.entryDepot : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" name="selectBox" id="check-owner"/>\n                    <label for="check-owner"></label>\n                </div>\n                <div class="inline-block">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.question.add-question.add-question-to-lib", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            </div>\n        </div>\n"
            },
            5: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '        <div class="row col-sm-left">\n' + (null != (s = a.if.call(r, null != n ? n.adding : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            <div class="col-sm-6 col-p-right-0">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.RealTypeData : n) ? s.isAuth : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.program(12, i, 0),
                    data: i
                })) ? s : "") + '                <div id="questionDepot"></div>\n            </div>\n        </div>\n'
            },
            8: function(e, n, a, t, i) {
                return '                <div class="col-sm-6 col-p-right-0">\n                    <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "system.all.organization", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                    <div id="owner"></div>\n                </div>\n'
            },
            10: function(e, n, a, t, i) {
                return '                    <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.question.add-question.question-list", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</label>\n"
            },
            12: function(e, n, a, t, i) {
                return '                    <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.all.catalog", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</label>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '<form class="vertical">\n    <div class="row col-sm-left">\n' + (null != (s = a.if.call(r, null != n ? n.adding : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        <div class="col-sm-6 col-p-right-0">\n            <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <select id="level" class="input question-input" name="difficulty" x-rule="required" x-marker="selectize" readonly>' + (null != (s = a.each.call(r, null != n ? n.difficultys : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</select>\n        </div>\n    </div>\n</form>"
            },
            15: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="col-sm-6 col-p-right-0">\n                <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <select id="type" class="input question-input" name="type" x-rule="required" x-marker="selectize" readonly>' + (null != (s = a.each.call(r, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</select>\n            </div>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "\n                    <option " + (null != (s = a.if.call(l, null != n ? n.selected : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="' + c((r = null != (r = a.key || (null != n ? n.key : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "key",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.value || (null != n ? n.value : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "value",
                    hash: {},
                    data: i
                }) : r)) + "</option>\n                "
            },
            17: function(e, n, a, t, i) {
                return ' selected="selected"'
            },
            19: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "\n                <option " + (null != (s = a.if.call(l, null != n ? n.selected : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="' + c((r = null != (r = a.key || (null != n ? n.key : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "key",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.value || (null != n ? n.value : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "value",
                    hash: {},
                    data: i
                }) : r)) + "</option>\n            "
            },
            21: function(e, n, a, t, i) {
                var s;
                return '    <form class="vertical">\n        <div data-dynamic-key="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.type : s, n)) + '"></div>\n    </form>\n'
            },
            23: function(e, n, a, t, i) {
                var s;
                return '<form class="vertical" style="margin-top:-30px;">\n' + (null != (s = (a.compare || n && n.compare || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.type : s, "ne", 6, {
                    name: "compare",
                    hash: {},
                    fn: e.program(24, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</form>"
            },
            24: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '        <div class="row col-sm-left">\n            <div class="col-sm-6 col-p-right-0">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.question.types.sorting-question-parsing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <textarea class="input block" x-rule="maxLength:400" id="parsing" x-marker="rich-text" name="parsing" x-target="parsing" value="' + o(e.lambda(null != (s = null != n ? n.bottom : n) ? s.parsing : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.question : n) ? s.parsing : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</textarea>\n            </div>\n        </div>\n"
            },
            26: function(e, n, a, t, i) {
                var s;
                return '    <div data-dynamic-key="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "item-pool", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "question", {
                    name: "view",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "parsing", {
                    name: "view",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "preview", {
                    name: "view",
                    hash: {},
                    fn: e.program(26, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/add-question/view-item-pool": [function(e, n, a) {
        var t, i = e("jquery"), s = e("drizzlejs");
        a.type = "form",
        a.bindings = {
            state: !0,
            itemPool: !0,
            RealTypeData: !0
        },
        a.events = {
            "click check-owner": "checkOwner"
        },
        a.handlers = {
            checkOwner: function() {
                var e = this.bindings.itemPool.data;
                this.$("check-owner").checked ? e.entryDepot = !0 : e.entryDepot = !1,
                this.module.dispatch("reloadItemPool")
            }
        },
        a.dataForTemplate = {
            adding: function() {
                var e = this.module.renderOptions.titleType
                  , n = this.module.renderOptions.interim;
                return "add" === e || "edit" === e && (!0 === n || !1 === n)
            }
        },
        a.components = [function() {
            var e = this.app.global.EDIT
              , n = this.bindings.state
              , a = this
              , t = {
                id: "owner",
                name: "picker",
                options: {
                    module: this.module.renderOptions.url || "exam/question-depot",
                    picker: "owner-admin",
                    required: !0,
                    autoFill: !0,
                    params: {
                        operatorType: e,
                        organizationId: a.module.renderOptions.organizationId
                    },
                    data: {},
                    selectChanged: function(e) {
                        return a.module.dispatch("selectOwnerChanged", e)
                    }
                }
            }
              , i = n.data
              , s = this.bindings.itemPool.data;
            return i.organization && !n.params.priority ? (t.options.data.id = i.organization.id,
            t.options.data.text = i.organization.name) : n.params.organization && (t.options.data.id = n.params.organization.id,
            t.options.data.text = n.params.organization.name),
            s.entryDepot ? t : null
        }
        , function() {
            var e = this.bindings.state.params
              , n = {
                id: "questionDepot",
                name: "picker",
                options: {
                    picker: "question-depot",
                    required: !0,
                    inputName: "questionDepotId",
                    params: {
                        operatorType: this.app.global.EDIT,
                        organizationId: e.organization && e.organization.id,
                        state: 1,
                        autoFill: !0,
                        type: t,
                        depotShare: 1
                    },
                    data: {}
                }
            }
              , a = this.bindings.state.data
              , i = this.bindings.itemPool.data;
            return a.questionDepot && a.questionDepot.id ? (n.options.data.id = a.questionDepot.id,
            n.options.data.name = a.questionDepot.name) : e && e.questionDepot && e.questionDepot.id ? (n.options.data.id = e.questionDepot.id,
            n.options.data.name = e.questionDepot.name) : e && e.organization && e.organization.id ? n.options.params.organizationId = e.organization.id : n.options.params.organizationId || (n.options.params.organizationId = this.module.renderOptions.organizationId),
            i.entryDepot ? n : null
        }
        ],
        a.mixin = {
            getData: function() {
                var e = this.components.owner
                  , n = this.components.questionDepot
                  , a = {};
                return n && (a = s.assign({}, {
                    questionDepotId: i(this.$$('[name="questionDepotId"]')).val(),
                    questionDepot: {
                        id: n.getData() && n.getData().id,
                        name: n.getData() && n.getData().text,
                        depotShare: n.getData() && n.getData().depotShare
                    }
                })),
                e && (a = s.assign(a, {
                    organizationId: i(this.$$('[name="organizationId"]')).val(),
                    organization: {
                        id: e.getData().id,
                        name: e.getData().text
                    }
                })),
                a
            }
        },
        t = function() {
            var e = this.app.global.uri;
            return "exam/exam" === e ? 1 : e.indexOf("exam") < -1 ? 1 : "exam/question-depot" === e ? 1 : "exam/auth-question-depot" === e ? 2 : 1
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/question/add-question/view-main": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("lodash/collection")
          , s = e("jquery")
          , r = e("./app/util/strings");
        a.bindings = {
            state: !1
        },
        a.type = "form",
        a.large = !0,
        a.events = {
            "change type": "changeType"
        },
        a.handlers = {
            changeType: function(e, n) {
                var a = this;
                return this.module.items.question.getEntities()[0].getContent() ? (a.app.message.confirm(r.get("exam.research-activity.question.change-question-type-confirm"), function() {
                    return a.module.dispatch("changeType", {
                        type: n.value
                    })
                }, function() {
                    a.render()
                }),
                "") : a.module.dispatch("changeType", {
                    type: n.value
                })
            }
        },
        a.components = [{
            id: "type",
            name: "selectize"
        }, {
            id: "level",
            name: "selectize"
        }, {
            id: "mark",
            name: "selectize"
        }],
        a.dataForTemplate = {
            types: function() {
                var e = t.get("question-types")
                  , n = this.bindings.state.data;
                return n && i.map(e, function(e) {
                    var a = e;
                    Number(a.key) === Number(n.type) && (a.selected = !0)
                }),
                e
            },
            difficultys: function() {
                var e = t.get("question-difficultys")
                  , n = this.bindings.state.data;
                return n && i.map(e, function(e) {
                    var a = e;
                    Number(a.key) === Number(n.difficulty) && (a.selected = !0)
                }),
                i.orderBy(e, ["key"], ["desc"])
            },
            adding: function() {
                var e = this.module.renderOptions.titleType
                  , n = this.module.renderOptions.interim;
                return "add" === e || "edit" === e && (!0 === n || !1 === n)
            }
        },
        a.mixin = {
            getData: function() {
                var e = {}
                  , n = s(this.$$('[name="type"]')).val();
                return n && (e.type = n),
                e.difficulty = s(this.$$('[name="difficulty"]')).val(),
                e
            }
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/add-question/view-parsing": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            img: !1,
            state: !0
        },
        a.components = [{
            id: "parsing",
            name: "rich-text",
            options: {
                model: "img"
            }
        }],
        a.dataForTemplate = {},
        a.mixin = {
            getData: function() {
                return {
                    parsing: this.components.parsing && this.components.parsing.getValue(),
                    parsingText: this.components.parsing && this.components.parsing.getInnerText()
                }
            },
            check: function() {
                var e = this.components.parsing;
                return !(e && !e.validate())
            }
        }
    }
    , {}],
    "./app/exam/question/add-question/view-preview": [function(e, n, a) {
        var t = e("./app/exam/exam-question-types")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = e("./app/util/strings");
        a.title = r.get("exam.research-activity.question.question-preview"),
        a.type = "dynamic",
        a.bindings = {
            state: !0
        },
        a.getEntity = function() {
            var e = this.bindings.state.data
              , n = i.assign({}, e)
              , a = s.map(n.subs, function(e) {
                var n = i.assign({}, e);
                return i.assign(n, {
                    score: n.score
                })
            });
            return i.assign(n, {
                subs: a
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return t.get(n.type, 2)
        }
        ,
        a.dataForEntityModule = function(e) {
            return {
                data: e,
                multiple: 2 === e.type,
                previewMode: 1
            }
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/add-question/view-question": [function(e, n, a) {
        var t = e("./app/exam/exam-question-types")
          , i = e("drizzlejs")
          , s = e("lodash/collection");
        a.type = "dynamic",
        a.bindings = {
            state: !0
        },
        a.getEntity = function() {
            var e, n, a = this.bindings.state.data;
            return a.id && (e = i.assign({}, a),
            n = s.map(e.subs, function(e) {
                var n = i.assign({}, e);
                return i.assign(n, {
                    score: n.score / 100
                })
            }),
            i.assign(e, {
                score: e.score / 100,
                subs: n
            })),
            e
        }
        ,
        a.getEntityModuleName = function(e) {
            return t.get(e, 1)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = e ? e.type : this.bindings.state.data.type;
            return {
                type: n,
                data: e,
                multiple: 2 === Number(n)
            }
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/import-data/index": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("drizzlejs"), r = e("./app/util/strings");
        a.items = {
            main: "main",
            file: ""
        },
        a.title = r.get("import-data"),
        a.store = {
            models: {
                state: {},
                file: {
                    url: "../human/file/upload-file"
                },
                importData: {
                    url: "../exam/question/front-import"
                },
                importDepotData: {
                    url: "../exam/question-depot/import"
                },
                exportQuestionTemplate: {
                    url: "../exam/question/export"
                },
                exportDepotTemplate: {
                    url: "../exam/question-depot/export"
                },
                importResult: {},
                download: {
                    url: "../human/file/download"
                },
                dataModel: {}
            },
            callbacks: {
                init: function(e) {
                    this.models.importResult.clear(),
                    this.models.dataModel.data = t.call(this),
                    s.assign(this.models.state.data, {
                        templateType: e.templateType,
                        isOtherModuleType: e.isOtherModuleType,
                        organizationId: e.organizationId
                    })
                },
                importData: function(e) {
                    var n = this
                      , a = this.models.importResult
                      , i = this.models.state.data
                      , l = 1 === i.templateType ? this.models.importData : this.models.importDepotData;
                    return l.set(s.assign(e, {
                        isOtherModuleType: i.isOtherModuleType,
                        organizationId: i.organizationId || n.app.global.currentUser.id,
                        type: t.call(this),
                        uri: this.app.global.uri
                    })),
                    this.post(l, {
                        loading: !0
                    }).then(function() {
                        var e = l.data
                          , t = n.module.renderOptions.callback;
                        a.set(s.assign(e, {
                            errorList: JSON.parse(e.errorList)
                        })),
                        a.data.importFinished = !0,
                        e.errorCount > 0 ? (a.data.showErrorUrl = !0,
                        n.app.message.error(r.get("exam.question.import-data.import-error"))) : n.app.message.success(r.get("import-success")),
                        JSON.parse(e.data).length > 0 && t && t(JSON.parse(e.data)),
                        a.changed()
                    })
                },
                displayErrorUrl: function() {
                    this.models.importData.data.showErrorUrl = !1,
                    this.models.importData.changed()
                },
                clearModels: function() {
                    i.forEach(this.models, function(e) {
                        e.clear()
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        t = function() {
            var e = this.app.global.uri;
            return "exam/question-depot" === e ? 1 : "exam/auth-question-depot" === e ? 2 : 1
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/import-data/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    <form class="vertical">\n        <div class="row"><div class="col-sm-12"><span>' + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.import-steps", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div></div>\n        <label style="display: inline-block;">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.download-template", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n        <a id="download-template" href="' + c((r = null != (r = a.downloadTemplateUrl || (null != n ? n.downloadTemplateUrl : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "downloadTemplateUrl",
                    hash: {},
                    data: i
                }) : r)) + '">(' + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.down-import-template", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ")</a>\n        <label>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.choose-excel", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</label>\n        <label>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.after-success", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</label>\n        <label>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.when-failed", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n        <br/>\n        <div class="row"><div class="col-sm-12">\n            <div id="import" class="btn">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.import-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n" + (null != (s = a.if.call(l, null != (s = null != n ? n.importResult : n) ? s.showErrorUrl : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(l, null != (s = null != n ? n.importResult : n) ? s.importFinished : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div></div>\n    </form>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <a class="btn" href="' + o((s = null != (s = a.errorDataUrl || (null != n ? n.errorDataUrl : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "errorDataUrl",
                    hash: {},
                    data: i
                }) : s)) + '" download="' + o((a.string || n && n.string || l).call(r, "exam.question.import-data.import-error-log", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '.xlsx" target="_blank">' + o((a.string || n && n.string || l).call(r, "exam.question.import-data.download-import-error-log", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return "                <h3>" + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "train.import-data.msg", null != (s = null != n ? n.importResult : n) ? s.successCount : s, null != (s = null != n ? n.importResult : n) ? s.errorCount : s, {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</h3>\n                <div>\n" + (null != (s = a.each.call(r, null != n ? n.errorMsg : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                </div>\n"
            },
            7: function(e, n, a, t, i) {
                return '                        <p class="error">' + e.escapeExpression(e.lambda(n, n)) + "</p>\n"
            },
            9: function(e, n, a, t, i) {
                return '    <div id="uploader"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "file", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/import-data/view-file": [function(e, n, a) {
        a.bindings = {
            file: "fileUpload"
        },
        a.components = [{
            id: "uploader",
            name: "uploader",
            options: {
                model: "file",
                chunk_size: "100mb",
                filters: {
                    max_file_size: "100mb",
                    mime_types: [{
                        title: "files",
                        extensions: "xls,xlsx"
                    }]
                }
            }
        }],
        a.fileUpload = function() {
            return this.app.viewport.closeModal(),
            this.module.dispatch("importData", {
                fileId: this.bindings.file.data.imgId
            })
        }
    }
    , {}],
    "./app/exam/question/import-data/view-main": [function(e, n, a) {
        var t, i = e("./app/util/errors"), s = e("lodash/collection"), r = e("./app/util/strings");
        a.bindings = {
            exportQuestionTemplate: !1,
            exportDepotTemplate: !1,
            importResult: !0,
            state: !1,
            download: !1,
            dataModel: !1,
            file: "fileUpload"
        },
        a.events = {
            "click downloadError": "downloadError"
        },
        a.handlers = {
            downloadError: function() {
                var e = this;
                return this.module.dispatch("displayErrorUrl").then(function() {
                    e.app.viewport.closePopup()
                })
            }
        },
        a.dataForTemplate = {
            downloadTemplateUrl: function(e) {
                var n = 1 === e.state.templateType ? this.bindings.exportQuestionTemplate : this.bindings.exportDepotTemplate
                  , a = n.getFullUrl() + "?"
                  , t = this.app.global.OAuth.token.access_token;
                return e.state.isOtherModuleType && (a += "isOtherModuleType=" + e.state.isOtherModuleType + "&"),
                e.state.organizationId && (a += "organizationId=" + e.state.organizationId + "&"),
                a += "deptType=" + this.bindings.dataModel.data + "&",
                a += "exportType=1&access_token=" + t,
                encodeURI(a)
            },
            errorDataUrl: function(e) {
                var n = this.bindings.download
                  , a = this.app.global.OAuth.token.access_token;
                return n.getFullUrl() + "?id=" + e.importResult.errorFileId + "&access_token=" + a
            },
            errorMsg: function(e) {
                return e.importResult ? s.map(e.importResult.errorList, function(e) {
                    var n = r.get("exam.research-activity.import-data.can-not-empty");
                    return e.code && (n = i.get(e.code)),
                    r.getWithParams("train.import-data.error-msg", [Number(e.row) + 1, t(e.column)]) + "。[" + n + "]"
                }) : ""
            }
        },
        a.components = function() {
            return [{
                id: "import",
                name: "superUpload",
                options: {
                    model: "file",
                    accept: "xls,xlsx",
                    maxSize: "100M",
                    isProgress: !0
                }
            }]
        }
        ,
        t = function(e) {
            return String.fromCharCode(e + "A".charCodeAt(0))
        }
        ,
        a.fileUpload = function() {
            return this.module.dispatch("importData", {
                fileId: this.bindings.file.data.imgs[0].id
            })
        }
    }
    , {
        "./app/util/errors": "./app/util/errors",
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/index": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("drizzlejs"), r = e("./app/util/strings");
        a.items = {
            content: "content",
            preview: "",
            "exam/question/add-question": {
                isModule: !0
            },
            "exam/question/import-data": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                questions: {
                    url: "../exam/question",
                    root: "items",
                    type: "pageable"
                },
                question: {
                    url: "../exam/question",
                    mixin: {
                        getQuestionById: function(e) {
                            var n = this.module.store.models.questions.data;
                            return i.find(n, ["id", e.id])
                        },
                        structQuestion: function(e) {
                            var n = e;
                            return n.organizationId = n.organization.id,
                            n.value = JSON.stringify(n.questionAttrs),
                            n
                        }
                    }
                },
                publish: {
                    url: "../exam/question/publish"
                },
                state: {
                    data: {}
                },
                recovery: {},
                exportQuestion: {
                    url: "../exam/question/export"
                },
                Grants: {}
            },
            callbacks: {
                setGrants: function(e) {
                    this.models.Grants.set(e.data),
                    this.models.Grants.changed()
                },
                refreshList: function(e) {
                    var n = this.models.questions
                      , a = this;
                    return n.clear(),
                    s.assign(e, {
                        depttype: t.call(this)
                    }),
                    e && (e.createTimeStart && s.assign(e, {
                        createTimeStart: e.createTimeStart + " 00:00:00"
                    }),
                    e.createTimeEnd && s.assign(e, {
                        createTimeEnd: e.createTimeEnd + " 23:59:59"
                    }),
                    s.assign(n.params = {}, e, {
                        depotPath: e.questionDepot ? e.questionDepot.path : ""
                    })),
                    this.get(n, {
                        loading: !0
                    }).then(function(e) {
                        s.assign(a.models.state.data, {
                            showEmpty: 0 === e[0].items.length
                        }),
                        a.models.state.changed()
                    })
                },
                updateStatus: function(e) {
                    var n = this.models.publish
                      , a = this;
                    return n.set(e),
                    this.put(this.models.publish).then(function() {
                        var n = 1 === e.status ? r.get("exam.question.publish-success") : r.get("exam.question.cancel-success");
                        a.app.message.success(n),
                        a.get(a.models.questions)
                    })
                },
                deleteQuestion: function(e) {
                    var n = this;
                    return this.models.question.set(s.assign(e, {
                        name: i.find(n.models.questions.data, ["id", e.id]).contentText
                    })),
                    this.del(this.models.question).then(function() {
                        n.app.message.success(r.get("delete-success")),
                        n.get(n.models.questions)
                    })
                },
                reloadState: function() {
                    this.models.state.changed()
                },
                publish: function(e) {
                    var n = this;
                    return this.models.publish.set(s.assign(e, {
                        status: 1
                    })),
                    this.post(this.models.publish).then(function() {
                        return n.app.message.success(r.get("exam.question.publish-success")),
                        n.get(n.models.questions)
                    })
                },
                cancel: function(e) {
                    var n = this;
                    return this.models.publish.set(s.assign(e, {
                        status: 0
                    })),
                    this.post(this.models.publish).then(function() {
                        return n.app.message.success(r.get("exam.question.cancel-success")),
                        n.get(n.models.questions)
                    })
                },
                export: function(e) {
                    return s.assign(this.models.exportQuestion.params, e, {
                        exportType: 2
                    }),
                    this.get(this.models.exportQuestion)
                },
                check: function(e) {
                    s.assign(this.models.state.data, {
                        checkAll: e.checkAll
                    }),
                    1 === e.checkType ? s.assign(this.models.questions.params, {
                        ids: e.checkAll ? e.ids : null
                    }) : s.assign(this.models.questions.params, e),
                    this.models.questions.changed()
                }
            }
        },
        a.mixin = {
            refreshList: function(e) {
                return this.dispatch("refreshList", e)
            },
            topSearch: function() {
                var e = this.items.filter;
                this.app.viewport.popup(e)
            },
            setGrants: function(e) {
                return this.dispatch("setGrants", e)
            }
        },
        t = function(e) {
            var n = this.app.global.uri;
            return "exam/question-depot" === n ? 1 : "exam/auth-question-depot" === n ? 2 : e.type
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/random-normal-question/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("jquery")
          , s = e("lodash/collection")
          , r = e("./app/util/maps");
        a.large = !0,
        a.title = function() {
            return "随机组卷"
        }
        ,
        a.items = {
            table: "table",
            organization: "organization",
            depot: "depot",
            "question-setting": "question-setting",
            "setting-popup": "setting-popup"
        },
        a.store = {
            models: {
                search: {},
                questions: {
                    url: "../exam/question-depot/random-questions",
                    mixin: {
                        useableAmount: function(e, n) {
                            return s.filter(this.data, function(a) {
                                return Number(a.type) === Number(e) && Number(a.difficulty) === Number(n)
                            }).length
                        }
                    }
                },
                questionCount: {
                    url: "../exam/question-depot/random-questions-count",
                    mixin: {
                        init: function() {
                            t.assign(this.data || {}, {
                                countContent: this.data && JSON.parse(this.data.countContent) || []
                            })
                        },
                        useableAmount: function(e, n) {
                            var a, t = {
                                1: "high",
                                2: "middle",
                                3: "low"
                            }, i = s.filter(this.data && (this.data.countContent || []), function(n) {
                                return n.questionType === Number(e)
                            });
                            return i.length > 0 ? (a = i[0],
                            a[t[n]] || 0) : 0
                        }
                    }
                },
                tactics: {
                    url: "../exam/paper-tactic",
                    type: "localStorage",
                    data: {},
                    mixin: {
                        saveIt: function(e) {
                            var n = s.reject(this.data, function(n) {
                                return n && e.organizationId === n.organizationId && e.questionDepotId === n.questionDepotId && Number(e.type) === Number(n.type) && Number(e.difficulty) === Number(n.difficulty)
                            });
                            n.push(e),
                            this.data = n,
                            this.save()
                        },
                        getIt: function(e, n, a, t) {
                            return s.find(this.data, function(i) {
                                return i && i.organizationId === e && i.questionDepotId === n && Number(i.type) === Number(a) && Number(i.difficulty) === Number(t)
                            })
                        },
                        removeIt: function(e, n, a, t) {
                            var i = this.module.store.models.state;
                            this.data = s.reject(this.data, function(i) {
                                return i && i.organizationId === e && i.questionDepotId === n && Number(i.type) === Number(a) && Number(i.difficulty) === Number(t)
                            }),
                            i.data.hadDeleted = !0,
                            this.save()
                        },
                        totalAmount: function() {
                            return s.reduce(s.map(this.data, function(e) {
                                return e.amount && Number(e.amount) || 0
                            }), function(e, n) {
                                return e + n
                            }, 0)
                        },
                        totalScore: function() {
                            return s.reduce(s.map(this.data, function(e) {
                                return e.score && Number(e.score) || 0
                            }), function(e, n) {
                                return e + n
                            }, 0) / 100
                        },
                        isExistedDepotByDifferentOrg: function(e, n) {
                            var a = s.filter(this.data, function(n) {
                                return n && n.questionDepotId === e.questionDepotId
                            });
                            return a.length > 0 && s.some(a, function(a) {
                                return a.organizationId !== e.organizationId && Number(a.difficulty) === Number(n.difficulty)
                            })
                        }
                    }
                },
                setting: {
                    mixin: {
                        init: function(e, n) {
                            var a = this.module.store.models.questionCount
                              , t = this.module.store.models.tactics;
                            this.data = s.map(r.get("question-types"), function(i) {
                                return {
                                    id: i.key,
                                    title: i.value,
                                    diffcults: s.map(r.get("question-difficultys"), function(s) {
                                        var r = t.getIt(e, n, i.key, s.key);
                                        return {
                                            id: e + "/" + n + "/" + i.key + "/" + s.key,
                                            type: i.key,
                                            difficulty: s.key,
                                            title: s.value + "难度",
                                            useableAmount: a.useableAmount(i.key, s.key),
                                            usedAmount: r && r.amount,
                                            totalScore: r && parseFloat(Number(r.score).toFixed(1)),
                                            orgId: e,
                                            depotId: n,
                                            show: a.useableAmount(i.key, s.key) > 0,
                                            tacticId: r && r.id || ""
                                        }
                                    })
                                }
                            })
                        },
                        getIt: function(e, n) {
                            var a = s.find(this.data, ["id", e]);
                            return s.find(a.diffcults, ["difficulty", n])
                        },
                        getByTypeAndDifficulty: function(e, n) {
                            var a = this.getIt(e, n)
                              , i = this.module.store.models.tactics;
                            return t.assign(a, {
                                tactic: i.getIt(a.orgId, a.depotId, a.type, a.difficulty)
                            })
                        },
                        saveIt: function(e) {
                            this.data = s.map(this.data, function(n) {
                                return e.type === n.id ? t.assign(n, {
                                    diffcults: s.map(n.diffcults, function(n) {
                                        return e.difficulty === n.difficulty ? t.assign(n, {
                                            usedAmount: e.amount,
                                            totalScore: e.score
                                        }) : n
                                    })
                                }) : n
                            })
                        },
                        removeIt: function(e) {
                            this.data = s.map(this.data, function(n) {
                                return e.type === n.id ? t.assign(n, {
                                    diffcults: s.map(n.diffcults, function(n) {
                                        return e.difficulty === n.difficulty ? t.assign(n, {
                                            usedAmount: 0,
                                            totalScore: 0
                                        }) : n
                                    })
                                }) : n
                            })
                        }
                    }
                },
                popupCurrent: {},
                tacticsForm: {
                    url: "../exam/paper-tactic"
                },
                removeTactic: {
                    url: "../exam/paper-tactic"
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.tacticsForm;
                    e.isPaper && (this.models.tactics.data = []),
                    e.paperClassId && n.set({
                        id: e.paperClassId
                    })
                },
                saveSearch: function(e) {
                    var n = this.models.search
                      , a = this.models.questionCount
                      , i = this.models.tactics
                      , s = this.models.setting
                      , r = this.models.state.data
                      , l = this.module.renderOptions.paperClassId;
                    if (t.assign(n.data, e, {
                        depotType: 1
                    }),
                    n.data.organizationId) {
                        if (t.assign(a.params, n.data),
                        this.module.renderOptions.isPaper ? t.assign(i.data, this.module.renderOptions.paperClassTactics) : i.data && 0 !== i.data.length || !l || r.hadDeleted || (t.assign(i.data = {}, {
                            id: l
                        }),
                        i.data.id && this.get(i)),
                        n.data.questionDepotId && "share-root-depot-id" !== n.data.questionDepotId)
                            return this.get(a, {
                                loading: !0
                            }).then(function() {
                                a.init(),
                                s.init(n.data.organizationId, n.data.questionDepotId),
                                s.changed()
                            });
                        a.clear(),
                        s.init(n.data.organizationId, n.data.questionDepotId),
                        s.changed()
                    }
                    return ""
                },
                clearDepotId: function() {
                    var e = this.models.search
                      , n = this.models.setting
                      , a = this.models.questions;
                    t.assign(e.data, {
                        questionDepotId: null
                    }),
                    a.clear(),
                    n.init(e.data.organizationId, e.data.questionDepotId),
                    n.changed()
                },
                addTactic: function(e) {
                    var n = this.models.setting;
                    this.models.popupCurrent.set(n.getByTypeAndDifficulty(e.type, e.difficulty)),
                    this.models.popupCurrent.changed()
                },
                clearCurrent: function() {
                    this.models.popupCurrent.clear()
                },
                saveTactic: function(e) {
                    var n = this.models.search
                      , a = this.models.tactics
                      , t = this.models.setting
                      , i = this.models.popupCurrent;
                    return a.isExistedDepotByDifferentOrg(n.data, e) ? (this.app.message.error("对不起，当前目录下难易度试题已被选择，请不要重复选择"),
                    !1) : (a.saveIt({
                        organizationId: n.data.organizationId,
                        questionDepotId: n.data.questionDepotId,
                        questionDepot: n.data.questionDepot,
                        difficulty: e.difficulty,
                        type: e.type,
                        amount: e.amount,
                        score: e.score
                    }),
                    a.totalScore() > 1e3 ? (this.app.message.error("试卷分数不能超出1000分"),
                    a.removeIt(n.data.organizationId, n.data.questionDepotId, e.type, e.difficulty),
                    !1) : (i.clear(),
                    i.changed(),
                    t.saveIt(e),
                    t.changed(),
                    !0))
                },
                removeTactic: function(e) {
                    var n = this;
                    this.models.tactics.removeIt(e.organizationId, e.questionDepotId, e.type, e.difficulty),
                    this.models.setting.removeIt(e),
                    this.models.setting.changed(),
                    n.app.message.success("删除成功")
                },
                saveAll: function() {
                    var e, n = this.models.tacticsForm, a = this.models.tactics, i = this.models.state, s = this.module.renderOptions, r = this;
                    return a.data && 0 !== a.data.length ? a.totalScore() > 1e3 ? (this.app.message.error("试卷分数不能超出1000分"),
                    !1) : (t.assign(n.data, {
                        name: this.module.renderOptions.name,
                        totalScore: (100 * a.totalScore()).toFixed(0),
                        questionNum: a.totalAmount(),
                        examId: this.module.renderOptions.examId,
                        paperClassTactics: JSON.stringify(a.data)
                    }),
                    t.assign(n.data, {
                        type: s.typeNum
                    }),
                    r.module.renderOptions.isPaper ? (e = t.assign({}, n.data, {
                        paperClassTactics: a.data,
                        name: this.module.renderOptions.name
                    }),
                    r.module.renderOptions.callback(e)) : this.save(n, {
                        loading: !0
                    }).then(function() {
                        r.app.message.success("随机组卷已保存成功"),
                        r.module.renderOptions.callback(n.data.id || ""),
                        i.clear(),
                        a.clear()
                    })) : (this.app.message.error("请选择试题"),
                    !1)
                }
            }
        },
        a.mixin = {
            nodeChanged: function(e) {
                var n = this.items.depot.getEntities()
                  , a = n && n[0]
                  , t = this;
                return a ? this.dispatch("clearDepotId").then(function() {
                    return t.dispatch("saveSearch", e).then(function() {
                        return a.refreshTree(e)
                    })
                }) : ""
            },
            clearTactic: function() {
                this.store.models.tactics.clear()
            }
        },
        a.beforeRender = function() {
            return i(".dialog-header").show(),
            i(".dialog-content").css({
                paddingTop: "4em"
            }),
            this.dispatch("init", this.renderOptions)
        }
        ,
        a.buttons = [{
            text: "保存",
            fn: function() {
                return this.dispatch("saveAll")
            }
        }]
    }
    , {
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/random-normal-question/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="random-question-main exam-paper-library row m-top o">\n        <div class="col-lg-12"><div data-region="table"></div></div>\n        <div class="col-sm-2 side-tree-content"><div class="side-tree setting-amount">\n            <div data-region="organization"></div>\n        </div></div>\n        <div class="col-sm-2 side-tree-content"><div class="side-tree setting-amount">\n            <div data-region="depot"></div>\n        </div></div>\n        <div class="col-sm-8">\n            <div data-region="question-setting"></div>\n            <div data-region="setting-popup"></div>\n        </div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                return '    <div id="directory-score-table"></div>\n'
            },
            5: function(e, n, a, t, i) {
                return '    <div data-dynamic-key="organization"></div>\n'
            },
            7: function(e, n, a, t, i) {
                return '    <div data-dynamic-key="depot"></div>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '<form class="vertical">\n    <div class="list border around add-random-question-list add-random select">\n        <div class="total">共' + l(r(null != (s = null != n ? n.summary : n) ? s.totalAmount : s, n)) + "题" + l(r(null != (s = null != n ? n.summary : n) ? s.totalScore : s, n)) + "分</div>\n        <ul>" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.setting : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n    </div>\n</form>"
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {};
                return '\n            <li class="clearfix border border-top">\n                <div class="com-title"><strong>' + e.escapeExpression((r = null != (r = a.title || (null != n ? n.title : n)) ? r : a.helperMissing,
                "function" == typeof r ? r.call(l, {
                    name: "title",
                    hash: {},
                    data: i
                }) : r)) + '</strong></div>\n                <div class="clearfix cont">' + (null != (s = a.each.call(l, null != n ? n.diffcults : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n            </li>\n        "
            },
            11: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n                    <div class="select-question-item">\n                        <div class="level m-bottom">\n                            <span>' + c((r = null != (r = a.title || (null != n ? n.title : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "title",
                    hash: {},
                    data: i
                }) : r)) + '</span>\n                            <span class="text-tips m-left">共' + c((r = null != (r = a.useableAmount || (null != n ? n.useableAmount : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "useableAmount",
                    hash: {},
                    data: i
                }) : r)) + '题可用</span>\n                        </div>\n                        <div class="inline-block">\n' + (null != (s = a.if.call(l, null != n ? n.show : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.usedAmount : n, "ge", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                        </div>\n                    </div>\n                "
            },
            12: function(e, n, a, t, i) {
                var s;
                return '                                <i class="pointer iconfont icon-add-full custom-color-4 p-right" id="add-' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></i>\n'
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                                <span class="selected-question-bar">\n                                    已选\n                                    <strong>' + o((s = null != (s = a.usedAmount || (null != n ? n.usedAmount : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "usedAmount",
                    hash: {},
                    data: i
                }) : s)) + "</strong>\n                                    题共\n                                    <strong>" + o((s = null != (s = a.totalScore || (null != n ? n.totalScore : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "totalScore",
                    hash: {},
                    data: i
                }) : s)) + '</strong>\n                                    分\n                                </span>\n                                <i class="pointer iconfont icon-delete-solid custom-color-3 p-left" id="remove-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></i>\n'
            },
            16: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <div class="setting-popup" id="setting-popup">\n        <form class="vertical">\n            <label class="clearfix">\n                <div class="pull-left">数量</div>\n                <div class="text-right text-tips">共' + l(r(null != (s = null != n ? n.popupCurrent : n) ? s.useableAmount : s, n)) + '题可用</div>\n            </label>\n            <label class="clearfix">\n                <input class="input" id="popupAmount" name="amount" value="' + l(r(null != (s = null != (s = null != n ? n.popupCurrent : n) ? s.tactic : s) ? s.amount : s, n)) + '" x-rule="number,range:1:' + l(r(null != (s = null != n ? n.popupCurrent : n) ? s.useableAmount : s, n)) + ',keepDecimal:0"/>\n            </label>\n            <label class="clearfix"></label>\n            <label class="clearfix">\n                <div class="pull-left">总分</div>\n                <div class="text-right text-tips"></div>\n            </label>\n            <label class="clearfix">\n                <input class="input" id="popupScore" name="score" value="' + l(r(null != (s = null != (s = null != n ? n.popupCurrent : n) ? s.tactic : s) ? s.score : s, n)) + '" x-rule="number,range:0:100,keepDecimal:1"/>\n                <input type="hidden" name="difficulty" value="' + l(r(null != (s = null != n ? n.popupCurrent : n) ? s.difficulty : s, n)) + '"/>\n                <input type="hidden" name="type" value="' + l(r(null != (s = null != n ? n.popupCurrent : n) ? s.type : s, n)) + '"/>\n            </label>\n            <label class="clearfix"></label>\n            <label><div class="text-right">\n                <div id="cancel" class="btn">取消</div>\n                <div class="btn" id="save-tactic">添加</div>\n            </div></label>\n        </form>\n    </div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "table", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "organization", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "depot", {
                    name: "view",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "question-setting", {
                    name: "view",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "setting-popup", {
                    name: "view",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/random-normal-question/view-depot": [function(e, n, a) {
        a.type = "dynamic",
        a.getEntity = function() {
            return ""
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/question/random-question/depot-tree"
        }
        ,
        a.dataForEntityModule = function() {
            var e = this;
            return {
                callback: function(n) {
                    return e.module.dispatch("saveSearch", n)
                }
            }
        }
    }
    , {}],
    "./app/exam/question/random-normal-question/view-organization": [function(e, n, a) {
        a.type = "dynamic",
        a.getEntity = function() {
            return ""
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/question/random-question/organization-tree"
        }
        ,
        a.dataForEntityModule = function() {
            var e = this;
            return {
                url: this.module.renderOptions.url || "exam/exam",
                organizationId: this.module.renderOptions.organizationId,
                callback: function(n) {
                    return e.module.nodeChanged(n)
                }
            }
        }
    }
    , {}],
    "./app/exam/question/random-normal-question/view-question-setting": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.bindings = {
            setting: !0,
            tactics: !1
        },
        a.events = {
            "click add-*": "addTactic",
            "click remove-*": "removeTactic"
        },
        a.handlers = {
            addTactic: function(e) {
                var n = e.split("/");
                return this.module.dispatch("addTactic", {
                    organizationId: n[0],
                    questionDepotId: n[1],
                    type: n[2],
                    difficulty: n[3]
                })
            },
            removeTactic: function(e) {
                var n = e.split("/")
                  , a = this;
                this.app.message.confirm("确定要删除该数据？", function() {
                    return a.module.dispatch("removeTactic", {
                        organizationId: n[0],
                        questionDepotId: n[1],
                        type: n[2],
                        difficulty: n[3]
                    })
                })
            }
        },
        a.dataForTemplate = {
            summary: function(e) {
                return e.tactics && e.tactics.length > 0 ? {
                    totalAmount: t.reduce(t.map(e.tactics, function(e) {
                        return e.amount && Number(e.amount) || 0
                    }), function(e, n) {
                        return e + n
                    }, 0),
                    totalScore: parseFloat((t.reduce(t.map(e.tactics, function(e) {
                        return e.score && Number(e.score) || 0
                    }), function(e, n) {
                        return e + n
                    }, 0) / 100).toFixed(1))
                } : {
                    totalAmount: 0,
                    totalScore: 0
                }
            },
            setting: function(e) {
                return t.map(e.setting, function(e) {
                    return i.assign(e, {
                        diffcults: t.map(e.diffcults, function(e) {
                            return i.assign(e, {
                                totalScore: parseFloat((e.totalScore / 100).toFixed(1))
                            })
                        })
                    })
                })
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/random-normal-question/view-setting-popup": [function(e, n, a) {
        var t = e("jquery")
          , i = e("drizzlejs");
        a.type = "form",
        a.bindings = {
            popupCurrent: !0
        },
        a.events = {
            "click cancel": "cancel"
        },
        a.handlers = {
            cancel: function() {
                return t(this.$("setting-popup")).removeClass("show"),
                this.module.dispatch("clearCurrent")
            }
        },
        a.actions = {
            "click save-tactic": "saveTactic"
        },
        a.dataForActions = {
            saveTactic: function(e) {
                return t(this.$("popupAmount")).val() ? t(this.$("popupScore")).val() && Number(t(this.$("popupScore")).val()) ? !!this.validate() && i.assign(e, {
                    score: (100 * e.score).toFixed(0)
                }) : (this.app.message.error("每题分数为必填项"),
                !1) : (this.app.message.error("题目数量为必填项"),
                !1)
            }
        },
        a.actionCallbacks = {
            saveTactic: function() {
                this.app.message.success("操作成功"),
                t(this.$("setting-popup")).removeClass("show")
            }
        },
        a.dataForTemplate = {
            popupCurrent: function(e) {
                var n = e.popupCurrent;
                return n.tactic ? i.assign(n, {
                    tactic: i.assign(n.tactic, {
                        score: parseFloat((n.tactic.score / 100).toFixed(1))
                    })
                }) : n
            }
        },
        a.afterRender = function() {
            this.bindings.popupCurrent.data.title && t(this.$("setting-popup")).addClass("show")
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/question/random-normal-question/view-table": [function(e, n, a) {
        a.bindings = {
            tactics: !0,
            popupCurrent: !0,
            setting: !0
        },
        a.components = [function() {
            var e = this;
            return {
                id: "directory-score-table",
                name: "picker",
                options: {
                    picker: "directory-score-table",
                    data: this.bindings.tactics.data,
                    callback: function(n) {
                        return e.module.dispatch("saveTactic", {
                            amount: n.arr[3],
                            difficulty: n.arr[1],
                            score: (100 * n.value).toFixed(0),
                            type: n.arr[2]
                        })
                    }
                }
            }
        }
        ],
        a.dataForTemplate = {}
    }
    , {}],
    "./app/exam/question/random-question/depot-tree/index": [function(e, n, a) {
        var t, i = e("drizzlejs"), s = e("lodash/collection"), r = e("./app/util/strings");
        a.items = {
            "depot-tree": "depot-tree"
        },
        a.store = {
            models: {
                questionDepots: {
                    url: "../exam/question-depot",
                    mixin: {
                        merge: function(e) {
                            var n = this
                              , a = {};
                            s.forEach(e, function(e) {
                                n.data.push(e)
                            }),
                            s.forEach(this.data, function(e) {
                                a[e.id] = e
                            }),
                            this.data = s.map(a, function(e) {
                                return e
                            })
                        }
                    }
                },
                questionDepot: {
                    url: "../exam/question-depot"
                },
                shareAndPublic: {
                    url: "../exam/question-depot/share-public",
                    cache: !0
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.questionDepots;
                    e.callback && (this.models.state.callback = e.callback),
                    i.assign(n.params, e.data, {
                        organizationId: null,
                        state: 1,
                        share: 1,
                        type: t,
                        depotShare: 1
                    })
                },
                changeDepot: function(e) {
                    this.models.state.callback({
                        questionDepotId: e.id,
                        questionDepot: e.questionDepot
                    })
                },
                refreshTree: function(e) {
                    var n = this.models.questionDepots;
                    return i.assign(n.params, e),
                    this.get(n, {
                        loading: !0,
                        slient: !0
                    }).then(function() {
                        n.changed()
                    })
                },
                remove: function(e) {
                    var n = this;
                    return this.models.questionDepot.set(e),
                    this.del(this.models.questionDepot).then(function() {
                        return n.app.message.success(r.get("delete-success")),
                        n.get(n.models.questionDepots)
                    })
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.mixin = {
            refreshTree: function(e) {
                return this.dispatch("refreshTree", e)
            }
        },
        t = function() {
            var e = this.app.global.uri;
            return "exam/exam" === e || e.indexOf("exam") < 0 ? 1 : 2
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/random-question/depot-tree/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="depot-tree"></div>\n'
            },
            3: function(e, n, a, t, i) {
                return '    <div id="tree"></div>\n    <div id="search" class="search-tree" style="margin:10px 10px 0;" data-drag="drag-tree">\n        <input type="text" class="searchKey" placeholder="请输入"/>\n        <span id="icon-search" class="iconfont icon-search"></span>\n    </div>\n    <div id="category" class="drag-tree-container o-drag-tree"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "depot-tree", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/random-question/depot-tree/view-depot-tree": [function(e, n, a) {
        a.bindings = {
            questionDepots: !0
        },
        a.events = {
            "click icon-search": "searchTree"
        },
        a.handlers = {
            searchTree: function(e) {
                var n = e.target || e.srcElement
                  , a = n.previousElementSibling && n.previousElementSibling.value ? n.previousElementSibling.value.trim() : "";
                this.components.category.treeFilters(a)
            }
        },
        a.components = [function() {
            var e = this;
            return {
                id: "category",
                name: "drag-tree",
                options: {
                    model: "questionDepots",
                    width: "250px",
                    height: "300px",
                    openLevel: 3,
                    maxLevel: 4,
                    draggable: !0,
                    showOptIcon: !1,
                    queryCount: function(e) {
                        this.courseCount(e)
                    },
                    afterClick: function(n) {
                        e.module.dispatch("changeDepot", {
                            id: n.id,
                            questionDepot: {
                                id: n.id,
                                name: n.text,
                                path: n.data.path,
                                state: n.state,
                                depotShare: n.depotShare
                            }
                        })
                    }
                }
            }
        }
        ],
        a.mixin = {
            courseCount: function() {}
        }
    }
    , {}],
    "./app/exam/question/random-question/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/maps")
          , r = e("./app/util/strings");
        a.large = !0,
        a.title = r.get("exam.question.select-question.random-question"),
        a.items = {
            organization: "organization",
            depot: "depot",
            "question-setting": "question-setting",
            "setting-popup": "setting-popup"
        },
        a.store = {
            models: {
                search: {},
                questions: {
                    url: "../exam/question-depot/random-questions",
                    mixin: {
                        useableAmount: function(e, n) {
                            return i.filter(this.data, function(a) {
                                return Number(a.type) === Number(e) && Number(a.difficulty) === Number(n)
                            }).length
                        }
                    }
                },
                questionCount: {
                    url: "../exam/question-depot/random-questions-count",
                    mixin: {
                        init: function() {
                            t.assign(this.data || {}, {
                                countContent: this.data && JSON.parse(this.data.countContent) || []
                            })
                        },
                        useableAmount: function(e, n) {
                            var a, t = {
                                1: "high",
                                2: "middle",
                                3: "low"
                            }, s = i.filter(this.data && (this.data.countContent || []), function(n) {
                                return n.questionType === Number(e)
                            });
                            return s.length > 0 ? (a = s[0],
                            a[t[n]]) : 0
                        }
                    }
                },
                tactics: {
                    url: "../exam/paper-tactic",
                    type: "localStorage",
                    data: {},
                    mixin: {
                        saveIt: function(e) {
                            var n = i.reject(this.data, function(n) {
                                return n && e.organizationId === n.organizationId && e.questionDepotId === n.questionDepotId && Number(e.type) === Number(n.type) && Number(e.difficulty) === Number(n.difficulty)
                            });
                            n.push(e),
                            this.data = n,
                            this.save()
                        },
                        getIt: function(e, n, a, t) {
                            return i.find(this.data, function(i) {
                                return i && i.organizationId === e && i.questionDepotId === n && Number(i.type) === Number(a) && Number(i.difficulty) === Number(t)
                            })
                        },
                        removeIt: function(e, n, a, t) {
                            var s = this.module.store.models.state;
                            this.data = i.reject(this.data, function(i) {
                                return i && i.organizationId === e && i.questionDepotId === n && Number(i.type) === Number(a) && Number(i.difficulty) === Number(t)
                            }),
                            s.data.hadDeleted = !0,
                            this.save()
                        },
                        totalAmount: function() {
                            return i.reduce(i.map(this.data, function(e) {
                                return e.amount && Number(e.amount) || 0
                            }), function(e, n) {
                                return e + n
                            }, 0)
                        },
                        totalScore: function() {
                            return i.reduce(i.map(this.data, function(e) {
                                return e.score && Number(e.score) * e.amount || 0
                            }), function(e, n) {
                                return e + n
                            }, 0) / 100
                        },
                        isExistedDepotByDifferentOrg: function(e, n) {
                            var a = i.filter(this.data, function(n) {
                                return n && n.questionDepotId === e.questionDepotId
                            });
                            return a.length > 0 && i.some(a, function(a) {
                                return a.organizationId !== e.organizationId && Number(a.difficulty) === Number(n.difficulty)
                            })
                        }
                    }
                },
                setting: {
                    mixin: {
                        init: function(e, n) {
                            var a = this.module.store.models.questionCount
                              , t = this.module.store.models.tactics;
                            this.data = i.map(s.get("question-types"), function(l) {
                                return {
                                    id: l.key,
                                    title: l.value,
                                    diffcults: i.map(s.get("question-difficultys"), function(i) {
                                        var s = t.getIt(e, n, l.key, i.key);
                                        return {
                                            id: e + "/" + n + "/" + l.key + "/" + i.key,
                                            type: l.key,
                                            difficulty: i.key,
                                            title: i.value + " " + r.get("exam.question.select-question.difficulty-mul"),
                                            useableAmount: a.useableAmount(l.key, i.key),
                                            usedAmount: s && s.amount,
                                            totalScore: s && parseFloat((s.amount * s.score).toFixed(1)),
                                            orgId: e,
                                            depotId: n,
                                            show: a.useableAmount(l.key, i.key) > 0,
                                            tacticId: s && s.id || ""
                                        }
                                    })
                                }
                            })
                        },
                        getIt: function(e, n) {
                            var a = i.find(this.data, ["id", e]);
                            return i.find(a.diffcults, ["difficulty", n])
                        },
                        getByTypeAndDifficulty: function(e, n) {
                            var a = this.getIt(e, n)
                              , i = this.module.store.models.tactics;
                            return t.assign(a, {
                                tactic: i.getIt(a.orgId, a.depotId, a.type, a.difficulty)
                            })
                        },
                        saveIt: function(e) {
                            this.data = i.map(this.data, function(n) {
                                return e.type === n.id ? t.assign(n, {
                                    diffcults: i.map(n.diffcults, function(n) {
                                        return e.difficulty === n.difficulty ? t.assign(n, {
                                            usedAmount: e.amount,
                                            totalScore: e.amount * e.score
                                        }) : n
                                    })
                                }) : n
                            })
                        },
                        removeIt: function(e) {
                            this.data = i.map(this.data, function(n) {
                                return e.type === n.id ? t.assign(n, {
                                    diffcults: i.map(n.diffcults, function(n) {
                                        return e.difficulty === n.difficulty ? t.assign(n, {
                                            usedAmount: 0,
                                            totalScore: 0
                                        }) : n
                                    })
                                }) : n
                            })
                        }
                    }
                },
                popupCurrent: {},
                tacticsForm: {
                    url: "../exam/paper-tactic"
                },
                removeTactic: {
                    url: "../exam/paper-tactic"
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    e.paperClassId && this.models.tacticsForm.set({
                        id: e.paperClassId
                    })
                },
                saveSearch: function(e) {
                    var n = this.models.search
                      , a = this.models.questionCount
                      , i = this.models.tactics
                      , s = this.models.setting
                      , r = this.models.state.data
                      , l = this.module.renderOptions.paperClassId;
                    return t.assign(n.data, e),
                    n.data.organizationId ? (t.assign(a.params, n.data),
                    i.data && 0 !== i.data.length || !l || r.hadDeleted || (t.assign(i.data = {}, {
                        id: l
                    }),
                    i.data.id && this.get(i)),
                    this.get(a, {
                        loading: !0
                    }).then(function() {
                        a.init(),
                        s.init(n.data.organizationId, n.data.questionDepotId),
                        s.changed()
                    })) : ""
                },
                clearDepotId: function() {
                    var e = this.models.search
                      , n = this.models.setting
                      , a = this.models.questions;
                    t.assign(e.data, {
                        questionDepotId: null
                    }),
                    a.clear(),
                    n.init(e.data.organizationId, e.data.questionDepotId),
                    n.changed()
                },
                addTactic: function(e) {
                    var n = this.models.setting;
                    this.models.popupCurrent.set(n.getByTypeAndDifficulty(e.type, e.difficulty)),
                    this.models.popupCurrent.changed()
                },
                clearCurrent: function() {
                    this.models.popupCurrent.clear()
                },
                saveTactic: function(e) {
                    var n = this.models.search
                      , a = this.models.tactics
                      , t = this.models.setting
                      , i = this.models.popupCurrent;
                    return a.isExistedDepotByDifferentOrg(n.data, e) ? (this.app.message.error(r.get("exam.question.select-question.not-repeat-choose")),
                    !1) : (a.saveIt({
                        organizationId: n.data.organizationId,
                        questionDepotId: n.data.questionDepotId,
                        difficulty: e.difficulty,
                        type: e.type,
                        amount: e.amount,
                        score: e.score
                    }),
                    a.totalScore() > 1e3 ? (this.app.message.error(r.get("exam.question.select-question.not-gt-1000")),
                    a.removeIt(n.data.organizationId, n.data.questionDepotId, e.type, e.difficulty),
                    !1) : (i.clear(),
                    i.changed(),
                    t.saveIt(e),
                    t.changed(),
                    !0))
                },
                removeTactic: function(e) {
                    var n = this;
                    this.models.tactics.removeIt(e.organizationId, e.questionDepotId, e.type, e.difficulty),
                    this.models.setting.removeIt(e),
                    this.models.setting.changed(),
                    n.app.message.success(r.get("delete-success"))
                },
                saveAll: function() {
                    var e = this.models.tacticsForm
                      , n = this.models.tactics
                      , a = this.models.state
                      , i = this;
                    return n.data && 0 !== n.data.length ? n.totalScore() > 1e3 ? (this.app.message.error(r.get("exam.question.select-question.not-gt-1000")),
                    !1) : (t.assign(e.data, {
                        name: this.module.renderOptions.name,
                        totalScore: (100 * n.totalScore()).toFixed(0),
                        questionNum: n.totalAmount(),
                        examId: this.module.renderOptions.examId,
                        paperClassTactics: JSON.stringify(n.data)
                    }),
                    n.clear(),
                    this.save(e, {
                        loading: !0
                    }).then(function() {
                        i.app.message.success(r.get("exam.question.select-question.random-question-saved")),
                        i.module.renderOptions.callback(e.data.id || ""),
                        a.clear(),
                        n.clear()
                    })) : (this.app.message.error(r.get("exam.question.select-question.please-choose-questions")),
                    !1)
                }
            }
        },
        a.mixin = {
            nodeChanged: function(e) {
                var n = this.items.depot.getEntities()
                  , a = n && n[0]
                  , t = this;
                return a ? this.dispatch("clearDepotId").then(function() {
                    return t.dispatch("saveSearch", e).then(function() {
                        return a.refreshTree(e)
                    })
                }) : ""
            },
            clearTactic: function() {
                this.store.models.tactics.clear()
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.buttons = [{
            text: r.get("save"),
            fn: function() {
                return this.dispatch("saveAll")
            }
        }]
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/random-question/organization-tree/index": [function(e, n, a) {
        a.items = {
            tree: "tree"
        },
        a.store = {
            models: {
                organizationTree: {
                    url: "../system/organization/company-orgs"
                }
            },
            callbacks: {
                initPage: function(e) {
                    return this.get(this.models.organizationTree, {
                        data: {
                            uri: e,
                            rootId: this.module.renderOptions.organizationId,
                            depthLimit: 5,
                            supportMore: !1
                        }
                    })
                }
            }
        },
        a.afterRender = function() {
            var e = this.renderOptions.url || this.app.global.uri;
            return this.dispatch("initPage", e)
        }
    }
    , {}],
    "./app/exam/question/random-question/organization-tree/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="tree"></div>\n'
            },
            3: function(e, n, a, t, i) {
                return '<div id="tree"></div>'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "tree", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/random-question/organization-tree/view-tree": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("./app/util/helpers");
        a.components = [{
            id: "tree",
            name: "tree",
            options: {
                model: "organizationTree"
            }
        }],
        a.events = {
            "change tree": "nodeChanged"
        },
        a.bindings = {
            organizationTree: "updateTree"
        },
        a.updateTree = function() {
            this.components.tree.reset(this.bindings.organizationTree.data),
            t(this, this.components.tree.selectRoot())
        }
        ,
        a.handlers = {
            nodeChanged: function(e, n) {
                t(this, n)
            }
        },
        t = function(e, n) {
            var a = e.module.module
              , t = e.module.renderOptions.callback;
            a && a.nodeChanged && n && n.data ? a.nodeChanged(n) : t && "function" == typeof t && t({
                organizationId: n.id,
                organization: {
                    id: n.id,
                    name: n.text
                }
            })
        }
        ,
        a.dataForComponents = {
            tree: function() {
                var e = s.strings.get("tree.length.threshold") || 10;
                return i.map(this.bindings.organizationTree.data, function(n) {
                    var a = n;
                    return a.title = a.name,
                    a.name.length > e && (a.name = a.name.slice(0, e) + "..."),
                    a
                })
            }
        }
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/random-question/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="random-question-main-vertical col-sm-form">\n    <div class="random-question-main row m-top col-sm-left">\n        <div class="col-sm-2 col-p-right-0 side-tree-content"><div class="side-tree setting-amount">\n            <div data-region="organization"></div>\n        </div></div>\n        <div class="col-sm-2 col-p-right-0 side-tree-content"><div class="side-tree setting-amount">\n            <div data-region="depot"></div>\n        </div></div>\n        <div class="col-sm-8">\n            <div data-region="question-setting"></div>\n            <div data-region="setting-popup"></div>\n        </div>\n    </div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                return '    <div data-dynamic-key="organization"></div>\n'
            },
            5: function(e, n, a, t, i) {
                return '    <div data-dynamic-key="depot"></div>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '<form class="vertical">\n    <div class="list border around add-random-question-list add-random select">\n        <div class="total">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.question.random-question.total-num-score", null != (s = null != n ? n.summary : n) ? s.totalAmount : s, null != (s = null != n ? n.summary : n) ? s.totalScore : s, {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        <ul>\n            <li class="clearfix border border-top">\n                <div class="clearfix cont">' + (null != (s = a.each.call(r, null != n ? n.diffcults : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n            </li>\n" + (null != (s = a.each.call(r, null != n ? n.setting : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </ul>\n    </div>\n</form>"
            },
            8: function(e, n, a, t, i) {
                var s;
                return '\n                    <div class="select-question-item m-left">\n                        <div class="level m-bottom">\n                            <span>' + e.escapeExpression((s = null != (s = a.value || (null != n ? n.value : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "value",
                    hash: {},
                    data: i
                }) : s)) + "</span>\n                        </div>\n                    </div>\n                "
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {};
                return '                <li class="clearfix border border-top">\n                    <div class="com-title"><strong>' + e.escapeExpression((r = null != (r = a.title || (null != n ? n.title : n)) ? r : a.helperMissing,
                "function" == typeof r ? r.call(l, {
                    name: "title",
                    hash: {},
                    data: i
                }) : r)) + '</strong></div>\n                    <div class="clearfix cont">' + (null != (s = a.each.call(l, null != n ? n.diffcults : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n                </li>\n"
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '\n                        <div class="select-question-item">\n                            <div class="level m-bottom">\n                                \x3c!--  span > echo(title) --\x3e\n                                <span class="text-tips m-left">' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.random-question.total", null != n ? n.useableAmount : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span>\n                            </div>\n                            <div class="inline-block m-left">\n' + (null != (s = a.if.call(r, null != n ? n.show : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.usedAmount : n, "ge", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                            </div>\n                        </div>\n                    "
            },
            12: function(e, n, a, t, i) {
                var s;
                return '                                    <i class="pointer iconfont icon-add-full custom-color-4 p-right" id="add-' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></i>\n'
            },
            14: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing;
                return '                                    <span class="selected-question-bar">\n                                        ' + (null != (r = null != (r = a.selectText || (null != n ? n.selectText : n)) ? r : o,
                s = "function" == typeof r ? r.call(l, {
                    name: "selectText",
                    hash: {},
                    data: i
                }) : r) ? s : "") + "\n                                        \x3c!--  string('exam.question.random-question.choosed') --\x3e\n                                        \x3c!--  strong > echo(usedAmount) --\x3e\n                                        \x3c!--  string('exam.question.random-question.question-total') --\x3e\n                                        \x3c!--  strong > echo(totalScore) --\x3e\n                                        \x3c!--  string('score') --\x3e\n                                    </span>\n                                    <i class=\"pointer iconfont icon-delete-solid custom-color-3 p-left\" id=\"remove-" + e.escapeExpression((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"></i>\n'
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '    <div class="setting-popup" id="setting-popup">\n        <form class="vertical">\n            <label class="clearfix">\n                <div class="pull-left">' + o((a.string || n && n.string || l).call(r, "count", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="text-right text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.random-question.total", null != (s = null != n ? n.popupCurrent : n) ? s.useableAmount : s, {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </label>\n            <label class="clearfix">\n                <input class="input" id="popupAmount" name="amount" value="' + o(c(null != (s = null != (s = null != n ? n.popupCurrent : n) ? s.tactic : s) ? s.amount : s, n)) + '" x-rule="number,range:1:' + o(c(null != (s = null != n ? n.popupCurrent : n) ? s.useableAmount : s, n)) + ',keepDecimal:0"/>\n            </label>\n            <label class="clearfix"></label>\n            <label class="clearfix">\n                <div class="pull-left">' + o((a.string || n && n.string || l).call(r, "exam.question.random-question.every-question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="text-right text-tips"></div>\n            </label>\n            <label class="clearfix">\n                <input class="input" id="popupScore" name="score" value="' + o(c(null != (s = null != (s = null != n ? n.popupCurrent : n) ? s.tactic : s) ? s.score : s, n)) + '" x-rule="number,range:0:100,keepDecimal:1"/>\n                <input type="hidden" name="difficulty" value="' + o(c(null != (s = null != n ? n.popupCurrent : n) ? s.difficulty : s, n)) + '"/>\n                <input type="hidden" name="type" value="' + o(c(null != (s = null != n ? n.popupCurrent : n) ? s.type : s, n)) + '"/>\n            </label>\n            <label class="clearfix"></label>\n            <label><div class="text-right">\n                <div id="cancel" class="btn">' + o((a.string || n && n.string || l).call(r, "cancel", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="btn" id="save-tactic">' + o((a.string || n && n.string || l).call(r, "add-to", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            </div></label>\n        </form>\n    </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "organization", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "depot", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "question-setting", {
                    name: "view",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "setting-popup", {
                    name: "view",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/random-question/view-depot": [function(e, n, a) {
        arguments[4]["./app/exam/question/random-normal-question/view-depot"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/question/random-normal-question/view-depot"
    }],
    "./app/exam/question/random-question/view-organization": [function(e, n, a) {
        a.type = "dynamic",
        a.getEntity = function() {
            return ""
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/question/random-question/organization-tree"
        }
        ,
        a.dataForEntityModule = function() {
            var e = this;
            return {
                organizationId: this.module.renderOptions.organizationId,
                url: this.module.renderOptions.url || "exam/exam",
                callback: function(n) {
                    return e.module.nodeChanged(n)
                }
            }
        }
    }
    , {}],
    "./app/exam/question/random-question/view-question-setting": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/util/strings")
          , r = e("./app/util/maps");
        a.bindings = {
            setting: !0,
            tactics: !1
        },
        a.events = {
            "click add-*": "addTactic",
            "click remove-*": "removeTactic"
        },
        a.handlers = {
            addTactic: function(e) {
                var n = e.split("/");
                return this.module.dispatch("addTactic", {
                    organizationId: n[0],
                    questionDepotId: n[1],
                    type: n[2],
                    difficulty: n[3]
                })
            },
            removeTactic: function(e) {
                var n = e.split("/")
                  , a = this;
                this.app.message.confirm(s.get("exam.question.select-question.delete-data-confirm"), function() {
                    return a.module.dispatch("removeTactic", {
                        organizationId: n[0],
                        questionDepotId: n[1],
                        type: n[2],
                        difficulty: n[3]
                    })
                })
            }
        },
        a.dataForTemplate = {
            summary: function(e) {
                return e.tactics && e.tactics.length > 0 ? {
                    totalAmount: t.reduce(t.map(e.tactics, function(e) {
                        return e.amount && Number(e.amount) || 0
                    }), function(e, n) {
                        return e + n
                    }, 0),
                    totalScore: parseFloat((t.reduce(t.map(e.tactics, function(e) {
                        return e.score && Number(e.score) * e.amount || 0
                    }), function(e, n) {
                        return e + n
                    }, 0) / 100).toFixed(1))
                } : {
                    totalAmount: 0,
                    totalScore: 0
                }
            },
            setting: function(e) {
                return t.map(e.setting, function(e) {
                    return i.assign(e, {
                        diffcults: t.map(e.diffcults, function(e) {
                            return e.useableAmount || i.assign(e, {
                                useableAmount: 0
                            }),
                            i.assign(e, {
                                totalScore: parseFloat((e.totalScore / 100).toFixed(1)),
                                selectText: s.getWithParams("exam.question.random-question.choosed-description", [e.usedAmount, parseFloat((e.totalScore / 100).toFixed(1))])
                            })
                        })
                    })
                })
            },
            diffcults: function() {
                return r.get("question-difficultys-full")
            }
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/random-question/view-setting-popup": [function(e, n, a) {
        var t = e("jquery")
          , i = e("drizzlejs")
          , s = e("./app/util/strings");
        a.type = "form",
        a.bindings = {
            popupCurrent: !0
        },
        a.events = {
            "click cancel": "cancel"
        },
        a.handlers = {
            cancel: function() {
                return t(this.$("setting-popup")).removeClass("show"),
                this.module.dispatch("clearCurrent")
            }
        },
        a.actions = {
            "click save-tactic": "saveTactic"
        },
        a.dataForActions = {
            saveTactic: function(e) {
                return t(this.$("popupAmount")).val() ? t(this.$("popupScore")).val() && Number(t(this.$("popupScore")).val()) ? !!this.validate() && i.assign(e, {
                    score: (100 * e.score).toFixed(0)
                }) : (this.app.message.error(s.get("exam.question.select-question.question-score-required")),
                !1) : (this.app.message.error(s.get("exam.question.select-question.question-count-required")),
                !1)
            }
        },
        a.actionCallbacks = {
            saveTactic: function() {
                this.app.message.success(s.get("operation-success")),
                t(this.$("setting-popup")).removeClass("show")
            }
        },
        a.dataForTemplate = {
            popupCurrent: function(e) {
                var n = e.popupCurrent;
                return n.tactic ? i.assign(n, {
                    tactic: i.assign(n.tactic, {
                        score: parseFloat((n.tactic.score / 100).toFixed(1))
                    })
                }) : n
            }
        },
        a.afterRender = function() {
            this.bindings.popupCurrent.data.title && t(this.$("setting-popup")).addClass("show")
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/question/select-question/index": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("drizzlejs"), r = e("./app/util/strings");
        a.title = r.get("exam.question.select-question.select-question"),
        a.large = "true",
        a.items = {
            "search-param": "search-param",
            questions: "questions"
        },
        a.buttons = [{
            text: r.get("exam.research-questionary.select-research-questionary.choose")
        }],
        a.store = {
            models: {
                questions: {
                    url: "../exam/question/front-find",
                    root: "items",
                    type: "pageable",
                    mixin: {
                        getQuestionById: function(e) {
                            return i.find(this.data, ["id", e])
                        }
                    }
                },
                state: {
                    data: {}
                },
                orgs: {
                    url: "../system/grant/granted-organization",
                    cache: !1
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.orgs
                      , a = this;
                    return this.models.questions.clear(),
                    s.assign(n.params, {
                        uri: this.module.renderOptions.url || "exam/exam",
                        share: 1
                    }),
                    this.get(n).then(function() {
                        return a.module.dispatch("searchQuestion", e)
                    })
                },
                searchQuestion: function(e) {
                    return s.assign(this.models.state.data, {
                        checkAll: !1
                    }),
                    this.models.questions.clear(),
                    this.models.questions.params = {},
                    s.assign(this.models.questions.params, e, {
                        status: 1,
                        organizationId: e.organizationId || this.module.renderOptions.organizationId,
                        url: this.module.renderOptions.url || "exam/exam",
                        share: 1,
                        depttype: t
                    }),
                    this.get(this.models.questions, {
                        loading: !0
                    })
                },
                refresh: function() {
                    this.models.questions.changed()
                },
                updateReadingQuestion: function(e) {
                    i.forEach(this.models.questions.data, function(n) {
                        n.id === e.id && s.assign(n, e)
                    })
                },
                refreshChecked: function() {
                    this.models.state.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("searchQuestion", {
                type: null
            })
        }
        ,
        t = function() {
            var e = this.app.global.uri;
            return "exam/exam" === e ? 1 : e.indexOf("exam") < 0 ? 1 : 2
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/select-question/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="random-question-main-vertical">\n    <div data-region="search-param"></div>\n    <div class="col-sm-form col-sm-form-padding" data-region="questions"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '<form class="vertical">\n    \x3c!-- .row > .col-sm-12.text-right > label > .btn#selectQuestions > string(\'exam.buttons.select\') --\x3e\n    <div class="row col-sm-left"><div class="col-sm-12">\n        <label>' + o((a.string || n && n.string || l).call(r, "exam.question.describe", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n        <input id="content" class="input" name="content"/>\n    </div></div>\n    <div class="row col-sm-left">\n        <div class="col-sm-6 col-p-right-0">\n            <label>' + o((a.string || n && n.string || l).call(r, "exam.all.organization", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <div id="owner"></div>\n        </div>\n        <div class="col-sm-6 col-p-right-0">\n            <label>' + o((a.string || n && n.string || l).call(r, "exam.all.catalog", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <div id="question-depot"></div>\n        </div>\n    </div>\n    <div class="row col-sm-left">\n        <div class="col-sm-6 col-p-right-0">\n            <label>' + o((a.string || n && n.string || l).call(r, "exam.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <select id="type" class="input" name="type">\n' + (null != (s = a.each.call(r, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            </select>\n        </div>\n        <div class="col-sm-6 col-p-right-0">\n            <label>' + o((a.string || n && n.string || l).call(r, "exam.question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <select id="level" class="input" name="difficulty" x-marker="selectize">\n' + (null != (s = a.each.call(r, null != n ? n.difficultys : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            </select>\n        </div>\n    </div>\n    <div class="row col-sm-left"><div class="col-sm-12 text-center"><label><div id="searchQuestion" class="btn large"><div class="inline-block">' + o((a.string || n && n.string || l).call(r, "search", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div></label></div></div>\n</form>"
            },
            4: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "                    <option " + (null != (s = a.if.call(l, null != n ? n.selected : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="' + c((r = null != (r = a.key || (null != n ? n.key : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "key",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.value || (null != n ? n.value : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "value",
                    hash: {},
                    data: i
                }) : r)) + "</option>\n"
            },
            5: function(e, n, a, t, i) {
                return ' selected="selected"'
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="row col-sm-left">\n        <div class="col-sm-12">\n            <div class="checkbox no-margin">\n                <input ' + (null != (s = a.if.call(r, null != n ? n.checkAll : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" id="check-all" value="all"/>\n                <label for="check-all"></label>\n            </div>\n            <div class="inline-block">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.question.select-question.all-selected", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n        </div>\n    </div>\n    <hr/>\n" + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '    <div id="pager" class="pagination"></div>\n'
            },
            8: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '        <div class="row col-sm-left Select-item"><div class="col-sm-12 clearfix">\n            <div class="pull-left">\n                <div class="checkbox com-title">\n                    <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" name="selectBox" id="select-' + c((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                    <label for="select-' + c((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                </div>\n            </div>\n            <div class="col-sm-11">\n                <div data-dynamic-key="' + c((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"></div>\n            </div>\n        </div></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "search-param", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "questions", {
                    name: "view",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/select-question/view-questions": [function(e, n, a) {
        var t = e("./app/exam/exam-question-types")
          , i = e("lodash/collection")
          , s = e("drizzlejs");
        a.type = "dynamic",
        a.bindings = {
            questions: !0,
            state: !0
        },
        a.events = {
            "click select-*": "selectQuestion",
            "click check-all": "checkAll"
        },
        a.handlers = {
            selectQuestion: function(e, n) {
                var a = this.bindings.questions.getQuestionById(e)
                  , t = this
                  , i = this.module.renderOptions.callback.addQuestionClass
                  , r = this.module.renderOptions.callback.removeQuestionClass;
                n.target.checked ? i(s.assign(a, {
                    isFromSelected: 1
                }), function() {
                    return t.module.dispatch("refreshChecked")
                }) : r(a.id)
            },
            checkAll: function(e, n) {
                var a = this.bindings.questions.data
                  , t = this.bindings.state
                  , r = this.$$('[name="selectBox"]')
                  , l = this.$("check-all")
                  , o = this
                  , c = this.module.renderOptions.callback.addQuestionClasses
                  , u = this.module.renderOptions.callback.removeQuestionClasses;
                n.checked ? (t.data.checkAll = !0,
                c(i.map(a, function(e) {
                    return s.assign(e, {
                        isFromSelected: 1
                    })
                }), function() {
                    return o.module.dispatch("refreshChecked")
                })) : (t.data.checkAll = !1,
                u(a)),
                l.checked = n.checked,
                i.forEach(r, function(e) {
                    s.assign(e, {
                        checked: n.checked
                    })
                })
            }
        },
        a.afterRender = function() {
            this.$("check-all").checked = !1
        }
        ,
        a.dataForTemplate = {
            questions: function(e) {
                var n, a = this.module.renderOptions.callback, t = {}, s = a.getQuestionIds();
                return s = a.getQuestionIds(),
                s && i.forEach(s, function(e) {
                    t[e] = e
                }),
                n = i.map(e.questions, function(e, n) {
                    var a = e;
                    return t[a.id] && (a.checked = !0),
                    a.i = n + 1,
                    a
                }),
                e.questions && e.questions.length > 0 && (this.bindings.state.data.checkAll = i.every(e.questions, function(e) {
                    return e.checked
                })),
                n
            },
            checkAll: function(e) {
                return e.state.checkAll
            }
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.questions.getQuestionById(e)
              , a = s.assign({}, n)
              , t = i.map(a.subs, function(e) {
                var n = s.assign({}, e);
                return s.assign(n, {
                    score: n.score / 100
                })
            });
            return s.assign({}, n, {
                subs: i.map(t, function(e) {
                    return s.assign(e, {
                        questionAttrs: i.orderBy(e.questionAttrs, ["name", "asc"])
                    })
                }),
                score: n.score / 100,
                questionAttrs: i.orderBy(n.questionAttrs, ["name", "asc"])
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return t.get(n.type, 2)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                type: e.type,
                data: e,
                multiple: 2 === e.type,
                previewMode: 1,
                setReading: function(e) {
                    return 6 === e.type ? n.module.dispatch("updateReadingQuestion", e) : ""
                }
            }
        }
        ,
        a.components = [{
            id: "pager",
            name: "pager",
            options: {
                model: "questions"
            }
        }]
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/select-question/view-search-param": [function(e, n, a) {
        var t, i = e("./app/util/maps"), s = e("drizzlejs"), r = e("jquery"), l = e("lodash/collection"), o = e("./app/util/strings");
        a.bindings = {
            questions: !1
        },
        a.events = {
            "keypress content": "enterSearch"
        },
        a.handlers = {
            enterSearch: function(e) {
                var n, a = this.module.items["search-param"], t = a._getElement(), i = t.querySelector("form"), o = {};
                13 === e.keyCode && (l.map(r(i).serializeArray(), function(e) {
                    o[e.name] = r.trim(e.value)
                }),
                n = function(e) {
                    return "999" === e.type && s.assign(e, {
                        type: null
                    }),
                    "999" === e.difficulty && s.assign(e, {
                        difficulty: null
                    }),
                    e
                }
                ,
                o.depotPath = o.path || "",
                this.module.dispatch("searchQuestion", this.validate() ? n(o) : o))
            }
        },
        a.type = "form",
        a.actions = {
            "click searchQuestion": "searchQuestion"
        },
        a.dataForActions = {
            searchQuestion: function(e) {
                var n = this.components["question-depot"].getData() || {};
                return s.assign(e, {
                    depotPath: n.path || ""
                }),
                !!this.validate() && function(e) {
                    return "999" === e.type && s.assign(e, {
                        type: null
                    }),
                    "999" === e.difficulty && s.assign(e, {
                        difficulty: null
                    }),
                    e
                }(e)
            }
        },
        a.components = [{
            id: "type",
            name: "selectize"
        }, {
            id: "level",
            name: "selectize"
        }, function() {
            var e = this;
            return {
                id: "question-depot",
                name: "picker",
                options: {
                    picker: "question-depot",
                    required: !1,
                    inputName: "questionDepotId",
                    params: {
                        operatorType: this.app.global.EDIT,
                        state: 1,
                        share: !1,
                        depotShare: 1
                    },
                    data: {},
                    canShowModal: function() {
                        return e.components.owner.getValue()
                    },
                    errorMsg: o.get("exam.question.select-question.department-first")
                }
            }
        }
        , function() {
            var e = this;
            return {
                id: "owner",
                name: "picker",
                options: {
                    module: this.module.renderOptions.url || "exam/exam",
                    picker: "owner-admin",
                    required: !1,
                    autoFill: !1,
                    params: {
                        organizationId: this.module.renderOptions.organizationId
                    },
                    selectChanged: function(n) {
                        return e.components["question-depot"].reset({
                            operatorType: e.app.global.EDIT,
                            state: 1,
                            organizationId: n.id,
                            share: !0,
                            autoFill: !0,
                            type: t,
                            depotShare: 1
                        })
                    }
                }
            }
        }
        ],
        a.dataForTemplate = {
            types: function() {
                var e = i.get("question-types");
                return e.unshift({
                    key: "999",
                    value: o.get("operation.select.type.all")
                }),
                e
            },
            difficultys: function() {
                var e = i.get("question-difficultys");
                return e.unshift({
                    key: "999",
                    value: o.get("operation.select.type.all")
                }),
                e
            }
        },
        t = function() {
            var e = this.app.global.uri;
            return "exam/exam" === e ? 1 : e.indexOf("exam") < 0 ? 1 : 2
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/senior-editor/index": [function(e, n, a) {
        a.items = {
            main: "main",
            modal: ""
        },
        a.store = {
            models: {
                img: {
                    url: "../system/file/upload"
                },
                state: {
                    data: {}
                }
            }
        },
        a.beforeRender = function() {
            this.store.models.state.set(this.renderOptions.data)
        }
    }
    , {}],
    "./app/exam/question/senior-editor/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <span data-region="main"></span>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '    <a class="m-right list-option" id="rich-text-' + r(e.lambda(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "senior-editor", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            5: function(e, n, a, t, i) {
                return '    <div id="rich-text"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "modal", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/senior-editor/view-main": [function(e, n, a) {
        a.events = {
            "click rich-text-*": "showRichText"
        },
        a.bindings = {
            state: !0
        },
        a.handlers = {
            showRichText: function() {
                this.app.viewport.modal(this.module.items.modal)
            }
        }
    }
    , {}],
    "./app/exam/question/senior-editor/view-modal": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.title = t.get("senior-editor"),
        a.buttons = [{
            text: t.get("ok"),
            fn: function() {
                var e = this.module.renderOptions.data.id;
                this.module.renderOptions.callback(e, this.components["rich-text"].html(), this.components["rich-text"].getText())
            }
        }],
        a.bindings = {
            img: !0,
            state: !0
        },
        a.components = [{
            id: "rich-text",
            name: "rich-text",
            options: {
                model: "img",
                height: "400px"
            }
        }],
        a.afterRender = function() {
            var e = this.module.renderOptions
              , n = e.data.value || e.getValue();
            this.components["rich-text"].html(n)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/question/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="content"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '    <div class="buttons">\n        <isGrant ' + l(r((s = (s = i && i.root) && s.Global) && s.EDIT, n)) + '="' + l(r((s = (s = i && i.root) && s.Global) && s.EDIT, n)) + '" false="false">\n            <div id="add-question" class="btn"><i class="icon-plus"></i><span>' + l((a.string || n && n.string || c).call(o, "add", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n            <div id="publish-question" class="btn"><i class="icon-plus"></i><span>' + l((a.string || n && n.string || c).call(o, "publish", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n            <div id="cancel-question" class="btn"><i class="icon-plus"></i><span>' + l((a.string || n && n.string || c).call(o, "revoke", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span></div>\n            <div id="import" class="btn"><span>' + l((a.string || n && n.string || c).call(o, "import-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span></div>\n        </isGrant>\n        <isGrant " + l(r((s = (s = i && i.root) && s.Global) && s.OTHER, n)) + '="' + l(r((s = (s = i && i.root) && s.Global) && s.OTHER, n)) + '" false="false">\n            \x3c!--  a(href=exportQuestionUrl) > .btn > span 导出 --\x3e\n        </isGrant>\n    </div>\n    <div class="list">\n        <table class="table">\n            <thead><tr>\n                <th width="20px"><div class="checkbox no-margin">\n                    <input ' + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.checkAll : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" id="check-all"/>\n                    <label for="check-all"></label>\n                </div></th>\n                <th width="200px">' + l((a.string || n && n.string || c).call(o, "exam.question.content", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "system.all.organization", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "exam.all.catalog", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "exam.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "exam.question.error-rate", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "exam.question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "exam.question.status", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "system.all.create-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + l((a.string || n && n.string || c).call(o, "system.all.operator", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <tbody>" + (null != (s = a.each.call(o, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</tbody>\n            </tr></thead>\n        </table>\n" + (null != (s = a.if.call(o, null != n ? n.showEmpty : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '    </div>\n    <div id="pager" class="pagination"></div>\n'
            },
            4: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression, d = e.lambda;
                return '\n                    <tr>\n                        <td><div class="checkbox no-margin">\n                            <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" id="check-' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" name="questionId" value="' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                            <label for="check-' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                        </div></td>\n                        <td class="img"><div class="td-content"><a id="question-' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a></div></td>\n                        <td>" + u(d(null != (s = null != n ? n.organization : n) ? s.name : s, n)) + "</td>\n                        <td>" + u(d(null != (s = null != n ? n.questionDepot : n) ? s.name : s, n)) + "</td>\n                        <td>" + u((a.map || n && n.map || o).call(l, "question-types", null != n ? n.type : n, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "</td>\n                        <td>" + u((r = null != (r = a.errorRate || (null != n ? n.errorRate : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "errorRate",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                        <td>" + u((a.map || n && n.map || o).call(l, "question-difficultys", null != n ? n.difficulty : n, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "</td>\n                        <td>" + u((a.map || n && n.map || o).call(l, "publish-status", null != n ? n.status : n, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "</td>\n                        <td>" + u((a.dateTime || n && n.dateTime || o).call(l, null != n ? n.createTime : n, {
                    name: "dateTime",
                    hash: {},
                    data: i
                })) + '</td>\n                        <td class="operation">\n' + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.status : n, "eq", 0, {
                    name: "compare",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.status : n, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                        </td>\n                    </tr>\n                    \x3c!--  else --\x3e\n                    \x3c!--      tr.nothing-content > td(colspan='10') --\x3e\n                "
            },
            7: function(e, n, a, t, i) {
                var s, r, l = e.lambda, o = e.escapeExpression, c = null != n ? n : {}, u = a.helperMissing, d = "function";
                return "                                <isGrant " + o(l((s = (s = i && i.root) && s.Global) && s.EDIT, n)) + '="' + o(l((s = (s = i && i.root) && s.Global) && s.EDIT, n)) + '" false="false">\n                                    <a id="publish-question-' + o((r = null != (r = a.id || (null != n ? n.id : n)) ? r : u,
                typeof r === d ? r.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="id" data-value="' + o((r = null != (r = a.id || (null != n ? n.id : n)) ? r : u,
                typeof r === d ? r.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + o((a.string || n && n.string || u).call(c, "publish", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                                     | \n                                </isGrant>\n                                <isGrant " + o(l((s = (s = i && i.root) && s.Global) && s.EDIT, n)) + '="' + o(l((s = (s = i && i.root) && s.Global) && s.EDIT, n)) + '" ' + o(l(null != (s = null != n ? n.organization : n) ? s.id : s, n)) + '="' + o(l(null != (s = null != n ? n.organization : n) ? s.id : s, n)) + '">\n                                    <a id="edit-question-' + o((r = null != (r = a.id || (null != n ? n.id : n)) ? r : u,
                typeof r === d ? r.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="id" data-value="' + o((r = null != (r = a.id || (null != n ? n.id : n)) ? r : u,
                typeof r === d ? r.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + o((a.string || n && n.string || u).call(c, "update", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                                     | \n                                </isGrant>\n                                <isGrant " + o(l((s = (s = i && i.root) && s.Global) && s.REMOVE, n)) + '="' + o(l((s = (s = i && i.root) && s.Global) && s.REMOVE, n)) + '" ' + o(l(null != (s = null != n ? n.organization : n) ? s.id : s, n)) + '="' + o(l(null != (s = null != n ? n.organization : n) ? s.id : s, n)) + '">\n                                    <a id="delete-question-' + o((r = null != (r = a.id || (null != n ? n.id : n)) ? r : u,
                typeof r === d ? r.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="id" data-value="' + o((r = null != (r = a.id || (null != n ? n.id : n)) ? r : u,
                typeof r === d ? r.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + o((a.string || n && n.string || u).call(c, "remove", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                                </isGrant>\n"
            },
            9: function(e, n, a, t, i) {
                var s, r, l = e.lambda, o = e.escapeExpression, c = null != n ? n : {}, u = a.helperMissing;
                return "                                <isGrant " + o(l((s = (s = i && i.root) && s.Global) && s.EDIT, n)) + '="' + o(l((s = (s = i && i.root) && s.Global) && s.EDIT, n)) + '" ' + o(l(null != (s = null != n ? n.organization : n) ? s.id : s, n)) + '="' + o(l(null != (s = null != n ? n.organization : n) ? s.id : s, n)) + '">\n                                    <a id="undo-question-' + o((r = null != (r = a.id || (null != n ? n.id : n)) ? r : u,
                "function" == typeof r ? r.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="id" data-value="' + o((r = null != (r = a.id || (null != n ? n.id : n)) ? r : u,
                "function" == typeof r ? r.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + o((a.string || n && n.string || u).call(c, "undo", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                                </isGrant>\n"
            },
            11: function(e, n, a, t, i) {
                return '            <div class="content-empty">\n                <div class="img img-type-1"></div>\n                <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n            </div>\n"
            },
            13: function(e, n, a, t, i) {
                var s;
                return '    <div data-dynamic-key="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "preview", {
                    name: "view",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/types/answer/choise/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("drizzlejs")
          , s = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        getOption: function(e) {
                            return this.data.options[e]
                        }
                    }
                },
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a, r = this.models.state.data = {
                        options: [],
                        title: s.get("exam.research-activity.question.single-answer-question"),
                        answer: "",
                        mutiple: !1,
                        gainScore: 0,
                        errorRate: 0
                    }, l = e.data, o = t.get("question-types");
                    if (l) {
                        for (i.assign(r, l),
                        a = l.questionAttrs,
                        n = 0; n < a.length; n++)
                            r.options.push({
                                content: a[n].value,
                                isAnswer: 0 === Number(a[n].type),
                                isRichText: !1,
                                mutiple: 2 === l.type,
                                id: a[n].id,
                                name: a[n].name
                            }),
                            0 === Number(a[n].type) && (r.answer += String.fromCharCode(n + "A".charCodeAt(0)));
                        r.type = o[Number(l.type) - 1].value,
                        2 === Number(l.type) && (r.title = s.get("exam.research-activity.question.mutiple-answer-question")),
                        l.answerRecord && (r.gainScore = l.answerRecord.score)
                    }
                    r.detailMode = e.mode,
                    this.models.answer.init(e.answer),
                    this.models.state.changed()
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/question/types/answer/choise/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <a class="inline-block" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.index : s, n)) + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '<div class="answer">\n    <dl>' + (null != (s = a.each.call(r, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</dl>\n" + (null != (s = a.if.call(r, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>"
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <dd id="item-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n' + (null != (s = a.if.call(l, null != n ? n.mutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(12, i, 0),
                    data: i
                })) ? s : "") + '            <label class="no-margin" for="answer-item-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <div class="answer-options inline-block"><div class="option-num">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.code : n, ".", {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</div></div>\n                <div class="answer-content">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n            </label>\n        </dd>\n    "
            },
            7: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="checkbox">\n                    <input ' + (null != (s = a.if.call(l, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + " " + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" id="check-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                    <label for="check-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                </div>\n'
            },
            8: function(e, n, a, t, i) {
                return ' disabled="disabled"'
            },
            10: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            12: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="radio">\n                    <input ' + (null != (s = a.if.call(l, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + " " + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="value-' + c((r = null != (r = a.questionId || (null != n ? n.questionId : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "questionId",
                    hash: {},
                    data: i
                }) : r)) + '" id="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                    <label class="radio-label" for="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                </div>\n'
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n                    ' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.state : n) ? s.answer : s, n)) + '\n                </div></div>\n                <div class="text-right">\n                    <span>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.state : n) ? s.gainScore : s, n)) + '</span>\n                    <span class="m-left">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.wrong-rate", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.state : n) ? s.errorRate : s, n)) + "%</span>\n                </div>\n            </div>\n        </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/types/answer/choise/view-content": [function(e, n, a) {
        var t = e("drizzlejs");
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            state: function(e) {
                var n = this.module.renderOptions.indexType
                  , a = e.state;
                return n && 1 === n ? t.assign(a, {
                    index: String.fromCharCode(9263 + (a.index + "").charCodeAt(0)) + "【" + a.type + "】"
                }) : t.assign(a, {
                    index: a.index + "、"
                })
            }
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/question/types/answer/choise/view-options": [function(e, n, a) {
        var t = e("lodash/collection");
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.dataForTemplate = {
            options: function() {
                var e = this.bindings.answer.data
                  , n = this.bindings.state.data
                  , a = this;
                return t.map(this.bindings.state.data.options, function(i, s) {
                    var r = i;
                    r.index = s,
                    r.code = String.fromCharCode(r.index + "A".charCodeAt(0)),
                    r.questionId = a.bindings.state.data.id,
                    r.isDisabled = n.detailMode > 0,
                    t.find(e.value, ["id", r.id]) && (r.checked = !0)
                }),
                this.bindings.state.data.options
            },
            isShowDetail: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0 && e < 4
            }
        },
        a.events = {
            "click check-*": "check",
            "click radio-*": "radio"
        },
        a.handlers = {
            check: function(e) {
                var n, a = this.bindings.answer.data, i = this.bindings.state.getOption(e);
                return this.$("check-" + e).checked ? (a.key = this.bindings.state.data.id,
                a.value.push({
                    id: i.id,
                    value: i.name
                })) : (n = t.reject(a.value, ["id", i.id]),
                this.bindings.answer.data = {
                    key: this.bindings.state.data.id,
                    value: n
                }),
                this.module.dispatch("save")
            },
            radio: function(e) {
                var n, a = this.bindings.answer.data, i = this.bindings.state.getOption(e);
                return this.$("radio-" + e).checked ? (a.key = this.bindings.state.data.id,
                a.value = [{
                    id: i.id,
                    value: i.name
                }]) : (n = t.reject(a.value, ["id", i.id]),
                this.bindings.answer.data = n),
                this.module.dispatch("save")
            }
        },
        a.beforeRender = function() {
            var e = this.bindings.state.data;
            1 === e.detailMode && (e.isShowAnswer = !0,
            e.isShowGainScore = !0),
            2 === e.detailMode ? (e.isShowAnswer = !1,
            e.isShowGainScore = !0) : 3 === e.detailMode && (e.isShowAnswer = !1,
            e.isShowGainScore = !0,
            this.bindings.answer.data = {})
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/types/answer/judgement/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("drizzlejs");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {
                    data: {}
                },
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data = {
                        gainScore: 0,
                        errorRate: 0
                    }
                      , s = t.get("judgement")
                      , r = t.get("question-types");
                    i.assign(a, n),
                    a.answer = s[Number(n.questionAttrs[0].value)].value,
                    a.type = r[Number(n.type) - 1].value,
                    n.answerRecord && (a.gainScore = n.answerRecord.score),
                    a.detailMode = e.mode,
                    this.models.answer.init(e.answer)
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/question/types/answer/judgement/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <a class="inline-block" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.index : s, n)) + "、" + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '<div class="answer clearfix m-top">\n    <div class="p-left">\n' + (null != (s = a.if.call(r, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + "    </div>\n" + (null != (s = a.if.call(r, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '            <div class="radio">\n                <input ' + (null != (s = a.if.call(r, null != n ? n.isCorrect : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="value-' + o(l(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '" value="1" id="check-0" disabled="disabled"/>\n                <label for="check-0"></label>\n            </div>\n            <div class="inline-block m-right">' + o((a.string || n && n.string || c).call(r, "right", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            <div class="radio m-left">\n                <input ' + (null != (s = a.if.call(r, null != n ? n.isError : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="value-' + o(l(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '" value="0" id="check-1" disabled="disabled"/>\n                <label for="check-1"></label>\n            </div>\n            <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "wrong", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            7: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '            <div class="radio">\n                <input ' + (null != (s = a.if.call(r, null != n ? n.isCorrect : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="value-' + o(l(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '" value="1" id="check-0"/>\n                <label for="check-0"></label>\n            </div>\n            <div class="inline-block m-right">' + o((a.string || n && n.string || c).call(r, "right", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            <div class="radio m-left">\n                <input ' + (null != (s = a.if.call(r, null != n ? n.isError : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="value-' + o(l(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '" value="0" id="check-1"/>\n                <label for="check-1"></label>\n            </div>\n            <div class="inline-block">' + o((a.string || n && n.string || c).call(r, "wrong", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '        <div class="m-top show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n                    ' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.state : n) ? s.answer : s, n)) + '\n                </div></div>\n                <div class="text-right">\n                    <span>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.state : n) ? s.gainScore : s, n)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.wrong-rate", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.state : n) ? s.errorRate : s, n)) + "%</span>\n                </div>\n            </div>\n        </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/types/answer/judgement/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/question/types/answer/judgement/view-options": [function(e, n, a) {
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.dataForTemplate = {
            isCorrect: function() {
                var e = this.bindings.answer.data;
                return e.value.length > 0 && 1 === Number(e.value[0].value)
            },
            isError: function() {
                var e = this.bindings.answer.data;
                return e.value.length > 0 && 0 === Number(e.value[0].value)
            },
            isShowDetail: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0 && e < 4
            },
            isDisabled: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0
            }
        },
        a.events = {
            "click check-*": "check"
        },
        a.handlers = {
            check: function(e) {
                return this.bindings.answer.set({
                    key: this.bindings.state.data.id,
                    value: [{
                        id: this.$("check-" + e).value,
                        value: this.$("check-" + e).value
                    }]
                }),
                this.module.dispatch("save")
            }
        },
        a.beforeRender = function() {
            var e = this.bindings.state.data;
            1 === e.detailMode && (e.isShowAnswer = !0,
            e.isShowGainScore = !0),
            2 === e.detailMode ? (e.isShowAnswer = !1,
            e.isShowGainScore = !0) : 3 === e.detailMode && (e.isShowAnswer = !1,
            e.isShowGainScore = !0,
            this.bindings.answer.data = {})
        }
    }
    , {}],
    "./app/exam/question/types/answer/line/index": [function(e, n, a) {
        var t = e("./app/util/maps");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {
                    data: {}
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a = e.data, i = a.questionAttrs, s = t.get("question-types"), r = t.get("question-difficultys"), l = this.models.state.data = {
                        answer: ""
                    }, o = [], c = [], u = 0;
                    for (l.content = a.content,
                    l.score = a.score,
                    l.type = s[Number(a.type) - 1].value,
                    l.difficulty = r[Number(a.difficulty) - 1].value,
                    u; u < i.length; u++)
                        n = String.fromCharCode(u + "A".charCodeAt(0)),
                        o.push({
                            content: i[u].name,
                            i: u,
                            code: n
                        }),
                        c.push({
                            content: i[u].value,
                            i: u,
                            code: n
                        }),
                        l.answer += i[u].name + "-" + i[u].value;
                    l.items = o,
                    l.matchs = c,
                    this.models.state.changed()
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps"
    }],
    "./app/exam/question/types/answer/line/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="row">\n        <div class="col-xs-6"><div class="com-title">' + o((a.string || n && n.string || l).call(r, "exam.question.types.matching", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></div>\n        <div class="col-xs-6"><div class="m-top text-right">\n            ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.preview-questionary.questionary-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '\n        </div></div>\n    </div>\n    <p class="question">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</p>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '<div class="answer line">\n    <div class="row">\n        <div class="col-sm-6"><ul>' + (null != (s = a.each.call(r, null != (s = null != n ? n.state : n) ? s.items : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        </ul></div>\n        <div class="col-sm-6"><ul>' + (null != (s = a.each.call(r, null != (s = null != n ? n.state : n) ? s.matchs : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        </ul></div>\n    </div>\n    <div class="clearfix">\n        <div class="pull-right m-bottom">\n            <div class="inline-block">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n                <span>" + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</span>\n            </div>\n            <div class="inline-block m-left">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.state : n) ? s.type : s, n)) + '</span>\n            </div>\n            <div class="inline-block m-left">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.state : n) ? s.score : s, n)) + '</span>\n            </div>\n            <div class="inline-block m-left">\n                <span class="text-tips">' + o((a.string || n && n.string || l).call(r, "exam.question.select-question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "：</span>\n                <span>" + o(c(null != (s = null != n ? n.state : n) ? s.difficulty : s, n)) + "</span>\n            </div>\n        </div>\n    </div>\n</div>"
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing;
                return '\n            <li>\n                <div class="inline-block"><label class="no-margin" for="answer-item-' + e.escapeExpression((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + '">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.code : n, ".", null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</label></div>\n            </li>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/types/answer/line/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/question/types/answer/line/view-options": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/question/types/answer/question-answer/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("drizzlejs");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {},
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data = {
                        gainScore: 5 === e.examRecordStatus ? "-" : 0,
                        errorRate: 0
                    }
                      , s = t.get("question-types");
                    i.assign(a, n),
                    a.answer = n.questionAttrs[0].value,
                    a.type = s[Number(n.type) - 1].value,
                    n.answerRecord && null !== n.answerRecord.score ? a.gainScore = n.answerRecord.score : n.answerRecord || (a.gainScore = 0),
                    a.detailMode = e.mode,
                    this.models.answer.init(e.answer)
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/question/types/answer/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <a class="inline-block" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.index : s, n)) + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '<div class="answer"><form class="vertical">\n' + (null != (s = a.if.call(r, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(8, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</form>\n</div>"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '        <div class="input textarea" id="answer" name="value" rows="5" placeholder="' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.input-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" disabled="disabled">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != n ? n.answer : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '        <textarea class="input" id="answer" name="value" rows="5" placeholder="' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.question.types.input-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != n ? n.answer : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</textarea>\n"
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n                    ' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '\n                </div></div>\n                <div class="text-right">\n                    <span>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(e.lambda(null != (s = null != n ? n.state : n) ? s.gainScore : s, n)) + "</span>\n                </div>\n            </div>\n        </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/types/answer/question-answer/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/question/types/answer/choise/view-content"][0].apply(a, arguments)
    }
    , {
        drizzlejs: "drizzlejs",
        dup: "./app/exam/question/types/answer/choise/view-content"
    }],
    "./app/exam/question/types/answer/question-answer/view-options": [function(e, n, a) {
        var t = e("jquery");
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.events = {
            "change answer": "changeAnswer"
        },
        a.handlers = {
            changeAnswer: function() {
                return this.bindings.answer.set({
                    key: this.bindings.state.data.id,
                    value: [{
                        id: this.bindings.state.data.id,
                        value: t(this.$("answer")).val().trim()
                    }]
                }),
                this.module.dispatch("save")
            }
        },
        a.dataForTemplate = {
            answer: function() {
                var e = this.bindings.answer;
                return e.data.value.length > 0 ? e.data.value[0].value : ""
            },
            isShowDetail: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0 && e < 4
            },
            isDisabled: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0
            }
        },
        a.beforeRender = function() {
            var e = this.bindings.state.data;
            1 === e.detailMode && (e.isShowAnswer = !0,
            e.isShowGainScore = !0),
            2 === e.detailMode ? (e.isShowAnswer = !1,
            e.isShowGainScore = !0) : 3 === e.detailMode && (e.isShowAnswer = !1,
            e.isShowGainScore = !0,
            this.bindings.answer.data = {})
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/question/types/answer/reading-comprehension/index": [function(e, n, a) {
        var t, i = e("./app/util/maps"), s = e("lodash/collection"), r = e("drizzlejs");
        a.items = {
            content: "content",
            subs: "subs"
        },
        a.store = {
            models: {
                state: {},
                sub: {
                    data: {},
                    mixin: {
                        getQuestionById: function(e) {
                            return s.find(this.data.questions, ["id", e])
                        }
                    }
                },
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: this.store.models.state.data.id,
                                type: 6,
                                value: []
                            }
                        },
                        save: function(e) {
                            var n, a = this.data.value;
                            n = s.reject(a, ["key", e.key]),
                            n.push(e),
                            this.data.value = n
                        },
                        getAnswer: function(e) {
                            var n = this.data.value;
                            return s.find(n, ["key", e])
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data
                      , s = i.get("question-types");
                    r.assign(a, n),
                    a.type = s[Number(n.type) - 1].value,
                    a.mode = e.mode,
                    this.models.sub.data.questions = t(n.subs),
                    this.models.answer.init(e.answer)
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(r.assign(e, {
                        type: 6
                    }))
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        t = function(e) {
            return s.orderBy(e, ["createTime", "type"], ["asc", "asc"])
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/types/answer/reading-comprehension/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="subs"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <a class="inline-block" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.index : s, n)) + "、" + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return null != (s = a.each.call(null != n ? n : {}, null != n ? n.subs : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            6: function(e, n, a, t, i) {
                var s;
                return "        \x3c!-- echo('(' index ')') --\x3e\n        <div data-dynamic-key=\"" + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "subs", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/types/answer/reading-comprehension/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/question/types/answer/reading-comprehension/view-options": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/question/types/answer/reading-comprehension/view-subs": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("./app/exam/exam-question-types");
        a.type = "dynamic",
        a.bindings = {
            sub: !0,
            answer: !0,
            state: !0
        },
        a.dataForTemplate = {
            subs: function() {
                var e = this.bindings.sub.data.questions;
                return i.map(e, function(e, n) {
                    var a = e;
                    return a.index = n + 1,
                    a
                })
            }
        },
        a.getEntity = function(e) {
            return this.module.store.models.sub.getQuestionById(e)
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return s.get(n.type, 3)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                type: e.type,
                data: e,
                multiple: 2 === e.type,
                callback: function(e) {
                    return n.bindings.answer.save(e),
                    n.module.dispatch("save")
                },
                answer: this.bindings.answer.getAnswer(e.id),
                mode: t(e.type, this.bindings.state.data.mode),
                indexType: 1,
                examRecordStatus: this.module.renderOptions.examRecordStatus
            }
        }
        ,
        t = function(e, n) {
            return -1 === n ? -1 : n > 0 ? 1 === e || 2 === e ? 1 : n : 1
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/types/answer/sentence-completion/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("drizzlejs");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {},
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data = {
                        gainScore: 5 === e.examRecordStatus ? "-" : 0,
                        errorRate: 0
                    }
                      , s = t.get("question-types");
                    i.assign(a, n),
                    a.answer = n.questionAttrs[0].value,
                    a.type = s[Number(n.type) - 1].value,
                    a.detailMode = e.mode,
                    n.answerRecord && n.answerRecord.score ? a.gainScore = n.answerRecord.score : n.answerRecord || (a.gainScore = 0),
                    this.models.answer.init(e.answer)
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/question/types/answer/sentence-completion/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <a class="inline-block" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.index : s, n)) + "、" + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return "<div class=\"answer\"><form class=\"vertical\">\n    \x3c!--  if(isDisabled) --\x3e\n    \x3c!--      textarea.input(id='answer' name='value' rows='5' placeholder='请输入答案' 'disabled') > @echoX(answer) --\x3e\n    \x3c!--  else --\x3e\n    \x3c!--      textarea.input(id='answer' name='value' rows='5' placeholder='请输入答案') > @echoX(answer) --\x3e\n" + (null != (s = a.each.call(r, null != n ? n.sentences : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</form>\n</div>"
            },
            6: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != n ? n.isDisabled : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : ""
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <div class="m-top"><div class="input disabled" id="answer-' + o((s = null != (s = a.i || (null != n ? n.i : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "i",
                    hash: {},
                    data: i
                }) : s)) + '" name="value" ' + o((s = null != (s = a.disabled || (null != n ? n.disabled : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "disabled",
                    hash: {},
                    data: i
                }) : s)) + ">" + o((s = null != (s = a.answer || (null != n ? n.answer : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : s)) + "</div></div>\n"
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <div class="m-top"><input class="input" id="answer-' + o((s = null != (s = a.i || (null != n ? n.i : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "i",
                    hash: {},
                    data: i
                }) : s)) + '" name="value" value="' + o((s = null != (s = a.answer || (null != n ? n.answer : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : s)) + '" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"/></div>\n'
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '        <div class="show-answer m-top">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n                    ' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '\n                </div></div>\n                <div class="text-right">\n                    <span>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(e.lambda(null != (s = null != n ? n.state : n) ? s.gainScore : s, n)) + "</span>\n                </div>\n            </div>\n        </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/types/answer/sentence-completion/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/question/types/answer/sentence-completion/view-options": [function(e, n, a) {
        var t = e("jquery");
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.events = {
            "change answer": "changeAnswer"
        },
        a.handlers = {
            changeAnswer: function() {
                return this.bindings.answer.set({
                    key: this.bindings.state.data.id,
                    value: [{
                        id: this.bindings.state.data.id,
                        value: t(this.$("answer")).val().trim()
                    }]
                }),
                this.module.dispatch("save")
            }
        },
        a.dataForTemplate = {
            answer: function() {
                var e = this.bindings.answer;
                return e.data.value.length > 0 ? e.data.value[0].value : ""
            },
            isShowDetail: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0 && e < 4
            },
            isDisabled: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0
            },
            sentences: function(e) {
                var n = e.state.content
                  , a = new RegExp("\\(\\)","g")
                  , t = n.match(a)
                  , i = t ? t.length : 0
                  , s = []
                  , r = e.answer.split("@answer@")
                  , l = e.state.detailMode
                  , o = l && l > 0
                  , c = 0;
                for (c; c < i; c++)
                    s.push({
                        i: c,
                        answer: r.length > c ? r[c] : "",
                        isDisabled: o
                    });
                return s
            }
        },
        a.beforeRender = function() {
            var e = this.bindings.state.data;
            1 === e.detailMode && (e.isShowAnswer = !0,
            e.isShowGainScore = !0),
            2 === e.detailMode ? (e.isShowAnswer = !1,
            e.isShowGainScore = !0) : 3 === e.detailMode && (e.isShowAnswer = !1,
            e.isShowGainScore = !0,
            this.bindings.answer.data = {})
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/question/types/answer/sorting/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("lodash/collection")
          , s = e("drizzlejs");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {
                    data: {}
                },
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a = e.data, r = this.models.state.data = {
                        gainScore: 0,
                        errorRate: 0
                    }, l = t.get("question-types"), o = a.questionAttrs, c = 0, u = "";
                    for (s.assign(r, a),
                    r.type = i.find(l, ["key", a.type.toString()]).value,
                    r.options = [],
                    u = i.find(o, ["type", "0"]).value,
                    o = i.filter(o, function(e) {
                        return 0 !== Number(e.type)
                    }),
                    c; c < o.length; c++)
                        n = String.fromCharCode(c + "A".charCodeAt(0)),
                        r.options.push({
                            content: o[c].value,
                            name: o[c].name,
                            code: n,
                            i: c
                        });
                    r.answer = i.map(i.filter(u.split("|"), function(e) {
                        return e
                    }), function(e) {
                        return i.find(r.options, ["name", e]).code
                    }).join(""),
                    a.answerRecord && a.answerRecord.id && (r.gainScore = a.answerRecord.score),
                    r.detailMode = e.mode,
                    this.models.answer.init(e.answer)
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e),
                    this.models.state.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/types/answer/sorting/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <a class="inline-block" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.index : s, n)) + "、" + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="answer m-top">\n        <dl>' + (null != (s = a.each.call(r, null != (s = null != n ? n.state : n) ? s.options : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</dl>\n        <form class="vertical">\n' + (null != (s = a.if.call(r, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.program(10, i, 0),
                    data: i
                })) ? s : "") + "        </form>\n" + (null != (s = a.if.call(r, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n            <dd id="item-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <label class="no-margin" for="answer-item-' + c((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + '">\n                    <div class="answer-options inline-block"><div class="option-num">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.code : n, ".", {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</div></div>\n                    <div class="answer-content">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                </label>\n            </dd>\n        "
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <div class="row">\n                    <div class="col-md-3">\n                        <input class="input" id="answer" name="value" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input-sort", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" value="' + o((s = null != (s = a.answer || (null != n ? n.answer : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : s)) + '" disabled="disabled"/>\n                    </div>\n                    <div class="col-md-3">\n                        <div id="error"></div>\n                    </div>\n                </div>\n'
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <div class="row">\n                    <div class="col-md-3">\n                        <input class="input" id="answer" name="value" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.question.types.input-sort", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" value="' + o((s = null != (s = a.answer || (null != n ? n.answer : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : s)) + '"/>\n                    </div>\n                    <div class="col-md-3">\n                        <div id="error"></div>\n                    </div>\n                </div>\n'
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '            <div class="show-answer">\n                <div class="clearfix">\n                    <div class="pull-left"><div class="common-title">\n                        ' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.state : n) ? s.answer : s, n)) + '\n                    </div></div>\n                    <div class="text-right">\n                        <span>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.state : n) ? s.gainScore : s, n)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.wrong-rate", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.state : n) ? s.errorRate : s, n)) + "%</span>\n                    </div>\n                </div>\n            </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/types/answer/sorting/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/question/types/answer/sorting/view-options": [function(e, n, a) {
        var t, i, s, r = e("lodash/collection"), l = e("jquery"), o = e("./app/util/strings");
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                return r.map(e.state.options, function(e, n) {
                    var a = e;
                    a.index = n,
                    a.code = String.fromCharCode(a.index + "A".charCodeAt(0))
                }),
                e.state.options
            },
            answer: function() {
                var e = this.bindings.answer
                  , n = this.bindings.state.data.options
                  , a = "";
                return e.data.value.length > 0 && (a = r.map(r.filter(e.data.value[0].value.split("|"), function(e) {
                    return e
                }), function(e) {
                    return r.find(n, ["name", e]).code
                }).join("")),
                a
            },
            isShowDetail: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0 && e < 4
            },
            isDisabled: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0
            }
        },
        a.events = {
            "change answer": "changeAnswer",
            "keypress answer": "keypressAnswer"
        },
        a.handlers = {
            changeAnswer: function() {
                var e, n, a = this.bindings.answer, t = this.bindings.state.data.options, i = this.$("answer").value.toLocaleUpperCase(), l = i;
                if (!s.call(this, l))
                    return !1;
                for (e = 0; e < i.length; e++)
                    n = r.find(t, ["code", i.charAt(e)]),
                    l = l.replace(i.charAt(e), n.name + "|");
                return a.set({
                    key: this.bindings.state.data.id,
                    value: [{
                        id: this.bindings.state.data.id,
                        value: l
                    }]
                }),
                this.module.dispatch("save")
            },
            keypressAnswer: function(e) {
                var n = e.keyCode
                  , a = String.fromCharCode(n).toLocaleUpperCase()
                  , s = this.$("answer").value;
                return n >= 65 && n <= 122 && r.find(this.bindings.state.data.options, ["code", a]) ? s.length > 0 && function(e, n) {
                    return !e || !r.every(e, function(e) {
                        return e !== n
                    })
                }(s.toLocaleUpperCase(), a) ? (t.call(this, o.get("exam.question.types.repeat-letter")),
                e.preventDefault(),
                !1) : (i(),
                !0) : (t.call(this, o.get("exam.question.types.letter-out-of-range")),
                e.preventDefault(),
                !1)
            }
        },
        t = function(e) {
            l(this.$("error")).html('<span class="error-text">' + e + "</span>"),
            l(this.$("answer")).addClass("error")
        }
        ,
        i = function() {
            l(this.$("error")).html(""),
            l(this.$("answer")).removeClass("error")
        }
        ,
        s = function(e) {
            return !/.*[\u4e00-\u9fa5]+.*$/.test(e) || (t.call(this, o.get("exam.question.types.illegal-input")),
            this.$("answer").value = "",
            !1)
        }
        ,
        a.beforeRender = function() {
            var e = this.bindings.state.data;
            1 === e.detailMode && (e.isShowAnswer = !0,
            e.isShowGainScore = !0),
            2 === e.detailMode ? (e.isShowAnswer = !1,
            e.isShowGainScore = !0) : 3 === e.detailMode && (e.isShowAnswer = !1,
            e.isShowGainScore = !0,
            this.bindings.answer.data = {})
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/types/mark/checkScore": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/mark/checkScore"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/mark/checkScore",
        jquery: "jquery"
    }],
    "./app/exam/question/types/mark/question-answer/index": [function(e, n, a) {
        var t = e("drizzlejs");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {},
                goal: {
                    mixin: {
                        init: function(e, n) {
                            this.data = e || {
                                key: "",
                                value: ""
                            },
                            n.answerRecord && "" !== n.answerRecord.answer || (this.data = {
                                key: n.id,
                                value: 0
                            })
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data;
                    t.assign(a, n, {
                        answer: n.questionAttrs[0].value
                    }),
                    a.answer = n.questionAttrs[0].value,
                    this.models.goal.init(e.goal, a)
                },
                save: function() {
                    var e = this.module.renderOptions.callback
                      , n = this.models.goal.data;
                    e && e(n)
                },
                error: function(e) {
                    var n = this.module.renderOptions.callback;
                    n && n.check && n.check(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.mixin = {
            check: function() {
                return this.items.options.check()
            }
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/question/types/mark/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '    <a class="inline-block" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.index : s, n)) + (null != (s = (a.echoX || n && n.echoX || c).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</a>\n    <div class="col-sm-12">\n        <div class="m-top"><p class="question no-margin">\n            ' + l((a.string || n && n.string || c).call(o, "exam.research-activity.question.answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.answerRecord : s) ? s.answer : s, n)) + "\n        </p></div>\n    </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <form class="vertical">\n        <div class="answer">\n            <div class="col-sm-12">\n                <p class="custom-color-4">' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || l).call(r, "：", null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</p>\n            </div>\n            <div class="col-sm-12">\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.question.types.this-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ', </div>\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.question.types.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="inline-block">\n' + (null != (s = a.if.call(r, null != (s = null != (s = null != n ? n.state : n) ? s.answerRecord : s) ? s.answer : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(8, i, 0),
                    data: i
                })) ? s : "") + '                </div>\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="inline-block m-left error-text" id="error"></div>\n            </div>\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.currentScore : n) ? s.remark : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </form>\n"
            },
            6: function(e, n, a, t, i) {
                var s;
                return '                        <input id="goal" class="inline-block input min" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.goal : n) ? s.value : s, n)) + '" name="goal"/>\n'
            },
            8: function(e, n, a, t, i) {
                var s;
                return '                        <input id="goal" class="inline-block input min" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.goal : n) ? s.value : s, n)) + '" name="goal" disabled="disabled"/>\n'
            },
            10: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                <div class="col-sm-12">\n                    <div class="inline-block">\n                        ' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.already.mark.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                        " + r(e.lambda(null != (s = null != n ? n.currentScore : n) ? s.score : s, n)) + "\n                    </div>\n                </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/types/mark/question-answer/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/question/types/answer/choise/view-content"][0].apply(a, arguments)
    }
    , {
        drizzlejs: "drizzlejs",
        dup: "./app/exam/question/types/answer/choise/view-content"
    }],
    "./app/exam/question/types/mark/question-answer/view-options": [function(e, n, a) {
        var t = e("./app/ext/views/form/validators")
          , i = e("./app/ext/views/form/markers")
          , s = e("jquery")
          , r = e("./app/util/strings");
        a.bindings = {
            state: !0,
            goal: !0
        },
        a.events = {
            "change goal": "changeGoal",
            "keypress goal": "keypressGoal"
        },
        a.dataForTemplate = {
            currentScore: function(e) {
                var n, a = e.state.answerRecord;
                return e && void 0 !== a.score ? (n = a.score / 100 + "",
                n = n.indexOf(".") > 0 ? Number(n).toFixed(2) : Number(n),
                {
                    remark: !0,
                    score: n
                }) : {
                    remark: !1
                }
            }
        },
        a.handlers = {
            changeGoal: function() {
                var e, n = this.$("goal"), a = this.bindings.state.data;
                return i.text.valid(s(n)),
                s(this.$("error")).html(""),
                e = this.check(),
                e.check || (i.text.invalid(s(n)),
                s(this.$("error")).html(e.error)),
                this.bindings.goal.data = {
                    key: this.bindings.state.data.id,
                    value: n.value,
                    type: this.bindings.state.data.type,
                    isRight: Number(n.value) === a.score ? 1 : 0
                },
                this.chain(this.module.dispatch("error", e), this.module.dispatch("save"))
            },
            keypressGoal: function(e) {
                var n = e.keyCode || e.which || e.charCode
                  , a = String.fromCharCode(n)
                  , l = this.bindings.state.data
                  , o = !0
                  , c = [];
                return 8 === n || 46 === n || (t.required.fn(a) || (c.push(t.required.message),
                o = !1),
                t.number.fn(a) || (c.push(r.get("exam.question.types.only-number")),
                o = !1),
                t.keepDecimal.fn(this.$("goal").value + a, 1) || (c.push(r.get("exam.question.types.only-one-decimal")),
                this.$("goal").value = "",
                o = !1),
                t.range.fn(Number(this.$("goal").value + a), 0, l.score) || (c.push(r.get("exam.question.types.score-out-of-range")),
                this.$("goal").value = "",
                o = !1),
                !!o || (i.text.invalid(s(this.$("goal"))),
                s(this.$("error")).html(c.join(" ")),
                e.preventDefault(),
                !1))
            }
        },
        a.mixin = {
            check: function() {
                var e = this.bindings.state.data
                  , n = this.$("goal").value
                  , a = !0
                  , i = [];
                return t.required.fn(n) || (i.push(t.required.message),
                a = !1),
                t.number.fn(n) || (i.push(t.number.message),
                a = !1),
                t.keepDecimal.fn(n, 1) || (i.push(r.get("exam.question.types.only-one-decimal")),
                a = !1),
                t.range.fn(n, 0, e.score) || (i.push(r.get("exam.question.types.score-out-of-range")),
                this.$("goal").value = "",
                a = !1),
                {
                    check: a,
                    error: i.join(","),
                    id: e.id,
                    content: e.content
                }
            }
        }
    }
    , {
        "./app/ext/views/form/markers": "./app/ext/views/form/markers",
        "./app/ext/views/form/validators": "./app/ext/views/form/validators",
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery"
    }],
    "./app/exam/question/types/mark/reading-comprehension/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("lodash/collection")
          , s = e("drizzlejs");
        a.items = {
            content: "content",
            subs: "subs"
        },
        a.store = {
            models: {
                state: {},
                sub: {
                    data: {},
                    mixin: {
                        getQuestionById: function(e) {
                            return i.find(this.data.questions, ["id", e])
                        }
                    }
                },
                goal: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: this.store.models.state.data.id,
                                type: 6,
                                value: []
                            }
                        },
                        save: function(e) {
                            var n, a = this.data.value;
                            n = i.reject(a, ["key", e.key]),
                            n.push(e),
                            this.data.value = n
                        },
                        getGoal: function(e) {
                            var n = this.data.value;
                            return i.find(n, ["key", e])
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data
                      , r = t.get("question-types");
                    this.models.sub.clear(),
                    s.assign(a, n),
                    a.type = r[Number(n.type) - 1].value,
                    this.models.sub.data.questions = i.filter(n.subs, ["type", 5]),
                    this.models.goal.init(e.goal)
                },
                save: function() {
                    var e = this.models.goal.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                },
                error: function(e) {
                    var n = this.module.renderOptions.callback;
                    n && n.check && n.check(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/types/mark/reading-comprehension/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="subs"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <a class="inline-block" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.index : s, n)) + "、" + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return null != (s = a.each.call(null != n ? n : {}, null != n ? n.subs : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "        (" + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + ')\n        <div data-dynamic-key="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "subs", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/types/mark/reading-comprehension/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/question/types/mark/reading-comprehension/view-options": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/question/types/mark/reading-comprehension/view-subs": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/exam/exam-question-types")
          , s = e("drizzlejs");
        a.type = "dynamic",
        a.bindings = {
            sub: !0,
            goal: !0
        },
        a.dataForTemplate = {
            subs: function() {
                var e = this.bindings.sub.data.questions;
                return t.map(e, function(e, n) {
                    var a = e;
                    return a.index = n + 1,
                    a
                })
            }
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.sub.getQuestionById(e)
              , a = s.assign({}, n);
            return s.assign(a, {
                score: n.score / 100,
                questionAttrs: n.questionAttrCopys
            }),
            a
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return i.get(n.type, 4)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                type: e.type,
                data: e,
                multiple: 2 === e.type,
                callback: function(e) {
                    return n.bindings.goal.save(e),
                    n.module.dispatch("save")
                },
                goal: this.bindings.goal.getGoal(e.id),
                indexType: 1
            }
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/types/mark/sentence-completion/index": [function(e, n, a) {
        var t = e("drizzlejs");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {},
                goal: {
                    mixin: {
                        init: function(e, n) {
                            this.data = e || {
                                key: "",
                                value: ""
                            },
                            n.answerRecord && "" !== n.answerRecord.answer || (this.data = {
                                key: n.id,
                                value: 0
                            })
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data;
                    t.assign(a, n, {
                        answer: n.questionAttrs[0].value
                    }),
                    this.models.goal.init(e.goal, a),
                    this.models.state.changed()
                },
                save: function() {
                    var e = this.module.renderOptions.callback
                      , n = this.models.goal.data;
                    e && e(n)
                },
                error: function(e) {
                    var n = this.module.renderOptions.callback;
                    n && n.check && n.check(e)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.mixin = {
            check: function() {
                return this.items.options.check()
            }
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/question/types/mark/sentence-completion/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <a class="inline-block" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + l(r(null != (s = null != n ? n.state : n) ? s.index : s, n)) + "、" + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</a>\n    <div class="col-sm-12">\n' + (null != (s = a.each.call(o, null != n ? n.answers : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <div class="m-top"><p class="question no-margin">\n                ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o((s = null != (s = a.i || (null != n ? n.i : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "i",
                    hash: {},
                    data: i
                }) : s)) + "：" + o((s = null != (s = a.answer || (null != n ? n.answer : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : s)) + "\n            </p></div>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <form class="vertical">\n        <div class="answer">\n            <div class="col-sm-12">\n                <p class="custom-color-4">' + o((a.string || n && n.string || l).call(r, "exam.question.types.standard-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || l).call(r, "：", null != (s = null != n ? n.state : n) ? s.answer : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</p>\n            </div>\n            <div class="col-sm-6">\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.question.types.this-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(e.lambda(null != (s = null != n ? n.state : n) ? s.score : s, n)) + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ', </div>\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.question.types.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="inline-block">\n' + (null != (s = a.if.call(r, null != (s = null != (s = null != n ? n.state : n) ? s.answerRecord : s) ? s.answer : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '                </div>\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="inline-block m-left error-text" id="error"></div>\n            </div>\n        </div>\n    </form>\n'
            },
            7: function(e, n, a, t, i) {
                var s;
                return '                        <input id="goal" class="inline-block input min" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.goal : n) ? s.value : s, n)) + '" name="goal"/>\n'
            },
            9: function(e, n, a, t, i) {
                var s;
                return '                        <input id="goal" class="inline-block input min" value="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.goal : n) ? s.value : s, n)) + '" name="goal" disabled="disabled"/>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/question/types/mark/sentence-completion/view-content": [function(e, n, a) {
        var t = e("lodash/collection");
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            answer: function(e) {
                var n = e.state.answerRecord && e.state.answerRecord.answer;
                return n ? t.filter(n.split("@answer@"), function(e) {
                    return e
                }).join("|") : n
            },
            answers: function(e) {
                var n = e.state.content
                  , a = new RegExp("\\(\\)","g")
                  , t = n ? n.match(a) : ""
                  , i = t ? t.length : 0
                  , s = e.state.answerRecord && e.state.answerRecord.answer
                  , r = s ? s.split("@answer@") : ""
                  , l = []
                  , o = 0;
                for (o; o < i; o++)
                    l.push({
                        i: o + 1,
                        answer: r.length > o ? r[o] : ""
                    });
                return l
            }
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/types/mark/sentence-completion/view-options": [function(e, n, a) {
        var t = e("./app/ext/views/form/validators")
          , i = e("./app/ext/views/form/markers")
          , s = e("jquery")
          , r = e("./app/util/strings");
        a.bindings = {
            state: !0,
            goal: !0
        },
        a.events = {
            "change goal": "changeGoal",
            "keypress goal": "keypressGoal"
        },
        a.handlers = {
            changeGoal: function() {
                var e, n = this.$("goal"), a = this.bindings.state.data;
                return i.text.valid(s(n)),
                s(this.$("error")).html(""),
                e = this.check(),
                e.check || (i.text.invalid(s(n)),
                this.app.message.error(e.error),
                s(this.$("error")).html(e.error)),
                this.bindings.goal.data = {
                    key: this.bindings.state.data.id,
                    value: n.value,
                    type: this.bindings.state.data.type,
                    isRight: Number(n.value) === a.score ? 1 : 0
                },
                this.chain(this.module.dispatch("error", e), this.module.dispatch("save"))
            },
            keypressGoal: function(e) {
                var n = e.keyCode || e.which || e.charCode
                  , a = String.fromCharCode(n)
                  , l = this.bindings.state.data
                  , o = !0
                  , c = [];
                return 8 === n || 46 === n || (t.required.fn(a) || (c.push(t.required.message),
                o = !1),
                t.number.fn(a) || (c.push(t.number.message),
                o = !1),
                t.keepDecimal.fn(this.$("goal").value + a, 1) || (c.push(r.get("exam.question.types.only-one-decimal")),
                this.$("goal").value = "",
                o = !1),
                t.range.fn(Number(this.$("goal").value + a), 0, l.score) || (c.push(r.get("exam.question.types.score-out-of-range")),
                this.$("goal").value = "",
                o = !1),
                !!o || (i.text.invalid(s(this.$("goal"))),
                s(this.$("error")).html(c.join(" ")),
                e.preventDefault(),
                !1))
            }
        },
        a.mixin = {
            check: function() {
                var e = this.bindings.state.data
                  , n = this.$("goal").value
                  , a = !0
                  , i = [];
                return t.required.fn(n) || (i.push(t.required.message),
                a = !1),
                t.number.fn(n) || (i.push(t.number.message),
                a = !1,
                a = !1),
                t.keepDecimal.fn(n, 1) || (i.push(r.get("exam.question.types.only-one-decimal")),
                a = !1),
                t.range.fn(n, 0, e.score) || (i.push(r.get("exam.question.types.score-out-of-range")),
                this.$("goal").value = "",
                a = !1),
                {
                    check: a,
                    error: i.join(","),
                    id: e.id,
                    content: e.content
                }
            }
        }
    }
    , {
        "./app/ext/views/form/markers": "./app/ext/views/form/markers",
        "./app/ext/views/form/validators": "./app/ext/views/form/validators",
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery"
    }],
    "./app/exam/question/view-content": [function(e, n, a) {
        var t, i, s = e("lodash/collection"), r = e("drizzlejs"), l = e("./app/util/strings");
        a.bindings = {
            questions: !0,
            state: !0,
            question: !1,
            exportQuestion: !1,
            Grants: !0
        },
        a.events = {
            "click add-question": "addQuestion",
            "click preview-question-*": "previewQuestion",
            "click edit-question-*": "editQuestion",
            "click import": "import",
            "click question-*": "previewQuestion",
            "click publish-question": "publishQuestion",
            "click cancel-question": "cancelQuestion",
            "click check-*": "check",
            "click export": "export"
        },
        a.handlers = {
            addQuestion: function() {
                var e = this.module.items["exam/question/add-question"]
                  , n = this.bindings.questions.params;
                if (e.renderOptions = null,
                !n.questionDepot)
                    return void this.app.message.error(l.get("exam.question.please-choose-dir"));
                1 === n.questionDepot.state ? this.app.viewport.popup(e, {
                    params: {
                        organizationId: n.organizationId,
                        organization: n.organization,
                        questionDepot: n.questionDepot
                    },
                    titleType: "add"
                }) : this.app.message.error(l.get("exam.question.dir-forbidden"))
            },
            editQuestion: function(e) {
                var n = this.module.items["exam/question/add-question"]
                  , a = this.bindings.question.getQuestionById({
                    id: e
                });
                this.app.viewport.popup(n, {
                    question: a,
                    titleType: "edit"
                })
            },
            previewQuestion: function(e) {
                var n = this;
                return this.bindings.state.data.id = e,
                this.module.dispatch("reloadState").then(function() {
                    n.app.viewport.popup(n.module.items.preview, {
                        previewMode: 1
                    })
                })
            },
            import: function() {
                var e = this.module.items["exam/question/import-data"]
                  , n = this
                  , a = this.bindings.questions.params;
                this.app.viewport.popup(e, {
                    templateType: 1,
                    organizationId: a.organizationId,
                    callback: function() {
                        return n.module.dispatch("refreshList")
                    }
                })
            },
            publishQuestion: function() {
                var e, n = this.$$('[name="questionId"]:checked'), a = this;
                if (0 === n.length)
                    return void this.app.message.error(l.get("exam.question.not-choose-anything"));
                e = s.map(n, "value"),
                t.call(this, e, 1) && this.app.message.confirm(l.get("exam.question.publish-question-confirm"), function() {
                    return a.module.dispatch("publish", {
                        ids: e.join(",")
                    })
                }, function() {
                    return !1
                })
            },
            cancelQuestion: function() {
                var e, n = this.$$('[name="questionId"]:checked'), a = this;
                if (0 === n.length)
                    return void this.app.message.error(l.get("exam.question.not-choose-anything"));
                e = s.map(n, "value"),
                t.call(this, e, 0) && this.app.message.confirm(l.get("exam.question.cancel-question-confirm"), function() {
                    return a.module.dispatch("cancel", {
                        ids: e.join(",")
                    })
                }, function() {
                    return !1
                })
            },
            check: function(e) {
                var n = this.$("check-all")
                  , a = this.$$('[name="questionId"]')
                  , t = this.bindings.questions
                  , i = this.$$('[name="questionId"]:checked');
                return "all" === e ? (s.forEach(a, function(e) {
                    r.assign(e, {
                        checked: n.checked
                    })
                }),
                this.module.dispatch("check", {
                    ids: s.map(t.data, "id").join(","),
                    checkAll: n.checked,
                    checkType: 1
                })) : this.module.dispatch("check", {
                    ids: s.map(i, "value").join(","),
                    checkType: "2"
                })
            }
        },
        a.actions = {
            "click delete-question-*": "deleteQuestion",
            "click publish-question-*": "publish",
            "click undo-question-*": "cancel"
        },
        a.dataForActions = {
            deleteQuestion: function(e) {
                var n = this;
                return this.Promise.create(function(a) {
                    var t = l.get("exam.question.delete-question-confirm");
                    n.app.message.confirm(t, function() {
                        a(e)
                    }, function() {
                        a(!1)
                    })
                })
            },
            publish: function(e) {
                var n = this;
                return this.Promise.create(function(a) {
                    n.app.message.confirm(l.get("exam.question.publish-question-confirm"), function() {
                        a({
                            ids: [e.id].join(","),
                            status: 1
                        })
                    }, function() {
                        a(!1)
                    })
                })
            },
            cancel: function(e) {
                var n = this;
                return this.Promise.create(function(a) {
                    n.app.message.confirm(l.get("exam.question.cancel-question-confirm"), function() {
                        a({
                            ids: [e.id].join(","),
                            status: 0
                        })
                    }, function() {
                        a(!1)
                    })
                })
            }
        },
        a.dataForTemplate = {
            questions: function(e) {
                var n = this.bindings.questions.getPageInfo().page
                  , a = this.bindings.questions;
                return s.map(e.questions || [], function(e, t) {
                    var i = e;
                    i.i = t + 1 + 10 * (n - 1),
                    i.isPublish = 1 === i.status,
                    i.errorRate > 0 ? i.errorRate = i.errorRate / 1e4 + "%" : i.errorRate = "-",
                    i.recoveryCount && 0 !== i.recoveryCount || (i.recoveryCount = "-"),
                    a.params.ids && a.params.ids.indexOf(i.id) > -1 && (i.checked = !0),
                    i.content = i.contentText || i.content
                }),
                e.questions
            },
            exportQuestionUrl: function() {
                var e = this.bindings.exportQuestion
                  , n = e.getFullUrl() + "?"
                  , a = this.app.global.OAuth.token.access_token
                  , t = i.call(this);
                return t.exportType = 2,
                s.forEach(t, function(e, a) {
                    e && (n += a + "=" + e + "&")
                }),
                n += "access_token=" + a,
                encodeURI(n)
            },
            showEmpty: function(e) {
                return e.state.showEmpty
            }
        },
        a.components = [{
            id: "pager",
            name: "pager",
            options: {
                model: "questions"
            }
        }],
        t = function(e, n) {
            var a = s.filter(this.bindings.questions.data, function(n) {
                return e.join(",").indexOf(n.id) > -1
            })
              , t = 1 === n ? l.get("exam.question.published") : l.get("exam.question.canceled");
            return !s.some(a, function(e) {
                return e.status === n
            }) || (this.app.message.error(l.get("exam.question.choose-content") + t + l.get("exam.question.choose-again")),
            !1)
        }
        ,
        i = function() {
            var e = this.bindings.questions.params;
            return {
                content: e.content,
                type: e.type,
                difficulty: e.difficulty,
                status: e.status,
                createTimeStart: e.createTimeStart && e.createTimeStart + " 00:00:00",
                createTimeEnd: e.createTimeEnd && e.createTimeEnd + " 23:59:59",
                organizationId: e.organizationId,
                depotPath: e.depotPath,
                ids: e.ids
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/question/view-preview": [function(e, n, a) {
        var t = e("./app/exam/exam-question-types")
          , i = e("lodash/collection")
          , s = e("drizzlejs")
          , r = e("./app/util/strings");
        a.title = r.get("exam.research-activity.question.question-preview"),
        a.type = "dynamic",
        a.bindings = {
            question: !0,
            state: !0
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.question.getQuestionById({
                id: e
            })
              , a = s.assign({}, n)
              , t = i.map(a.subs, function(e) {
                var n = s.assign({}, e);
                return s.assign(n, {
                    score: n.score / 100
                })
            });
            return s.assign(a, {
                subs: t,
                questionAttrs: i.orderBy(a.questionAttrs, ["name"], ["asc"]),
                score: parseFloat((a.score / 100).toFixed(1))
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return t.get(n.type, 2)
        }
        ,
        a.dataForEntityModule = function(e) {
            return {
                type: e.type,
                data: e,
                multiple: 2 === e.type,
                previewMode: this.renderOptions.previewMode
            }
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/add-dimension/index": [function(e, n, a) {
        var t = e("./app/util/strings")
          , i = {
            add: t.get("exam.dimension.add"),
            edit: t.get("exam.dimension.edit")
        }
          , s = e("drizzlejs");
        a.items = {
            main: "main"
        },
        a.title = function() {
            return i[this.renderOptions.titleType]
        }
        ,
        a.store = {
            models: {
                dimension: {
                    url: "../exam/dimension"
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.state
                      , a = this.models.dimension;
                    return n.set(e.data),
                    n.callback = e.callback,
                    e.data.id ? (a.set({
                        id: e.data.id
                    }),
                    this.get(a).then(function() {
                        n.data.order = a.data.order
                    })) : (a.clear(),
                    "")
                },
                save: function(e) {
                    var n = this
                      , a = this.models.state;
                    return this.models.dimension.set(s.assign(e, this.models.state.data)),
                    this.save(this.models.dimension).then(function() {
                        n.app.message.success(t.get("save-success")),
                        a.callback(n.models.dimension.data),
                        n.models.dimension.clear()
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.buttons = [{
            text: function() {
                return t.get("ok")
            },
            fn: function(e) {
                return !!this.items.main.validate() && this.dispatch("save", e)
            }
        }]
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/add-dimension/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '<form class="vertical">\n    <div class="row">\n        <div class="col-sm-12">\n            <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.dimension.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <div class="row"><div class="col-md-12"><input class="input" name="name" x-rule="required,maxLength:10" maxlength="10" x-action="change" value="' + o(c(null != (s = null != n ? n.dimension : n) ? s.name : s, n)) + '"/><div class="tips">0/10</div></div></div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-12">\n            <label>' + o((a.string || n && n.string || l).call(r, "exam.dimension.description", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <textarea class="input block" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.input-description", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" x-rule="maxLength:800" maxlength="800" rows="3" name="description">' + o(c(null != (s = null != n ? n.dimension : n) ? s.description : s, n)) + "</textarea>\n        </div>\n    </div>\n</form>"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/add-dimension/view-main": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            dimension: !0
        }
    }
    , {}],
    "./app/exam/research-activity/business/evaluation/detail-satisfaction/index": [function(e, n, a) {
        var t = e("./app/exam/research-activity/business/research/detail/index")
          , i = e("drizzlejs")
          , s = i.assign({}, t)
          , r = i.assign({}, s.items)
          , l = e("./app/util/strings");
        s.items = r,
        i.assign(s.items, {
            "exam/research-activity/manage/summary-satisfaction": {
                isModule: !0
            }
        }),
        i.assign(s, {
            title: l.get("exam.research-activity.bussiness.evaluation-detail")
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-activity/business/research/detail/index": "./app/exam/research-activity/business/research/detail/index",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/business/evaluation/detail-satisfaction/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="exam-business-wraper">\n        <div data-region="search"></div>\n        <div data-region="main"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '    <div class="grid-row"><div class="col-md-12">\n        <div class="inline-block"><span>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.bussiness.bussiness-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + o(c(null != (s = null != n ? n.research : n) ? s.name : s, n)) + '</span></div>\n    </div></div>\n    <div class="grid-row">\n' + (null != (s = a.if.call(r, null != n ? n.trainRequired : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.program(6, i, 0),
                    data: i
                })) ? s : "") + '    </div>\n    <hr/>\n    <form id="searchbar" class="form vertical">\n        <div class="manage-search train-new-lecturer">\n            <div class="item">\n                <label class="label">' + o((a.string || n && n.string || l).call(r, "account-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n                <input class="input" name="name" value="' + o(c(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '"/>\n            </div>\n            <div class="item">\n                <label class="label">' + o((a.string || n && n.string || l).call(r, "human.member.full-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n                <input class="input" name="fullName" value="' + o(c(null != (s = null != n ? n.state : n) ? s.fullName : s, n)) + '"/>\n            </div>\n            <div class="item">\n                <label class="label">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.bussiness.submit-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n                <input id="submit-time" class="input" name="submitTime" value="' + o(c(null != (s = null != n ? n.state : n) ? s.submitTime : s, n)) + '"/>\n            </div>\n            <div class="item">\n                <div class="pull-left m-right"><div id="search" class="btn pull-left">' + o((a.string || n && n.string || l).call(r, "query", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></div>\n                <div class="pull-left"><div id="reset" class="btn btn-reset skin-borderColor-style skin-color-style">' + o((a.string || n && n.string || l).call(r, "reset", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n            </div>\n        </div>\n    </form>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '            <div class="col-md-4">\n                <div class="inline-block"><span>' + c((a.string || n && n.string || o).call(l, "finished", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                    <span>" + c(e.lambda(null != (s = null != n ? n.research : n) ? s.joinNumber : s, n)) + '</span></span></div>\n            </div>\n            <div class="col-md-4">\n                <div class="inline-block"><span>' + c((a.string || n && n.string || o).call(l, "no-finished", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                    <span>" + c((r = null != (r = a.noFinish || (null != n ? n.noFinish : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "noFinish",
                    hash: {},
                    data: i
                }) : r)) + "</span></span></div>\n            </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '            <div class="col-md-4">\n                <div class="inline-block"><span>' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.manage.participants-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                    <span>" + r(e.lambda(null != (s = null != n ? n.research : n) ? s.joinNumber : s, n)) + "</span></span></div>\n            </div>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    <div class="row">\n        <div class="col-sm-12">\n            <div class="clearfix">\n                <div class="pull-right">\n                    <div id="summary" class="btn">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.summary.summary", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    <a href="' + c((r = null != (r = a.exportUrl || (null != n ? n.exportUrl : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "exportUrl",
                    hash: {},
                    data: i
                }) : r)) + '"><div id="export" class="btn">' + c((a.string || n && n.string || o).call(l, "export-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <table class="table text-center">\n        <thead><tr>\n            <th>' + c((a.string || n && n.string || o).call(l, "serial.number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "account-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "human.member.full-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "system.all.organization", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.bussiness.submit-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.bussiness.satisfaction", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "operating", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n        </tr></thead>\n        <tbody>" + (null != (s = a.each.call(l, null != n ? n.researchRecords : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.program(11, i, 0),
                    data: i
                })) ? s : "") + '</tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression, u = e.lambda;
                return "\n            <tr>\n                <td>" + c((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                <td>" + c(u(null != (s = null != n ? n.member : n) ? s.name : s, n)) + "</td>\n                <td>" + c(u(null != (s = null != n ? n.member : n) ? s.fullName : s, n)) + '</td>\n                <td><div class="td-content" title="' + c(u(null != (s = null != (s = null != n ? n.member : n) ? s.organization : s) ? s.name : s, n)) + '">' + c(u(null != (s = null != (s = null != n ? n.member : n) ? s.organization : s) ? s.name : s, n)) + "</div></td>\n                <td>" + c((a.dateMinute || n && n.dateMinute || o).call(l, null != n ? n.submitTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "</td>\n                <td>" + c((r = null != (r = a.satisfaction || (null != n ? n.satisfaction : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "satisfaction",
                    hash: {},
                    data: i
                }) : r)) + '</td>\n                <td>\n                    <a id="detail-' + c((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((a.string || n && n.string || o).call(l, "detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                </td>\n"
            },
            11: function(e, n, a, t, i) {
                var s;
                return (null != (s = a.if.call(null != n ? n : {}, null != n ? n.trainRequired : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.program(14, i, 0),
                    data: i
                })) ? s : "") + "            </tr>\n        "
            },
            12: function(e, n, a, t, i) {
                return '                    <tr class="nothing-content"><td colspan="9">\n                        <div class="content-empty">\n                            <div class="img img-type-1"></div>\n                            <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-content", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                        </div>\n                    </td></tr>\n"
            },
            14: function(e, n, a, t, i) {
                return '                    <tr class="nothing-content"><td colspan="7">\n                        <div class="content-empty">\n                            <div class="img img-type-1"></div>\n                            <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-content", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                        </div>\n                    </td></tr>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "search", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/business/evaluation/detail-satisfaction/view-main": [function(e, n, a) {
        var t = e("./app/exam/research-activity/business/research/detail/view-main")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = i.assign({}, t)
          , l = i.assign({}, r.handlers)
          , o = i.assign({}, r.dataForTemplate);
        r.dataForTemplate = o,
        i.assign(r.dataForTemplate, {
            researchRecords: function(e) {
                return s.map(e.researchRecords, function(e, n) {
                    return i.assign(e, {
                        i: n + 1,
                        score: e.score / 100,
                        satisfaction: e.satisfaction / 100
                    })
                })
            }
        }),
        r.handlers = l,
        i.assign(r.handlers, {
            summary: function() {
                var e = this.bindings.researchRecords.params;
                window.open("#/exam/research/summary/satisfaction/" + e.researchQuestionaryId + "/" + e.businessId, "_blank")
            }
        }),
        n.exports = r
    }
    , {
        "./app/exam/research-activity/business/research/detail/view-main": "./app/exam/research-activity/business/research/detail/view-main",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/business/evaluation/detail-satisfaction/view-search": [function(e, n, a) {
        var t = e("./app/exam/research-activity/business/research/detail/view-search")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        i.assign(s.dataForTemplate, {
            trainRequired: function(e) {
                return (e.renderOptionsState.trainOptions || {}).required
            },
            noFinish: function(e) {
                return (e.renderOptionsState.trainOptions || {}).joinNumber - this.bindings.research.data.joinNumber
            }
        }),
        i.assign(s.events, {
            "click reset": "reset"
        }),
        i.assign(s.handlers, {
            reset: function() {
                this.bindings.reset.changed()
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-activity/business/research/detail/view-search": "./app/exam/research-activity/business/research/detail/view-search",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/business/evaluation/detail/index": [function(e, n, a) {
        var t = e("./app/exam/research-activity/business/research/detail/index")
          , i = e("drizzlejs")
          , s = i.assign({}, t)
          , r = e("./app/util/strings");
        i.assign(s, {
            title: r.get("exam.research-activity.bussiness.evaluation-detail")
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-activity/business/research/detail/index": "./app/exam/research-activity/business/research/detail/index",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/business/evaluation/detail/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="exam-business-wraper">\n        <div data-region="search"></div>\n        <div data-region="main"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '<form id="searchKey" class="vertical">\n    <div class="grid-row"><div class="col-md-12">\n        <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.bussiness.bussiness-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        <div class="inline-block m-left">' + o(c(null != (s = null != n ? n.research : n) ? s.name : s, n)) + '</div>\n    </div></div>\n    <div class="grid-row">\n        <div class="col-md-12">\n            <div class="inline-block"><span>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.manage.participants-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                <span>" + o(c(null != (s = null != n ? n.research : n) ? s.joinNumber : s, n)) + '</span></span></div>\n        </div>\n    </div>\n    <hr/>\n    <div class="grid-row">\n        <div class="col-md-6">\n            <label class="label">' + o((a.string || n && n.string || l).call(r, "account-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <div class="content">\n                <input class="input" name="name" value="' + o(c(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '"/>\n            </div>\n        </div>\n        <div class="col-md-6">\n            <label class="label">' + o((a.string || n && n.string || l).call(r, "human.member.full-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <div class="content">\n                <input class="input" name="fullName" value="' + o(c(null != (s = null != n ? n.state : n) ? s.fullName : s, n)) + '"/>\n            </div>\n        </div>\n    </div>\n    <div class="grid-row">\n        <div class="col-md-6">\n            <label class="label">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.bussiness.submit-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <div class="content">\n                <input id="submit-time" class="input" name="submitTime" value="' + o(c(null != (s = null != n ? n.state : n) ? s.submitTime : s, n)) + '"/>\n            </div>\n        </div>\n    </div>\n    <div class="grid-row">\n        <div class="col-md-12">\n            <div class="text-center"><div id="search" class="btn inline-block">' + o((a.string || n && n.string || l).call(r, "query", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n        </div>\n    </div>\n</form>"
            },
            5: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    <div class="row">\n        <div class="col-sm-12">\n            <div class="clearfix">\n                <div class="pull-right">\n                    <a href="' + c((r = null != (r = a.exportUrl || (null != n ? n.exportUrl : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "exportUrl",
                    hash: {},
                    data: i
                }) : r)) + '"><div id="export" class="btn">' + c((a.string || n && n.string || o).call(l, "export-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <table class="table border">\n        <thead><tr>\n            <th>' + c((a.string || n && n.string || o).call(l, "serial.number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "account-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "human.member.full-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "system.all.organization", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.bussiness.submit-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.bussiness.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n        </tr></thead>\n        <tbody>" + (null != (s = a.each.call(l, null != n ? n.researchRecords : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(8, i, 0),
                    data: i
                })) ? s : "") + '</tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression, u = e.lambda;
                return "\n            <tr>\n                <td>" + c((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                <td>" + c(u(null != (s = null != n ? n.member : n) ? s.name : s, n)) + "</td>\n                <td>" + c(u(null != (s = null != n ? n.member : n) ? s.fullName : s, n)) + '</td>\n                <td><div class="td-content" title="' + c(u(null != (s = null != (s = null != n ? n.member : n) ? s.organization : s) ? s.name : s, n)) + '">\n                    ' + c(u(null != (s = null != (s = null != n ? n.member : n) ? s.organization : s) ? s.name : s, n)) + "\n                </div></td>\n                <td>" + c((a.dateMinute || n && n.dateMinute || o).call(l, null != n ? n.submitTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + '</td>\n                <td><a id="detail-' + c((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.score || (null != n ? n.score : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "score",
                    hash: {},
                    data: i
                }) : r)) + "</a></td>\n"
            },
            8: function(e, n, a, t, i) {
                return '                <tr class="nothing-content"><td colspan="6">\n                    <div class="content-empty">\n                        <div class="img-box img-type-1"></div>\n                        <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-content", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                    </div>\n                </td></tr>\n            </tr>\n        "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "search", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/business/evaluation/detail/view-main": [function(e, n, a) {
        var t = e("./app/exam/research-activity/business/research/detail/view-main")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = i.assign({}, t)
          , l = i.assign({}, r.dataForTemplate);
        r.dataForTemplate = l,
        i.assign(r.dataForTemplate, {
            researchRecords: function(e) {
                return s.map(e.researchRecords, function(e, n) {
                    return i.assign(e, {
                        i: n + 1,
                        score: e.score / 100
                    })
                })
            }
        }),
        n.exports = r
    }
    , {
        "./app/exam/research-activity/business/research/detail/view-main": "./app/exam/research-activity/business/research/detail/view-main",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/business/evaluation/detail/view-search": [function(e, n, a) {
        var t = e("./app/exam/research-activity/business/research/detail/view-search")
          , i = e("drizzlejs")
          , s = i.assign({}, t);
        n.exports = s
    }
    , {
        "./app/exam/research-activity/business/research/detail/view-search": "./app/exam/research-activity/business/research/detail/view-search",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/business/evaluation/index": [function(e, n, a) {
        var t = e("./app/exam/research-activity/business/research/index")
          , i = e("drizzlejs")
          , s = i.assign({}, t)
          , r = i.assign({}, s.items);
        s.items = r,
        i.assign(s.items, {
            "exam/research-activity/business/evaluation/detail": {
                isModule: !0
            },
            "exam/research-activity/business/evaluation/detail-satisfaction": {
                isModule: !0
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-activity/business/research/index": "./app/exam/research-activity/business/research/index",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/business/evaluation/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="exam-manage-review">\n    <div class="review-main" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {}, c = a.helperMissing, u = e.escapeExpression;
                return '    <div class="list m-large-top">\n        <table class="table border">\n            <thead><tr>\n                <th>' + u((a.string || n && n.string || c).call(o, "exam.research-activity.manage.index", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + u((a.string || n && n.string || c).call(o, "exam.evaluate.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n" + (null != (l = a.if.call(o, null != n ? n.trainRequired : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0, s, r),
                    inverse: e.program(6, i, 0, s, r),
                    data: i
                })) ? l : "") + (null != (l = a.if.call(o, null != n ? n.isSatisfaction : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.program(10, i, 0, s, r),
                    data: i
                })) ? l : "") + "                <th>" + u((a.string || n && n.string || c).call(o, "exam.research-activity.manage.operate", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            </tr></thead>\n            <tbody>" + (null != (l = a.each.call(o, null != n ? n.researchs : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(12, i, 0, s, r),
                    inverse: e.program(23, i, 0, s, r),
                    data: i
                })) ? l : "") + "</tbody>\n        </table>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s = null != n ? n : {}
                  , r = a.helperMissing
                  , l = e.escapeExpression;
                return "                    <th>" + l((a.string || n && n.string || r).call(s, "finished", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                    <th>" + l((a.string || n && n.string || r).call(s, "no-finished", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n"
            },
            6: function(e, n, a, t, i) {
                return "                    <th>" + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.bussiness.turnout", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n"
            },
            8: function(e, n, a, t, i) {
                return "                    <th>" + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.bussiness.average-satisfaction", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n"
            },
            10: function(e, n, a, t, i) {
                return "                    <th>" + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.bussiness.average-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n"
            },
            12: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return "\n                <tr>\n                    <td>" + d((o = null != (o = a.i || (null != n ? n.i : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "i",
                    hash: {},
                    data: i
                }) : o)) + "</td>\n                    <td>" + d((o = null != (o = a.name || (null != n ? n.name : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "name",
                    hash: {},
                    data: i
                }) : o)) + "</td>\n" + (null != (l = a.if.call(c, null != r[1] ? r[1].trainRequired : r[1], {
                    name: "if",
                    hash: {},
                    fn: e.program(13, i, 0, s, r),
                    inverse: e.program(15, i, 0, s, r),
                    data: i
                })) ? l : "") + (null != (l = a.if.call(c, null != r[1] ? r[1].isSatisfaction : r[1], {
                    name: "if",
                    hash: {},
                    fn: e.program(17, i, 0, s, r),
                    inverse: e.program(19, i, 0, s, r),
                    data: i
                })) ? l : "") + "                    <td>\n" + (null != (l = (a.compare || n && n.compare || u).call(c, null != n ? n.joinNumber : n, "gt", 0, {
                    name: "compare",
                    hash: {},
                    fn: e.program(21, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "                    </td>\n"
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                        <td>" + o((s = null != (s = a.joinNumber || (null != n ? n.joinNumber : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "joinNumber",
                    hash: {},
                    data: i
                }) : s)) + "</td>\n                        <td>" + o((s = null != (s = a.noFinish || (null != n ? n.noFinish : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "noFinish",
                    hash: {},
                    data: i
                }) : s)) + "</td>\n"
            },
            15: function(e, n, a, t, i) {
                var s;
                return "                        <td>" + e.escapeExpression((s = null != (s = a.joinNumber || (null != n ? n.joinNumber : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "joinNumber",
                    hash: {},
                    data: i
                }) : s)) + "</td>\n"
            },
            17: function(e, n, a, t, i) {
                var s;
                return "                        <td>" + e.escapeExpression((s = null != (s = a.averageSatisfaction || (null != n ? n.averageSatisfaction : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "averageSatisfaction",
                    hash: {},
                    data: i
                }) : s)) + "</td>\n"
            },
            19: function(e, n, a, t, i) {
                var s;
                return "                        <td>" + e.escapeExpression((s = null != (s = a.averageScore || (null != n ? n.averageScore : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "averageScore",
                    hash: {},
                    data: i
                }) : s)) + "</td>\n"
            },
            21: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                            <a id="detail-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((a.string || n && n.string || l).call(r, "detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            23: function(e, n, a, t, i) {
                var s;
                return (null != (s = a.if.call(null != n ? n : {}, null != n ? n.trainRequired : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(24, i, 0),
                    inverse: e.program(26, i, 0),
                    data: i
                })) ? s : "") + "                </tr>\n            "
            },
            24: function(e, n, a, t, i) {
                return '                        <tr class="nothing-content"><td colspan="6">\n                            <div class="content-empty">\n                                <div class="img img-type-1"></div>\n                                <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                            </div>\n                        </td></tr>\n"
            },
            26: function(e, n, a, t, i) {
                return '                        <tr class="nothing-content"><td colspan="5">\n                            <div class="content-empty">\n                                <div class="img img-type-1"></div>\n                                <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                            </div>\n                        </td></tr>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/business/evaluation/view-main": [function(e, n, a) {
        var t = e("./app/exam/research-activity/business/research/view-main")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = i.assign({}, t)
          , l = i.assign({}, r.handlers)
          , o = i.assign({}, r.dataForTemplate);
        r.handlers = l,
        i.assign(r.handlers, {
            detail: function(e) {
                var n = this
                  , a = this.module.items["exam/research-activity/business/evaluation/detail"]
                  , t = this.bindings.researchs.getById(e)
                  , i = 0;
                t && 4 === t.type && (a = this.module.items["exam/research-activity/business/evaluation/detail-satisfaction"]),
                1 === n.module.renderOptions.businessType ? (2 === n.module.renderOptions.type && (i = 1),
                3 === n.module.renderOptions.type && (i = 2)) : 2 === n.module.renderOptions.businessType ? (2 === n.module.renderOptions.type && (i = 3),
                3 === n.module.renderOptions.type && (i = 4)) : 4 === n.module.renderOptions.businessType && (2 === n.module.renderOptions.type && (i = 5),
                3 === n.module.renderOptions.type && (i = 6)),
                this.app.viewport.modal(a, {
                    researchId: e,
                    businessId: n.bindings.state.data.businessId,
                    businessType: i,
                    businessName: n.module.renderOptions.businessData.name || n.module.renderOptions.businessData.subject
                })
            }
        }),
        r.dataForTemplate = o,
        i.assign(r.dataForTemplate, {
            researchs: function(e) {
                var n = e.renderOptionsState.trainOptions || {};
                return s.map(e.researchs, function(e, a) {
                    return i.assign(e, {
                        i: a + 1,
                        noFinish: n.joinNumber - e.joinNumber,
                        averageScore: e.averageScore / 100,
                        averageSatisfaction: e.averageSatisfaction / 100
                    })
                })
            },
            trainRequired: function(e) {
                return (e.renderOptionsState.trainOptions || {}).required
            },
            isSatisfaction: function() {
                return 4 === this.module.renderOptions.type
            }
        }),
        n.exports = r
    }
    , {
        "./app/exam/research-activity/business/research/view-main": "./app/exam/research-activity/business/research/view-main",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/business/research/detail/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("./app/util/strings");
        a.items = {
            main: "main",
            search: "search",
            "exam/research-activity/manage/summary": {
                isModule: !0
            },
            "exam/research-activity/manage/detail": {
                isModule: !0
            }
        },
        a.title = i.get("exam.research-activity.research-answer.research-detail"),
        a.large = !0,
        a.store = {
            models: {
                reset: {},
                state: {},
                renderOptionsState: {},
                research: {
                    url: "../exam/research-activity/front/simple-data"
                },
                researchRecords: {
                    url: "../exam/research-record",
                    type: "pageable",
                    root: "items"
                },
                export: {
                    url: "../exam/research-record/export-detail"
                }
            },
            callbacks: {
                init: function(e) {
                    return this.models.renderOptionsState.set({
                        trainOptions: e.trainOptions
                    }),
                    !e.researchId || (this.models.researchRecords.params = {
                        researchQuestionaryId: e.researchId,
                        businessId: e.businessId,
                        status: 1
                    },
                    this.models.research.set({
                        id: e.researchId
                    }),
                    this.models.research.params = {
                        businessId: e.businessId
                    },
                    this.chain([this.get(this.models.researchRecords, {
                        loading: !0
                    }), this.get(this.models.research)]))
                },
                search: function(e) {
                    return t.assign(this.models.researchRecords.params, e),
                    t.assign(this.models.state.data, e),
                    this.get(this.models.researchRecords)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/business/research/detail/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="exam-business-wraper">\n        <div data-region="search"></div>\n        <div data-region="main"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '<form id="searchKey" class="vertical">\n    <div class="grid-row"><div class="col-md-12">\n        <div class="inline-block">\n            ' + o((a.string || n && n.string || l).call(r, "exam.research.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n            :\n        </div>\n        <div class="inline-block m-left">' + o(c(null != (s = null != n ? n.research : n) ? s.name : s, n)) + '</div>\n    </div></div>\n    <div class="grid-row">\n        <div class="col-md-12">\n            <div class="inline-block"><span>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.manage.participants-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                <span>" + o(c(null != (s = null != n ? n.research : n) ? s.joinNumber : s, n)) + '</span></span></div>\n        </div>\n    </div>\n    <hr/>\n    <div id="searchbar" class="manage-search train-new-lecturer">\n        <div class="item">\n            <label class="label">' + o((a.string || n && n.string || l).call(r, "account-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n            <input class="input" name="name" value="' + o(c(null != (s = null != n ? n.state : n) ? s.name : s, n)) + '"/>\n        </div>\n        <div class="item">\n            <label class="label">' + o((a.string || n && n.string || l).call(r, "human.member.full-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n            <input class="input" name="fullName" value="' + o(c(null != (s = null != n ? n.state : n) ? s.fullName : s, n)) + '"/>\n        </div>\n        <div class="item">\n            <label class="label">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.bussiness.submit-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n            <input id="submit-time" class="input" name="submitTime" value="' + o(c(null != (s = null != n ? n.state : n) ? s.submitTime : s, n)) + '"/>\n        </div>\n        <div class="item">\n            <div class="text-center"><div id="search" class="btn pull-left">' + o((a.string || n && n.string || l).call(r, "search", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n        </div>\n    </div>\n</form>"
            },
            5: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    <div class="row">\n        <div class="col-sm-12">\n            <div class="clearfix">\n                <div class="pull-right">\n                    <div id="summary" class="btn">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.summary.summary", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    <a href="' + c((r = null != (r = a.exportUrl || (null != n ? n.exportUrl : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "exportUrl",
                    hash: {},
                    data: i
                }) : r)) + '"><div id="export" class="btn">' + c((a.string || n && n.string || o).call(l, "export-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div></a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <table class="table border">\n        <thead><tr>\n            <th>' + c((a.string || n && n.string || o).call(l, "serial.number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "account-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "human.member.full-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "system.all.organization", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.bussiness.submit-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + c((a.string || n && n.string || o).call(l, "operating", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n        </tr></thead>\n        <tbody>" + (null != (s = a.each.call(l, null != n ? n.researchRecords : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(8, i, 0),
                    data: i
                })) ? s : "") + '</tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression, u = e.lambda;
                return "\n            <tr>\n                <td>" + c((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                <td>" + c(u(null != (s = null != n ? n.member : n) ? s.name : s, n)) + "</td>\n                <td>" + c(u(null != (s = null != n ? n.member : n) ? s.fullName : s, n)) + '</td>\n                <td><div class="td-content" title="' + c(u(null != (s = null != (s = null != n ? n.member : n) ? s.organization : s) ? s.name : s, n)) + '">' + c(u(null != (s = null != (s = null != n ? n.member : n) ? s.organization : s) ? s.name : s, n)) + "</div></td>\n                <td>" + c((a.dateMinute || n && n.dateMinute || o).call(l, null != n ? n.submitTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + '</td>\n                <td>\n                    <a id="detail-' + c((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((a.string || n && n.string || o).call(l, "detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                </td>\n"
            },
            8: function(e, n, a, t, i) {
                return '                <tr class="nothing-content"><td colspan="6">\n                    <div class="content-empty">\n                        <div class="img-box img-type-1"></div>\n                        <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-content", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                    </div>\n                </td></tr>\n            </tr>\n        "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "search", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/business/research/detail/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.bindings = {
            researchRecords: !0,
            research: !0,
            renderOptionsState: !1,
            export: !1
        },
        a.events = {
            "click summary": "summary",
            "click detail-*": "detail"
        },
        a.handlers = {
            summary: function() {
                var e = this.bindings.researchRecords;
                window.open("#/exam/research/summary/" + e.params.researchQuestionaryId + "/" + e.params.businessId, "_blank")
            },
            detail: function(e) {
                window.open("#/exam/research-activity/research-answer/" + e, "_blank")
            }
        },
        a.dataForTemplate = {
            researchRecords: function(e) {
                return t.map(e.researchRecords, function(e, n) {
                    return i.assign(e, {
                        i: n + 1
                    })
                })
            },
            exportUrl: function() {
                var e = this.bindings.export.getFullUrl() + "?"
                  , n = this.bindings.research.data
                  , a = this.bindings.researchRecords
                  , i = this.app.global.OAuth.token.access_token
                  , s = this.module.renderOptions.businessName
                  , r = this.module.renderOptions.businessType
                  , l = a.params;
                return t.map(l, function(n, a) {
                    n && (e += a + "=" + n + "&")
                }),
                e += "access_token=" + i + "&id=" + n.id,
                e += "&businessName=" + s + "&businessType=" + r,
                encodeURI(e)
            }
        },
        a.components = [{
            id: "pager",
            name: "pager",
            options: {
                model: "researchRecords"
            }
        }]
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/business/research/detail/view-search": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("jquery");
        a.bindings = {
            research: !0,
            reset: !0,
            renderOptionsState: !1
        },
        a.actions = {
            "click search": "search"
        },
        a.dataForActions = {
            search: function(e) {
                var n = e.submitTime || "to";
                return t.assign(e, {
                    submitTimeStart: n.split("to")[0].trim(),
                    submitTimeEnd: n.split("to")[1].trim()
                })
            }
        },
        a.dataForTemplate = {},
        a.events = {
            "keypress searchbar": "keysearch"
        },
        a.handlers = {
            keysearch: function(e) {
                13 === e.keyCode && i(this.$("search")).click()
            }
        },
        a.components = [{
            id: "submit-time",
            name: "flatpickr",
            options: {
                enableTime: !0,
                mode: "range"
            }
        }]
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/research-activity/business/research/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection");
        a.items = {
            main: "main",
            "exam/research-activity/manage/summary": {
                isModule: !0
            },
            "exam/research-activity/business/research/detail": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                renderOptionsState: {},
                researchs: {
                    url: "../exam/research-activity/front/find-by-business",
                    mixin: {
                        getById: function(e) {
                            return i.find(this.data, {
                                id: e
                            })
                        }
                    }
                },
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.state
                      , a = e.businessData || {};
                    return this.models.renderOptionsState.set({
                        trainOptions: e.trainOptions
                    }),
                    t.assign(this.models.researchs.params, {
                        businessId: a.id,
                        type: e.type,
                        businessType: e.businessType
                    }),
                    n.data = this.models.researchs.params,
                    this.get(this.models.researchs, {
                        loading: !0
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/business/research/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="exam-manage-review">\n    <div class="review-main" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="list m-top">\n        <table class="table table2 text-center">\n            <thead><tr>\n                <th>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.manage.index", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research-activity.bussiness.turnout", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research-activity.manage.operate", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            </tr></thead>\n            <tbody>" + (null != (s = a.each.call(r, null != n ? n.researchs : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.program(7, i, 0),
                    data: i
                })) ? s : "") + "</tbody>\n        </table>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "\n                <tr>\n                    <td>" + c((r = null != (r = a.i || (null != n ? n.i : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "i",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                    <td>" + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                    <td>" + c((r = null != (r = a.joinNumber || (null != n ? n.joinNumber : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "joinNumber",
                    hash: {},
                    data: i
                }) : r)) + '</td>\n                    <td class="operation">\n' + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.joinNumber : n, "gt", 0, {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                    </td>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                            <a id="summary-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((a.string || n && n.string || l).call(r, "summary", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n                            |\n                            <a id="detail-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((a.string || n && n.string || l).call(r, "detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            7: function(e, n, a, t, i) {
                return '                    <tr class="nothing-content"><td colspan="4">\n                        <div class="content-empty">\n                            <div class="img img-type-1"></div>\n                            <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.bussiness.nothing", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                        </div>\n                    </td></tr>\n                </tr>\n            "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/business/research/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.bindings = {
            researchs: !0,
            renderOptionsState: !1,
            state: !1
        },
        a.dataForTemplate = {
            researchs: function(e) {
                return t.map(e.researchs, function(e, n) {
                    return i.assign(e, {
                        i: n + 1
                    })
                })
            }
        },
        a.events = {
            "click summary-*": "summary",
            "click detail-*": "detail"
        },
        a.handlers = {
            summary: function(e) {
                window.open("#/exam/research/summary/" + e + "/" + this.bindings.state.data.businessId, "_blank")
            },
            detail: function(e) {
                var n = this
                  , a = this.module.items["exam/research-activity/business/research/detail"]
                  , t = 0;
                1 === n.module.renderOptions.businessType ? (2 === n.module.renderOptions.type && (t = 1),
                3 === n.module.renderOptions.type && (t = 2)) : 2 === n.module.renderOptions.businessType ? (2 === n.module.renderOptions.type && (t = 3),
                3 === n.module.renderOptions.type && (t = 4)) : 4 === n.module.renderOptions.businessType && (2 === n.module.renderOptions.type && (t = 5),
                3 === n.module.renderOptions.type && (t = 6)),
                this.app.viewport.modal(a, {
                    researchId: e,
                    businessId: n.bindings.state.data.businessId,
                    businessType: t,
                    businessName: n.module.renderOptions.businessData.name || n.module.renderOptions.businessData.subject
                })
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/import-data/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings");
        a.items = {
            main: "main",
            file: ""
        },
        a.title = i.get("exam.research-activity.import-data.import"),
        a.store = {
            models: {
                file: {
                    url: "../human/file/upload-file"
                },
                importData: {
                    url: "../exam/dimension/import"
                },
                exportQuestionTemplate: {
                    url: "../exam/dimension/export"
                },
                download: {
                    url: "../human/file/download"
                },
                state: {}
            },
            callbacks: {
                importData: function(e) {
                    var n = this;
                    return this.models.importData.set(e),
                    this.post(this.models.importData).then(function() {
                        var e = n.models.importData.data
                          , a = n.models.state
                          , s = n.module.renderOptions.callback
                          , r = JSON.parse(e.data)
                          , l = i.get("exam.research-activity.import-data.total-import") + e.successCount + i.get("exam.research-activity.import-data.total-data") + e.failCount + i.get("exam.research-activity.import-data.data");
                        return s && s(r, function(e) {
                            var n = t.map(e, function(e) {
                                return e.id
                            }).join(",");
                            a.data.dimensions = JSON.stringify(e),
                            a.data.dimensionIds = n,
                            a.changed()
                        }),
                        0 === e.failCount && 0 === e.successCount ? (this.app.message.error(i.get("exam.research-activity.import-data.import-can-not-empty")),
                        !1) : (e.failCount <= 0 ? (this.app.message.success(i.get("import-success")),
                        this.app.viewport.closePopup()) : (e.showErrorUrl = !0,
                        n.models.importData.changed(),
                        this.app.message.success(l)),
                        !0)
                    })
                },
                init: function(e) {
                    var n = this.models.state
                      , a = t.map(e.dimensions, function(e) {
                        return e.id
                    }).join(",");
                    return this.models.importData.clear(),
                    n.set({
                        type: e.type,
                        dimensions: JSON.stringify(e.dimensions),
                        dimensionIds: a
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/import-data/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    <form class="vertical">\n        <div class="row"><div class="col-sm-12"><span>' + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.import-steps", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span></div></div>\n        <label>\n            " + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.download-template", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n            <a id="download-template" href="' + c((r = null != (r = a.downloadTemplateUrl || (null != n ? n.downloadTemplateUrl : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "downloadTemplateUrl",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.down-import-template", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n        </label>\n        <label>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.choose-excel", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</label>\n        <label>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.after-success", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</label>\n        <label>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.when-failed", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n        <br/>\n        <div class="row"><div class="col-sm-12">\n            <div id="import" class="btn">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.import-data.import-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n" + (null != (s = a.if.call(l, null != (s = null != n ? n.importData : n) ? s.showErrorUrl : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div></div>\n        " + (null != (s = a.if.call(l, null != n ? n.errors : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '\n        <div class="error">' + (null != (s = a.each.call(l, null != n ? n.errorMsg : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n    </form>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                <a id="downloadError" class="btn" href="' + o((s = null != (s = a.errorFileUrl || (null != n ? n.errorFileUrl : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "errorFileUrl",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.import-data.download-error-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return "<div>\n            <h3>" + o((a.string || n && n.string || l).call(r, "exam.research-activity.import-data.total-import-success", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.importData : n) ? s.successCount : s, n)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.import-data.total-import-failed", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.importData : n) ? s.failCount : s, n)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.import-data.data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</h3>\n        </div>"
            },
            8: function(e, n, a, t, i) {
                return "\n            <p>" + e.escapeExpression(e.lambda(n, n)) + "</p>\n        "
            },
            10: function(e, n, a, t, i) {
                return '    <div id="uploader"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "file", {
                    name: "view",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/import-data/view-file": [function(e, n, a) {
        a.bindings = {
            file: "fileUpload",
            state: !1
        },
        a.components = [{
            id: "uploader",
            name: "uploader",
            options: {
                model: "file",
                chunk_size: "100mb",
                filters: {
                    max_file_size: "100mb",
                    mime_types: [{
                        title: "files",
                        extensions: "xls,xlsx"
                    }]
                }
            }
        }],
        a.fileUpload = function() {
            return this.app.viewport.closeModal(),
            this.module.dispatch("importData", {
                fileId: this.bindings.file.data.imgId,
                type: this.bindings.state.data.type,
                dimensions: this.bindings.state.data.dimensions
            })
        }
    }
    , {}],
    "./app/exam/research-activity/import-data/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/errors")
          , s = e("./app/util/strings");
        a.bindings = {
            exportQuestionTemplate: !0,
            importData: !0,
            state: !0,
            download: !1,
            file: "fileUpload"
        },
        a.events = {},
        a.handlers = {},
        a.components = function() {
            return [{
                id: "import",
                name: "superUpload",
                options: {
                    model: "file",
                    accept: "xls,xlsx",
                    maxSize: "100M",
                    isProgress: !0
                }
            }]
        }
        ,
        a.dataForTemplate = {
            downloadTemplateUrl: function() {
                var e = this.bindings.exportQuestionTemplate
                  , n = this.bindings.state.data
                  , a = e.getFullUrl() + "?"
                  , t = this.app.global.OAuth.token.access_token
                  , i = n.dimensionIds;
                return a += "exportType=1&type=" + n.type + "&dimensionIds=" + i + "&access_token=" + t,
                encodeURI(a)
            },
            errors: function(e) {
                return !!e.importData && e.importData.failCount >= 0
            },
            errorFileUrl: function() {
                var e = this.bindings.importData.data
                  , n = this.app.global.OAuth.token.access_token
                  , a = this.bindings.download.getFullUrl() + "?id=" + e.errorFileId + "&access_token=" + n;
                return encodeURI(a)
            },
            errorMsg: function(e) {
                return e.importData ? t.map(e.importData.errors, function(e) {
                    var n = s.get("exam.research-activity.import-data.can-not-empty");
                    return e.code && (n = i.get(e.code)),
                    s.getWithParams("train.import-data.error-msg", [e.row, e.column + 1]) + "。[" + n + "]"
                }) : ""
            }
        },
        a.fileUpload = function() {
            return this.module.dispatch("importData", {
                fileId: this.bindings.file.data.imgs[0].id,
                type: this.bindings.state.data.type,
                dimensions: this.bindings.state.data.dimensions
            })
        }
    }
    , {
        "./app/util/errors": "./app/util/errors",
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/index/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection");
        a.items = {
            side: "side",
            main: "main",
            banner: "banner",
            "research-tips": "",
            "exam/research-activity/paper": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                research: {
                    url: "../exam/research-activity/front/simple-data"
                },
                topics: {
                    url: "../system/topic/ids"
                },
                relativeResearchs: {
                    url: "../exam/research-activity/relative-researchs"
                },
                relativeMembers: {
                    url: "../exam/research-activity/relative-members"
                },
                down: {
                    url: "../human/file/download"
                },
                researchRecord: {
                    url: "../exam/research-record/get-by-research"
                },
                access: {
                    url: "../exam/research-activity/access"
                },
                researchShare: {
                    url: "../exam/research-activity/share"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this
                      , a = this.models.research
                      , s = this.models.topics
                      , r = this.models.relativeResearchs
                      , l = this.models.relativeMembers
                      , o = this.models.access;
                    return e.researchId ? (a.set({
                        id: e.researchId
                    }),
                    r.params = {
                        researchId: e.researchId
                    },
                    l.params = {
                        researchId: e.researchId
                    },
                    o.data = {
                        researchQuestionaryId: e.researchId
                    },
                    n.get(r),
                    n.get(l),
                    n.save(o).then(function() {
                        return n.chain(n.get(n.models.research, {
                            loading: !0,
                            slient: !0
                        }), function() {
                            return t.assign(s.params, {
                                ids: i.map(a.data.topics, "topicId").join(",")
                            }),
                            !!s.params.ids && n.get(n.models.topics)
                        }, function() {
                            t.assign(n.models.research.data, {
                                topics: n.models.topics.data
                            }),
                            n.models.research.changed()
                        })
                    })) : ""
                },
                getRecordByResearch: function() {
                    return this.models.researchRecord.clear(),
                    t.assign(this.models.researchRecord.params, {
                        researchId: this.models.research.data.id
                    }),
                    this.get(this.models.researchRecord)
                },
                researchShare: function(e) {
                    var n = this.models.researchShare;
                    n.set(e),
                    this.save(n)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/index/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="class-register-page page-detail-wrapper">\n    <div class="class-register-banner page-detail-top-wrapper"><div class="clearfix container" data-region="banner"></div></div>\n    <div class="page-main-wrapper container">\n        <div class="page-side" data-region="side"></div>\n        <div class="page-main" data-region="main"></div>\n        <div class="page-main" data-region="refresh"></div>\n    </div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    <div class="cover pull-left"><img src="' + c((r = null != (r = a.img || (null != n ? n.img : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "img",
                    hash: {},
                    data: i
                }) : r)) + '"/></div>\n    <div class="banner-con pull-left">\n        <div class="pull-right layout-ml-small">\n            <div id="share"></div>\n        </div>\n        <div class="h3 overflow top-title">' + c(e.lambda(null != (s = null != n ? n.research : n) ? s.name : s, n)) + "</div>\n        <p>" + c((a.string || n && n.string || o).call(l, "exam.research-activity.index.research-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + c((a.dateMinute || n && n.dateMinute || o).call(l, null != (s = null != n ? n.research : n) ? s.startTime : s, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "\n            ~\n            " + c((a.dateMinute || n && n.dateMinute || o).call(l, null != (s = null != n ? n.research : n) ? s.endTime : s, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + '</p>\n        <div class="m-top">\n            <span class="m-right">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.index.releation-topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ": </span>\n" + (null != (s = a.if.call(l, null != n ? n.hasTopic : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.program(10, i, 0),
                    data: i
                })) ? s : "") + "        </div>\n" + (null != (s = a.if.call(l, null != (s = null != n ? n.research : n) ? s.name : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s;
                return null != (s = a.each.call(null != n ? n : {}, null != (s = null != n ? n.research : n) ? s.topics : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <div class="tag-btn radius">\n' + (null != (s = (a.compare || n && n.compare || a.helperMissing).call(null != n ? n : {}, null != n ? n.group : n, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(8, i, 0),
                    data: i
                })) ? s : "") + "                    </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                            <a class="normal" href="#/ask/topic/detail/' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" target="_blank">' + o((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            8: function(e, n, a, t, i) {
                var s;
                return "                            " + e.escapeExpression((s = null != (s = a.name || (null != n ? n.name : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "\n"
            },
            10: function(e, n, a, t, i) {
                return "                " + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "none", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n"
            },
            12: function(e, n, a, t, i) {
                var s;
                return null != (s = (a.compare || n && n.compare || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.access : n) ? s.status : s, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.program(15, i, 0),
                    data: i
                })) ? s : ""
            },
            13: function(e, n, a, t, i) {
                return '                <div class="m-top"><div id="do-research" class="btn">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.research-detail.detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n"
            },
            15: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != n ? n.research : n) ? s.status : s, "eq", 4, {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != n ? n.research : n) ? s.status : s, "eq", 2, {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != (s = null != n ? n.research : n) ? s.status : s, "eq", 3, {
                    name: "compare",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            16: function(e, n, a, t, i) {
                return '                    <div class="m-top"><div class="btn disabled">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "completed", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n"
            },
            18: function(e, n, a, t, i) {
                return '                    <div class="m-top"><div class="btn disabled">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "not-started", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n"
            },
            20: function(e, n, a, t, i) {
                return '                    <div class="m-top"><div id="do-research" class="btn">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.index.in-research", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n"
            },
            22: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <section class="section student">\n        <div class="h3">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.index.also-in-research", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        <div class="layout-mt-small user-picture">\n            <div class="grid-row">\n' + (null != (s = a.each.call(r, null != n ? n.relativeMembers : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.program(25, i, 0),
                    data: i
                })) ? s : "") + '            </div>\n        </div>\n        <div data-dynamic-key="business-card"></div>\n    </section>\n'
            },
            23: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = "function", c = e.escapeExpression;
                return '                    <a class="col-md-4 text-center" href="#/personal-homepage/' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '?type=1" target="_blank">\n                        <img src="' + c((s = null != (s = a.headPortraitPath || (null != n ? n.headPortraitPath : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "headPortraitPath",
                    hash: {},
                    data: i
                }) : s)) + '" id="cards-' + c((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"/>\n                        <div class="text-overflow" title="' + c((s = null != (s = a.fullName || (null != n ? n.fullName : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "fullName",
                    hash: {},
                    data: i
                }) : s)) + '">' + c((s = null != (s = a.fullName || (null != n ? n.fullName : n)) ? s : l,
                typeof s === o ? s.call(r, {
                    name: "fullName",
                    hash: {},
                    data: i
                }) : s)) + "</div>\n                    </a>\n"
            },
            25: function(e, n, a, t, i) {
                return '                    <div class="content-empty-side"><div class="img-box"></div><p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no.related.data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p></div>\n"
            },
            27: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="h3">' + o((a.string || n && n.string || l).call(r, "exam.research.questionary-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n    <div class="layout-mt-small">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.research : n) ? s.questionaryDetailRich : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(28, i, 0),
                    inverse: e.program(30, i, 0),
                    data: i
                })) ? s : "") + '    </div>\n    <section class="section">\n        <div class="h3">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.index.releated-research", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n        <div class="main-list layout-mt-small">\n            <ul class="cell-3">\n' + (null != (s = a.each.call(r, null != n ? n.relativeResearchs : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(32, i, 0),
                    inverse: e.program(34, i, 0),
                    data: i
                })) ? s : "") + "            </ul>\n        </div>\n    </section>\n"
            },
            28: function(e, n, a, t, i) {
                var s;
                return "            " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.research : n) ? s.questionaryDetailRich : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n"
            },
            30: function(e, n, a, t, i) {
                return "            " + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "temporary-absence", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n"
            },
            32: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <li>\n                        <div class="content">\n                            <div class="img">\n                                <div class="img-cont">\n                                    <a class="normal"><img src="' + c((r = null != (r = a.coverIdPath || (null != n ? n.coverIdPath : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "coverIdPath",
                    hash: {},
                    data: i
                }) : r)) + '"/></a>\n                                </div>\n                                <div class="detail-wrapper">\n                                    <p>' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.questionaryDetail : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</p>\n                                    <div class="btn radius block" id="research-' + c((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.index.i-want-in", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                                </div>\n                            </div>\n                            <div class="clearfix">\n                                <div class="pull-right tip-text">\n                                    <i class="iconfont icon-user" title="' + c((a.string || n && n.string || o).call(l, "exam.research-activity.bussiness.turnout", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"></i>\n                                    ' + c((r = null != (r = a.joinNumber || (null != n ? n.joinNumber : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "joinNumber",
                    hash: {},
                    data: i
                }) : r)) + '\n                                </div>\n                                <div class="title text-overflow">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '</div>\n                            </div>\n                            <div class="bottom sub-text clearfix">\n                                <div class="pull-left"><i class="iconfont icon-time"></i></div>\n                                <div class="pull-right">\n                                    ' + c((a.date || n && n.date || o).call(l, null != n ? n.startTime : n, {
                    name: "date",
                    hash: {},
                    data: i
                })) + "\n                                    ~\n                                    " + c((a.date || n && n.date || o).call(l, null != n ? n.endTime : n, {
                    name: "date",
                    hash: {},
                    data: i
                })) + "\n                                </div>\n                            </div>\n                        </div>\n"
            },
            34: function(e, n, a, t, i) {
                return '                        <div class="content-empty"><div class="img-box img-type-1"></div><p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.index.no-releated-research", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p></div>\n                    </li>\n"
            },
            36: function(e, n, a, t, i) {
                return ""
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "banner", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(27, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "research-tips", {
                    name: "view",
                    hash: {},
                    fn: e.program(36, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n<div>" + (null != (s = (a.echoX || n && n.echoX || c).call(o, null != (s = null != n ? n.research : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/index/view-banner": [function(e, n, a) {
        a.bindings = {
            research: !0,
            access: !0,
            down: !1
        },
        a.events = {
            "click do-research": "doResearch"
        },
        a.handlers = {
            doResearch: function() {
                window.open("#/exam/research-activity/paper-research/" + this.bindings.research.data.id, "_blank")
            }
        },
        a.dataForTemplate = {
            img: function(e) {
                var n = e.research;
                return n.coverIdPath ? n.coverIdPath : "images/default-cover/default_survey.jpg"
            },
            hasTopic: function(e) {
                var n = e.research.topics;
                return n && n.length > 0
            }
        },
        a.components = [function() {
            var e = {}
              , n = this
              , a = this.bindings.research.data;
            return a && (e.id = a.id,
            e.type = 5,
            e.pics = a.coverIdPath,
            e.title = a.name),
            {
                id: "share",
                name: "picker",
                options: {
                    picker: "share",
                    data: e,
                    callback: function() {
                        n.module.dispatch("researchShare", {
                            id: a.id
                        })
                    }
                }
            }
        }
        ]
    }
    , {}],
    "./app/exam/research-activity/index/view-main": [function(e, n, a) {
        var t = e("lodash/collection");
        a.bindings = {
            research: !0,
            relativeResearchs: !0,
            down: !0
        },
        a.dataForTemplate = {
            relativeResearchs: function(e) {
                var n = e.relativeResearchs;
                return t.map(n || [], function(e) {
                    var n = e;
                    n.coverIdPath = n.coverIdPath ? n.coverIdPath : "images/default-cover/default_survey.jpg"
                }),
                n
            }
        },
        a.events = {
            "click research-*": "showResearchIndex"
        },
        a.handlers = {
            showResearchIndex: function(e) {
                var n = "#/exam/research-activity/index/" + e;
                window.open(n, "_blank")
            }
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/index/view-research-tips": [function(e, n, a) {
        var t = e("./app/util/helpers")
          , i = e("./app/util/strings");
        a.bindings = {
            researchRecord: !0
        },
        a.dataForTemplate = {
            research: function(e) {
                var n = e.researchRecord
                  , a = n.researchQuestionary
                  , s = a.questionaryDetail;
                return this.options.closeText = i.get("main.modal.close"),
                this.options.title = i.get("exam.research.questionary-detail"),
                n.id ? 1 === a.status || 5 === a.status ? (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.not-exist")) : 2 === a.status ? (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.not-begin") + t.dateMinute(a.startTime) + " ~ " + t.dateMinute(a.endTime) + i.get("exam.research-activity.research-detail.research-ing")) : 3 === a.status ? 0 === n.status && (this.options.closeText = i.get("exam.research-activity.question.answer-next-time")) : 4 === a.status && 0 === n.status && (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.overdue")) : (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.not-authority")),
                {
                    content: s
                }
            }
        },
        a.events = {
            "click button-*": "doSome"
        },
        a.handlers = {
            doSome: function(e) {
                e.indexOf("answer-next-time") > -1 && this.app.viewport.closeModal()
            }
        },
        a.beforeRender = function() {}
        ,
        a.title = i.get("exam.research.questionary-detail"),
        a.buttons = function() {
            var e = this.bindings.researchRecord.data
              , n = this.bindings.researchRecord.data.researchQuestionary
              , a = (new Date).getTime()
              , t = []
              , s = {
                text: i.get("exam.research-activity.research-detail.detail"),
                fn: function() {
                    var n = "#/exam/research-activity/research-answer/" + e.id;
                    window.open(n, "_blank")
                }
            }
              , r = {
                text: i.get("exam.begin-answer-question"),
                fn: function() {
                    var e = "#/exam/research-activity/research-detail/" + n.id + "/" + n.id;
                    window.open(e, "_blank")
                }
            };
            return !e.id || n.startTime > a ? t : (a >= n.startTime && a <= n.endTime ? 0 === e.status ? t.push(r) : t.push(s) : a >= n.endTime && 1 === e.status && t.push(s),
            t)
        }
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/research-activity/index/view-side": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("jquery")
          , s = e("lodash/collection");
        a.bindings = {
            relativeMembers: !0,
            down: !0
        },
        a.dataForTemplate = {
            relativeMembers: function(e) {
                return s.map(e.relativeMembers, function(e) {
                    return t.assign(e, {
                        headPortraitPath: e.headPortraitPath || "images/default-userpic.png"
                    })
                })
            }
        },
        a.events = {
            "mouseover cards-*": "showCard"
        },
        a.handlers = {
            showCard: function(e, n, a) {
                var t = this.getEntities()[0]
                  , s = i(a).offset().left + 60
                  , r = i(a).offset().top - 10;
                t && t.setStateData({
                    id: e,
                    left: s,
                    top: r
                })
            }
        },
        a.type = "dynamic",
        a.getEntityModuleName = function(e) {
            return e ? "picker/" + e : ""
        }
        ,
        a.getEntity = function() {
            return {}
        }
        ,
        a.dataForEntityModule = function(e) {
            return e
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/manage/detail/index": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("drizzlejs"), r = e("./app/util/maps"), l = e("./app/util/strings");
        a.items = {
            main: "main",
            side: "side",
            description: ""
        },
        a.large = !0,
        a.title = l.get("exam.research-activity.research-answer.research-detail"),
        a.largeDetail = !0,
        a.store = {
            models: {
                researchRecord: {
                    url: "../exam/research-record/front/detail",
                    mixin: {
                        getAnswerRecordsByQuestion: function(e) {
                            var n = this
                              , a = e.id
                              , t = e.subs ? i.map(e.subs, function(e) {
                                return e.id
                            }) : []
                              , s = n.getAnswerRecordsByQuestionId(a);
                            return i.map(t, function(e) {
                                i.map(n.getAnswerRecordsByQuestionId(e) || [], function(e) {
                                    s.push(e)
                                })
                            }),
                            s
                        },
                        getAnswerRecordsByQuestionId: function(e) {
                            var n = this.data.researchQuestionary.researchAnswerRecordMaps;
                            return i.filter(i.map(n, function(n) {
                                return i.find(n.researchAnswerRecords, ["questionId", e])
                            }), function(e) {
                                return e
                            })
                        },
                        getQuestionIndex: function(e, n) {
                            var a = this.data.researchQuestionary.dimensions;
                            return a[a.findIndex(function(e) {
                                return e.id === n
                            })].questions.findIndex(function(n) {
                                return n.id === e
                            }) + 1
                        }
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            i.forEach(e, function(e) {
                                e.questions && i.forEach(e.questions, function(e) {
                                    n.data.push(e)
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = i.find(this.data, ["id", e])
                              , a = this.module.store.models.researchRecord;
                            return s.assign(n, {
                                answerRecords: a.getAnswerRecordsByQuestion(n),
                                index: a.getQuestionIndex(n.id, n.dimensionId),
                                researchRecordId: a.data.id
                            })
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = r.get("question-types-all")
                              , a = r.get("chineseNumber")
                              , t = -1
                              , o = this.module.store.models.questions;
                            e && (t = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            }),
                            this.data = i.map(e, function(e, r) {
                                var c = i.find(a, ["key", (r + 1).toString()]).value;
                                return -1 !== t && t < r && (c = i.find(a, ["key", r.toString()]).value),
                                t === r && (c = ""),
                                s.assign(e, {
                                    dimensionIndex: c,
                                    questions: i.map(e.questions, function(e, a) {
                                        return s.assign(e, {
                                            questionIndex: a + 1,
                                            status: 0 === r && 0 === a ? "current" : "init",
                                            typeDesc: i.find(n, ["key", e.type.toString()]).value + l.get("question")
                                        })
                                    }),
                                    answerScore: i.reduce(i.map(e.questions, function(e) {
                                        var n = o.getQuestionById(e.id)
                                          , a = i.find(n.answerRecords, ["researchRecordId", n.researchRecordId]);
                                        return a ? a.score / 100 : 0
                                    }), function(e, n) {
                                        return e + n
                                    }) || 0
                                })
                            }))
                        },
                        selectQuestion: function(e) {
                            var n = this.data.findIndex(function(e) {
                                return i.some(e.questions, function(e) {
                                    return "current" === e.status
                                })
                            });
                            s.assign(i.find(this.data[n].questions, ["status", "current"]), {
                                status: "init"
                            }),
                            n = this.data.findIndex(function(n) {
                                return !!i.find(n.questions, ["id", e])
                            }),
                            s.assign(i.find(this.data[n].questions, ["id", e]), {
                                status: "current"
                            }),
                            this.changed()
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.researchRecord
                      , a = this.models.questions
                      , t = this.models.dimensions
                      , i = this;
                    return n.clear(),
                    t.clear(),
                    t.changed(),
                    e.researchRecord && e.researchRecord.researchQuestionary && e.researchRecord.researchQuestionary.dimensions ? (n.set(e.researchRecord),
                    a.init(e.researchRecord.researchQuestionary.dimensions),
                    t.init(e.researchRecord.researchQuestionary.dimensions),
                    n.changed(),
                    !0) : (e.researchRecordId ? n.params = {
                        researchRecordId: e.researchRecordId
                    } : n.params = {
                        businessId: e.businessId,
                        researchId: e.researchId,
                        memberId: e.memberId
                    },
                    i.get(n, {
                        loading: !0
                    }).then(function() {
                        a.init(n.data.researchQuestionary.dimensions),
                        t.init(n.data.researchQuestionary.dimensions),
                        a.changed(),
                        t.changed()
                    }, function() {
                        i.app.viewport.closeModal(!0)
                    }))
                },
                selectQuestion: function(e) {
                    this.models.dimensions.selectQuestion(e.id)
                }
            }
        },
        a.beforeRender = function() {
            return t = this.app.global.uri,
            this.dispatch("init", this.renderOptions)
        }
        ,
        a.beforeClose = function() {
            return this.app.global.uri = t
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/manage/detail/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="achievement-content">\n    <div class="achievement-side" data-region="side"></div>\n    <div class="achievement-layout" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r, l = e.lambda, o = e.escapeExpression, c = null != n ? n : {}, u = a.helperMissing;
                return '    <div class="achievement-head">\n        <div class="pull-left title text-overflow" title="' + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '">\n            ' + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '\n        </div>\n        <div class="text-right">\n            <ul class="head-info inline-block">\n' + (null != (s = a.if.call(c, null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.questionaryDetail : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <li class="right">\n                    ' + o((r = null != (r = a.memberTitle || (null != n ? n.memberTitle : n)) ? r : u,
                "function" == typeof r ? r.call(c, {
                    name: "memberTitle",
                    hash: {},
                    data: i
                }) : r)) + "：" + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.member : s) ? s.fullName : s, n)) + '\n                </li>\n            </ul>\n            <div class="inline-block">\n                <div id="close" class="btn">' + o((a.string || n && n.string || u).call(c, "exam.research-activity.research-detail.close", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n        </div>\n    </div>\n    <div class="achievement-main">\n        <div class="preview-content">\n' + (null != (s = a.each.call(c, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s;
                return '                    <li class="drop-down-wrapper right">\n                        <i class="iconfont icon-notice drop-down-btn"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">' + e.escapeExpression(e.lambda(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.questionaryDetail : s, n)) + "</div>\n                        </div></div>\n                    </li>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return (null != (s = a.if.call(r, null != n ? n.dimensionIndex : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <ul class="statistics-ul">\n' + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                </ul>\n"
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                    <h3>" + o((s = null != (s = a.dimensionIndex || (null != n ? n.dimensionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "dimensionIndex",
                    hash: {},
                    data: i
                }) : s)) + "、" + o((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "</h3>\n"
            },
            9: function(e, n, a, t, i) {
                var s;
                return '                        <li>\n                            <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n                        </li>\n'
            },
            11: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '    <ul class="list">' + (null != (l = a.each.call(c, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(12, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '</ul>\n    <div class="bottom"><div class="title-tips"><span>\n        ' + d((a.string || n && n.string || u).call(c, "exam.research-activity.manage.this-questionary", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + d((o = null != (o = a.totalQuestionsCount || (null != n ? n.totalQuestionsCount : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "totalQuestionsCount",
                    hash: {},
                    data: i
                }) : o)) + "\n            " + d((a.string || n && n.string || u).call(c, "exam.research-activity.question.topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n        \x3c!-- 评估问卷要显示得分 --\x3e\n" + (null != (l = (a.compare || n && n.compare || u).call(c, null != (l = null != (l = null != n ? n.researchRecord : n) ? l.researchQuestionary : l) ? l.type : l, "ge", 3, {
                    name: "compare",
                    hash: {},
                    fn: e.program(20, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "    </span>\n    </div></div>\n"
            },
            12: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '\n        <li id="list-item-' + d((o = null != (o = a.index || i && i.index) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '">\n            <div class="list-title">\n                ' + d((o = null != (o = a.name || (null != n ? n.name : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "name",
                    hash: {},
                    data: i
                }) : o)) + "\n" + (null != (l = (a.compare || n && n.compare || u).call(c, null != (l = null != (l = null != r[1] ? r[1].researchRecord : r[1]) ? l.researchQuestionary : l) ? l.type : l, "ge", 3, {
                    name: "compare",
                    hash: {},
                    fn: e.program(13, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '            </div>\n            <div class="min-btn-groups">' + (null != (l = a.each.call(c, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(15, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "</div>\n        </li>\n    "
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                    (" + o((s = null != (s = a.answerScore || (null != n ? n.answerScore : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "answerScore",
                    hash: {},
                    data: i
                }) : s)) + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ")\n"
            },
            15: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "\n" + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            "
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="list-item" href="#mlj-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" id="q-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="list-item correct" href="#mlj-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" id="q-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            20: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "            " + o((a.string || n && n.string || l).call(r, "exam.research-activity.manage.total-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + o(e.lambda(null != (s = null != n ? n.researchRecord : n) ? s.score : s, n)) + "\n            " + o((a.string || n && n.string || l).call(r, "score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n"
            },
            22: function(e, n, a, t, i) {
                var s;
                return "    " + (null != (s = e.lambda(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.questionaryDetail : s, n)) ? s : "") + "\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n\x3c!--  view('title') --\x3e\n" + (null != (l = (a.view || n && n.view || d).call(u, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.view || n && n.view || d).call(u, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(11, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.view || n && n.view || d).call(u, "description", {
                    name: "view",
                    hash: {},
                    fn: e.program(22, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/manage/detail/view-description": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.title = t.get("exam.research.questionary-detail"),
        a.bindings = {
            researchRecord: !0
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/research-activity/manage/detail/view-main": [function(e, n, a) {
        var t = e("./app/exam/research-question-types")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = e("./app/util/strings");
        a.bindings = {
            researchRecord: !0,
            questions: !0,
            dimensions: !0
        },
        a.events = {
            "click close": "close"
        },
        a.handlers = {
            close: function() {
                window.close()
            }
        },
        a.type = "dynamic",
        a.getEntity = function(e) {
            var n = this.bindings.questions.getQuestionById(e);
            return i.assign({}, n, {
                questionAttrs: s.orderBy(n.questionAttrs, ["name"], ["asc"]),
                score: n.score / 100
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            var a = this.bindings.researchRecord.data.researchQuestionary;
            return a && 3 !== a.type ? t.get(n.type, 1) : t.get(n.type, 5)
        }
        ,
        a.dataForEntityModule = function(e) {
            return {
                type: e.type,
                question: e,
                mode: this.module.store.models.researchRecord.data.researchQuestionary.type < 3 ? 0 : 1
            }
        }
        ,
        a.dataForTemplate = {
            memberTitle: function(e) {
                var n = e.researchRecord.researchQuestionary || {}
                  , a = {}
                  , t = r.get("exam.research-activity.research-detail.research-personnel")
                  , i = r.get("exam.research-activity.research-detail.assessment-personnel");
                return a[t] = [1, 2],
                a[i] = [3, 4],
                function() {
                    return s.find(Object.keys(a), function(e) {
                        return -1 !== a[e].indexOf(n.type)
                    }) || r.get("exam.research-activity.research-detail.research-personnel")
                }()
            }
        }
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/manage/detail/view-side": [function(e, n, a) {
        a.bindings = {
            researchRecord: !0,
            questions: !0,
            dimensions: !0
        },
        a.events = {
            "click q-*": "selectQuestion",
            "click questionaryDetail": "questionaryDetail",
            "click close": "close"
        },
        a.handlers = {
            selectQuestion: function(e) {
                return this.module.dispatch("selectQuestion", {
                    id: e
                })
            },
            questionaryDetail: function() {
                var e = this.module.items.description;
                this.app.viewport.modal(e)
            },
            close: function() {
                this.app.viewport.closeModal()
            }
        },
        a.dataForTemplate = {
            totalQuestionsCount: function(e) {
                return e.questions ? e.questions.length : 0
            },
            researchRecord: function(e) {
                var n = e.researchRecord;
                return n.score = e.researchRecord ? e.researchRecord.score / 100 : 0,
                n
            }
        }
    }
    , {}],
    "./app/exam/research-activity/manage/detail/view-title": [function(e, n, a) {
        a.bindings = {
            researchRecord: !0
        }
    }
    , {}],
    "./app/exam/research-activity/manage/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/strings");
        a.items = {
            info: "info",
            search: "search",
            content: "content",
            "exam/research-activity/manage/summary": {
                isModule: !0
            },
            "picker/members/select-member": {
                isModule: !0
            },
            "exam/research-activity/manage/detail": {
                isModule: !0
            },
            "exam/research-activity/manage/urge": {
                isModule: !0
            }
        },
        a.title = s.get("exam.research-activity.research-answer.research-detail"),
        a.large = !0,
        a.store = {
            models: {
                research: {
                    url: "../exam/research-activity/front/basic"
                },
                researchRecords: {
                    url: "../exam/research-record/front",
                    type: "pageable",
                    root: "items",
                    mixin: {
                        getResearchRecordById: function(e) {
                            var n = this.data;
                            return i.find(n, ["id", e])
                        }
                    }
                },
                addMember: {
                    url: "../exam/research-activity/add-member"
                },
                export: {
                    url: "../exam/research-record/export-detail"
                }
            },
            callbacks: {
                init: function(e) {
                    return this.models.research.clear(),
                    this.models.research.set({
                        id: e.id
                    }),
                    this.models.researchRecords.clear(),
                    this.models.researchRecords.params = {
                        researchQuestionaryId: e.id
                    },
                    this.chain([this.get(this.models.research), this.get(this.models.researchRecords, {
                        loading: !0
                    })])
                },
                search: function(e) {
                    return this.models.researchRecords.clear(),
                    t.assign(this.models.researchRecords.params, e),
                    this.get(this.models.researchRecords, {
                        loading: !0
                    })
                },
                addMember: function(e) {
                    var n = this;
                    return this.models.addMember.set(t.assign(e, {
                        researchQuestionaryId: this.models.research.data.id
                    })),
                    this.post(this.models.addMember).then(function(e) {
                        return e[0].length > 0 ? n.app.message.error(s.get("exam.research-activity.manage.can-not-add-repeat-user")) : n.app.message.success(s.get("exam.research.manage.add-member-success")),
                        n.get(n.models.research),
                        n.get(n.models.researchRecords, {
                            loading: !0
                        })
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/manage/summary-satisfaction/index": [function(e, n, a) {
        var t = e("./app/exam/research-activity/manage/summary/index")
          , i = e("drizzlejs")
          , s = i.assign({}, t)
          , r = i.assign({}, t.items)
          , l = i.assign({}, t.store.models)
          , o = i.assign({}, t.store.callbacks);
        i.assign(l, {
            state: {}
        }),
        i.assign(r, {
            head: "head",
            "business-list": "business-list"
        }),
        i.assign(o, {
            init: function(e) {
                var n = this.models.summaryDetail
                  , a = this.models.questions
                  , t = this.models.dimensions
                  , s = this.models.state
                  , r = this;
                if (s.clear(),
                n.clear(),
                t.clear(),
                t.changed(),
                e.businessList && e.businessList[0] && e.researchQuestionaryId)
                    return i.assign(s.data, {
                        businessList: e.businessList,
                        ground: e.ground,
                        researchQuestionaryId: e.researchQuestionaryId
                    }),
                    n.params = {
                        researchQuestionaryId: e.researchQuestionaryId,
                        businessId: e.businessList[0].id
                    },
                    this.get(n, {
                        loading: !0
                    }).then(function() {
                        a.init(n.data.dimensions),
                        t.init(n.data.dimensions),
                        a.changed(),
                        t.changed()
                    }, function() {
                        r.app.viewport.closeModal(!0)
                    });
                if (e.summaryDetail)
                    n.set(e.summaryDetail),
                    a.init(e.summaryDetail.dimensions),
                    t.init(n.data.dimensions),
                    n.changed();
                else if (e.researchQuestionaryId)
                    return n.params = {
                        researchQuestionaryId: e.researchQuestionaryId,
                        businessId: e.businessId
                    },
                    this.get(n, {
                        loading: !0
                    }).then(function() {
                        a.init(n.data.dimensions),
                        t.init(n.data.dimensions),
                        a.changed(),
                        t.changed()
                    }, function() {
                        r.app.viewport.closeModal(!0)
                    });
                return ""
            },
            loadSummary: function(e) {
                var n = this.models.summaryDetail
                  , a = this.models.dimensions
                  , t = this.models.state
                  , i = this.models.questions
                  , s = this;
                return n.clear(),
                a.clear(),
                n.params = {
                    researchQuestionaryId: t.data.researchQuestionaryId,
                    businessId: e.businessId
                },
                this.get(n, {
                    loading: !0
                }).then(function() {
                    i.init(n.data.dimensions),
                    a.init(n.data.dimensions),
                    i.changed(),
                    a.changed()
                }, function() {
                    s.app.viewport.closeModal(!0)
                })
            }
        }),
        n.exports = i.assign(s, {
            items: r,
            store: {
                models: l,
                callbacks: o
            }
        })
    }
    , {
        "./app/exam/research-activity/manage/summary/index": "./app/exam/research-activity/manage/summary/index",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/manage/summary-satisfaction/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="achievement-content">\n    <div class="achievement-side">\n        <div data-region="side"></div>\n    </div>\n    <div class="achievement-head">\n        <div data-region="head"></div>\n    </div>\n    <div class="achievement-main top-half">\n        <div data-region="business-list"></div>\n        <div data-region="main"></div>\n    </div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="pull-left title text-overflow" title="' + l(r(null != (s = null != n ? n.summaryDetail : n) ? s.name : s, n)) + '">\n        ' + l(r(null != (s = null != n ? n.summaryDetail : n) ? s.name : s, n)) + '\n    </div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n' + (null != (s = a.if.call(o, null != (s = null != n ? n.summaryDetail : n) ? s.questionaryDetail : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        </ul>\n        <div class="inline-block">\n            <div id="close" class="btn">' + l((a.string || n && n.string || a.helperMissing).call(o, "exam.research-activity.research-detail.close", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n        </div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s;
                return '                <li class="drop-down-wrapper right">\n                    <i class="iconfont icon-notice drop-down-btn"></i>\n                    <div class="drop-down-content"><div class="content">\n                        <div class="sub-tip">' + e.escapeExpression(e.lambda(null != (s = null != n ? n.summaryDetail : n) ? s.questionaryDetail : s, n)) + "</div>\n                    </div></div>\n                </li>\n"
            },
            6: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.businessList : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            7: function(e, n, a, t, i) {
                var s;
                return '        <div class="center-invigilate-wrap otabs">\n            <ul class="center-invigilate-tab">\n' + (null != (s = a.each.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.businessList : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </ul>\n        </div>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <li class="center-invigilate-tab-btn" id="load-record-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-index="' + o((s = null != (s = a.index || i && i.index) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "</li>\n"
            },
            10: function(e, n, a, t, i) {
                var s;
                return '    <div class="preview-content">\n' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return (null != (s = a.if.call(r, null != n ? n.dimensionIndex : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            <ul class="statistics-ul">\n' + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </ul>\n"
            },
            12: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "                <h3>\n                    " + c((r = null != (r = a.dimensionIndex || (null != n ? n.dimensionIndex : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "dimensionIndex",
                    hash: {},
                    data: i
                }) : r)) + "、" + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '\n                    <span style="margin-left:10px;color:#0099FF;">' + c((r = null != (r = a.avgScorePercent || (null != n ? n.avgScorePercent : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "avgScorePercent",
                    hash: {},
                    data: i
                }) : r)) + '</span>\n                </h3>\n                <div style="padding-left:1em;">' + (null != (r = null != (r = a.description || (null != n ? n.description : n)) ? r : o,
                s = "function" == typeof r ? r.call(l, {
                    name: "description",
                    hash: {},
                    data: i
                }) : r) ? s : "") + "</div>\n                <hr/>\n"
            },
            14: function(e, n, a, t, i) {
                var s;
                return '                    <li>\n                        <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n                    </li>\n'
            },
            16: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    <div class="side-top">\n        <div class="text-center">\n            ' + c((a.string || n && n.string || o).call(l, "exam.research-activity.manage.this-questionary", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + c((r = null != (r = a.totalQuestionsCount || (null != n ? n.totalQuestionsCount : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "totalQuestionsCount",
                    hash: {},
                    data: i
                }) : r)) + "\n            " + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        </div>\n    </div>\n    <ul class="list">' + (null != (s = a.each.call(l, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            17: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n            <div class="list-title">\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '\n                <span style="margin-left:10px;">' + c((r = null != (r = a.avgScorePercent || (null != n ? n.avgScorePercent : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "avgScorePercent",
                    hash: {},
                    data: i
                }) : r)) + '</span>\n            </div>\n            <div class="min-btn-groups">' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n        </li>\n    "
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "\n" + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            "
            },
            19: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="list-item" href="#mlj-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" id="q-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            21: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="list-item correct" href="#mlj-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" id="q-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "head", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "business-list", {
                    name: "view",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/manage/summary-satisfaction/view-business-list": [function(e, n, a) {
        var t = e("jquery");
        a.events = {
            "click load-record-*": "loadSummary"
        },
        a.bindings = {
            state: !1
        },
        a.afterRender = function() {
            t(".otabs li").eq(0).addClass("isActive")
        }
        ,
        a.handlers = {
            loadSummary: function(e, n) {
                var a = this
                  , i = +n.target.dataset.index;
                t(".otabs li").eq(i).addClass("isActive").siblings().removeClass("isActive"),
                a.module.dispatch("loadSummary", {
                    businessId: e
                })
            }
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/research-activity/manage/summary-satisfaction/view-head": [function(e, n, a) {
        a.bindings = {
            summaryDetail: !0,
            state: !1
        },
        a.events = {
            "click close": "close"
        },
        a.handlers = {
            close: function() {
                this.bindings.state.data.ground ? this.app.viewport.closeGround() : window.close()
            }
        }
    }
    , {}],
    "./app/exam/research-activity/manage/summary-satisfaction/view-main": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("./app/exam/research-activity/manage/summary/view-main")
          , s = t.assign({}, i)
          , r = t.assign({}, s.handlers)
          , l = t.assign({}, s.dataForTemplate)
          , o = e("./app/util/strings")
          , c = e("lodash/collection");
        s.handlers = r,
        s.dataForTemplate = l,
        t.assign(s.dataForTemplate, {
            dimensions: function(e) {
                return c.map(e.dimensions, function(e) {
                    var n = e;
                    if (n.avgScorePercent = "(" + o.get("satisfaction") + e.avgScorePercent + ")",
                    null == e.avgScorePercent)
                        return void (n.avgScorePercent = "-")
                }),
                e.dimensions
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-activity/manage/summary/view-main": "./app/exam/research-activity/manage/summary/view-main",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/manage/summary-satisfaction/view-side": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("./app/exam/research-activity/manage/summary/view-side")
          , s = t.assign({}, i)
          , r = t.assign({}, s.dataForTemplate)
          , l = e("./app/util/strings")
          , o = e("lodash/collection")
          , c = t.assign({}, s.handlers);
        s.handlers = c,
        s.dataForTemplate = r,
        t.assign(s.dataForTemplate, {
            dimensions: function(e) {
                return o.map(e.dimensions, function(e) {
                    var n = e;
                    if (n.avgScorePercent = "(" + l.get("satisfaction") + e.avgScorePercent + ")",
                    null == e.avgScorePercent)
                        return void (n.avgScorePercent = "-")
                }),
                e.dimensions
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-activity/manage/summary/view-side": "./app/exam/research-activity/manage/summary/view-side",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/manage/summary/index": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("drizzlejs"), r = e("./app/util/maps"), l = e("./app/util/strings");
        a.items = {
            main: "main",
            side: "side"
        },
        a.title = l.get("exam.research-activity.summary.summary"),
        a.largeDetail = !0,
        a.store = {
            models: {
                summaryDetail: {
                    url: "../exam/research-activity/front/summary-detail",
                    mixin: {
                        getAnswerRecordsByQuestion: function(e) {
                            var n = this
                              , a = e.id
                              , t = e.subs ? i.map(e.subs, function(e) {
                                return e.id
                            }) : []
                              , s = n.getAnswerRecordsByQuestionId(a);
                            return i.map(t, function(e) {
                                i.map(n.getAnswerRecordsByQuestionId(e) || [], function(e) {
                                    s.push(e)
                                })
                            }),
                            s
                        },
                        getAnswerRecordsByQuestionId: function(e) {
                            var n = this.data.researchAnswerRecordMaps;
                            return i.sortBy(i.filter(i.map(n, function(n) {
                                return i.find(n.researchAnswerRecords, ["questionId", e])
                            }), function(e) {
                                return e
                            }), function(e) {
                                return 0 - e.createTime
                            })
                        },
                        getQuestionIndex: function(e, n) {
                            var a = this.data.dimensions;
                            return a[a.findIndex(function(e) {
                                return e.id === n
                            })].questions.findIndex(function(n) {
                                return n.id === e
                            }) + 1
                        }
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            i.forEach(e, function(e) {
                                e.questions && i.forEach(e.questions, function(e) {
                                    n.data.push(e)
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = i.find(this.data, ["id", e])
                              , a = this.module.store.models.summaryDetail;
                            return s.assign(n, {
                                answerRecords: a.getAnswerRecordsByQuestion(n),
                                index: a.getQuestionIndex(n.id, n.dimensionId)
                            })
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = r.get("question-types-all")
                              , a = r.get("chineseNumber")
                              , t = -1;
                            e && (t = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            }),
                            this.data = i.map(e, function(e, r) {
                                var o = i.find(a, ["key", (r + 1).toString()]).value;
                                return -1 !== t && t < r && (o = i.find(a, ["key", r.toString()]).value),
                                t === r && (o = ""),
                                s.assign(e, {
                                    dimensionIndex: o,
                                    questions: i.map(e.questions, function(e, a) {
                                        return s.assign(e, {
                                            questionIndex: a + 1,
                                            status: 0 === r && 0 === a ? "current" : "init",
                                            typeDesc: i.find(n, ["key", e.type.toString()]).value + l.get("question")
                                        })
                                    }),
                                    avgScorePercent: e.avgScorePercent ? parseFloat((e.avgScorePercent / 100).toFixed(2)) : 0
                                })
                            }))
                        },
                        selectQuestion: function(e) {
                            var n = this.data.findIndex(function(e) {
                                return i.some(e.questions, function(e) {
                                    return "current" === e.status
                                })
                            });
                            s.assign(i.find(this.data[n].questions, ["status", "current"]), {
                                status: "init"
                            }),
                            n = this.data.findIndex(function(n) {
                                return !!i.find(n.questions, ["id", e])
                            }),
                            s.assign(i.find(this.data[n].questions, ["id", e]), {
                                status: "current"
                            }),
                            this.changed()
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.summaryDetail
                      , a = this.models.questions
                      , t = this.models.dimensions
                      , i = this;
                    if (n.clear(),
                    t.clear(),
                    t.changed(),
                    e.summaryDetail)
                        n.set(e.summaryDetail),
                        a.init(e.summaryDetail.dimensions),
                        t.init(n.data.dimensions),
                        n.changed();
                    else if (e.researchQuestionaryId)
                        return n.params = {
                            researchQuestionaryId: e.researchQuestionaryId,
                            businessId: e.businessId
                        },
                        this.get(n, {
                            loading: !0
                        }).then(function() {
                            a.init(n.data.dimensions),
                            t.init(n.data.dimensions),
                            a.changed(),
                            t.changed()
                        }, function() {
                            i.app.viewport.closeModal(!0)
                        });
                    return ""
                },
                selectQuestion: function(e) {
                    this.models.dimensions.selectQuestion(e.id)
                }
            }
        },
        a.beforeRender = function() {
            return t = this.app.global.uri,
            this.dispatch("init", this.renderOptions)
        }
        ,
        a.beforeClose = function() {
            return this.app.global.uri = t
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/manage/summary/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="achievement-content">\n    \x3c!--  div(data-region=\'title\') --\x3e\n    <div class="achievement-side bg-color" data-region="side"></div>\n    <div class="achievement-layout" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="achievement-head">\n        <div class="pull-left title text-overflow" title="' + l(r(null != (s = null != n ? n.summaryDetail : n) ? s.name : s, n)) + '">\n            ' + l(r(null != (s = null != n ? n.summaryDetail : n) ? s.name : s, n)) + '\n        </div>\n        <div class="text-right">\n            <ul class="head-info inline-block">\n' + (null != (s = a.if.call(o, null != (s = null != n ? n.summaryDetail : n) ? s.questionaryDetail : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            </ul>\n            <div class="inline-block">\n                <div id="close" class="btn">' + l((a.string || n && n.string || a.helperMissing).call(o, "exam.research-activity.research-detail.close", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n            </div>\n        </div>\n    </div>\n    <div class="achievement-main">\n        <div class="preview-content">\n' + (null != (s = a.each.call(o, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s;
                return '                    <li class="drop-down-wrapper right">\n                        <i class="iconfont icon-notice drop-down-btn"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">' + e.escapeExpression(e.lambda(null != (s = null != n ? n.summaryDetail : n) ? s.questionaryDetail : s, n)) + "</div>\n                        </div></div>\n                    </li>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return (null != (s = a.if.call(r, null != n ? n.dimensionIndex : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <ul class="statistics-ul">\n' + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                </ul>\n"
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                    <h3>" + o((s = null != (s = a.dimensionIndex || (null != n ? n.dimensionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "dimensionIndex",
                    hash: {},
                    data: i
                }) : s)) + "、" + o((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "</h3>\n"
            },
            9: function(e, n, a, t, i) {
                var s;
                return '                        <li>\n                            <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n                        </li>\n'
            },
            11: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    \x3c!--  if(summaryDetail.questionaryDetail) --\x3e\n    \x3c!--      .achievement-tips.pointer#questionaryDetail --\x3e\n    \x3c!--          | 问卷须知 --\x3e\n    \x3c!--          i.iconfont.icon-info --\x3e\n    <div class="side-top">\n        <div class="text-center">\n            ' + c((a.string || n && n.string || o).call(l, "exam.research-activity.manage.this-questionary", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + c((r = null != (r = a.totalQuestionsCount || (null != n ? n.totalQuestionsCount : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "totalQuestionsCount",
                    hash: {},
                    data: i
                }) : r)) + "\n            " + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.topic", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        </div>\n    </div>\n    <ul class="list">' + (null != (s = a.each.call(l, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            12: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n            <div class="list-title">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '</div>\n            <div class="min-btn-groups">' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n        </li>\n    "
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "\n" + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            "
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="list-item" href="#mlj-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" id="q-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="list-item click" href="#mlj-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" id="q-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n\x3c!--  view('title') --\x3e\n" + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/manage/summary/view-main": [function(e, n, a) {
        var t = e("./app/exam/research-question-types")
          , i = e("drizzlejs")
          , s = e("lodash/collection");
        a.bindings = {
            summaryDetail: !0,
            questions: !0,
            dimensions: !0
        },
        a.type = "dynamic",
        a.events = {
            "click close": "close"
        },
        a.handlers = {
            close: function() {
                window.close()
            }
        },
        a.getEntity = function(e) {
            var n = this.bindings.questions.getQuestionById(e);
            return i.assign({}, n, {
                questionAttrs: s.orderBy(n.questionAttrs, ["name"], ["asc"]),
                score: n.score / 100
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return t.get(n.type, 5)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = e;
            return n.researchQuestionary = this.bindings.summaryDetail.data,
            {
                type: e.type,
                question: n
            }
        }
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/manage/summary/view-side": [function(e, n, a) {
        a.bindings = {
            dimensions: !0,
            questions: !0,
            summaryDetail: !0
        },
        a.events = {
            "click q-*": "selectQuestion",
            "click questionaryDetail": "questionaryDetail"
        },
        a.handlers = {
            selectQuestion: function(e) {
                return this.module.dispatch("selectQuestion", {
                    id: e
                })
            },
            questionaryDetail: function() {
                var e = this.module.items.description;
                this.app.viewport.modal(e)
            }
        },
        a.dataForTemplate = {
            totalQuestionsCount: function(e) {
                return e.questions ? e.questions.length : 0
            }
        }
    }
    , {}],
    "./app/exam/research-activity/manage/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="exam-manage">\n        <div class="info" data-region="info"></div>\n        <div data-region="search"></div>\n        <div data-region="content"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression, u = e.lambda;
                return '<form class="vertical">\n    <div class="row">\n        <div class="col-sm-12 inline-block info-bar">\n            <div class="row">\n                <div class="col-sm-12">\n                    <div class="inline-block com-title">' + c((a.string || n && n.string || o).call(l, "exam.research.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</div>\n                    <div class="inline-block">' + c(u(null != (s = null != n ? n.research : n) ? s.name : s, n)) + '</div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-sm-6 inline-block">\n                    <div class="inline-block com-title">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.manage.participants-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    <div class="inline-block">' + c(u(null != (s = null != n ? n.research : n) ? s.joinNumber : s, n)) + '</div>\n                </div>\n                <div class="col-sm-6 inline-block">\n                    <div class="inline-block com-title">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.manage.not-participants-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    <div class="inline-block">' + c(u(null != (s = null != n ? n.research : n) ? s.notJoinNumber : s, n)) + '</div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-sm-12 inline-block">\n                    <div class="inline-block com-title">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.manage.research-link", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</div>\n                    <div class="inline-block"><a href="' + c((r = null != (r = a.researchUrl || (null != n ? n.researchUrl : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "researchUrl",
                    hash: {},
                    data: i
                }) : r)) + '" target="_blank">' + c((r = null != (r = a.researchUrl || (null != n ? n.researchUrl : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "researchUrl",
                    hash: {},
                    data: i
                }) : r)) + '</a></div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-sm-6 inline-block">\n                    <div class="inline-block com-title">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.manage.research-qr-code", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</div>\n                    <div class="inline-block show-big-qrcode">\n                        <div class="big-qrcode"><div id="qrcode"></div></div>\n                        <i class="iconfont icon-ewm"></i>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>'
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '<form id="searchbar" class="vertical">\n    <input type="hidden"/>\n' + (null != (s = a.unless.call(r, null != n ? n.isAnonymity : n, {
                    name: "unless",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '    <div class="row">\n        <div class="col-sm-6">\n            <label>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.manage.research-status", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n            <select id="status" class="input" name="status">' + (null != (s = a.each.call(r, null != n ? n.status : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</select>\n        </div>\n        <div class="col-sm-6">\n            <label>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.manage.involvement-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n            <input id="joinTime" class="input mark" name="joinTime"/>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-12">\n            <div class="text-right"><div id="search" class="btn inline-block">' + o((a.string || n && n.string || l).call(r, "search", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n        </div>\n    </div>\n</form>"
            },
            6: function(e, n, a, t, i) {
                var s = null != n ? n : {}
                  , r = a.helperMissing
                  , l = e.escapeExpression;
                return '        <div class="row">\n            <div class="col-sm-6">\n                <label>' + l((a.string || n && n.string || r).call(s, "human.member.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n                <input class="input" name="name"/>\n            </div>\n            <div class="col-sm-6">\n                <label>' + l((a.string || n && n.string || r).call(s, "human.member.full-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n                <input class="input" name="fullName"/>\n            </div>\n        </div>\n'
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '\n                <option value="' + o((s = null != (s = a.key || (null != n ? n.key : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "key",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.value || (null != n ? n.value : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "value",
                    hash: {},
                    data: i
                }) : s)) + "</option>\n            "
            },
            10: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {}, c = a.helperMissing, u = e.escapeExpression;
                return '    <div class="hr"></div>\n    <div class="clearfix">\n        <div class="pull-right">\n            ' + (null != (l = a.if.call(o, null != (l = null != n ? n.btns : n) ? l.summary : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n            " + (null != (l = a.if.call(o, null != (l = null != n ? n.btns : n) ? l.member : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(13, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n            " + (null != (l = a.if.call(o, null != (l = null != n ? n.btns : n) ? l.urge : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(15, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '\n            \x3c!--  if(btns.export) > a(href=exportUrl) > .btn#export 导出 --\x3e\n        </div>\n    </div>\n    <div class="list m-top">\n        <table class="table table2 text-center">\n            <thead><tr>\n                <th>' + u((a.string || n && n.string || c).call(o, "serial.number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + u((a.string || n && n.string || c).call(o, "exam.research-activity.manage.account", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + u((a.string || n && n.string || c).call(o, "human.member.full-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + u((a.string || n && n.string || c).call(o, "system.all.organization", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + u((a.string || n && n.string || c).call(o, "exam.research-activity.manage.involvement-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + u((a.string || n && n.string || c).call(o, "status", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + u((a.string || n && n.string || c).call(o, "system.all.operator", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            </tr></thead>\n            <tbody>" + (null != (l = a.each.call(o, null != n ? n.researchRecords : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(17, i, 0, s, r),
                    inverse: e.program(23, i, 0, s, r),
                    data: i
                })) ? l : "") + '</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'
            },
            11: function(e, n, a, t, i) {
                return '<div id="summary" class="btn">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.summary.summary", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>"
            },
            13: function(e, n, a, t, i) {
                return '<div id="member" class="btn">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.manage.add-member", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>"
            },
            15: function(e, n, a, t, i) {
                return '<div id="one-key-urge" class="btn">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.manage.one-key", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>"
            },
            17: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression, p = e.lambda;
                return "\n                <tr>\n                    <td>" + d((o = null != (o = a.i || (null != n ? n.i : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "i",
                    hash: {},
                    data: i
                }) : o)) + "</td>\n                    <td>" + d(p(null != (l = null != n ? n.member : n) ? l.name : l, n)) + "</td>\n                    <td>" + d(p(null != (l = null != n ? n.member : n) ? l.fullName : l, n)) + "</td>\n                    <td>" + d(p(null != (l = null != (l = null != n ? n.member : n) ? l.organization : l) ? l.name : l, n)) + "</td>\n                    <td>" + d((a.dateMinute || n && n.dateMinute || u).call(c, null != n ? n.submitTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "</td>\n                    <td>" + d((a.map || n && n.map || u).call(c, "research-record-status", null != n ? n.status : n, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '</td>\n                    <td class="operation">\n' + (null != (l = (a.compare || n && n.compare || u).call(c, null != n ? n.status : n, "eq", 0, {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.compare || n && n.compare || u).call(c, null != n ? n.status : n, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(21, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "                    </td>\n"
            },
            18: function(e, n, a, t, i, s, r) {
                var l;
                return null != (l = a.if.call(null != n ? n : {}, null != (l = null != r[1] ? r[1].btns : r[1]) ? l.urge : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(19, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : ""
            },
            19: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                                <a id="urge-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((a.string || n && n.string || l).call(r, "exam.exam.urge", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            21: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                            <a id="detail-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-name="id" data-value="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((a.string || n && n.string || l).call(r, "detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            23: function(e, n, a, t, i) {
                return '                    <tr class="nothing-content"><td colspan="7">\n                        <div class="content-empty">\n                            <div class="img img-type-1"></div>\n                            <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                        </div>\n                    </td></tr>\n                </tr>\n            "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + (null != (l = (a.view || n && n.view || d).call(u, "info", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "search", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(10, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/manage/urge/index": [function(e, n, a) {
        var t = e("./app/util/strings")
          , i = e("lodash/collection")
          , s = e("drizzlejs");
        a.items = {
            main: "main"
        },
        a.title = function() {
            return t.get("exam.research.manage.urge-title")
        }
        ,
        a.store = {
            models: {
                research: {},
                researchRecords: {},
                members: {},
                send: {
                    url: "../exam/research-activity/front/send-urge-message"
                },
                messageTemplate: {
                    url: "../system/operation/message-template/content"
                },
                img: {
                    url: "../system/file/upload"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.messageTemplate
                      , a = this.models.research;
                    return a.set(e.data.research),
                    this.models.members.set(e.data.members),
                    n.clear(),
                    s.assign(n.params, {
                        templateCode: "research_urge",
                        organizationId: this.app.global.organization.id
                    }),
                    this.get(n).then(function() {
                        s.assign(a.data, {
                            noticeUserText: n.data.textContent,
                            noticeUserContent: n.data.content
                        }),
                        a.changed()
                    })
                },
                send: function(e) {
                    var n = this
                      , a = s.assign({}, e, {
                        memberIds: i.map(this.models.members.data, function(e) {
                            return e.id
                        }).join(","),
                        researchQuestionaryId: this.models.research.data.id,
                        isMutiple: this.models.members.data ? 0 : 1
                    });
                    return this.models.send.set(a),
                    this.post(this.models.send).then(function() {
                        n.app.message.success(t.get("send-success")),
                        n.app.viewport.closePopup()
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.buttons = [{
            text: t.get("send"),
            fn: function(e) {
                var n = this
                  , a = this.items.main;
                return s.assign(e, a.getValue()),
                e.noticeUserText && "" !== e.noticeUserText ? (this.app.message.confirm(t.get("send-warn"), function() {
                    return n.dispatch("send", e)
                }),
                !1) : (this.app.message.error(t.get("exam.research-activity.manage.content-can-not-empty")),
                !1)
            }
        }]
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/manage/urge/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '<form class="vertical">\n    <div class="row"><div class="col-sm-12">\n        <span>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.manage.send-to", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(c(null != (s = null != n ? n.members : n) ? s.count : s, n)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.manage.users", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span>\n    </div></div>\n    <div class="row"><div class="col-sm-12">\n        <textarea id="noticeUserText" class="input w-full" name="noticeUserText" rows="5" x-rule="required,maxLength:1000">' + (null != (s = c(null != (s = null != n ? n.urge : n) ? s.noticeUserContent : s, n)) ? s : "") + "</textarea>\n    </div></div>\n</form>"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/manage/urge/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/helpers")
          , s = e("./app/util/strings");
        a.bindings = {
            members: !0,
            research: !0,
            img: !1
        },
        a.components = [{
            id: "noticeUserText",
            name: "rich-text",
            options: {
                model: "img",
                items: []
            }
        }],
        a.dataForTemplate = {
            members: function() {
                var e = this.bindings.members.data
                  , n = e ? e.length : this.bindings.research.data.notJoinNumber
                  , a = t.map(this.bindings.members.data, function(e) {
                    return e.fullName || e.name
                })
                  , i = 0
                  , s = [];
                for (i; i < 3; i++)
                    a[i] && s.push(a[i]);
                return {
                    nameStr: s.join(","),
                    count: n
                }
            },
            urge: function(e) {
                var n = e.research
                  , a = i.dateMinute(n.endTime);
                return n.noticeUserText ? {
                    noticeUserContent: s.getString(n.noticeUserContent, [n.name, a])
                } : {}
            }
        },
        a.mixin = {
            getValue: function() {
                return {
                    noticeUserText: this.components.noticeUserText && this.components.noticeUserText.getInnerText(),
                    noticeUserContent: this.components.noticeUserText && this.components.noticeUserText.getValue()
                }
            }
        }
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/manage/view-content": [function(e, n, a) {
        var t = e("lodash/collection");
        a.bindings = {
            researchRecords: !0,
            research: !0,
            export: !1
        },
        a.events = {
            "click summary": "summary",
            "click member": "addMember",
            "click detail-*": "showDetail",
            "click urge-*": "showUrge",
            "click one-key-urge": "showOneKeyUrge"
        },
        a.handlers = {
            summary: function() {
                var e = this.module.items["exam/research-activity/manage/summary"]
                  , n = this;
                this.app.viewport.ground(e, {
                    researchQuestionaryId: n.bindings.research.data.id,
                    callback: function() {}
                })
            },
            addMember: function() {
                var e = this.module.items["picker/members/select-member"]
                  , n = this;
                this.app.viewport.modal(e, {
                    ids: "",
                    singleCallback: function(e) {
                        return !(!e || 0 === e.length) && n.module.dispatch("addMember", {
                            members: JSON.stringify(t.map(e, function(e) {
                                return e.member
                            }))
                        })
                    }
                })
            },
            showDetail: function(e) {
                var n = this.module.items["exam/research-activity/manage/detail"];
                this.app.viewport.ground(n, {
                    researchRecordId: e,
                    callback: function() {}
                })
            },
            showUrge: function(e) {
                var n = this.module.items["exam/research-activity/manage/urge"]
                  , a = this.bindings.researchRecords.getResearchRecordById(e) || {};
                this.app.viewport.popup(n, {
                    data: {
                        members: [a.member],
                        research: this.bindings.research.data
                    },
                    callback: function() {}
                })
            },
            showOneKeyUrge: function() {
                var e = this.module.items["exam/research-activity/manage/urge"];
                this.app.viewport.popup(e, {
                    data: {
                        research: this.bindings.research.data
                    },
                    callback: function() {}
                })
            }
        },
        a.dataForTemplate = {
            researchRecords: function(e) {
                var n = this.bindings.researchRecords.getPageInfo().page;
                return t.map(e.researchRecords || [], function(e, a) {
                    e.i = a + 1 + 10 * (n - 1)
                }),
                e.researchRecords
            },
            exportUrl: function() {
                var e = this.bindings.export.getFullUrl() + "?"
                  , n = this.bindings.research.data
                  , a = this.bindings.researchRecords.params
                  , i = this.app.global.OAuth.token.access_token;
                return t.map(a, function(n, a) {
                    n && (e += a + "=" + n + "&")
                }),
                e += "access_token=" + i + "&id=" + n.id,
                e += "&businessType=0",
                encodeURI(e)
            },
            btns: function(e) {
                return {
                    summary: 2 !== e.research.status,
                    member: 4 !== e.research.status,
                    urge: 3 === e.research.status,
                    export: 2 !== e.research.status
                }
            }
        },
        a.components = [{
            id: "pager",
            name: "pager",
            options: {
                model: "researchRecords"
            }
        }]
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/manage/view-info": [function(e, n, a) {
        var t = e("./app/util/wechat-url");
        a.bindings = {
            research: !0
        },
        a.components = [function() {
            var e = this.bindings.research.data;
            return {
                id: "qrcode",
                name: "qrcode",
                options: {
                    text: t.get("RESEARCH_TYPE", e.id),
                    width: 128,
                    height: 128
                }
            }
        }
        ],
        a.dataForTemplate = {
            researchUrl: function(e) {
                return window.setlocationProtocol() + "//" + window.setlocationHost() + "/#/exam/research-activity/index/" + e.research.id
            }
        }
    }
    , {
        "./app/util/wechat-url": "./app/util/wechat-url"
    }],
    "./app/exam/research-activity/manage/view-search": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("drizzlejs")
          , s = e("jquery")
          , r = e("./app/util/strings");
        a.bindings = {
            research: !0
        },
        a.events = {
            "keypress searchbar": "keysearch"
        },
        a.handlers = {
            keysearch: function(e) {
                13 === e.keyCode && s(this.$("search")).click()
            }
        },
        a.actions = {
            "click search": "search"
        },
        a.dataForActions = {
            search: function(e) {
                var n = e.joinTime || "to";
                return i.assign(e, {
                    submitTimeStart: n.split("to")[0].trim(),
                    submitTimeEnd: n.split("to")[1].trim(),
                    status: "999" === e.status ? null : e.status
                })
            }
        },
        a.components = [{
            id: "status",
            name: "selectize"
        }, {
            id: "joinTime",
            name: "flatpickr",
            options: {
                enableTime: !0,
                mode: "range"
            }
        }],
        a.dataForTemplate = {
            status: function() {
                var e = t.get("research-record-status");
                return e.unshift({
                    key: "999",
                    value: r.get("operation.select.type.all")
                }),
                e
            },
            isAnonymity: function(e) {
                return 1 === e.research.isAnonymity
            }
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/research-activity/paper-research/index": [function(e, n, a) {
        var t = e("drizzlejs");
        a.items = {
            "research-tips": ""
        },
        a.store = {
            models: {
                researchRecord: {
                    url: "../exam/research-record/get-by-research"
                }
            },
            callbacks: {
                getRecordByResearch: function(e) {
                    var n = this;
                    return this.models.researchRecord.clear(),
                    t.assign(this.models.researchRecord.params, {
                        researchId: e.researchId
                    }),
                    this.get(this.models.researchRecord, {
                        loading: !0
                    }).then(function() {
                        var e = n.models.researchRecord.data
                          , a = e.researchQuestionary;
                        return e.id && 1 === e.status ? n.app.navigate("exam/research-activity/research-answer/" + e.id, !0) : 3 === a.status && 0 === e.status ? n.app.navigate("exam/research-activity/research-detail/" + a.id + "/" + a.id, !0) : n.app.viewport.modal(n.module.items["research-tips"])
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("getRecordByResearch", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/paper-research/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                var s;
                return "        <div>" + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.research : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s;
                return null != (s = (a.view || n && n.view || a.helperMissing).call(null != n ? n : {}, "research-tips", {
                    name: "view",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/paper-research/view-research-tips": [function(e, n, a) {
        var t = e("./app/util/helpers")
          , i = e("./app/util/strings");
        a.bindings = {
            researchRecord: !0
        },
        a.dataForTemplate = {
            research: function(e) {
                var n = e.researchRecord
                  , a = n.researchQuestionary
                  , s = a.questionaryDetail
                  , r = Number(a.status);
                return this.options.closeText = i.get("main.modal.close"),
                this.options.title = i.get("exam.research.questionary-detail"),
                n.id ? 1 === r || 5 === r ? (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.not-exist")) : 2 === r ? (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.not-begin") + t.dateMinute(a.startTime) + " ~ " + t.dateMinute(a.endTime) + i.get("exam.research-activity.research-detail.research-ing")) : 3 === r ? 0 === n.status && (this.options.closeText = i.get("exam.research-activity.question.answer-next-time")) : 4 === r && 0 === n.status && (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.overdue")) : (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.not-authority")),
                {
                    content: s
                }
            }
        },
        a.events = {
            "click button-*": "doSome"
        },
        a.handlers = {
            doSome: function(e) {
                e.indexOf("answer-next-time") > -1 && this.app.viewport.closeModal()
            }
        },
        a.title = i.get("exam.research.questionary-detail"),
        a.afterClose = function() {
            window.close()
        }
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/research-activity/paper/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("./app/util/business/research-util");
        a.items = {
            main: "main"
        },
        a.large = !0,
        a.store = {
            models: {
                research: {
                    url: "../exam/research-record/research"
                },
                researchRecord: {
                    url: "../exam/research-record/front/detail"
                },
                activityLecturer: {
                    url: "../training/student/lecture-activity/find-lectures-by-activity-id"
                },
                state: {
                    data: {}
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.businessType
                      , a = this;
                    return n ? a.module.dispatch("batchInitData", e) : a.module.dispatch("initData", e)
                },
                initData: function(e) {
                    var n = !!e.isEdit
                      , a = this.models.researchRecord
                      , i = {
                        researchId: e.researchId,
                        businessId: e.businessId,
                        businessType: e.businessType,
                        businessList: e.businessList
                    };
                    return this.models.research.clear(),
                    this.models.researchRecord.clear(),
                    this.models.state.set(i),
                    this.models.state.data.isEdit = n,
                    n ? (a.params = i,
                    this.get(this.models.researchRecord, {
                        loading: !0
                    })) : (this.models.research.params = t.assign(i, {
                        clientType: 0,
                        businessIds: e.businessIds,
                        businessType: e.businessType
                    }),
                    this.get(this.models.research, {
                        loading: !0
                    }))
                },
                batchInitData: function(e) {
                    var n = e.businessType
                      , a = this;
                    return String(i.businessTypes.LECTURER) === n ? (a.models.activityLecturer.clear(),
                    a.models.activityLecturer.params = {
                        activityId: e.businessId
                    },
                    a.get(a.models.activityLecturer, {
                        loading: !0
                    }).then(function(n) {
                        return t.assign(e, {
                            businessIds: i.buildBusinessIds(n[0]),
                            businessList: i.buildBusinessList(n[0])
                        }),
                        a.module.dispatch("initData", e)
                    })) : a.module.dispatch("initData", e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/business/research-util": "./app/util/business/research-util",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                return '    <div data-dynamic-key="paper"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/paper/view-main": [function(e, n, a) {
        var t = e("drizzlejs");
        a.bindings = {
            research: !0,
            researchRecord: !0,
            state: !1,
            activityLecturer: !0
        },
        a.type = "dynamic",
        a.getEntity = function() {
            var e = this.bindings.research.data
              , n = e.researchRecord
              , a = e.researchRecords
              , i = e.batch
              , s = this.bindings.state.data
              , r = this.module.renderOptions.extraParams || {}
              , l = {
                extraParams: {
                    worksName: r.worksName,
                    participantsName: r.participantsName
                },
                opener: !!this.module.renderOptions.opener,
                businessType: s.businessType,
                batch: i
            };
            return s.isEdit ? t.assign(l, {
                researchRecord: this.bindings.researchRecord.data,
                isEdit: s.isEdit,
                callback: this.module.renderOptions.callback
            }) : (s.businessList && t.assign(l, {
                businessList: s.businessList,
                researchRecord: n && n.data
            }),
            a && a[0] && t.assign(l, {
                researchRecords: a
            }),
            n && 1 === n.status ? t.assign(l, {
                researchRecordId: n.id
            }) : t.assign(l, {
                researchQuestionaryId: e.id,
                businessId: this.bindings.research.params.businessId,
                callback: this.module.renderOptions.callback
            }))
        }
        ,
        a.getEntityModuleName = function() {
            var e = this.bindings.research.data
              , n = e.researchRecord
              , a = this.bindings.state.data
              , t = e.researchRecords;
            return a.isEdit ? "exam/research-activity/research-detail" : e.batch ? t && t[0] && 1 === t[0].status ? "exam/research-activity/research-answer-batch" : "exam/research-activity/research-detail-batch" : a.businessList && n && 1 === n.status ? "exam/research-activity/research-answer-batch" : n && 1 === n.status ? "exam/research-activity/research-answer" : "exam/research-activity/research-detail"
        }
        ,
        a.dataForEntityModule = function(e) {
            return e
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/preview-questionary/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("jquery")
          , r = e("./app/util/strings");
        a.largeDetail = !0,
        a.title = r.get("exam.research-activity.question.questionary-preview"),
        a.items = {
            side: "side",
            head: "head",
            main: "main",
            description: ""
        },
        a.store = {
            models: {
                research: {
                    url: "../exam/research-activity/front"
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            t.forEach(e, function(e) {
                                t.forEach(e.questions, function(e) {
                                    n.data.push(e)
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            return t.find(this.data, ["id", e])
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            this.data = t.map(e.dimensions, function(e, n) {
                                var a = e.questions || [];
                                return i.assign(e, {
                                    questions: t.map(a, function(e, a) {
                                        return i.assign(e, {
                                            index: a + 1,
                                            dimensionIndex: n + 1,
                                            status: 0 === n && 0 === a ? "current" : "init"
                                        })
                                    }),
                                    questionSize: a.length
                                })
                            }),
                            this.data.length > 0 && (this.data[0].isCurrent = !0)
                        },
                        getFirstDimension: function() {
                            return this.data[0]
                        },
                        getDimensionById: function(e) {
                            return t.find(this.data, ["id", e])
                        },
                        selectQuestion: function(e) {
                            var n = this.data.findIndex(function(e) {
                                return t.some(e.questions, function(e) {
                                    return "current" === e.status
                                })
                            });
                            i.assign(t.find(this.data[n].questions, ["status", "current"]), {
                                status: "init"
                            }),
                            n = this.data.findIndex(function(n) {
                                return !!t.find(n.questions, ["id", e])
                            }),
                            i.assign(t.find(this.data[n].questions, ["id", e]), {
                                status: "current"
                            })
                        },
                        selectType: function(e) {
                            this.data[e].isCurrent = !this.data[e].isCurrent
                        }
                    }
                },
                state: {
                    mixin: {
                        init: function() {
                            var e = this.module.store.models.dimensions
                              , n = e.getFirstDimension();
                            this.data = n ? {
                                currentDimension: n,
                                currentQuestion: n.questions[0],
                                totalQuestionsCount: this.module.store.models.questions.data.length
                            } : {
                                totalQuestionsCount: 0
                            }
                        },
                        selectQuestion: function(e) {
                            var n = this.module.store.models.dimensions;
                            i.assign(this.data, {
                                currentQuestion: e,
                                currentDimension: n.getDimensionById(e.dimensionId)
                            })
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this
                      , a = this.models.research;
                    return e.researchId ? (a.set({
                        id: e.researchId
                    }),
                    this.chain(this.get(a, {
                        loading: !0
                    }), function() {
                        a.data.name = e.name || a.data.name,
                        n.models.dimensions.init(a.data),
                        n.models.questions.init(n.models.dimensions.data),
                        n.models.state.init()
                    })) : (e.research && (this.models.research.set(e.research || {}),
                    this.models.dimensions.init(e.research),
                    this.models.questions.init(this.models.dimensions.data),
                    this.models.state.init()),
                    !0)
                },
                selectQuestion: function(e) {
                    this.models.state.selectQuestion(this.models.questions.getQuestionById(e.id)),
                    this.models.dimensions.selectQuestion(e.id),
                    this.models.dimensions.changed(),
                    this.models.state.changed()
                },
                selectType: function(e) {
                    this.models.dimensions.selectType(e.id),
                    this.models.dimensions.changed()
                }
            }
        },
        a.beforeRender = function() {
            var e = s.extend(!0, {}, this.renderOptions);
            return this.dispatch("init", e)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/preview-questionary/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="achievement-content">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="head"></div>\n        <div class="achievement-main" data-region="main"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '    <div class="pull-left title text-overflow" title="' + l(r(null != (s = null != n ? n.research : n) ? s.name : s, n)) + '">' + l(r(null != (s = null != n ? n.research : n) ? s.name : s, n)) + '</div>\n    <div class="text-right" id="leave-notice">\n        <ul class="head-info inline-block">\n' + (null != (s = a.if.call(o, null != (s = null != n ? n.research : n) ? s.questionaryDetailRich : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        </ul>\n        <a id="close" class="btn">' + l((a.string || n && n.string || a.helperMissing).call(o, "main.modal.close", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s;
                return '                <li class="drop-down-wrapper right">\n                    <i class="iconfont icon-notice drop-down-btn"></i>\n                    <div class="drop-down-content"><div class="content">\n                        <div class="sub-tip">' + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.research : n) ? s.questionaryDetailRich : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n                    </div></div>\n                </li>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="side-top"><div class="time">\n        <div class="text-center">\n            ' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.question-total", null != (s = null != n ? n.state : n) ? s.totalQuestionsCount : s, {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        </div>\n    </div></div>\n    <ul class="list">' + (null != (s = a.each.call(r, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            7: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <div class="list-title pointer" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.program(10, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.program(8, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '\n            </div>\n            <div class="min-btn-groups m-left ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.program(10, i, 0),
                    data: i
                })) ? s : "") + '">' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n        </li>\n    "
            },
            8: function(e, n, a, t, i) {
                return ""
            },
            10: function(e, n, a, t, i) {
                return "hidden"
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "\n" + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            "
            },
            13: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="list-item" href="#mlj-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" id="q-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            15: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="list-item current" href="#mlj-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" id="q-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            17: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="preview-content" oncontextmenu="window.event.returnValue=false;" oncopy="return false;" oncut="return false;" onpaste="return false">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.program(21, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.singleMode : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(25, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            18: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            19: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '                <div class="row"></div>\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeDesc : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.index : s, n)) + "/" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.totalCount : s, n)) + ')</div>\n                    <div class="inline-block">' + l((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.questionary-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.score : s, n)) + '</div>\n                </div>\n                <div data-dynamic-key="' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            21: function(e, n, a, t, i) {
                var s;
                return "            <div>\n" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            22: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="h3 m-bottom">' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "(" + c((a.string || n && n.string || o).call(l, "exam.exam.score.total", null != n ? n.totalScore : n, {
                    name: "string",
                    hash: {},
                    data: i
                })) + ")</div>\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            23: function(e, n, a, t, i) {
                var s;
                return '                        <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            25: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="text-right m-bottom">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasPrevious : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(26, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasNext : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(28, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            26: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border m-right" id="prev-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            28: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border" id="next-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.typeIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            30: function(e, n, a, t, i) {
                var s;
                return '    <div class="preview-content">\n        \x3c!-- 一页所有题目 --\x3e\n' + (null != (s = a.if.call(null != n ? n : {}, null != n ? n.isMutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(31, i, 0),
                    inverse: e.program(37, i, 0),
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            31: function(e, n, a, t, i) {
                var s;
                return null != (s = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(32, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            32: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return (null != (s = (a.compare || n && n.compare || a.helperMissing).call(r, null != n ? n.isEmpty : n, "ne", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(33, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(35, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            33: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <div class="m-bottom">\n                        <div class="h3 inline-block">\n                            ' + o((s = null != (s = a.dimensionIndex || (null != n ? n.dimensionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "dimensionIndex",
                    hash: {},
                    data: i
                }) : s)) + "、" + o((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "\n                        </div>\n                    </div>\n"
            },
            35: function(e, n, a, t, i) {
                var s;
                return '                    <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            37: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '            <div class="m-bottom">\n                <div class="h3 inline-block">\n                    ' + e.escapeExpression(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.name : s, n)) + "\n" + (null != (s = a.if.call(r, null != n ? n.hasQuestion : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(38, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                </div>\n            </div>\n" + (null != (s = a.if.call(r, null != n ? n.hasQuestion : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(40, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            \x3c!--  .icon.pe-7s-angle-left-circle.pe-3x.m-right(id='prev') --\x3e\n            \x3c!--  .icon.pe-7s-angle-right-circle.pe-3x(id='next') --\x3e\n"
            },
            38: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return "                        (" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.index : s, n)) + "/" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.questionSize : s, n)) + ")\n"
            },
            40: function(e, n, a, t, i) {
                var s;
                return '                <div data-dynamic-key="' + e.escapeExpression(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            42: function(e, n, a, t, i) {
                var s;
                return "    " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.research : n) ? s.questionaryDetail : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "head", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(30, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "description", {
                    name: "view",
                    hash: {},
                    fn: e.program(42, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/preview-questionary/view-description": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.title = t.get("exam.research.questionary-detail"),
        a.bindings = {
            research: !0
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/research-activity/preview-questionary/view-head": [function(e, n, a) {
        a.bindings = {
            research: !0,
            state: !1
        },
        a.events = {
            "click close": "close"
        },
        a.handlers = {
            close: function() {
                this.module.renderOptions.opener ? window.close() : this.app.viewport.closeModal()
            }
        }
    }
    , {}],
    "./app/exam/research-activity/preview-questionary/view-main": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("lodash/collection")
          , s = e("drizzlejs")
          , r = e("./app/exam/research-question-types")
          , l = e("./app/util/strings");
        a.type = "dynamic",
        a.bindings = {
            research: !0,
            questions: !0,
            state: !0
        },
        a.events = {
            "click close": "close"
        },
        a.handlers = {
            close: function() {
                this.app.viewport.closeModal()
            }
        },
        a.dataForTemplate = {
            dimensions: function(e) {
                var n = t.get("question-types-all")
                  , a = t.get("chineseNumber")
                  , r = e.research.dimensions.findIndex(function(e) {
                    return 1 === e.isEmpty
                });
                return i.map(e.research.dimensions, function(e, t) {
                    var o = i.find(a, ["key", (t + 1).toString()]).value;
                    return -1 !== r && r < t && (o = i.find(a, ["key", t.toString()]).value),
                    r === t && (o = ""),
                    s.assign(e, {
                        dimensionIndex: o,
                        questions: i.map(e.questions, function(e, a) {
                            return s.assign(e, {
                                questionIndex: a + 1,
                                typeDesc: i.find(n, ["key", e.type.toString()]).value + l.get("exam.research-activity.question.topic")
                            })
                        })
                    })
                })
            },
            isMutiple: function(e) {
                return !e.research.answerPaperRule || e.research.answerPaperRule && 1 === Number(e.research.answerPaperRule)
            },
            hasQuestion: function(e) {
                return !!e.state.currentQuestion
            }
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.questions.getQuestionById(e) || {}
              , a = JSON.parse(JSON.stringify(n));
            return a = s.assign({}, a, {
                questionAttrs: i.orderBy(i.map(a.questionAttrs, function(e) {
                    return e.score ? s.assign(e, {
                        score: e.score / 100
                    }) : s.assign(e, {
                        score: 0
                    })
                }), ["name"], ["asc"]),
                score: a.score / 100
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return r.get(n.type, 4)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = [3, 4, 5]
              , a = this.bindings.research.data || {}
              , t = n.indexOf(a.type) > -1 ? 1 : 0;
            return {
                data: s.assign(e, {
                    scoreMode: t
                }),
                showIndex: !0
            }
        }
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/preview-questionary/view-side": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("lodash/collection")
          , s = e("drizzlejs")
          , r = e("./app/util/strings");
        a.bindings = {
            research: !0,
            dimensions: !0,
            state: !0
        },
        a.dataForTemplate = {
            dimensions: function(e) {
                var n = t.get("question-types-all")
                  , a = t.get("chineseNumber");
                return i.map(e.research.dimensions, function(e, t) {
                    return s.assign(e, {
                        dimensionIndex: i.find(a, ["key", (t + 1).toString()]).value,
                        questions: i.map(e.questions, function(e, a) {
                            return s.assign(e, {
                                questionIndex: a + 1,
                                typeDesc: i.find(n, ["key", e.type.toString()]).value + r.get("exam.research-activity.question.topic")
                            })
                        })
                    })
                })
            }
        },
        a.events = {
            "click q-*": "selectQuestion",
            "click questionaryDetail": "questionaryDetail",
            "click list-item-*": "toggleMore"
        },
        a.handlers = {
            selectQuestion: function(e) {
                return this.module.dispatch("selectQuestion", {
                    id: e
                })
            },
            questionaryDetail: function() {
                var e = this.module.items.description;
                this.app.viewport.modal(e)
            },
            toggleMore: function(e) {
                return this.module.dispatch("selectType", {
                    id: e
                })
            }
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/add-question/index": [function(e, n, a) {
        var t, i, s = e("drizzlejs"), r = e("./app/util/strings"), l = {
            add: r.get("exam.research-activity.question.add-question"),
            edit: r.get("exam.research-activity.question.modify-question")
        };
        a.items = {
            main: "main",
            question: "question",
            preview: ""
        },
        a.title = function() {
            return this.renderOptions.titleType ? l[this.renderOptions.titleType] : l.add
        }
        ,
        a.large = !0,
        a.store = {
            models: {
                optionChange: {
                    options: [{}, {}, {}, {}],
                    max: "",
                    min: ""
                },
                question: {
                    url: "../exam/dimension/question"
                },
                state: {
                    data: {}
                },
                itemPool: {
                    data: {}
                },
                tempAddQuestionOptions: {},
                key: {}
            },
            callbacks: {
                init: function(e) {
                    var n = e.question || e.data
                      , a = this.models.state
                      , t = this.models.optionChange;
                    this.models.tempAddQuestionOptions.set(e),
                    t.clear(),
                    t.set({
                        options: [{}, {}, {}, {}],
                        max: "",
                        min: ""
                    }),
                    a.clear(),
                    a.data.type = e.type || 1,
                    this.models.question.set(n),
                    n && (this.models.key.set({
                        id: n.id
                    }),
                    n.questionAttrs && s.assign(t.data, {
                        options: n.questionAttrs,
                        max: n.maxChoice || "",
                        min: n.minChoice || ""
                    })),
                    s.assign(a.data, n),
                    t.changed()
                },
                optionChange: function(e) {
                    var n = this.models.optionChange;
                    s.assign(n.data, e),
                    n.changed()
                },
                saveQuestion: function(e) {
                    var n, a, t = this, l = t.module.module, o = t.models.question, c = t.models.state, u = t.module.renderOptions.callback, d = t.models.tempAddQuestionOptions, p = s.assign({
                        id: this.models.key.data.id
                    }, this.module.renderOptions.data);
                    return this.models.question.set(s.assign(c.data, e, p)),
                    a = o.data.order,
                    this.save(o).then(function(e) {
                        return t.app.message.success(r.get("save-success")),
                        u ? (n = s.assign(c.data, {
                            id: o.data.id,
                            dimensionId: o.data.dimensionId,
                            questionAttrs: c.data.questionAttrs,
                            subs: o.data.subs
                        }),
                        u(i(n))) : t.get(l.store.models.questions),
                        t.models.state.clear(),
                        t.models.key.clear(),
                        t.renderOptions = {},
                        s.assign(d.data.data, {
                            dimensionId: o.data.dimensionId,
                            order: a + 1
                        }),
                        e
                    })
                },
                refresh: function(e) {
                    var n = e.type
                      , a = this.models.state;
                    s.assign(this.module.renderOptions.question, {
                        type: n
                    }),
                    a.data.type = n,
                    a.changed()
                },
                changeType: function(e) {
                    var n = this.models.state
                      , a = {
                        dimensionId: n.data.dimensionId,
                        order: n.data.order,
                        sourceType: n.data.sourceType
                    };
                    n.clear(),
                    s.assign(n.data, e, a),
                    s.assign(this.models.tempAddQuestionOptions.data, e),
                    n.changed()
                }
            }
        },
        a.buttons = function() {
            var e, n, a = [];
            return e = {
                text: r.get("exam.research-activity.question.save"),
                fn: function() {
                    var e, n = this.items.question.getEntities()[0], a = this.items.main, i = n.getValue(), r = a.validate(), l = n.isValidate();
                    return !(!r || !l) && (!!i && (e = t(s.assign({}, i, a.getData(), this.renderOptions.data, {
                        score: i.score ? (100 * i.score).toFixed(0) : null
                    })),
                    n.clear(),
                    this.renderOptions.callback && s.assign(this.store.models.state.data, e),
                    this.dispatch("saveQuestion", e)))
                }
            },
            n = {
                text: r.get("exam.research-activity.question.save-and-insert"),
                fn: function() {
                    var n = this
                      , a = n.store.models.tempAddQuestionOptions.data;
                    return !!e.fn.call && this.chain(e.fn.call(this), function(e) {
                        return !1 !== e ? n.dispatch("init", a).then(function() {
                            return n.store.models.state.changed(),
                            !1
                        }) : e
                    })
                }
            },
            "edit" === this.renderOptions.titleType ? a.push(e) : (a.push(e),
            a.push(n)),
            a
        }
        ,
        t = function(e) {
            var n = {};
            return n.value = JSON.stringify(e.questionAttrs),
            n.subs = JSON.stringify(e.subs),
            s.assign(e, n)
        }
        ,
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        i = function(e) {
            return 6 !== Number(e.type) ? e : (s.assign(e, {
                subs: JSON.parse(e.value)
            }),
            e)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/question/add-question/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n    <div data-region="question"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '<form class="vertical">\n    <input type="hidden"/>\n    <div class="row col-sm-left">\n        <div class="col-sm-4">\n            <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <select id="type" class="input" name="type" x-rule="required" x-marker="selectize" readonly>' + (null != (s = a.each.call(r, null != n ? n.types : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</select>\n        </div>\n" + (null != (s = a.if.call(r, null != n ? n.multipleChoice : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n    \x3c!--  仅调研添加必答题  --\x3e\n" + (null != (s = a.if.call(r, null != n ? n.isAssess : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</form>"
            },
            4: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "\n                <option " + (null != (s = a.if.call(l, null != n ? n.selected : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="' + c((r = null != (r = a.key || (null != n ? n.key : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "key",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.value || (null != n ? n.value : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "value",
                    hash: {},
                    data: i
                }) : r)) + "</option>\n            "
            },
            5: function(e, n, a, t, i) {
                return ' selected="selected"'
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <div class="col-sm-4">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.min.some.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <select id="min" class="input" name="minChoice" x-marker="selectize">' + (null != (s = a.each.call(r, null != n ? n.typesMin : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</select>\n            </div>\n            <div class="col-sm-4">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.some.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <select id="max" class="input" name="maxChoice" x-marker="selectize">' + (null != (s = a.each.call(r, null != n ? n.typesMax : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</select>\n            </div>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "\n                    <option " + (null != (s = a.if.call(l, null != n ? n.selected : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="' + c((r = null != (r = a.key || (null != n ? n.key : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "key",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.value || (null != n ? n.value : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "value",
                    hash: {},
                    data: i
                }) : r)) + "</option>\n                "
            },
            10: function(e, n, a, t, i) {
                var s;
                return '        <div class="row">\n            <div class="col-sm-4">\n                <div id="toggleRequired" class="checkbox required-question">\n                    <input ' + (null != (s = a.if.call(null != n ? n : {}, null != n ? n.isRequired : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" name="required" id="required"/>\n                    <label for="required"><span>必答题</span></label>\n                </div>\n            </div>\n        </div>\n'
            },
            11: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            13: function(e, n, a, t, i) {
                var s;
                return '    <form class="vertical">\n        <div data-dynamic-key="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.type : s, n)) + '"></div>\n    </form>\n'
            },
            15: function(e, n, a, t, i) {
                var s;
                return '    <div data-dynamic-key="' + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "question", {
                    name: "view",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "preview", {
                    name: "view",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/add-question/view-main": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("lodash/collection")
          , s = e("jquery")
          , r = e("./app/util/strings")
          , l = function(e, n, a) {
            return e + n + a
        }
          , o = [{
            key: "",
            value: r.get("exam.research-activity.max.some.choise")
        }]
          , c = [{
            key: "",
            value: r.get("exam.research-activity.min.some.choise")
        }];
        a.bindings = {
            state: !0,
            optionChange: !0
        },
        a.type = "form",
        a.large = !0,
        a.events = {
            "change type": "changeType",
            "change max": "changeMax",
            "change min": "changeMin",
            "change toggleRequired": "toggleRequired"
        },
        a.handlers = {
            toggleRequired: function() {
                var e = this.bindings.state.data;
                e.required = !e.required
            },
            changeType: function(e, n) {
                var a = this;
                return this.module.items.question.getEntities()[0].getContent() ? (a.app.message.confirm(r.get("exam.research-activity.question.change-question-type-confirm"), function() {
                    return a.module.dispatch("changeType", {
                        type: n.value
                    })
                }, function() {
                    a.render()
                }),
                "") : a.module.dispatch("changeType", {
                    type: n.value
                })
            },
            changeMax: function(e, n) {
                var a = this.bindings.optionChange.data
                  , t = n.value
                  , i = {
                    max: t
                };
                return a.min && Number(t) < Number(a.min) && (i = {
                    max: t,
                    min: t
                }),
                this.module.dispatch("optionChange", i)
            },
            changeMin: function(e, n) {
                var a = this.bindings.optionChange.data
                  , t = n.value
                  , i = {
                    min: t
                };
                return a.max && Number(t) > Number(a.max) && (i = {
                    min: t,
                    max: t
                }),
                this.module.dispatch("optionChange", i)
            }
        },
        a.components = [{
            id: "min",
            name: "selectize"
        }, {
            id: "max",
            name: "selectize"
        }, {
            id: "type",
            name: "selectize"
        }, {
            id: "level",
            name: "selectize"
        }, {
            id: "mark",
            name: "selectize"
        }],
        a.dataForTemplate = {
            isAssess: function() {
                return 3 == +this.bindings.state.data.sourceType
            },
            isRequired: function() {
                var e = this.bindings.state.data;
                return Boolean(e.required)
            },
            types: function() {
                var e = t.get("research-question-types")
                  , n = this.bindings.state.data;
                return 4 === n.sourceType && (e = t.get("evaluate-question-types")),
                5 === n.sourceType && (e = t.get("grade-question-types")),
                n && i.map(e, function(e) {
                    var a = e;
                    Number(a.key) === Number(n.type) && (a.selected = !0)
                }),
                e
            },
            typesMax: function() {
                var e, n = [], a = this.bindings.optionChange.data;
                if (n = o.slice(),
                a.options)
                    for (e = 1; e <= a.options.length; e++)
                        n.push({
                            key: e,
                            value: l(r.get("exam.research-activity.max.choise1"), e, r.get("exam.research-activity.max.choise-sum"))
                        });
                return i.map(n, function(e) {
                    var n = e;
                    Number(n.key) === Number(a.max) && (n.selected = !0)
                }),
                n
            },
            typesMin: function() {
                var e, n = c.slice(), a = this.bindings.optionChange.data;
                if (n = c.slice(),
                a.options)
                    for (e = 1; e <= a.options.length; e++)
                        n.push({
                            key: e,
                            value: l(r.get("exam.research-activity.min.choise1"), e, r.get("exam.research-activity.max.choise-sum"))
                        });
                return i.map(n, function(e) {
                    var n = e;
                    Number(n.key) === Number(a.min) && (n.selected = !0)
                }),
                n
            },
            multipleChoice: function() {
                var e = this.bindings.state.data;
                return 2 === Number(e.type)
            }
        },
        a.mixin = {
            getData: function() {
                var e = {};
                return e.type = s(this.$$('[name="type"]')).val(),
                e.maxChoice = s(this.$$('[name="maxChoice"]')).val(),
                e.minChoice = s(this.$$('[name="minChoice"]')).val(),
                e.difficulty = s(this.$$('[name="difficulty"]')).val(),
                e.required = +s(this.$$('[name="required"]')).is(":checked"),
                e
            }
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/add-question/view-preview": [function(e, n, a) {
        var t = e("./app/exam/exam-question-types")
          , i = e("./app/util/strings");
        a.title = i.get("exam.research-activity.question.question-preview"),
        a.type = "dynamic",
        a.bindings = {
            state: !0
        },
        a.getEntity = function() {
            return this.bindings.state.data
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return t.get(n.type, 2)
        }
        ,
        a.dataForEntityModule = function(e) {
            return {
                data: e,
                multiple: 2 === e.type,
                previewMode: 1
            }
        }
    }
    , {
        "./app/exam/exam-question-types": "./app/exam/exam-question-types",
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/research-activity/question/add-question/view-question": [function(e, n, a) {
        var t = e("./app/exam/research-question-types")
          , i = e("drizzlejs")
          , s = e("lodash/collection");
        a.type = "dynamic",
        a.bindings = {
            state: !0
        },
        a.getEntity = function() {
            var e, n = this.bindings.state.data;
            return n.id && (e = JSON.parse(JSON.stringify(n)),
            e = i.assign({}, e, {
                questionAttrs: s.orderBy(s.map(e.questionAttrs, function(e) {
                    return e.score ? i.assign(e, {
                        score: e.score / 100
                    }) : e
                }), ["name"], ["asc"]),
                score: e.score / 100
            })),
            e
        }
        ,
        a.getEntityModuleName = function(e) {
            return t.get(e, 6)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = e ? e.type : this.bindings.state.data.type;
            return {
                type: n,
                data: e,
                multiple: 2 === Number(n),
                mode: this.module.renderOptions.hideScore ? 0 : 1
            }
        }
        ,
        a.dataForTemplate = {
            isOther: function() {
                var e = this.bindings.state.data;
                return 1 == +e.type || 2 == +e.type
            }
        }
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer-detail/choise-satisfaction/index": [function(e, n, a) {
        var t = e("./app/exam/research-activity/question/types/answer-detail/choise/index")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = i.assign({}, t)
          , l = {
            store: {
                models: {
                    answerRecord: {
                        mixin: {
                            init: function(e) {
                                var n = this
                                  , a = e.data || []
                                  , t = e.researchRecordId || ""
                                  , i = s.find(a, ["researchRecordId", t]);
                                n.data = i || {}
                            }
                        }
                    }
                },
                callbacks: {
                    init: function(e) {
                        var n = e.question;
                        this.models.question.set(n),
                        this.models.question.init(),
                        this.models.answerRecord.init({
                            data: n.answerRecords,
                            researchRecordId: n.researchRecordId
                        })
                    }
                }
            }
        }
          , o = i.assign({}, t.items)
          , c = i.assign({}, t.store.models)
          , u = i.assign({}, t.store.callbacks)
          , d = i.assign(r, {
            items: o,
            store: {
                models: i.assign(c, l.store.models),
                callbacks: i.assign(u, l.store.callbacks)
            }
        });
        n.exports = d
    }
    , {
        "./app/exam/research-activity/question/types/answer-detail/choise/index": "./app/exam/research-activity/question/types/answer-detail/choise/index",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer-detail/choise-satisfaction/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i, s, r) {
                var l, o = e.lambda, c = e.escapeExpression, u = null != n ? n : {}, d = a.helperMissing;
                return '    <div id="main"></div>\n    <div class="question" style="display:inline;">\n        <span class="sub-text inline-block">\n            ' + c(o(null != (l = null != n ? n.question : n) ? l.index : l, n)) + ".\n            【\n            " + c((a.map || n && n.map || d).call(u, "question-types-all", null != (l = null != n ? n.question : n) ? l.type : l, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '\n            】 &nbsp;\n        </span>\n        <span><a class="normal" name="question-' + c(o(null != (l = null != n ? n.question : n) ? l.id : l, n)) + '">' + (null != (l = (a.echoX || n && n.echoX || d).call(u, null != (l = null != n ? n.question : n) ? l.content : l, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + '</a></span>\n    </div>\n    <table class="table m-top">\n' + (null != (l = a.each.call(u, null != (l = null != n ? n.question : n) ? l.options : l, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "    </table>\n" + (null != (l = a.if.call(u, null != n ? n.isShowOther : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            4: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {}, c = a.helperMissing;
                return "            <tr>\n                <td>\n" + (null != (l = a.if.call(o, null != n ? n.mutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0, s, r),
                    inverse: e.program(8, i, 0, s, r),
                    data: i
                })) ? l : "") + "                    <label>\n" + (null != (l = (a.compare || n && n.compare || c).call(o, null != (l = null != r[1] ? r[1].question : r[1]) ? l.scoreMode : l, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(10, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "                        " + (null != (l = (a.echoX || n && n.echoX || c).call(o, null != n ? n.code : n, ".", null != n ? n.text : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "\n                    </label>\n                </td>\n            </tr>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                        <div class="checkbox">\n                            <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" id="checkbox-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" disabled/>\n                            <label for="checkbox-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                        </div>\n'
            },
            6: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            8: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                        <div class="radio">\n                            <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" disabled id="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                            <label for="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                        </div>\n'
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                            [" + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.research-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "]\n"
            },
            12: function(e, n, a, t, i) {
                var s;
                return '        <div class="input o-content">' + e.escapeExpression(e.lambda(null != (s = null != n ? n.answerRecord : n) ? s.remark : s, n)) + "</div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + (null != (l = (a.view || n && n.view || d).call(u, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/answer-detail/choise-satisfaction/view-main": [function(e, n, a) {
        a.bindings = {
            question: !0,
            answerRecord: !0
        },
        a.dataForTemplate = {
            isShowOther: function(e) {
                var n = e.question.questionAttrs || [];
                return !(!n[n.length - 1] || 11 != +n[n.length - 1].type) && Boolean(e.answerRecord.remark)
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/answer-detail/choise/index": [function(e, n, a) {
        var t = e("lodash/collection");
        a.items = {
            main: "main"
        },
        a.store = {
            models: {
                question: {
                    mixin: {
                        init: function() {
                            var e = this;
                            this.data.options = t.map(this.data.questionAttrs, function(n, a) {
                                return {
                                    code: String.fromCharCode(a + "A".charCodeAt(0)),
                                    text: n.value,
                                    checked: e.isChecked(n.name),
                                    mutiple: 2 === Number(e.data.type),
                                    score: n.score
                                }
                            })
                        },
                        isChecked: function(e) {
                            var n = t.find(this.data.answerRecords, ["researchRecordId", this.data.researchRecordId])
                              , a = !1
                              , i = [];
                            return n && n.answer && (i = n.answer.split(","),
                            a = t.some(i, function(n) {
                                return n === e
                            })),
                            a
                        }
                    }
                },
                answerRecord: {
                    mixin: {
                        init: function(e) {
                            var n = this
                              , a = e.data || []
                              , i = e.researchRecordId || ""
                              , s = t.find(a, ["researchRecordId", i]);
                            n.data = s || {}
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.question;
                    this.models.question.set(n),
                    this.models.question.init(),
                    this.models.answerRecord.init({
                        data: n.answerRecords,
                        researchRecordId: n.researchRecordId
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer-detail/choise/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {}, c = e.lambda, u = e.escapeExpression, d = a.helperMissing;
                return '    <div id="main"></div>\n    <div class="question ' + (null != (l = a.if.call(o, null != (l = null != n ? n.question : n) ? l.required : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n            ' + u(c(null != (l = null != n ? n.question : n) ? l.index : l, n)) + ".\n            【\n            " + u((a.map || n && n.map || d).call(o, "question-types-all", null != (l = null != n ? n.question : n) ? l.type : l, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '\n            】 &nbsp;\n        </span>\n        <span><a class="normal" name="question-' + u(c(null != (l = null != n ? n.question : n) ? l.id : l, n)) + '">' + (null != (l = (a.echoX || n && n.echoX || d).call(o, null != (l = null != n ? n.question : n) ? l.content : l, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "</a></span>\n    </div>\n" + (null != (l = a.if.call(o, null != (l = null != n ? n.question : n) ? l.showMinChoice : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = a.if.call(o, null != (l = null != n ? n.question : n) ? l.showMaxChoice : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = a.if.call(o, null != (l = null != n ? n.question : n) ? l.showChoiceLimit : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '    <table class="table m-top">\n' + (null != (l = a.each.call(o, null != (l = null != n ? n.question : n) ? l.options : l, {
                    name: "each",
                    hash: {},
                    fn: e.program(12, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "    </table>\n" + (null != (l = a.if.call(o, null != n ? n.isShowOther : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(20, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '        <span class="inline-block">\n            (\n            ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.min.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + o(e.lambda(null != (s = null != n ? n.question : n) ? s.minChoice : s, n)) + "\n            " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            )\n        </span>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '        <span class="inline-block">\n            (\n            ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + o(e.lambda(null != (s = null != n ? n.question : n) ? s.maxChoice : s, n)) + "\n            " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            )\n        </span>\n"
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '        <span class="inline-block">\n            (\n            ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.min.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + o(c(null != (s = null != n ? n.question : n) ? s.minChoice : s, n)) + "\n            " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            ,\n            " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            " + o(c(null != (s = null != n ? n.question : n) ? s.maxChoice : s, n)) + "\n            " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n            )\n        </span>\n"
            },
            12: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {}, c = a.helperMissing;
                return "            <tr>\n                <td>\n" + (null != (l = a.if.call(o, null != n ? n.mutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(13, i, 0, s, r),
                    inverse: e.program(16, i, 0, s, r),
                    data: i
                })) ? l : "") + "                    <label>\n" + (null != (l = (a.compare || n && n.compare || c).call(o, null != (l = null != r[1] ? r[1].question : r[1]) ? l.scoreMode : l, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "                        " + (null != (l = (a.echoX || n && n.echoX || c).call(o, null != n ? n.code : n, ".", null != n ? n.text : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "\n                    </label>\n                </td>\n            </tr>\n"
            },
            13: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                        <div class="checkbox">\n                            <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" id="checkbox-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" disabled/>\n                            <label for="checkbox-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                        </div>\n'
            },
            14: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            16: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                        <div class="radio">\n                            <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" disabled id="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                            <label for="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                        </div>\n'
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                            [" + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.research-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "]\n"
            },
            20: function(e, n, a, t, i) {
                var s;
                return '        <div class="input o-content">' + e.escapeExpression(e.lambda(null != (s = null != n ? n.answerRecord : n) ? s.remark : s, n)) + "</div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + (null != (l = (a.view || n && n.view || d).call(u, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/answer-detail/choise/view-main": [function(e, n, a) {
        a.bindings = {
            question: !0,
            answerRecord: !0
        },
        a.type = "form",
        a.dataForTemplate = {
            state: function(e) {
                var n = e.question
                  , a = ["1", "2"]
                  , t = localStorage.memberTitleType
                  , i = a.findIndex(function(e) {
                    return e === t
                });
                return n.maxChoice && (n.showMaxChoice = !0),
                n.minChoice && (n.showMinChoice = !0),
                n.minChoice && n.maxChoice && (n.showChoiceLimit = !0,
                n.showMaxChoice = !1,
                n.showMinChoice = !1),
                n.required = Boolean(n.required),
                i <= -1 && (n.required = !1),
                n
            },
            isShowOther: function(e) {
                var n = e.question.questionAttrs || [];
                return !(!n[n.length - 1] || 11 != +n[n.length - 1].type) && Boolean(e.answerRecord.remark)
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/answer-detail/matrix/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                question: {
                    data: {},
                    mixin: {
                        getSubQuestionById: function(e) {
                            var n = i.find(this.data.subs, ["id", e]);
                            return n.answerRecords = i.filter(this.data.answerRecords, ["questionId", n.id]),
                            n.researchRecordId = this.data.researchRecordId,
                            n
                        }
                    }
                },
                answer: {
                    data: {
                        type: 9,
                        value: []
                    },
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        },
                        save: function(e) {
                            var n, a = this.data.value;
                            n = i.reject(a, ["key", e.key]),
                            n.push(e),
                            this.data.value = n
                        },
                        getAnswer: function(e) {
                            var n = this.data.value;
                            return i.find(n, ["key", e])
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a, i = this.models.question.data = {
                        options: [],
                        title: s.get("exam.research-activity.question.matrix-scale"),
                        answer: "",
                        gainScore: 0,
                        errorRate: 0
                    }, r = e.question;
                    if (r) {
                        for (t.assign(i, r),
                        a = r.questionAttrs,
                        n = 0; n < a.length; n++)
                            i.options.push({
                                content: a[n].value,
                                contentText: a[n].valueText,
                                isRichText: !1,
                                id: a[n].id,
                                name: a[n].name,
                                score: a[n].score || 0
                            });
                        i.detailMode = e.mode
                    }
                    this.models.answer.init(e.answer),
                    this.models.question.changed()
                },
                saveAnswer: function(e) {
                    var n = this.module.renderOptions.callback;
                    this.models.answer.save(e),
                    t.assign(this.models.answer.data, {
                        key: this.models.question.data.id,
                        type: 9
                    }),
                    n && n(this.models.answer.data)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer-detail/matrix/sub/index": [function(e, n, a) {
        var t = e("lodash/collection");
        a.items = {
            sub: "sub"
        },
        a.store = {
            models: {
                question: {
                    mixin: {
                        init: function() {
                            var e = this;
                            this.data.options = t.map(this.data.questionAttrs, function(n) {
                                return {
                                    text: n.value,
                                    selectPercent: n.selectPercent || e.countPercent(n.name),
                                    checked: e.isChecked(n.name)
                                }
                            })
                        },
                        countPercent: function(e) {
                            var n = t.filter(this.data.answerRecords, function(n) {
                                return !(!n || !n.answer) && t.some(n.answer.split(","), function(n) {
                                    return n === e
                                })
                            }).length
                              , a = t.filter(this.data.answerRecords, function(e) {
                                return !(!e || !e.answer)
                            }).length
                              , i = 0 === a ? 0 : n / a
                              , s = 100 * i + "";
                            return s.indexOf(".") > 0 ? Number(s).toFixed(2) : s
                        },
                        isChecked: function(e) {
                            var n = this
                              , a = t.find(this.data.answerRecords, function(e) {
                                return e.researchRecordId === n.data.researchRecordId && e.questionId === n.data.id
                            })
                              , i = !1
                              , s = [];
                            return a && a.answer && (s = a.answer.split(","),
                            i = t.some(s, function(n) {
                                return n === e
                            })),
                            i
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    this.models.question.set(e.question),
                    this.models.question.init()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer-detail/matrix/sub/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<table data-region="sub"></table>'
            },
            3: function(e, n, a, t, i, s, r) {
                var l, o = e.lambda, c = e.escapeExpression, u = null != n ? n : {};
                return '    <tr>\n        <td id="item-' + c(o(null != (l = null != n ? n.question : n) ? l.id : l, n)) + '">\n            <div class="matrix-left" title="' + c(o(null != (l = null != n ? n.question : n) ? l.contentText : l, n)) + '">\n                <label class="answer-content" for="item-' + c(o(null != (l = null != n ? n.question : n) ? l.id : l, n)) + '" title="' + c(o(null != (l = null != n ? n.question : n) ? l.content : l, n)) + '">\n                    ' + (null != (l = (a.echoX || n && n.echoX || a.helperMissing).call(u, null != (l = null != n ? n.question : n) ? l.content : l, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "\n                </label>\n            </div>\n        </td>\n" + (null != (l = a.each.call(u, null != (l = null != n ? n.question : n) ? l.options : l, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "    </tr>\n"
            },
            4: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = e.escapeExpression, d = a.helperMissing;
                return '            <td class="radio">\n                <div style="width:100px; margin-right:15px">\n                    <input ' + (null != (l = a.if.call(c, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + ' type="radio" name="value-' + u(e.lambda(null != (l = null != r[1] ? r[1].question : r[1]) ? l.id : l, n)) + '" id="radio-' + u((o = null != (o = a.index || i && i.index) ? o : d,
                "function" == typeof o ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '" value="' + u((o = null != (o = a.index || i && i.index) ? o : d,
                "function" == typeof o ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '" disabled/>\n                    <label for="radio-' + u((o = null != (o = a.index || i && i.index) ? o : d,
                "function" == typeof o ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '"></label>\n                </div>\n            </td>\n'
            },
            5: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "sub", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\x3c!--  #!handlebars --\x3e\n\x3c!--  module > div(data-region='sub') --\x3e\n\x3c!--  view('sub') --\x3e\n\x3c!--      .row(id='item-' + question.id) --\x3e\n\x3c!--          .matrix-left(title=question.contentText) --\x3e\n\x3c!--              label.answer-content(for='item-' + question.id) --\x3e\n\x3c!--                  @echoX(question.content) --\x3e\n\x3c!--          .matrix-content --\x3e\n\x3c!--              each(question.options) --\x3e\n\x3c!--                  .radio --\x3e\n\x3c!--                      input.disabled(type='radio' name='value-' + ../question.id id='radio-' + @index value=@index disabled='disabled')('checked')&if(checked) --\x3e\n\x3c!--                      label(for='radio-' + @index) --\x3e\n"
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/answer-detail/matrix/sub/view-sub": [function(e, n, a) {
        a.bindings = {
            question: !0
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/answer-detail/matrix/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div>\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div class="question ' + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n            ' + o(l(null != (s = null != n ? n.question : n) ? s.index : s, n)) + ".\n            【\n            " + o((a.map || n && n.map || c).call(r, "question-types-all", null != (s = null != n ? n.question : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '\n            】 &nbsp;\n        </span>\n        <span><a class="normal" name="question-' + o(l(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || c).call(r, null != (s = null != n ? n.question : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a></span>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {};
                return '<div class="answer matrix-radio">\n    <div class="col-sm-content">\n        <table style="">\n            <thead><tr class="matrix-title">\n                <td><div class="matrix-left-first">&nbsp;</div></td>\n' + (null != (l = a.each.call(o, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "            </tr></thead>\n        </table>\n" + (null != (l = a.each.call(o, null != (l = null != n ? n.question : n) ? l.subs : l, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "    </div>\n</div>"
            },
            7: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing;
                return '                    <td class="matrix-title-span">\n                        <span title="' + e.escapeExpression((o = null != (o = a.contentText || (null != n ? n.contentText : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "contentText",
                    hash: {},
                    data: i
                }) : o)) + '">\n' + (null != (l = (a.compare || n && n.compare || u).call(c, null != (l = null != r[1] ? r[1].question : r[1]) ? l.scoreMode : l, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "                            " + (null != (l = (a.echoX || n && n.echoX || u).call(c, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "\n                        </span>\n                    </td>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                                [" + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.research-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "]\n"
            },
            10: function(e, n, a, t, i) {
                var s;
                return '            <div class="matrix-content" data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\x3c!--  view('options') > .answer.matrix-radio     --\x3e\n\x3c!--      .row --\x3e\n\x3c!--          .matrix-left --\x3e\n\x3c!--          .matrix-title --\x3e\n\x3c!--              each(options) --\x3e\n\x3c!--                  span(title=contentText) --\x3e\n\x3c!--                      compare(../question.scoreMode 'eq' 1) --\x3e\n\x3c!--                          echo('[' score) + string('exam.research-activity.research-detail.score') + echo(']') --\x3e\n\x3c!--                      @echoX(content) --\x3e\n\x3c!--      dl.row > each(question.subs) --\x3e\n\x3c!--          div(data-dynamic-key=id) --\x3e\n" + (null != (l = (a.view || n && n.view || d).call(u, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(6, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n"
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/answer-detail/matrix/view-content": [function(e, n, a) {
        a.bindings = {
            question: !0
        },
        a.dataForTemplate = {
            question: function(e) {
                var n = e.question
                  , a = ["1", "2"]
                  , t = localStorage.memberTitleType
                  , i = a.findIndex(function(e) {
                    return e === t
                });
                return n.required = Boolean(n.required),
                i <= -1 && (n.required = !1),
                n
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/answer-detail/matrix/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.bindings = {
            question: !0,
            answer: !0
        },
        a.type = "dynamic",
        a.dataForTemplate = {
            options: function() {
                var e = this.bindings.answer.data
                  , n = this;
                return t.map(this.bindings.question.data.options, function(a, i) {
                    var s = a;
                    s.index = i,
                    s.questionId = n.bindings.question.data.id,
                    t.find(e.value, ["id", s.id]) && (s.checked = !0)
                }),
                this.bindings.question.data.options
            }
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.question.getSubQuestionById(e)
              , a = i.assign({}, n)
              , t = i.assign({}, n.answerRecord);
            return i.assign(a, {
                questionAttrs: n.questionAttrs,
                answerRecord: i.assign(t, {
                    score: t.score / 100
                })
            }),
            a
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/research-activity/question/types/answer-detail/matrix/sub"
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                question: e,
                answer: this.bindings.answer.getAnswer(e.id),
                callback: function(e) {
                    return n.module.dispatch("saveAnswer", e)
                }
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer-detail/question-answer/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection");
        a.items = {
            main: "main"
        },
        a.store = {
            models: {
                question: {
                    mixin: {
                        init: function() {
                            this.data = t.assign(this.data, {
                                answerRecord: this.findOwnAnswerRecord()
                            })
                        },
                        findOwnAnswerRecord: function() {
                            return i.find(this.data.answerRecords, ["researchRecordId", this.data.researchRecordId])
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    this.models.question.set(e.question),
                    this.models.question.init()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer-detail/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div class="question ' + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n            ' + o(l(null != (s = null != n ? n.question : n) ? s.index : s, n)) + ".\n            【\n            " + o((a.map || n && n.map || c).call(r, "question-types-all", null != (s = null != n ? n.question : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '\n            】 &nbsp;\n        </span>\n        <span><a class="normal" name="question-' + o(l(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || c).call(r, null != (s = null != n ? n.question : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</a></span>\n    </div>\n    <div class="clearfix statistics-list">\n        <div class="statistics-list-tit pull-left col-sm-10">' + o((a.string || n && n.string || c).call(r, "exam.research-activity.question.answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(l(null != (s = null != (s = null != n ? n.question : n) ? s.answerRecord : s) ? s.answer : s, n)) + '</div>\n        <div class="statistics-list-time pull-right">' + o((a.dateMinute || n && n.dateMinute || c).call(r, null != (s = null != (s = null != n ? n.question : n) ? s.answerRecord : s) ? s.createTime : s, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "</div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/answer-detail/question-answer/view-main": [function(e, n, a) {
        a.bindings = {
            question: !0
        },
        a.dataForTemplate = {
            question: function(e) {
                var n = e.question
                  , a = ["1", "2"]
                  , t = localStorage.memberTitleType
                  , i = a.findIndex(function(e) {
                    return e === t
                });
                return n.required = Boolean(n.required),
                i <= -1 && (n.required = !1),
                n
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/answer/choise-satisfaction/index": [function(e, n, a) {
        var t = e("./app/exam/research-activity/question/types/answer/choise/index")
          , i = e("drizzlejs")
          , s = i.assign({}, t)
          , r = {
            store: {
                callbacks: {
                    remarkChange: function(e) {
                        return this.models.answer.data.remark = e.remark,
                        this.module.dispatch("save")
                    }
                }
            }
        }
          , l = i.assign({}, t.items)
          , o = i.assign({}, t.store.models)
          , c = i.assign({}, t.store.callbacks)
          , u = i.assign(s, {
            items: l,
            store: {
                models: o,
                callbacks: i.assign(c, r.store.callbacks)
            }
        });
        n.exports = u
    }
    , {
        "./app/exam/research-activity/question/types/answer/choise/index": "./app/exam/research-activity/question/types/answer/choise/index",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/question/types/answer/choise-satisfaction/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '    <div class="question mb-1" style="display:inline;">\n        <span class="sub-text inline-block">\n            ' + l(r(null != (s = null != n ? n.state : n) ? s.index : s, n)) + ".\n            【\n            " + l((a.map || n && n.map || c).call(o, "question-types-all", null != (s = null != n ? n.state : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '\n            】 &nbsp;\n        </span>\n        <span class="inline-block"><a class="normal" name="question-' + l(r(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || c).call(o, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a></span>\n    </div>\n"
            },
            5: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {};
                return '<div class="answer">\n    <div class="preview-list"><dl>' + (null != (l = a.each.call(o, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "    </dl></div>\n" + (null != (l = a.if.call(o, null != n ? n.isShowDetail : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "</div>"
            },
            6: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '\n        <dd id="item-' + d((o = null != (o = a.index || (null != n ? n.index : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '">\n' + (null != (l = a.if.call(c, null != n ? n.mutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0, s, r),
                    inverse: e.program(10, i, 0, s, r),
                    data: i
                })) ? l : "") + '            <div class="inline-block" id="answer-item-' + d((o = null != (o = a.index || (null != n ? n.index : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '">\n                <span class="pull-left option-num">' + (null != (l = (a.echoX || n && n.echoX || u).call(c, null != n ? n.code : n, "：", {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "</span>\n" + (null != (l = (a.compare || n && n.compare || u).call(c, null != (l = null != r[1] ? r[1].state : r[1]) ? l.scoreMode : l, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(12, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '                <div class="answer-content">' + (null != (l = (a.echoX || n && n.echoX || u).call(c, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "</div>\n            </div>\n        </dd>\n" + (null != (l = a.if.call(c, null != n ? n.isShowOther : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            7: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="checkbox">\n                    <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" id="check-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                    <label for="check-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                </div>\n'
            },
            8: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="radio">\n                    <input class="m-right" ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="value-' + c((r = null != (r = a.questionId || (null != n ? n.questionId : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "questionId",
                    hash: {},
                    data: i
                }) : r)) + '" id="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                    <label for="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                </div>\n'
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <div class="answer-options m-right">[' + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.research-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "]</div>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <form class="vertical">\n                <div class="row"><div class="col-sm-12">\n                    <textarea id="content" class="input" name="content" data-id="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-researchRecordId="' + o((s = null != (s = a.researchRecordId || (null != n ? n.researchRecordId : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "researchRecordId",
                    hash: {},
                    data: i
                }) : s)) + '" x-rule="maxLength:500" maxlength="500" rows="6" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.other", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '">' + o((s = null != (s = a.remark || (null != n ? n.remark : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "remark",
                    hash: {},
                    data: i
                }) : s)) + '</textarea>\n                    <div class="tips">0/500</div>\n                </div></div>\n            </form>\n'
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.escapeExpression;
                return '        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowAnswer : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                </div></div>\n                <div class="text-right">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.isShowGainScore : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                    <span class="layout-ml">' + l((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.question.wrong-rate", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(e.lambda(null != (s = null != n ? n.state : n) ? s.errorRate : s, n)) + "%</span>\n                </div>\n            </div>\n        </div>\n"
            },
            17: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return "                        " + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.question.answer-is", {
                    name: "string",
                    hash: {},
                    data: i
                })) + r(e.lambda(null != (s = null != n ? n.state : n) ? s.answer : s, n)) + "\n"
            },
            19: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return "                        <span>" + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.question.question-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + r(e.lambda(null != (s = null != n ? n.state : n) ? s.gainScore : s, n)) + "</span>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.view || n && n.view || d).call(u, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n"
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/answer/choise-satisfaction/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/exam/question/types/answer/line/view-options"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/exam/question/types/answer/line/view-options"
    }],
    "./app/exam/research-activity/question/types/answer/choise-satisfaction/view-options": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("./app/exam/research-activity/question/types/answer/choise/view-options")
          , s = t.assign({}, i)
          , r = t.assign({}, s.handlers)
          , l = t.assign({}, s.dataForTemplate)
          , o = e("jquery");
        s.handlers = r,
        s.dataForTemplate = l,
        t.assign(s.events, {
            "change remark": "changeRemark"
        }),
        t.assign(s.handlers, {
            changeRemark: function() {
                var e = o(this.$("remark")).val() && o(this.$("remark")).val().trim();
                return this.module.dispatch("remarkChange", {
                    remark: e
                })
            }
        }),
        n.exports = s
    }
    , {
        "./app/exam/research-activity/question/types/answer/choise/view-options": "./app/exam/research-activity/question/types/answer/choise/view-options",
        drizzlejs: "drizzlejs",
        jquery: "jquery"
    }],
    "./app/exam/research-activity/question/types/answer/choise/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        getOption: function(e) {
                            return this.data.options[e]
                        },
                        init: function() {
                            var e = this
                              , n = i.sortBy(i.map(this.data.questionAttrs, function(e) {
                                var n = e;
                                return n.name && (n.name = Number(e.name)),
                                n
                            }), "name");
                            this.data.options = i.map(n, function(n, a) {
                                return {
                                    content: n.value,
                                    mutiple: 2 === e.data.type,
                                    id: n.id,
                                    name: n.name,
                                    score: n.score || 0,
                                    code: String.fromCharCode(a + "A".charCodeAt(0)),
                                    text: n.value,
                                    type: n.type || ""
                                }
                            }),
                            2 === Number(this.data.type) && (this.data.title = s.get("exam.research-activity.question.mutiple-answer-question"))
                        },
                        isChecked: function(e) {
                            var n = i.find(this.data.answerRecords, ["researchRecordId", this.data.researchRecordId])
                              , a = !1
                              , t = [];
                            return n && n.answer && (t = n.answer.split(","),
                            a = i.some(t, function(n) {
                                return n === e
                            })),
                            a
                        }
                    }
                },
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.state.data = {
                        options: [],
                        title: s.get("exam.research-activity.question.single-answer-question"),
                        answer: "",
                        mutiple: !1,
                        gainScore: 0,
                        errorRate: 0,
                        researchType: e.researchType
                    }
                      , a = e.data;
                    a && (t.assign(n, a),
                    n.detailMode = e.mode),
                    this.models.answer.init(e.answer),
                    this.models.state.init(),
                    this.models.state.changed()
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                },
                clickSave: function(e) {
                    var n, a = e.index, t = e.checked, r = e.isMultiple, l = this.models.answer.data, o = this.models.state.data, c = this.models.state.getOption(a), u = {
                        id: c.id,
                        value: c.name,
                        score: c.score
                    };
                    return 3 !== a && (l.remark = ""),
                    t ? (l.key = this.models.state.data.id,
                    r ? o.maxChoice && l.value.length >= o.maxChoice ? this.app.message.error(s.get("exam.research.choice.warn")) : l.value.push(u) : l.value = [u]) : (n = i.reject(l.value, ["id", c.id]),
                    this.models.answer.data = {
                        key: this.models.state.data.id,
                        value: n
                    }),
                    this.module.dispatch("save")
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer/choise/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div class="question mb-1 ' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n            ' + o(l(null != (s = null != n ? n.state : n) ? s.index : s, n)) + ".\n            【\n            " + o((a.map || n && n.map || c).call(r, "question-types-all", null != (s = null != n ? n.state : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '\n            】 &nbsp;\n        </span>\n        <span class="inline-block"><a class="normal" name="question-' + o(l(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || c).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a></span>\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.showMinChoice : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.showMaxChoice : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.showChoiceLimit : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <span class="inline-block">\n                (\n                ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.min.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(e.lambda(null != (s = null != n ? n.state : n) ? s.minChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                )\n            </span>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <span class="inline-block">\n                (\n                ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(e.lambda(null != (s = null != n ? n.state : n) ? s.maxChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                )\n            </span>\n"
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '            <span class="inline-block">\n                (\n                ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.min.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(c(null != (s = null != n ? n.state : n) ? s.minChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                ,\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(c(null != (s = null != n ? n.state : n) ? s.maxChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                )\n            </span>\n"
            },
            12: function(e, n, a, t, i, s, r) {
                var l;
                return '<div class="answer">\n    <div class="preview-list"><dl>' + (null != (l = a.each.call(null != n ? n : {}, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(13, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "    </dl></div>\n</div>"
            },
            13: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '\n        <dd id="item-' + d((o = null != (o = a.index || (null != n ? n.index : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '">\n' + (null != (l = a.if.call(c, null != n ? n.mutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0, s, r),
                    inverse: e.program(17, i, 0, s, r),
                    data: i
                })) ? l : "") + '            <div class="inline-block" id="answer-item-' + d((o = null != (o = a.index || (null != n ? n.index : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '">\n                <span class="pull-left option-num">' + (null != (l = (a.echoX || n && n.echoX || u).call(c, null != n ? n.code : n, "：", {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "</span>\n" + (null != (l = (a.compare || n && n.compare || u).call(c, null != (l = null != r[1] ? r[1].state : r[1]) ? l.scoreMode : l, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(19, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '                <div class="answer-options display-show-block">' + (null != (l = (a.echoX || n && n.echoX || u).call(c, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "</div>\n            </div>\n        </dd>\n" + (null != (l = a.if.call(c, null != n ? n.isShowOther : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(21, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            14: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="checkbox">\n                    <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" id="check-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                    <label for="check-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                </div>\n'
            },
            15: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            17: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="radio">\n                    <input class="m-right" ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="value-' + c((r = null != (r = a.questionId || (null != n ? n.questionId : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "questionId",
                    hash: {},
                    data: i
                }) : r)) + '" id="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                    <label for="radio-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                </div>\n'
            },
            19: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <div class="answer-options m-right">[' + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.research-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "]</div>\n"
            },
            21: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <form class="vertical">\n                <div class="row"><div class="col-sm-12">\n                    <textarea id="content" class="input" name="content" data-id="' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" x-rule="maxLength:500" maxlength="500" rows="6" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.other", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '">' + o((s = null != (s = a.remark || (null != n ? n.remark : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "remark",
                    hash: {},
                    data: i
                }) : s)) + '</textarea>\n                    <div class="tips">0/500</div>\n                </div></div>\n            </form>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.view || n && n.view || d).call(u, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(12, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n"
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/answer/choise/view-content": [function(e, n, a) {
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            state: function(e) {
                var n = e.state;
                return n.maxChoice && (n.showMaxChoice = !0),
                n.minChoice && (n.showMinChoice = !0),
                n.minChoice && n.maxChoice && (n.showChoiceLimit = !0,
                n.showMaxChoice = !1,
                n.showMinChoice = !1),
                n.required = Boolean(n.required),
                n
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/answer/choise/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("jquery")
          , s = {}
          , r = {};
        a.bindings = {
            state: !0,
            answer: !1
        },
        a.type = "form",
        a.dataForTemplate = {
            options: function() {
                var e = this.bindings.answer.data
                  , n = this.bindings.state.data
                  , a = this;
                return t.map(this.bindings.state.data.options, function(i, l) {
                    var o = i;
                    o.index = l,
                    o.code = String.fromCharCode(o.index + "A".charCodeAt(0)),
                    o.questionId = a.bindings.state.data.id,
                    o.researchRecordId = a.bindings.state.data.researchRecordId || "",
                    t.find(e.value, ["id", o.id]) && (o.checked = !0),
                    o.checked && 11 == +o.type && (o.isShowOther = !0,
                    o.researchRecordId && localStorage.researchRecord && 2 !== n.researchType ? o.remark = r[o.researchRecordId] && r[o.researchRecordId][o.id] || "" : o.remark = s[o.id] || "")
                }),
                this.bindings.state.data.options
            }
        },
        a.events = {
            "click check-*": "check",
            "click radio-*": "radio",
            "click answer-item-*": "label"
        },
        a.handlers = {
            check: function(e) {
                return this.module.dispatch("clickSave", {
                    index: e,
                    checked: this.$("check-" + e).checked,
                    isMultiple: !0
                })
            },
            radio: function(e) {
                return this.module.dispatch("clickSave", {
                    index: e,
                    checked: this.$("radio-" + e).checked,
                    isMultiple: !1
                })
            },
            label: function(e) {
                var n = this.bindings.state
                  , a = n.data.options
                  , i = a[e];
                return i.mutiple ? i.checked = !i.checked : (t.map(a, function(e) {
                    var n = e;
                    return n.checked = !1,
                    n
                }),
                i.checked = !0),
                this.module.dispatch("clickSave", {
                    index: e,
                    checked: i.checked,
                    isMultiple: i.mutiple
                })
            }
        },
        a.afterRender = function() {
            var e, n, a, t = i("textarea"), l = this.bindings.state.data;
            t.on("input propertychange", function() {
                e = i(this).data("id"),
                a = i(this).data("researchrecordid") || "",
                n = window.myXss(i(this).val().replace(/ /g, "")),
                s[e] = n,
                localStorage.other = JSON.stringify(s),
                a && (r[a] = JSON.parse(JSON.stringify(s)),
                localStorage.researchRecord = JSON.stringify(r))
            }),
            1 === l.detailMode && (l.isShowAnswer = !0,
            l.isShowGainScore = !0),
            2 === l.detailMode ? (l.isShowAnswer = !1,
            l.isShowGainScore = !0) : 3 === l.detailMode && (l.isShowAnswer = !1,
            l.isShowGainScore = !0,
            this.bindings.answer.data = {})
        }
    }
    , {
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer/matrix/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {
                    data: {},
                    mixin: {
                        getSubQuestionById: function(e) {
                            var n = i.find(this.data.subs, ["id", e]);
                            return n.answerRecords = i.filter(this.data.answerRecords, ["questionId", n.id]),
                            n.researchRecordId = this.data.researchRecordId,
                            n
                        }
                    }
                },
                answer: {
                    data: {
                        type: 9,
                        value: []
                    },
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        },
                        save: function(e) {
                            var n, a = this.data.value;
                            n = i.reject(a, ["key", e.key]),
                            n.push(e),
                            this.data.value = n
                        },
                        getAnswer: function(e) {
                            var n = this.data.value;
                            return i.find(n, ["key", e])
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a, i = this.models.state.data = {
                        options: [],
                        title: s.get("exam.research-activity.question.matrix-scale"),
                        answer: "",
                        gainScore: 0,
                        errorRate: 0
                    }, r = e.data;
                    if (r) {
                        for (t.assign(i, r),
                        a = r.questionAttrs,
                        n = 0; n < a.length; n++)
                            i.options.push({
                                content: a[n].value,
                                contentText: a[n].valueText,
                                isRichText: !1,
                                id: a[n].id,
                                name: a[n].name,
                                score: a[n].score || 0
                            });
                        i.detailMode = e.mode
                    }
                    this.models.answer.init(e.answer),
                    this.models.state.changed()
                },
                saveAnswer: function(e) {
                    var n = this.module.renderOptions.callback;
                    this.models.answer.save(e),
                    t.assign(this.models.answer.data, {
                        key: this.models.state.data.id,
                        type: 9
                    }),
                    n && n(this.models.answer.data)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer/matrix/sub/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection");
        a.items = {
            sub: "sub"
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        getOption: function(e) {
                            return this.data.options[e]
                        },
                        init: function() {
                            this.data.options = i.map(this.data.questionAttrs, function(e) {
                                return {
                                    content: e.value,
                                    id: e.id,
                                    name: e.name,
                                    score: e.score || 0
                                }
                            })
                        },
                        isChecked: function(e) {
                            var n = this
                              , a = i.find(this.data.answerRecords, function(e) {
                                return e.researchRecordId === n.data.researchRecordId && e.questionId === n.data.id
                            })
                              , t = !1
                              , s = [];
                            return a && a.answer && (s = a.answer.split(","),
                            t = i.some(s, function(n) {
                                return n === e
                            })),
                            t
                        }
                    }
                },
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.state.data = {
                        options: [],
                        answer: "",
                        gainScore: 0,
                        errorRate: 0
                    }
                      , a = e.data;
                    a && (t.assign(n, a),
                    n.detailMode = e.mode),
                    this.models.answer.init(e.answer),
                    this.models.state.changed(),
                    this.models.state.init()
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                },
                clickSave: function(e) {
                    var n, a = e.index, t = e.checked, s = this.models.answer.data, r = this.models.state.getOption(a), l = {
                        id: r.id,
                        value: r.name,
                        score: r.score
                    };
                    return t ? (s.key = this.models.state.data.id,
                    s.value = [l]) : (n = i.reject(s.value, ["id", r.id]),
                    this.models.answer.data = {
                        key: this.models.state.data.id,
                        value: n
                    }),
                    this.module.dispatch("save")
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer/matrix/sub/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<table data-region="sub"></table>'
            },
            3: function(e, n, a, t, i, s, r) {
                var l, o = e.lambda, c = e.escapeExpression, u = null != n ? n : {};
                return '    <tr>\n        <td id="item-' + c(o(null != (l = null != n ? n.state : n) ? l.id : l, n)) + '">\n            <div class="matrix-left" title="' + c(o(null != (l = null != n ? n.state : n) ? l.contentText : l, n)) + '">\n                <label class="answer-content" for="item-' + c(o(null != (l = null != n ? n.state : n) ? l.id : l, n)) + '" title="' + c(o(null != (l = null != n ? n.state : n) ? l.content : l, n)) + '">\n                    ' + (null != (l = (a.echoX || n && n.echoX || a.helperMissing).call(u, null != (l = null != n ? n.state : n) ? l.content : l, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "\n                </label>\n            </div>\n        </td>\n        \x3c!--  .matrix-content --\x3e\n" + (null != (l = a.each.call(u, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "    </tr>\n"
            },
            4: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = e.escapeExpression, d = a.helperMissing;
                return '            <td class="radio">\n                <div style="width:100px;margin-right:15px">\n                    <input ' + (null != (l = a.if.call(c, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + ' type="radio" name="value-' + u(e.lambda(null != (l = null != r[1] ? r[1].state : r[1]) ? l.id : l, n)) + '" id="radio-' + u((o = null != (o = a.index || i && i.index) ? o : d,
                "function" == typeof o ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '" value="' + u((o = null != (o = a.index || i && i.index) ? o : d,
                "function" == typeof o ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '"/>\n                    <label for="radio-' + u((o = null != (o = a.index || i && i.index) ? o : d,
                "function" == typeof o ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '"></label>\n                </div>\n            </td>\n'
            },
            5: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "sub", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/answer/matrix/sub/view-sub": [function(e, n, a) {
        var t = e("lodash/collection");
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.dataForTemplate = {
            options: function() {
                var e = this.bindings.answer.data
                  , n = this;
                return t.map(this.bindings.state.data.options, function(a, i) {
                    var s = a;
                    s.index = i,
                    s.questionId = n.bindings.state.data.id,
                    t.find(e.value, ["id", s.id]) && (s.checked = !0)
                }),
                this.bindings.state.data.options
            }
        },
        a.events = {
            "click radio-*": "radio"
        },
        a.handlers = {
            radio: function(e) {
                return this.module.dispatch("clickSave", {
                    index: e,
                    checked: this.$("radio-" + e).checked
                })
            }
        },
        a.beforeRender = function() {
            var e = this.bindings.state.data;
            1 === e.detailMode && (e.isShowAnswer = !0,
            e.isShowGainScore = !0),
            2 === e.detailMode ? (e.isShowAnswer = !1,
            e.isShowGainScore = !0) : 3 === e.detailMode && (e.isShowAnswer = !1,
            e.isShowGainScore = !0,
            this.bindings.answer.data = {})
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer/matrix/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div class="question mb-1 ' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n            ' + o(l(null != (s = null != n ? n.state : n) ? s.index : s, n)) + ".\n            【\n            " + o((a.map || n && n.map || c).call(r, "question-types-all", null != (s = null != n ? n.state : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '\n            】 &nbsp;\n        </span>\n        <span class="inline-block"><a class="normal" name="question-' + o(l(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || c).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a></span>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {};
                return '<div class="answer matrix-radio">\n    \x3c!--  .col-sm-title --\x3e\n    \x3c!--      table(style="position: absolute;top: 30px;width: 100px;min-width: auto;") --\x3e\n    \x3c!--          thead > tr --\x3e\n    \x3c!--              td.col-sm-title-td --\x3e\n    \x3c!--          tbody --\x3e\n    \x3c!--              each(subs) --\x3e\n    \x3c!--                  tr > td --\x3e\n    \x3c!--                      .answer-content > @echoX(content) --\x3e\n    <div class="col-sm-content">\n        <table style="">\n            <thead><tr class="matrix-title">\n                <td><div class="matrix-left-first">&nbsp;</div></td>\n' + (null != (l = a.each.call(o, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "            </tr></thead>\n        </table>\n" + (null != (l = a.each.call(o, null != (l = null != n ? n.state : n) ? l.subs : l, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "    </div>\n</div>"
            },
            7: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing;
                return '                    <td class="matrix-title-span">\n                        <span title="' + e.escapeExpression((o = null != (o = a.contentText || (null != n ? n.contentText : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "contentText",
                    hash: {},
                    data: i
                }) : o)) + '">\n' + (null != (l = (a.compare || n && n.compare || u).call(c, null != (l = null != r[1] ? r[1].state : r[1]) ? l.scoreMode : l, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "                            " + (null != (l = (a.echoX || n && n.echoX || u).call(c, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "\n                        </span>\n                    </td>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                                [" + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.research-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "]\n"
            },
            10: function(e, n, a, t, i) {
                var s;
                return '            <div class="matrix-content" data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\x3c!--  view('options') > .answer.matrix-radio --\x3e\n\x3c!--      .row --\x3e\n\x3c!--          .matrix-left --\x3e\n\x3c!--          .matrix-title --\x3e\n\x3c!--              each(options) --\x3e\n\x3c!--                  span(title=contentText) --\x3e\n\x3c!--                      compare(../state.scoreMode 'eq' 1) --\x3e\n\x3c!--                          echo('[' score) + string('exam.research-activity.research-detail.score') + echo(']') --\x3e\n\x3c!--                      @echoX(content) --\x3e\n\x3c!--      dl.row > each(state.subs) --\x3e\n\x3c!--          div(data-dynamic-key=id) --\x3e\n" + (null != (l = (a.view || n && n.view || d).call(u, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(6, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n"
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/answer/matrix/view-content": [function(e, n, a) {
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            state: function(e) {
                var n = e.state;
                return n.required = Boolean(n.required),
                n
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/answer/matrix/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.type = "dynamic",
        a.dataForTemplate = {
            options: function() {
                var e = this.bindings.answer.data
                  , n = this;
                return t.map(this.bindings.state.data.options, function(a, i) {
                    var s = a;
                    s.index = i,
                    s.questionId = n.bindings.state.data.id,
                    t.find(e.value, ["id", s.id]) && (s.checked = !0)
                }),
                this.bindings.state.data.options
            },
            isShowDetail: function() {
                var e = this.bindings.state.data.detailMode;
                return e && e > 0
            }
        },
        a.beforeRender = function() {
            var e = this.bindings.state.data;
            1 === e.detailMode && (e.isShowAnswer = !0,
            e.isShowGainScore = !0),
            2 === e.detailMode ? (e.isShowAnswer = !1,
            e.isShowGainScore = !0) : 3 === e.detailMode && (e.isShowAnswer = !1,
            e.isShowGainScore = !0,
            this.bindings.answer.data = {})
        }
        ,
        a.getEntity = function(e) {
            var n = this.module.store.models.state.getSubQuestionById(e)
              , a = i.assign({}, n)
              , t = i.assign({}, n.answerRecord);
            return i.assign(a, {
                questionAttrs: n.questionAttrs,
                answerRecord: i.assign(t, {
                    score: t.score / 100
                })
            }),
            a
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/research-activity/question/types/answer/matrix/sub"
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                data: e,
                answer: this.bindings.answer.getAnswer(e.id),
                callback: function(e) {
                    return n.module.dispatch("saveAnswer", e)
                }
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer/question-answer/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        init: function() {
                            this.data = t.assign(this.data, {
                                answerRecord: this.findOwnAnswerRecord()
                            })
                        },
                        findOwnAnswerRecord: function() {
                            return i.find(this.data.answerRecords, ["researchRecordId", this.data.researchRecordId])
                        }
                    }
                },
                answer: {
                    data: {},
                    mixin: {
                        init: function(e) {
                            var n = e || {
                                key: "",
                                value: []
                            };
                            this.data = n
                        },
                        saveAnswer: function(e) {
                            var n = {
                                key: this.module.store.models.state.data.id,
                                value: [{
                                    id: this.module.store.models.state.data.id,
                                    value: e
                                }]
                            };
                            return this.data = n,
                            n
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state
                      , i = {};
                    t.assign(i, n),
                    i.detailMode = e.mode,
                    a.set(i),
                    a.init(),
                    this.models.answer.init(e.answer)
                },
                save: function() {
                    var e = this.models.answer.data
                      , n = this.module.renderOptions.callback;
                    n && n(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/answer/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div class="question ' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n            ' + o(l(null != (s = null != n ? n.state : n) ? s.index : s, n)) + ".\n            【\n            " + o((a.map || n && n.map || c).call(r, "question-types-all", null != (s = null != n ? n.state : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '\n            】 &nbsp;\n        </span>\n        <span class="inline-block"><a class="normal" name="question-' + o(l(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || c).call(r, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a></span>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return '<form class="vertical m-bottom preview-list">\n    <textarea class="input w-full" id="answer" x-rule="maxLength:5000" name="value" rows="5" placeholder="' + e.escapeExpression((a.string || n && n.string || l).call(r, "exam.research-activity.question.your-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" maxlength="5000">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != n ? n.answer : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</textarea>\n</form>"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/answer/question-answer/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/question/types/answer/matrix/view-content"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/research-activity/question/types/answer/matrix/view-content"
    }],
    "./app/exam/research-activity/question/types/answer/question-answer/view-options": [function(e, n, a) {
        var t = e("jquery");
        a.bindings = {
            state: !0,
            answer: !0
        },
        a.events = {
            "change answer": "changeAnswer"
        },
        a.handlers = {
            changeAnswer: function() {
                return this.bindings.answer.saveAnswer(t(this.$("answer")).val().trim()),
                this.module.dispatch("save")
            }
        },
        a.dataForTemplate = {
            answer: function() {
                var e = this.bindings.answer;
                return e.data.value.length > 0 ? e.data.value[0].value : ""
            }
        },
        a.beforeRender = function() {
            var e = this.bindings.state.data;
            1 === e.detailMode && (e.isShowAnswer = !0,
            e.isShowGainScore = !0),
            2 === e.detailMode ? (e.isShowAnswer = !1,
            e.isShowGainScore = !0) : 3 === e.detailMode && (e.isShowAnswer = !1,
            e.isShowGainScore = !0,
            this.bindings.answer.data = {})
        }
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/research-activity/question/types/edit/choise/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        isRichText: function(e) {
                            return /<[^>]+>/g.test(e) || /&nbsp;/gi.test(e)
                        }
                    }
                },
                bottom: {
                    data: {}
                },
                img: {
                    url: "../system/file/upload"
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a, s, r = this.models.state.data, l = this.models.bottom, o = e.data, c = this.module.items.content;
                    if (o) {
                        for (a = o.questionAttrs,
                        l.data.score = o.score,
                        t.assign(r, o),
                        r.options = [],
                        a = i.sortBy(a, "name"),
                        n = 0; n < a.length; n++)
                            s = this.models.state.isRichText(a[n].value),
                            r.options.push({
                                content: a[n].value,
                                contentText: a[n].valueText,
                                score: a[n].score || 0,
                                isRichText: s,
                                type: a[n].type
                            });
                        c.components.content.html(o.content)
                    } else {
                        for (r.options = [],
                        n = 0; n < 4; n++)
                            r.options.push({
                                content: "",
                                isRichText: !1
                            });
                        r.type = this.module.renderOptions.type
                    }
                    r.multiple = e.multiple || r.multiple,
                    r.mode = e.mode || r.mode,
                    this.models.state.changed(),
                    l.changed()
                },
                addOption: function() {
                    var e, n = this.models.state.data.options;
                    if (n.length + 1 > 26)
                        return void this.app.message.error(s.get("exam.research-activity.question.option-can-only-add-26"));
                    e = n.findIndex(function(e) {
                        return 11 == +e.type
                    }),
                    ~e ? n.splice(e, 0, {
                        content: "",
                        isRichText: !1
                    }) : n.push({
                        content: "",
                        isRichText: !1
                    }),
                    this.models.state.changed()
                },
                changeContent: function(e) {
                    this.models.state.data.options[Number(e.index)].content = e.content
                },
                removeOption: function(e) {
                    var n = this.models.state.data.options;
                    return n.length <= 2 ? (this.app.message.error(s.get("exam.research-activity.question.at-least-two-options-are-required")),
                    !1) : (n.splice(Number(e.index), 1),
                    this.models.state.changed())
                }
            }
        },
        a.mixin = {
            getValue: function() {
                var e = this.items.options;
                return !!e.checkAnswer() && e.getResult()
            },
            isValidate: function() {
                return this.items.content.validate()
            },
            clear: function() {
                this.renderOptions = {}
            },
            getContent: function() {
                return this.items.content.components.content.getValue()
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/edit/choise/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise"><form class="vertical">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n    <div data-region="score"></div>\n</form>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="row col-sm-left"><div class="col-sm-12">\n        <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.question.question-info", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n        <textarea id="content" class="input" name="content" x-rule="required,maxLength:5000" x-marker="rich-text" x-target="content" maxlength="5000"></textarea>\n    </div></div>\n' + (null != (s = a.if.call(r, null != n ? n.showDiffculty : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '        <div class="row col-sm-left"><div class="col-sm-12">\n            <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <select id="difficulty" class="input" name="difficulty" x-rule="required" x-marker="selectize" readonly>' + (null != (s = a.each.call(r, null != n ? n.difficultys : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</select>\n        </div></div>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "\n                <option " + (null != (s = a.if.call(l, null != n ? n.selected : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="' + c((r = null != (r = a.key || (null != n ? n.key : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "key",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.value || (null != n ? n.value : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "value",
                    hash: {},
                    data: i
                }) : r)) + "</option>\n            "
            },
            6: function(e, n, a, t, i) {
                return ' selected="selected"'
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "    <label>\n        " + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        <a id="add" class="m-left" href="javascript:;">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.add-options", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n    </label>\n    <ul class="row col-sm-left">' + (null != (s = a.each.call(r, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n    \x3c!--  是否显示其他 --\x3e\n" + (null != (s = a.if.call(r, null != n ? n.isShowOther : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            9: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression;
                return '\n        <li class="col-sm-6 col-p-right-0 options" id="item-' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n            <div class="input-box">\n                <div class="text">\n                    <span class="list-option">' + u((a.string || n && n.string || o).call(l, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + u((r = null != (r = a.code || (null != n ? n.code : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "code",
                    hash: {},
                    data: i
                }) : r)) + ":</span>\n                </div>\n" + (null != (s = a.if.call(l, null != n ? n.isRichText : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.program(12, i, 0),
                    data: i
                })) ? s : "") + '            </div>\n            <div class="clearfix set-row">\n' + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.mode : n, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div class="pull-right text-tips m-top">\n                    <span data-dynamic-key="' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></span>\n                    <a class="list-option" href="javascript:;" id="remove-' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="index" data-value="' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((a.string || n && n.string || o).call(l, "remove", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                </div>\n            </div>\n        </li>\n    "
            },
            10: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="input block choise-content">\n                        ' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '\n                        <input type="hidden" id="content-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.content || (null != n ? n.content : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "content",
                    hash: {},
                    data: i
                }) : r)) + '" x-rule="maxLength:5000"/>\n                    </div>\n'
            },
            12: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <textarea class="input block" placeholder="' + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.input-description", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" id="content-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="index" data-value="' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" rows="3" x-rule="maxLength:5000">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</textarea>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <div class="pull-left">\n                        <input class="input" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.input-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" value="' + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + '" id="score-' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '" x-rule="required,number,interval:0:1:10:0,keepDecimal:2"/>\n                    </div>\n'
            },
            16: function(e, n, a, t, i) {
                var s;
                return '        <div class="row">\n            <div class="col-sm-4">\n                <div class="checkbox required-question">\n                    <input ' + (null != (s = a.if.call(null != n ? n : {}, null != n ? n.isOther : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" name="other" id="other"/>\n                    <label for="other">\n                        <span>其他<span class="oSmall">&nbsp;&nbsp;(勾选其他项可用于学员选择，添加补充说明，字数限制在500字以内)</span></span>\n                    </label>\n                </div>\n            </div>\n        </div>\n'
            },
            17: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/edit/choise/view-content": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("lodash/collection");
        a.type = "form",
        a.bindings = {
            img: !0,
            state: !1
        },
        a.components = [{
            id: "content",
            name: "rich-text",
            options: {
                model: "img"
            }
        }, {
            id: "difficulty",
            name: "selectize"
        }],
        a.dataForTemplate = {
            showDiffculty: function() {
                return 2 === this.module.renderOptions.editMode
            },
            difficultys: function(e) {
                var n = t.get("question-difficultys");
                return e.state && i.map(n, function(n) {
                    var a = n;
                    Number(a.key) === e.state.difficulty && (a.selected = !0)
                }),
                n
            }
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/edit/choise/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("jquery")
          , s = e("drizzlejs")
          , r = e("./app/ext/views/form/validators")
          , l = e("./app/util/strings");
        a.type = "dynamic",
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                var n = this;
                return t.map(e.state.options, function(e, a) {
                    var t = e;
                    t.index = a,
                    t.code = String.fromCharCode(t.index + "A".charCodeAt(0)),
                    t.mode = n.bindings.state.data.mode
                }),
                e.state.options
            },
            isShowOther: function() {
                var e = this.bindings.state.data;
                return 1 == +e.type || 2 == +e.type
            },
            isOther: function() {
                var e = this.bindings.state.data.options;
                return e && 11 == +e[e.length - 1].type
            }
        },
        a.actions = {
            "click add": "addOption",
            "click remove-*": "removeOption"
        },
        a.dataForActions = {
            addOption: function(e) {
                return this.setResult(),
                e
            },
            removeOption: function(e) {
                return this.setResult(),
                e
            }
        },
        a.getEntity = function(e) {
            return e
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/question/senior-editor"
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this
              , a = n.bindings.state
              , t = a.data.options[e]
              , s = t.value;
            return s && !t.isRichText && (s = window.KindEditor.escape(s)),
            {
                data: {
                    id: e,
                    value: s
                },
                callback: function(e, a, t) {
                    n.changeOptionContent(e, a, t)
                },
                getValue: function() {
                    var a = i(n.$("content-" + e)).val();
                    return a && !t.isRichText && (a = window.KindEditor.escape(a)),
                    a
                }
            }
        }
        ,
        a.mixin = {
            checkAnswer: function() {
                return !this.checkEmptyOption() && !this.checkMaxLengthOption()
            },
            setResult: function() {
                var e, n, a = [], t = this.bindings.state.data;
                for (e = 0; e < t.options.length; e++)
                    n = i(this.$("content-" + e)).val(),
                    a.push(s.assign(t.options[e], {
                        content: n,
                        score: 1 === t.mode ? i(this.$("score-" + e)).val() : null
                    }));
                t.options = a
            },
            getResult: function() {
                var e, n, a = [], t = {}, s = this.module.items.content, r = this.bindings.state.data, l = r.options;
                for (this.setResult(),
                e = 0; e < l.length; e++)
                    n = i(this.$("content-" + e)).val(),
                    l[e].isRichText || (n = window.KindEditor.escape(n)),
                    a.push({
                        value: n,
                        valueText: l[e].contentText || n,
                        name: e,
                        type: l[e].type || (r.multiple ? 2 : 1),
                        score: 1 === r.mode ? (100 * i(this.$("score-" + e)).val()).toFixed(0) : null
                    });
                return t.questionAttrs = a,
                t.content = s.components.content.html(),
                t.contentText = s.components.content.getText(),
                2 === this.module.renderOptions.editMode && (t.difficulty = s.$("difficulty").value),
                t.id = r.id,
                t
            },
            changeOptionContent: function(e, n, a) {
                var t = this.bindings.state.isRichText(n);
                this.setResult(),
                this.bindings.state.data.options[e].content = n,
                this.bindings.state.data.options[e].contentText = a,
                this.bindings.state.data.options[e].isRichText = t,
                this.bindings.state.changed()
            },
            checkEmptyOption: function() {
                var e, n, a, t = this.bindings.state.data.options, s = 0, r = !1, o = this.bindings.state.data, c = "";
                if (t) {
                    for (s; s < t.length; s++)
                        a = String.fromCharCode(s + "A".charCodeAt(0)),
                        e = this.$("content-" + s),
                        "" === i.trim(e.value) ? (r = !0,
                        i(e).addClass("error"),
                        c += a) : i(e).removeClass("error"),
                        1 === o.mode && (n = this.$("score-" + s),
                        i(n).removeClass("error"),
                        this.checkScore(n.value, a) ? i(n).removeClass("error") : (r = !0,
                        i(n).addClass("error")));
                    c && this.app.message.error(l.get("exam.research-activity.question.option") + c + l.get("exam.research-activity.question.option-required"))
                }
                return r
            },
            checkMaxLengthOption: function() {
                var e, n, a = this.bindings.state.data.options, t = 0, s = !1;
                if (a)
                    for (t; t < a.length; t++)
                        n = String.fromCharCode(t + "A".charCodeAt(0)),
                        e = this.$("content-" + t),
                        e.value.length > 5e3 ? (s = !0,
                        i(e).addClass("error"),
                        this.app.message.error(l.get("exam.research-activity.question.option") + n + l.get("exam.research-activity.question.exceed-max-length") + "：5000")) : i(e).removeClass("error");
                return s
            },
            checkScore: function(e, n) {
                return r.required.fn(e) ? r.number.fn(e) ? r.interval.fn(e, 0, "1", 9999999.99, "1") ? !!r.keepDecimal.fn(e, 2) || (this.app.message.error(l.get("exam.research-activity.question.option") + n + l.get("exam.research-activity.question.score-retain-up-to-two-decima")),
                !1) : (this.app.message.error(l.get("exam.research-activity.question.option") + n + l.get("exam.research-activity.question.score-range") + "0-9999999.99"),
                !1) : (this.app.message.error(l.get("exam.research-activity.question.option") + n + l.get("exam.research-activity.question.score") + r.number.message),
                !1) : (this.app.message.error(l.get("exam.research-activity.question.option") + n + l.get("exam.research-activity.question.score") + r.required.message),
                !1)
            }
        },
        a.afterRender = function() {
            var e, n, a = i(this.$$('[name="other"]')), t = this.bindings.state.data, r = this;
            a.on("change", function() {
                for (e = 0; e < t.options.length; e++)
                    n = i(r.$("content-" + e)).val(),
                    s.assign(t.options[e], {
                        content: n,
                        score: 1 === t.mode ? i(r.$("score-" + e)).val() : null
                    });
                if (i(this).prop("checked"))
                    t.options.push({
                        content: "其他",
                        contentText: null,
                        isRichText: !1,
                        score: 0,
                        type: "11"
                    });
                else {
                    if (t.options.length <= 2)
                        return i(this).prop("checked", !0),
                        r.app.message.error("至少需要两个选项");
                    t.options.splice(t.options.length - 1, 1)
                }
                return r.bindings.state.changed()
            })
        }
    }
    , {
        "./app/ext/views/form/validators": "./app/ext/views/form/validators",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/edit/matrix/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/strings");
        a.items = {
            content: "content",
            title: "title",
            options: "options"
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        isRichText: function(e) {
                            return /<[^>]+>/g.test(e) || /&nbsp;/gi.test(e)
                        }
                    }
                },
                bottom: {
                    data: {}
                },
                subs: {},
                img: {
                    url: "../system/file/upload"
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a, s, r = this.models.state.data, l = this.models.bottom, o = e.data, c = this.models.subs, u = this.module.items.content;
                    if (o) {
                        for (a = o.questionAttrs,
                        l.data.score = o.score,
                        t.assign(r, o),
                        r.options = [],
                        a = i.sortBy(a, "name"),
                        n = 0; n < a.length; n++)
                            s = this.models.state.isRichText(a[n].value),
                            r.options.push({
                                content: a[n].value,
                                contentText: a[n].valueText,
                                score: a[n].score || 0,
                                isRichText: s
                            });
                        u.components.content.html(o.content)
                    } else {
                        for (r.options = [],
                        n = 0; n < 4; n++)
                            r.options.push({
                                content: "",
                                isRichText: !1
                            });
                        r.type = this.module.renderOptions.type
                    }
                    r.multiple = e.multiple || r.multiple,
                    r.mode = e.mode || r.mode,
                    this.models.state.changed(),
                    c.data = r.subs,
                    c.changed(),
                    l.changed()
                },
                addOption: function() {
                    var e = this.models.state.data.options;
                    if (e.length + 1 > 10)
                        return void this.app.message.error(s.get("exam.research-activity.question.option-can-only-add-10"));
                    e.push({
                        content: "",
                        isRichText: !1
                    }),
                    this.models.state.changed()
                },
                changeContent: function(e) {
                    this.models.state.data.options[Number(e.index)].content = e.content
                },
                removeOption: function(e) {
                    var n = this.models.state.data.options;
                    return n.length <= 2 ? (this.app.message.error(s.get("exam.research-activity.question.at-least-two-options-are-required")),
                    !1) : (n.splice(Number(e.index), 1),
                    this.models.state.changed())
                }
            }
        },
        a.mixin = {
            getValue: function() {
                var e, n = this.items.options, a = this.items.title;
                return !!n.checkAnswer() && (!!a.checkTitles() && (e = n.getResult(),
                e.subs = a.getSubs(),
                e))
            },
            isValidate: function() {
                return this.items.content.validate()
            },
            clear: function() {
                this.renderOptions = {}
            },
            getContent: function() {
                return this.items.content.components.content.getValue()
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/edit/matrix/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise"><form class="vertical">\n    <div data-region="content"></div>\n    <div class="row col-sm-left">\n        <div class="col-sm-4">\n            <div class="options" data-region="title"></div>\n        </div>\n        <div class="col-sm-8">\n            <div class="options" data-region="options"></div>\n        </div>\n    </div>\n</form>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="row col-sm-left"><div class="col-sm-12">\n        <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.research-activity.question.question-info", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n        <textarea id="content" class="input" name="content" x-rule="required,maxLength:5000" x-marker="rich-text" x-target="content" maxlength="5000"></textarea>\n    </div></div>\n' + (null != (s = a.if.call(r, null != n ? n.showDiffculty : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '        <div class="row col-sm-left"><div class="col-sm-12">\n            <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.question.difficulty", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <select id="difficulty" class="input" name="difficulty" x-rule="required" x-marker="selectize" readonly>' + (null != (s = a.each.call(r, null != n ? n.difficultys : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</select>\n        </div></div>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return "\n                <option " + (null != (s = a.if.call(l, null != n ? n.selected : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' value="' + c((r = null != (r = a.key || (null != n ? n.key : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "key",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((r = null != (r = a.value || (null != n ? n.value : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "value",
                    hash: {},
                    data: i
                }) : r)) + "</option>\n            "
            },
            6: function(e, n, a, t, i) {
                return ' selected="selected"'
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "    <label>\n        " + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.left-title", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n    </label>\n    <div><textarea id="titles" class="input" name="titles" x-rule="required,maxLength:5000" maxlength="5000" rows="8">' + o((s = null != (s = a.titles || (null != n ? n.titles : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "titles",
                    hash: {},
                    data: i
                }) : s)) + "</textarea></div>\n"
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "    <label>\n        " + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        <a id="add" class="m-left" href="javascript:;">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.add-options", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n    </label>\n    <ul class="row col-sm-left">' + (null != (s = a.each.call(r, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            11: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression;
                return '\n        <li class="col-sm-12 options" id="item-' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n            <div class="input-box">\n                <div class="text">\n                    <span class="list-option">' + u((a.string || n && n.string || o).call(l, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + u((r = null != (r = a.code || (null != n ? n.code : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "code",
                    hash: {},
                    data: i
                }) : r)) + ":</span>\n                </div>\n" + (null != (s = a.if.call(l, null != n ? n.isRichText : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.program(14, i, 0),
                    data: i
                })) ? s : "") + '            </div>\n            <div class="clearfix set-row">\n' + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.mode : n, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div class="pull-right text-tips m-top">\n                    <span data-dynamic-key="' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></span>\n                    <a href="javascript:;" id="remove-' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="index" data-value="' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((a.string || n && n.string || o).call(l, "remove", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                </div>\n            </div>\n        </li>\n    "
            },
            12: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="input block choise-content">\n                        ' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '\n                        <input type="hidden" id="content-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.content || (null != n ? n.content : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "content",
                    hash: {},
                    data: i
                }) : r)) + '" x-rule="maxLength:5000"/>\n                    </div>\n'
            },
            14: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <textarea class="input block" placeholder="' + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.input-description", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" id="content-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="index" data-value="' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" rows="3" x-rule="maxLength:5000">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</textarea>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <div class="pull-left">\n                        <input class="input" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.input-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" value="' + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + '" id="score-' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '" x-rule="required,number,interval:0:1:10:0,keepDecimal:2"/>\n                    </div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "title", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/edit/matrix/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/question/types/edit/choise/view-content"][0].apply(a, arguments)
    }
    , {
        "./app/util/maps": "./app/util/maps",
        dup: "./app/exam/research-activity/question/types/edit/choise/view-content",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/edit/matrix/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("jquery")
          , s = e("drizzlejs")
          , r = e("./app/ext/views/form/validators")
          , l = e("./app/util/strings");
        a.type = "dynamic",
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                var n = this;
                return t.map(e.state.options, function(e, a) {
                    var t = e;
                    t.index = a,
                    t.code = String.fromCharCode(t.index + "A".charCodeAt(0)),
                    t.mode = n.bindings.state.data.mode
                }),
                e.state.options
            }
        },
        a.actions = {
            "click add": "addOption",
            "click remove-*": "removeOption"
        },
        a.dataForActions = {
            addOption: function(e) {
                return this.setResult(),
                e
            },
            removeOption: function(e) {
                return this.setResult(),
                e
            }
        },
        a.getEntity = function(e) {
            return e
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/question/senior-editor"
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this
              , a = n.bindings.state
              , t = a.data.options[e]
              , s = t.value;
            return s && !t.isRichText && (s = window.KindEditor.escape(s)),
            {
                data: {
                    id: e,
                    value: s
                },
                callback: function(e, a, t) {
                    n.changeOptionContent(e, a, t)
                },
                getValue: function() {
                    var a = i(n.$("content-" + e)).val();
                    return a && !t.isRichText && (a = window.KindEditor.escape(a)),
                    a
                }
            }
        }
        ,
        a.mixin = {
            checkAnswer: function() {
                return !this.checkEmptyOption() && !this.checkMaxLengthOption()
            },
            setResult: function() {
                var e, n, a = [], t = this.bindings.state.data;
                for (e = 0; e < t.options.length; e++)
                    n = i(this.$("content-" + e)).val(),
                    a.push(s.assign(t.options[e], {
                        content: n,
                        score: i(this.$("score-" + e)).val()
                    }));
                t.options = a
            },
            getResult: function() {
                var e, n, a = [], t = {}, s = this.module.items.content, r = this.bindings.state.data, l = r.options;
                for (this.setResult(),
                e = 0; e < l.length; e++)
                    n = i(this.$("content-" + e)).val(),
                    l[e].isRichText || (n = window.KindEditor.escape(n)),
                    a.push({
                        value: n,
                        valueText: l[e].contentText || n,
                        name: e,
                        type: r.multiple ? 2 : 1,
                        score: 1 === r.mode ? (100 * i(this.$("score-" + e)).val()).toFixed(0) : null
                    });
                return t.questionAttrs = a,
                t.content = s.components.content.html(),
                t.contentText = s.components.content.getText(),
                2 === this.module.renderOptions.editMode && (t.difficulty = s.$("difficulty").value),
                t.id = r.id,
                t
            },
            changeOptionContent: function(e, n, a) {
                var t = this.bindings.state.isRichText(n);
                this.setResult(),
                this.bindings.state.data.options[e].content = n,
                this.bindings.state.data.options[e].contentText = a,
                this.bindings.state.data.options[e].isRichText = t,
                this.bindings.state.changed()
            },
            checkEmptyOption: function() {
                var e, n, a, t = this.bindings.state.data.options, s = 0, r = this.bindings.state.data, o = !1, c = "";
                if (t) {
                    for (s; s < t.length; s++)
                        a = String.fromCharCode(s + "A".charCodeAt(0)),
                        e = this.$("content-" + s),
                        "" === i.trim(e.value) ? (o = !0,
                        i(e).addClass("error"),
                        c += a) : i(e).removeClass("error"),
                        1 === r.mode && (n = this.$("score-" + s),
                        i(n).removeClass("error"),
                        this.checkScore(n.value, a) ? i(n).removeClass("error") : (o = !0,
                        i(n).addClass("error")));
                    c && this.app.message.error(l.get("exam.research-activity.question.option") + c + l.get("exam.research-activity.question.option-required"))
                }
                return o
            },
            checkMaxLengthOption: function() {
                var e, n, a = this.bindings.state.data.options, t = 0, s = !1;
                if (a)
                    for (t; t < a.length; t++)
                        n = String.fromCharCode(t + "A".charCodeAt(0)),
                        e = this.$("content-" + t),
                        e.value.length > 5e3 ? (s = !0,
                        i(e).addClass("error"),
                        this.app.message.error(l.get("exam.research-activity.question.option") + n + l.get("exam.research-activity.question.exceed-max-length") + "：5000")) : i(e).removeClass("error");
                return s
            },
            checkScore: function(e, n) {
                return r.required.fn(e) ? r.number.fn(e) ? r.interval.fn(e, 0, "1", 9999999.99, "1") ? !!r.keepDecimal.fn(e, 2) || (this.app.message.error(l.get("exam.research-activity.question.option") + n + l.get("exam.research-activity.question.score-retain-up-to-two-decimal")),
                !1) : (this.app.message.error(l.get("exam.research-activity.question.option") + n + l.get("exam.research-activity.question.score-range") + "0-9999999.99"),
                !1) : (this.app.message.error(l.get("exam.research-activity.question.option") + n + l.get("exam.research-activity.question.score") + r.number.message),
                !1) : (this.app.message.error(l.get("exam.research-activity.question.option") + n + l.get("exam.research-activity.question.score") + r.required.message),
                !1)
            }
        }
    }
    , {
        "./app/ext/views/form/validators": "./app/ext/views/form/validators",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/edit/matrix/view-title": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("jquery")
          , s = e("./app/util/strings");
        a.type = "form",
        a.bindings = {
            state: !1,
            subs: !0
        },
        a.dataForTemplate = {
            titles: function(e) {
                return (t.map(e.subs, function(e) {
                    return e.content
                }) || []).join("\n")
            }
        },
        a.mixin = {
            getSubs: function() {
                var e = this.$("titles").value
                  , n = [];
                return e && (n = e.split("\n")),
                t.map(t.filter(n, function(e) {
                    return e && i.trim(e)
                }), function(e) {
                    return {
                        content: e
                    }
                })
            },
            checkTitles: function() {
                var e = this.$("titles").value
                  , n = [];
                return !!this.validate() && (e && (n = e.split("\n")),
                t.every(n, function(e) {
                    return !e || !i.trim(e) || e.length <= 10
                }) || (this.app.message.error(s.get("exam.research-activity.question.edit.matrix.title-max", 10)),
                !1))
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/edit/question-answer/index": [function(e, n, a) {
        var t = e("drizzlejs");
        a.items = {
            content: "content"
        },
        a.store = {
            models: {
                state: {
                    data: {}
                },
                img: {
                    url: "../system/file/upload"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data
                      , i = this.module.items.content;
                    n && (a.answer = n.questionAttrs[0].value,
                    t.assign(a, n),
                    i.components.content.html(n.content)),
                    a.type = this.module.renderOptions.type
                }
            }
        },
        a.mixin = {
            getValue: function() {
                return this.items.content.getResult()
            },
            isValidate: function() {
                return this.items.content.validate()
            },
            clear: function() {
                this.renderOptions = {}
            },
            getContent: function() {
                return this.items.content.components.content.getValue()
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/question/types/edit/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise"><form class="vertical">\n    <div data-region="content"></div>\n</form>\n</div>'
            },
            3: function(e, n, a, t, i) {
                return '    <div class="row col-sm-left"><div class="col-sm-12">\n        <label class="required">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.question.question-info", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n        <textarea id="content" class="input" name="content" x-rule="required,maxLength:5000" x-marker="rich-text" x-target="content" maxlength="5000"></textarea>\n    </div></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/edit/question-answer/view-content": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            img: !0,
            state: !1
        },
        a.components = [{
            id: "content",
            name: "rich-text",
            options: {
                model: "img"
            }
        }],
        a.mixin = {
            getResult: function() {
                var e = {}
                  , n = /id=\"[a-zA-Z0-9_-]*?\"/gi
                  , a = this.bindings.state.data;
                return e.questionAttrs = [{
                    value: "",
                    name: "",
                    type: 5
                }],
                e.content = this.components.content.html(),
                e.contentText = this.components.content.getText(),
                e.content = e.content.replace(n, ""),
                e.type = a.type,
                e.id = a.id,
                e
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/preview/choise/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n, a, l = this.models.state.data = {
                        options: [],
                        title: r.get("exam.research-activity.question.single-answer-question"),
                        answer: "",
                        id: e.data.id,
                        index: e.data.index,
                        showIndex: e.showIndex || !1
                    }, o = e.data, c = t.get("question-difficultys"), u = t.get("question-types");
                    if (o) {
                        for (i.assign(l, o),
                        a = o.questionAttrs,
                        a = s.sortBy(a, "name"),
                        n = 0; n < a.length; n++)
                            l.options.push({
                                content: a[n].value,
                                score: a[n].score || 0,
                                isAnswer: 0 === Number(a[n].type),
                                isRichText: !1
                            }),
                            0 === Number(a[n].type) && (l.answer += String.fromCharCode(n + "A".charCodeAt(0)));
                        l.score = o.score,
                        l.content = o.content,
                        o.difficulty && (l.difficulty = c[Number(o.difficulty) - 1].value),
                        l.type = u[Number(o.type) - 1].value,
                        2 === Number(o.type) && (l.title = r.get("exam.research-activity.question.mutiple-answer-question"))
                    }
                    l.mode = l.scoreMode || 0,
                    this.models.state.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/preview/choise/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12 preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    \x3c!-- .row --\x3e\n    \x3c!--   .col-xs-6 > .com-title > echo(state.title) --\x3e\n    \x3c!--   .col-xs-6 > .m-top.text-right --\x3e\n    \x3c!--          | 本题分数： --\x3e\n    \x3c!--         echo(state.score) --\x3e\n    <div class="question ' + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n' + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.showIndex : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            【\n            " + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != (s = null != n ? n.state : n) ? s.title : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '\n            】 &nbsp;\n        </span>\n        <span><a class="normal" name="' + c((r = null != (r = a.anchor || (null != n ? n.anchor : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "anchor",
                    hash: {},
                    data: i
                }) : r)) + "-" + c(e.lambda(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a></span>\n" + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.showMinChoice : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.showMaxChoice : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.showChoiceLimit : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i) {
                var s;
                return "                " + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.index : s, n)) + "\n                .\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <span class="inline-block">\n                (\n                ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.min.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(e.lambda(null != (s = null != n ? n.state : n) ? s.minChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                )\n            </span>\n"
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <span class="inline-block">\n                (\n                ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(e.lambda(null != (s = null != n ? n.state : n) ? s.maxChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                )\n            </span>\n"
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '            <span class="inline-block">\n                (\n                ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.min.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(c(null != (s = null != n ? n.state : n) ? s.minChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                ,\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(c(null != (s = null != n ? n.state : n) ? s.maxChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                )\n            </span>\n"
            },
            14: function(e, n, a, t, i) {
                var s;
                return '<div class="answer">\n    <div class="preview-list"><dl>' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </dl></div>\n</div>"
            },
            15: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <dd id="item-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n            <label class="no-margin" for="answer-item-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <div class="answer-options"><div class="option-num">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.code : n, ".", {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div></div>\n" + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.mode : n, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                <div class="answer-content">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n            </label>\n        </dd>\n        \x3c!--  dd(id='item-' + index) --\x3e\n        \x3c!--      label(for='answer-item-' + index) --\x3e\n        \x3c!--          span.pull-left.option-num > @echoX(code '：') --\x3e\n        \x3c!--          .answer-options > @echoX(content) --\x3e\n"
            },
            16: function(e, n, a, t, i) {
                var s;
                return '                    <div class="answer-options m-right">' + e.escapeExpression((s = null != (s = a.scoreWithKey || (null != n ? n.scoreWithKey : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "scoreWithKey",
                    hash: {},
                    data: i
                }) : s)) + "</div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/preview/choise/view-content": [function(e, n, a) {
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            anchor: function() {
                return this.module.renderOptions.anchor || "mlj"
            },
            state: function(e) {
                var n = e.state;
                return n.maxChoice && (n.showMaxChoice = !0),
                n.minChoice && (n.showMinChoice = !0),
                n.minChoice && n.maxChoice && (n.showChoiceLimit = !0,
                n.showMaxChoice = !1,
                n.showMinChoice = !1),
                n.required = Boolean(n.required),
                n
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/preview/choise/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings");
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                var n = this;
                return t.map(e.state.options, function(e, a) {
                    var t = e;
                    t.index = a,
                    t.code = String.fromCharCode(t.index + "A".charCodeAt(0)),
                    t.mode = n.bindings.state.data.mode,
                    0 == +t.score ? t.scoreWithKey = i.get("exam.research-activity.question.options.zero-score") : t.scoreWithKey = n.bindings.state.data.mode ? i.getWithParams("exam.exam.score", t.score) : ""
                }),
                e.state.options
            },
            showScore: function() {
                return 1 === this.module.renderOptions.previewMode
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/preview/matrix/index": [function(e, n, a) {
        var t = e("./app/util/maps")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n, a, l = this.models.state.data = {
                        options: [],
                        title: r.get("exam.research-activity.question.matrix-scale"),
                        answer: "",
                        id: e.data.id,
                        index: e.data.index,
                        showIndex: e.showIndex || !1
                    }, o = e.data, c = t.get("question-difficultys"), u = t.get("question-types-all");
                    if (o) {
                        for (i.assign(l, o),
                        a = o.questionAttrs,
                        a = s.sortBy(a, "name"),
                        n = 0; n < a.length; n++)
                            l.options.push({
                                content: a[n].value,
                                score: a[n].score || 0,
                                isAnswer: 0 === Number(a[n].type),
                                isRichText: !1
                            }),
                            0 === Number(a[n].type) && (l.answer += String.fromCharCode(n + "A".charCodeAt(0)));
                        l.score = o.score,
                        l.content = o.content,
                        o.difficulty && (l.difficulty = c[Number(o.difficulty) - 1].value),
                        l.type = u[Number(o.type) - 1].value
                    }
                    l.mode || (l.mode = 0),
                    this.models.state.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/preview/matrix/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise col-sm-12 preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    <p class="question ' + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n' + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.showIndex : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            [\n            " + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != (s = null != n ? n.state : n) ? s.title : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '\n            ] &nbsp;\n        </span>\n        <a class="normal" name="' + c((r = null != (r = a.anchor || (null != n ? n.anchor : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "anchor",
                    hash: {},
                    data: i
                }) : r)) + "-" + c(e.lambda(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a>\n    </p>\n"
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i) {
                var s;
                return "                " + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.index : s, n)) + "\n                .\n"
            },
            8: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {};
                return "<div class=\"answer matrix-radio\">\n    \x3c!--  .row --\x3e\n    \x3c!--      .matrix-left --\x3e\n    \x3c!--      .matrix-title --\x3e\n    \x3c!--          each(options) --\x3e\n    \x3c!--              span(title=content) --\x3e\n    \x3c!--                  echo('[' score) + string('exam.research-activity.research-detail.score') + echo(']') + @echoX(content) --\x3e\n    \x3c!--  dl.row > each(subs) --\x3e\n    \x3c!--      .row(id='answer-item-' + id) --\x3e\n    \x3c!--          .matrix-left --\x3e\n    \x3c!--              label(for='answer-item-' + id) --\x3e\n    \x3c!--                  @echoX(content) --\x3e\n    \x3c!--          .matrix-content --\x3e\n    \x3c!--              each(questionAttrs) --\x3e\n    \x3c!--                  .radio --\x3e\n    \x3c!--                      input.disabled(type='radio' name=../id id=id disabled='disabled') --\x3e\n    \x3c!--                      label(for=id) --\x3e\n    <div class=\"col-sm-content\">\n        <table style=\"\">\n            <thead><tr class=\"matrix-title\">\n                <td><div class=\"matrix-left-first\">&nbsp;</div></td>\n" + (null != (l = a.each.call(o, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "            </tr></thead>\n        </table>\n        " + (null != (l = a.each.call(o, null != n ? n.subs : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(12, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n    </div>\n</div>"
            },
            9: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing;
                return '                    <td class="matrix-title-span">\n                        <span title="' + e.escapeExpression((r = null != (r = a.content || (null != n ? n.content : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "content",
                    hash: {},
                    data: i
                }) : r)) + '">\n' + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.mode : n, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "                            " + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n                        </span>\n                    </td>\n"
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                                [" + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.research-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "]\n"
            },
            12: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '<table class="matrix-content">\n            <tr>\n                <td id="answer-item-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '">\n                    <div class="matrix-left" title="' + d((o = null != (o = a.content || (null != n ? n.content : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "content",
                    hash: {},
                    data: i
                }) : o)) + '">\n                        <label class="answer-content" for="answer-item-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '">\n                            ' + (null != (l = (a.echoX || n && n.echoX || u).call(c, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "\n                        </label>\n                    </div>\n                </td>\n                \x3c!--  .matrix-content --\x3e\n" + (null != (l = a.each.call(c, null != n ? n.questionAttrs : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(13, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "            </tr>\n        </table>"
            },
            13: function(e, n, a, t, i, s, r) {
                var l, o = e.escapeExpression, c = null != n ? n : {}, u = a.helperMissing;
                return '                    <td class="radio">\n                        <div style="width:100px">\n                            <input type="radio" name="' + o(e.lambda(null != r[1] ? r[1].id : r[1], n)) + '" id="' + o((l = null != (l = a.id || (null != n ? n.id : n)) ? l : u,
                "function" == typeof l ? l.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : l)) + '" value="' + o((l = null != (l = a.index || i && i.index) ? l : u,
                "function" == typeof l ? l.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : l)) + '" disabled/>\n                            <label for="' + o((l = null != (l = a.id || (null != n ? n.id : n)) ? l : u,
                "function" == typeof l ? l.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : l)) + '"></label>\n                        </div>\n                    </td>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.view || n && n.view || d).call(u, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n"
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/preview/matrix/view-content": [function(e, n, a) {
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            state: function(e) {
                var n = e.state;
                return n.required = Boolean(n.required),
                n
            },
            anchor: function() {
                return this.module.renderOptions.anchor || "mlj"
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/preview/matrix/view-options": [function(e, n, a) {
        var t = e("lodash/collection");
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                var n = this;
                return t.map(e.state.options, function(e, a) {
                    var t = e;
                    t.index = a,
                    t.mode = n.bindings.state.data.mode
                }),
                e.state.options
            },
            subs: function(e) {
                return t.map(e.state.subs, function(e, n) {
                    e.index = n
                }),
                e.state.subs
            },
            showScore: function() {
                return 1 === this.module.renderOptions.previewMode
            }
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/preview/question-answer/index": [function(e, n, a) {
        var t = e("./app/util/maps");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                state: {}
            },
            callbacks: {
                init: function(e) {
                    var n = e.data
                      , a = this.models.state.data
                      , i = t.get("question-types")
                      , s = t.get("question-difficultys");
                    a.content = n.content,
                    a.answer = n.questionAttrs[0].value,
                    a.score = n.score,
                    a.type = i[Number(n.type) - 1].value,
                    a.id = n.id,
                    a.index = n.index,
                    a.showIndex = e.showIndex || !1,
                    a.required = n.required,
                    n.difficulty && (a.difficulty = s[Number(n.difficulty) - 1].value),
                    this.models.state.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps"
    }],
    "./app/exam/research-activity/question/types/preview/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content col-sm-12">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s;
                return '<div class="answer">\n    <dl>' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</dl>\n</div>"
            },
            4: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing;
                return '\n        <dd id="item-' + e.escapeExpression((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n            <div class="inline-block"><label class="no-margin" for="answer-item-1">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</label></div>\n        </dd>\n    "
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '    <div class="question ' + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n' + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.showIndex : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            【\n            " + c((a.string || n && n.string || o).call(l, "exam.research-activity.question.answer-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n            】 &nbsp;\n        </span>\n        <span class="inline-block"><a class="normal" name="' + c((r = null != (r = a.anchor || (null != n ? n.anchor : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "anchor",
                    hash: {},
                    data: i
                }) : r)) + "-" + c(e.lambda(null != (s = null != n ? n.state : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != (s = null != n ? n.state : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a></span>\n    </div>\n"
            },
            7: function(e, n, a, t, i) {
                return "oRequired"
            },
            9: function(e, n, a, t, i) {
                var s;
                return "                " + e.escapeExpression(e.lambda(null != (s = null != n ? n.state : n) ? s.index : s, n)) + "\n                .\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/preview/question-answer/view-content": [function(e, n, a) {
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            state: function(e) {
                var n = e.state;
                return n.required = Boolean(n.required),
                n
            },
            anchor: function() {
                return this.module.renderOptions.anchor || "mlj"
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/preview/question-answer/view-options": [function(e, n, a) {
        var t = e("lodash/collection");
        a.bindings = {
            state: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                return t.map(e.state.options, function(e, n) {
                    var a = e;
                    a.index = n,
                    a.code = String.fromCharCode(a.index + "A".charCodeAt(0))
                }),
                e.state.options
            }
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary-detail/choise/index": [function(e, n, a) {
        var t = e("lodash/collection");
        a.items = {
            main: "main"
        },
        a.store = {
            models: {
                question: {
                    mixin: {
                        init: function() {
                            var e = this
                              , n = t.sortBy(t.map(this.data.questionAttrs, function(e) {
                                var n = e;
                                return n.name && (n.name = Number(e.name)),
                                n
                            }), "name");
                            this.data.options = t.map(n || [], function(n, a) {
                                return {
                                    code: String.fromCharCode(a + "A".charCodeAt(0)),
                                    text: n.value,
                                    selectPercent: n.selectPercent || e.countPercent(n.name),
                                    checked: e.isChecked(n.name)
                                }
                            })
                        },
                        countPercent: function(e) {
                            var n = t.filter(this.data.answerRecords, function(n) {
                                return !(!n || !n.answer) && t.some(n.answer.split(","), function(n) {
                                    return n === e
                                })
                            }).length
                              , a = t.filter(this.data.answerRecords, function(e) {
                                return !(!e || !e.answer)
                            }).length
                              , i = 0 === a ? 0 : n / a
                              , s = 100 * i + "";
                            return s.indexOf(".") > 0 ? Number(s).toFixed(2) : s
                        },
                        isChecked: function(e) {
                            var n = t.find(this.data.answerRecords, ["researchRecordId", this.data.researchRecordId])
                              , a = !1
                              , i = [];
                            return n && n.answer && (i = n.answer.split(","),
                            a = t.some(i, function(n) {
                                return n === String(e)
                            })),
                            a
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    this.models.question.set(e.question),
                    this.models.question.init()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary-detail/choise/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div id="main"></div>\n    <div class="question mb-1 ' + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="inline-block"><a class="normal" name="question-' + o(l(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '">' + o(l(null != (s = null != n ? n.question : n) ? s.index : s, n)) + ".</a></span>\n        【\n        " + o((a.map || n && n.map || c).call(r, "question-types-all", null != (s = null != n ? n.question : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "\n        】\n        " + (null != (s = (a.echoX || n && n.echoX || c).call(r, null != (s = null != n ? n.question : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.showMinChoice : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.showMaxChoice : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.showChoiceLimit : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n" + (null != (s = a.if.call(r, null != n ? n.mutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.program(18, i, 0),
                    data: i
                })) ? s : "")
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <span class="inline-block">\n                (\n                ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.min.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(e.lambda(null != (s = null != n ? n.question : n) ? s.minChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                )\n            </span>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <span class="inline-block">\n                (\n                ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(e.lambda(null != (s = null != n ? n.question : n) ? s.maxChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                )\n            </span>\n"
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression, c = e.lambda;
                return '            <span class="inline-block">\n                (\n                ' + o((a.string || n && n.string || l).call(r, "exam.research-activity.min.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(c(null != (s = null != n ? n.question : n) ? s.minChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                ,\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                " + o(c(null != (s = null != n ? n.question : n) ? s.maxChoice : s, n)) + "\n                " + o((a.string || n && n.string || l).call(r, "exam.research-activity.max.choise-sum", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                )\n            </span>\n"
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '        <div class="layout-mb border bottom">\n' + (null != (s = a.each.call(r, null != (s = null != n ? n.question : n) ? s.options : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.isShowOther : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n"
            },
            13: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression;
                return '                <div class="clearfix layout-mb-small">\n                    <div class="pull-left layout-mr-small">\n                        <div class="inline-block">\n                            <div class="checkbox">\n                                <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="checkbox" id="checkbox-' + u((r = null != (r = a.index || i && i.index) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" disabled/>\n                                <label for="checkbox-' + u((r = null != (r = a.index || i && i.index) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                            </div>\n                        </div>\n                        <b>' + u((r = null != (r = a.code || (null != n ? n.code : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "code",
                    hash: {},
                    data: i
                }) : r)) + '.</b>\n                    </div>\n                    <div class="overflow">\n                        <div class="m-bottom">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.text : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</div>\n                        <div class="w-half"><div class="progress-box">\n                            <div class="progress m-right"><div class="progress-bar" style="width:' + u((r = null != (r = a.selectPercent || (null != n ? n.selectPercent : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "selectPercent",
                    hash: {},
                    data: i
                }) : r)) + '%"></div></div>\n                            <span class="m-left text-left">' + u((r = null != (r = a.selectPercent || (null != n ? n.selectPercent : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "selectPercent",
                    hash: {},
                    data: i
                }) : r)) + "%</span>\n                        </div></div>\n                    </div>\n                </div>\n"
            },
            14: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            16: function(e, n, a, t, i) {
                var s;
                return '                <div class="input o-content">' + e.escapeExpression(e.lambda(null != (s = null != n ? n.question : n) ? s.remark : s, n)) + "</div>\n"
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '        <div class="layout-mb border bottom">\n' + (null != (s = a.each.call(r, null != (s = null != n ? n.question : n) ? s.options : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(19, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.isShowOther : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n"
            },
            19: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="clearfix layout-mb-small">\n                    <div class="pull-left layout-mr-small">\n                        <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" disabled/>\n                        <b>' + c((r = null != (r = a.code || (null != n ? n.code : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "code",
                    hash: {},
                    data: i
                }) : r)) + '.</b>\n                    </div>\n                    <div class="overflow">\n                        <div class="m-bottom">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.text : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</div>\n                        <div class="w-half"><div class="progress-box">\n                            <div class="progress m-right"><div class="progress-bar" style="width:' + c((r = null != (r = a.selectPercent || (null != n ? n.selectPercent : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "selectPercent",
                    hash: {},
                    data: i
                }) : r)) + '%"></div></div>\n                            <span class="m-left text-left">' + c((r = null != (r = a.selectPercent || (null != n ? n.selectPercent : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "selectPercent",
                    hash: {},
                    data: i
                }) : r)) + "%</span>\n                        </div></div>\n                    </div>\n                </div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/summary-detail/choise/view-main": [function(e, n, a) {
        a.bindings = {
            question: !0
        },
        a.type = "form",
        a.dataForTemplate = {
            mutiple: function(e) {
                return 2 === e.question.type
            },
            state: function(e) {
                var n = e.question
                  , a = n.questionAttrs
                  , t = 11 == +a[a.length - 1].type;
                return n.maxChoice && (n.showMaxChoice = !0),
                n.minChoice && (n.showMinChoice = !0),
                n.minChoice && n.maxChoice && (n.showChoiceLimit = !0,
                n.showMaxChoice = !1,
                n.showMinChoice = !1),
                n.required = Boolean(n.required),
                n.isShowOther = !1,
                t && n.answerRecords && n.answerRecords.length > 0 && (n.remark = n.answerRecords[0].remark,
                n.remark && (n.isShowOther = !0)),
                n
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/summary-detail/matrix/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/strings");
        a.items = {
            content: "content",
            options: "options"
        },
        a.store = {
            models: {
                question: {
                    data: {},
                    mixin: {
                        getSubQuestionById: function(e) {
                            var n = i.find(this.data.subs, ["id", e]);
                            return n.answerRecords = i.filter(this.data.answerRecords, ["questionId", n.id]),
                            n.researchRecordId = this.data.researchRecordId,
                            n
                        }
                    }
                },
                answer: {
                    data: {
                        type: 9,
                        value: []
                    },
                    mixin: {
                        init: function(e) {
                            this.data = e || {
                                key: "",
                                value: []
                            }
                        },
                        save: function(e) {
                            var n, a = this.data.value;
                            n = i.reject(a, ["key", e.key]),
                            n.push(e),
                            this.data.value = n
                        },
                        getAnswer: function(e) {
                            var n = this.data.value;
                            return i.find(n, ["key", e])
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a, i = this.models.question.data = {
                        options: [],
                        title: s.get("exam.research-activity.question.matrix-scale"),
                        answer: "",
                        gainScore: 0,
                        errorRate: 0
                    }, r = e.question;
                    if (r) {
                        for (t.assign(i, r),
                        a = r.questionAttrs,
                        n = 0; n < a.length; n++)
                            i.options.push({
                                content: a[n].value,
                                isRichText: !1,
                                id: a[n].id,
                                name: a[n].name,
                                score: a[n].score || 0
                            });
                        i.detailMode = e.mode
                    }
                    this.models.answer.init(e.answer),
                    this.models.question.changed()
                },
                saveAnswer: function(e) {
                    var n = this.module.renderOptions.callback;
                    this.models.answer.save(e),
                    t.assign(this.models.answer.data, {
                        key: this.models.question.data.id,
                        type: 9
                    }),
                    n && n(this.models.answer.data)
                }
            }
        },
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary-detail/matrix/sub/index": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/question/types/answer-detail/matrix/sub/index"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/research-activity/question/types/answer-detail/matrix/sub/index",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary-detail/matrix/sub/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<table data-region="sub"></table>'
            },
            3: function(e, n, a, t, i, s, r) {
                var l, o = e.lambda, c = e.escapeExpression, u = null != n ? n : {};
                return '    <tr>\n        <td id="item-' + c(o(null != (l = null != n ? n.question : n) ? l.id : l, n)) + '">\n            <div class="matrix-left" title="' + c(o(null != (l = null != n ? n.question : n) ? l.contentText : l, n)) + '">\n                <label class="answer-content" for="item-' + c(o(null != (l = null != n ? n.question : n) ? l.id : l, n)) + '" title="' + c(o(null != (l = null != n ? n.question : n) ? l.content : l, n)) + '">\n                    ' + (null != (l = (a.echoX || n && n.echoX || a.helperMissing).call(u, null != (l = null != n ? n.question : n) ? l.content : l, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "\n                </label>\n            </div>\n        </td>\n        \x3c!--  .matrix-content --\x3e\n" + (null != (l = a.each.call(u, null != (l = null != n ? n.question : n) ? l.options : l, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "    </tr>\n"
            },
            4: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = e.escapeExpression, d = a.helperMissing, p = "function";
                return '            <td class="radio matrix-summary-td">\n                <div class="pull-left">\n                    <input class="disabled" ' + (null != (l = a.if.call(c, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + ' type="radio" name="value-' + u(e.lambda(null != (l = null != r[1] ? r[1].question : r[1]) ? l.id : l, n)) + '" id="radio-' + u((o = null != (o = a.index || i && i.index) ? o : d,
                typeof o === p ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '" value="' + u((o = null != (o = a.index || i && i.index) ? o : d,
                typeof o === p ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '" disabled/>\n                    <label for="radio-' + u((o = null != (o = a.index || i && i.index) ? o : d,
                typeof o === p ? o.call(c, {
                    name: "index",
                    hash: {},
                    data: i
                }) : o)) + '"></label>\n                </div>\n                <div class="overflow">\n                    <div class="w-half"><div class="progress-box" style="width: 140px!important;">\n                        <div class="progress m-right"><div class="progress-bar" style="width:' + u((o = null != (o = a.selectPercent || (null != n ? n.selectPercent : n)) ? o : d,
                typeof o === p ? o.call(c, {
                    name: "selectPercent",
                    hash: {},
                    data: i
                }) : o)) + '%"></div></div>\n                        <span class="m-left text-left">' + u((o = null != (o = a.selectPercent || (null != n ? n.selectPercent : n)) ? o : d,
                typeof o === p ? o.call(c, {
                    name: "selectPercent",
                    hash: {},
                    data: i
                }) : o)) + "%</span>\n                    </div></div>\n                </div>\n            </td>\n"
            },
            5: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "\x3c!--  module > div(data-region='sub') --\x3e\n\x3c!--  view('sub') --\x3e\n\x3c!--      .row(id='item-' + question.id) --\x3e\n\x3c!--          .matrix-left(title=question.content) --\x3e\n\x3c!--              label(for='item-' + question.id) --\x3e\n\x3c!--                  @echoX(question.content) --\x3e\n\x3c!--          .matrix-content.clearfix --\x3e\n\x3c!--              each(question.options) --\x3e\n\x3c!--                  #  .radio --\x3e\n\x3c!--                  #      input.disabled(type='radio' name='value-' + ../question.id id='radio-' + @index value=@index disabled='disabled')('checked')&if(checked) --\x3e\n\x3c!--                  #      label(for='radio-' + @index) --\x3e\n\x3c!--                  .matrix-content-item --\x3e\n\x3c!--                      .pull-left --\x3e\n\x3c!--                          input.disabled(type='radio' name='value-' + ../question.id id='radio-' + @index value=@index disabled='disabled')('checked')&if(checked) --\x3e\n\x3c!--                          label(for='radio-' + @index) --\x3e\n\x3c!--                      .overflow --\x3e\n\x3c!--                          .w-half > .progress-box --\x3e\n\x3c!--                              .progress.m-right > .progress-bar(style='width:' + selectPercent + '%') --\x3e\n\x3c!--                              span.m-left.text-left > echo(selectPercent '%') --\x3e\n";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "sub", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/summary-detail/matrix/sub/view-sub": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/question/types/answer-detail/matrix/sub/view-sub"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/research-activity/question/types/answer-detail/matrix/sub/view-sub"
    }],
    "./app/exam/research-activity/question/types/summary-detail/matrix/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div class="question mb-1 ' + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '">\n        <span class="inline-block"><a class="normal" name="question-' + o(l(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '">' + o(l(null != (s = null != n ? n.question : n) ? s.index : s, n)) + ".</a></span>\n        【\n        " + o((a.map || n && n.map || c).call(r, "question-types-all", null != (s = null != n ? n.question : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "\n        】\n        " + (null != (s = (a.echoX || n && n.echoX || c).call(r, null != (s = null != n ? n.question : n) ? s.contentTxt : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {};
                return '<div class="answer matrix-radio">\n    \x3c!--  .preview-list  --\x3e\n    \x3c!--      .row --\x3e\n    \x3c!--          .matrix-left --\x3e\n    \x3c!--          .matrix-title --\x3e\n    \x3c!--              each(options) --\x3e\n    \x3c!--                  span.matrix-title-progress(title=content) --\x3e\n    \x3c!--                      echo(\'[\' score) + string(\'exam.research-activity.research-detail.score\') + echo(\']\') + @echoX(content) --\x3e\n    \x3c!--      dl.row > each(question.subs) --\x3e\n    \x3c!--          div(data-dynamic-key=id) --\x3e\n    <div class="col-sm-content matrix-summary">\n        <table style="">\n            <thead><tr class="matrix-title">\n                <td><div class="matrix-left-first">&nbsp;</div></td>\n' + (null != (l = a.each.call(o, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "            </tr></thead>\n        </table>\n" + (null != (l = a.each.call(o, null != (l = null != n ? n.question : n) ? l.subs : l, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "    </div>\n</div>"
            },
            7: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing;
                return '                    <td class="matrix-title-span">\n                        <span title="' + e.escapeExpression((o = null != (o = a.contentText || (null != n ? n.contentText : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "contentText",
                    hash: {},
                    data: i
                }) : o)) + '">\n' + (null != (l = (a.compare || n && n.compare || u).call(c, null != (l = null != r[1] ? r[1].state : r[1]) ? l.scoreMode : l, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "                            " + (null != (l = (a.echoX || n && n.echoX || u).call(c, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? l : "") + "\n                        </span>\n                    </td>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                                [" + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + o((a.string || n && n.string || l).call(r, "exam.research-activity.research-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "]\n"
            },
            10: function(e, n, a, t, i) {
                var s;
                return '            <div class="matrix-content" data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.view || n && n.view || d).call(u, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(6, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n"
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/summary-detail/matrix/view-content": [function(e, n, a) {
        a.bindings = {
            question: !0
        },
        a.dataForTemplate = {
            question: function(e) {
                var n = e.question;
                return n.required = Boolean(n.required),
                n
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/summary-detail/matrix/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.bindings = {
            question: !0,
            answer: !0
        },
        a.type = "dynamic",
        a.dataForTemplate = {
            options: function() {
                var e = this.bindings.answer.data
                  , n = this;
                return t.map(this.bindings.question.data.options, function(a, i) {
                    var s = a;
                    s.index = i,
                    s.questionId = n.bindings.question.data.id,
                    t.find(e.value, ["id", s.id]) && (s.checked = !0)
                }),
                this.bindings.question.data.options
            }
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.question.getSubQuestionById(e)
              , a = i.assign({}, n)
              , t = i.assign({}, n.answerRecord);
            return i.assign(a, {
                questionAttrs: n.questionAttrs,
                answerRecord: i.assign(t, {
                    score: t.score / 100
                })
            }),
            a
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/research-activity/question/types/summary-detail/matrix/sub"
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                question: e,
                answer: this.bindings.answer.getAnswer(e.id),
                callback: function(e) {
                    return n.module.dispatch("saveAnswer", e)
                }
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary-detail/other/index": [function(e, n, a) {
        var t = e("drizzlejs");
        a.items = {
            main: "main"
        },
        a.title = "详情",
        a.large = !0,
        a.store = {
            models: {
                otherAnswer: {
                    url: "../exam/research-activity/front/summary-detail/other-answer",
                    type: "pageable",
                    root: "items"
                }
            },
            callbacks: {
                init: function(e) {
                    return t.assign(this.models.otherAnswer.params, {
                        researchQuestionaryId: e.researchQuestionaryId,
                        questionId: e.questionId
                    }),
                    this.get(this.models.otherAnswer, {
                        loading: !0
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-activity/question/types/summary-detail/other/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s;
                return '    <table class="table">\n        <thead><tr>\n            <th width="60">序号</th>\n            <th width="60">姓名</th>\n            <th width="60%">内容</th>\n            <th width="200">答题时间</th>\n        </tr></thead>\n        <tbody>' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.otherAnswer : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'
            },
            4: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "<tr>\n            <td>" + o((s = null != (s = a.i || (null != n ? n.i : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "i",
                    hash: {},
                    data: i
                }) : s)) + "</td>\n            <td>" + o((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "</td>\n            <td>" + o((s = null != (s = a.remark || (null != n ? n.remark : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "remark",
                    hash: {},
                    data: i
                }) : s)) + '</td>\n            <td class="btn-operation">\n                <div class="m-right">' + o((a.dateMinute || n && n.dateMinute || l).call(r, null != n ? n.createTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "</div>\n            </td>\n        </tr>\n        "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "\x3c!--  查看更多其他的弹窗 --\x3e\n";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/summary-detail/other/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.bindings = {
            otherAnswer: !0
        },
        a.components = [{
            id: "pager",
            name: "pager",
            options: {
                model: "otherAnswer"
            }
        }],
        a.dataForTemplate = {
            otherAnswer: function(e) {
                var n = this.bindings.otherAnswer.params
                  , a = (n.page - 1) * n.pageSize;
                return t.map(e.otherAnswer || [], function(e, n) {
                    return i.assign(e, {
                        i: n + a + 1,
                        name: e.isAnonymity ? "匿名用户" : e.member.fullName
                    })
                }),
                e.otherAnswer
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary-detail/question-answer/index": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/question/types/answer-detail/question-answer/index"][0].apply(a, arguments)
    }
    , {
        drizzlejs: "drizzlejs",
        dup: "./app/exam/research-activity/question/types/answer-detail/question-answer/index",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary-detail/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div class="question ' + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '">\n        <span><a class="normal" name="question-' + o(l(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '">' + o(l(null != (s = null != n ? n.question : n) ? s.index : s, n)) + ".</a></span>\n        【\n        " + o((a.map || n && n.map || c).call(r, "question-types-all", null != (s = null != n ? n.question : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "\n        】\n        " + (null != (s = (a.echoX || n && n.echoX || c).call(r, null != (s = null != n ? n.question : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '\n    </div>\n    <div class="clearfix statistics-list">\n        <div class="statistics-list-tit pull-left col-sm-10">' + o((a.string || n && n.string || c).call(r, "exam.research-activity.question.answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(l(null != (s = null != (s = null != n ? n.question : n) ? s.answerRecord : s) ? s.answer : s, n)) + '</div>\n        <div class="statistics-list-time pull-right">' + o((a.dateMinute || n && n.dateMinute || c).call(r, null != (s = null != (s = null != n ? n.question : n) ? s.answerRecord : s) ? s.createTime : s, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "</div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/summary-detail/question-answer/view-main": [function(e, n, a) {
        a.bindings = {
            question: !0
        },
        a.dataForTemplate = {
            question: function(e) {
                var n = e.question;
                return n.required = Boolean(n.required),
                n
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/summary/choise/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.items = {
            main: "main",
            "exam/research-activity/question/types/summary/other": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                question: {
                    mixin: {
                        init: function() {
                            var e = this;
                            this.data.options = t.map(this.data.questionAttrs, function(n, a) {
                                return i.assign({
                                    code: String.fromCharCode(a + "A".charCodeAt(0)),
                                    text: n.value
                                }, n.selectCount ? {
                                    selectPercent: n.selectPercent,
                                    selectCount: n.selectCount
                                } : e.getSelectData(n.name))
                            }),
                            this.data.effectiveCount = 0 === this.data.answerCount ? 0 : this.data.answerCount || t.filter(this.data.answerRecords, function(e) {
                                return !(!e || !e.answer)
                            }).length
                        },
                        getSelectData: function(e) {
                            var n = t.filter(this.data.answerRecords, function(n) {
                                return !(!n || !n.answer) && t.some(n.answer.split(","), function(n) {
                                    return n === e
                                })
                            }).length
                              , a = t.filter(this.data.answerRecords, function(e) {
                                return !(!e || !e.answer)
                            }).length
                              , i = 0 === a ? 0 : n / a
                              , s = 100 * i + "";
                            return {
                                selectPercent: s.indexOf(".") > 0 ? Number(s).toFixed(2) : s,
                                selectCount: n
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    this.models.question.set(e.question),
                    this.models.question.init()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary/choise/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <div id="main"></div>\n    <p class="question ' + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n            ' + o(l(null != (s = null != n ? n.question : n) ? s.index : s, n)) + ".\n            【\n            " + o((a.map || n && n.map || c).call(r, "question-types-all", null != (s = null != n ? n.question : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '\n            】 &nbsp;\n        </span>\n        <a class="normal" name="mlj-' + o(l(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || c).call(r, null != (s = null != n ? n.question : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</a>\n    </p>\n    <table class="table m-top table-border">\n        <tr>\n            <th width="45%">' + o((a.string || n && n.string || c).call(r, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</th>\n            <th width="10%">' + o((a.string || n && n.string || c).call(r, "exam.research-activity.question.count", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</th>\n            <th width="45%">' + o((a.string || n && n.string || c).call(r, "exam.research-activity.question.percent", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n        </tr>\n" + (null != (s = a.each.call(r, null != (s = null != n ? n.question : n) ? s.options : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '    </table>\n    <div class="statistics-table-footer">' + o((a.string || n && n.string || c).call(r, "exam.research-activity.question.effective-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(l(null != (s = null != n ? n.question : n) ? s.effectiveCount : s, n)) + "</div>\n    \x3c!-- 其他 列表 --\x3e\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.isShowOther : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    <br/>\n"
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '            <tr>\n                <td><div class="td-content">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.code : n, ".", null != n ? n.text : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div></td>\n                <td>" + c((r = null != (r = a.selectCount || (null != n ? n.selectCount : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "selectCount",
                    hash: {},
                    data: i
                }) : r)) + '</td>\n                <td>\n                    <div class="progress-box">\n                        <div class="progress m-right"><div class="progress-bar" style="width:' + c((r = null != (r = a.selectPercent || (null != n ? n.selectPercent : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "selectPercent",
                    hash: {},
                    data: i
                }) : r)) + '%"></div></div>\n                    </div>\n                    ' + c((r = null != (r = a.selectPercent || (null != n ? n.selectPercent : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "selectPercent",
                    hash: {},
                    data: i
                }) : r)) + "%\n                </td>\n            </tr>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '        <ul class="other">\n            ' + (null != (s = a.each.call(r, null != (s = null != n ? n.question : n) ? s.resAnswerRecords : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.isShowMore : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </ul>\n"
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '<li>\n                <div class="statistics-list-tit pull-left col-sm-10">' + o((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + o((s = null != (s = a.remark || (null != n ? n.remark : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "remark",
                    hash: {},
                    data: i
                }) : s)) + '</div>\n                <div class="statistics-list-time pull-right">' + o((a.dateMinute || n && n.dateMinute || l).call(r, null != n ? n.createTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "</div>\n            </li>"
            },
            11: function(e, n, a, t, i) {
                return '                <li class="seeMore">\n                    <span id="more">【查看更多】</span>\n                </li>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/summary/choise/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.bindings = {
            question: !0
        },
        a.dataForTemplate = {
            question: function(e) {
                var n, a, s = e.question;
                return n = t.map(t.filter(s.answerRecords || [], function(e) {
                    return "" !== e.remark
                }), function(e) {
                    return i.assign(e, {
                        name: e.isAnonymity ? "匿名用户: " : e.member.fullName + ": "
                    })
                }),
                a = 11 == +s.questionAttrs[s.questionAttrs.length - 1].type,
                s.isShowOther = a && n.length > 0,
                s.isShowMore = a && n.length >= 10,
                s.resAnswerRecords = n.slice(0, 10),
                s.required = Boolean(s.required),
                s
            }
        },
        a.events = {
            "click more": "otherMore"
        },
        a.handlers = {
            otherMore: function() {
                var e = this.bindings.question.data
                  , n = this.module.items["exam/research-activity/question/types/summary/other"];
                return this.app.viewport.modal(n, {
                    questionId: e.id,
                    researchQuestionaryId: e.researchQuestionary.id,
                    sourceType: 2
                })
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary/matrix/index": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/question/types/summary-detail/matrix/index"][0].apply(a, arguments)
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/research-activity/question/types/summary-detail/matrix/index",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary/matrix/sub/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.items = {
            sub: "sub"
        },
        a.store = {
            models: {
                question: {
                    mixin: {
                        init: function() {
                            var e = this;
                            this.data.options = t.map(this.data.questionAttrs, function(n, a) {
                                return i.assign({
                                    code: String.fromCharCode(a + "A".charCodeAt(0)),
                                    text: n.value
                                }, n.selectCount ? {
                                    selectCount: n.selectCount,
                                    selectPercent: n.selectPercent
                                } : e.getSelectData(n.name))
                            }),
                            this.data.effectiveCount = 0 === this.data.answerCount ? 0 : this.data.answerCount || t.filter(this.data.answerRecords, function(e) {
                                return !(!e || !e.answer)
                            }).length
                        },
                        getSelectData: function(e) {
                            var n = t.filter(this.data.answerRecords, function(n) {
                                return !(!n || !n.answer) && t.some(n.answer.split(","), function(n) {
                                    return n === e
                                })
                            }).length
                              , a = t.filter(this.data.answerRecords, function(e) {
                                return !(!e || !e.answer)
                            }).length
                              , i = 0 === a ? 0 : n / a
                              , s = 100 * i + "";
                            return {
                                selectPercent: s.indexOf(".") > 0 ? Number(s).toFixed(2) : s,
                                selectCount: n
                            }
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    this.models.question.set(e.question),
                    this.models.question.init()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary/matrix/sub/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div data-region="sub"></div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '    <div class="row" id="item-' + l(r(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '">\n        <div class="col-sm-12">\n            <label for="item-' + l(r(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '">\n                <div class="answer-content">' + (null != (s = (a.echoX || n && n.echoX || c).call(o, null != (s = null != n ? n.question : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</div>\n            </label>\n        </div>\n    </div>\n    <div class="row" id="item-' + l(r(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '">\n        <div class="col-sm-12 matrix-content">\n            <table class="table m-top">\n                <tr>\n                    <th width="45%">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.question.option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</th>\n                    <th width="10%">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.question.count", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</th>\n                    <th width="45%">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.question.percent", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                </tr>\n" + (null != (s = a.each.call(o, null != (s = null != n ? n.question : n) ? s.options : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            </table>\n            <div class="statistics-table-footer">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.question.effective-number", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != n ? n.question : n) ? s.effectiveCount : s, n)) + "</div>\n        </div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <tr>\n                        <td><div class="td-content">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.text : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div></td>\n                        <td>" + c((r = null != (r = a.selectCount || (null != n ? n.selectCount : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "selectCount",
                    hash: {},
                    data: i
                }) : r)) + '</td>\n                        <td>\n                            <div class="progress-box">\n                                <div class="progress m-right"><div class="progress-bar" style="width:' + c((r = null != (r = a.selectPercent || (null != n ? n.selectPercent : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "selectPercent",
                    hash: {},
                    data: i
                }) : r)) + '%"></div></div>\n                            </div>\n                            ' + c((r = null != (r = a.selectPercent || (null != n ? n.selectPercent : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "selectPercent",
                    hash: {},
                    data: i
                }) : r)) + "%\n                        </td>\n                    </tr>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "sub", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/summary/matrix/sub/view-sub": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/question/types/answer-detail/matrix/sub/view-sub"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/research-activity/question/types/answer-detail/matrix/sub/view-sub"
    }],
    "./app/exam/research-activity/question/types/summary/matrix/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <p class="question ' + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n            ' + o(l(null != (s = null != n ? n.question : n) ? s.index : s, n)) + ".\n            【\n            " + o((a.map || n && n.map || c).call(r, "question-types-all", null != (s = null != n ? n.question : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + "\n" + (null != (s = (a.compare || n && n.compare || c).call(r, null != (s = null != n ? n.state : n) ? s.mode : s, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            】 &nbsp;\n        </span>\n        <a class="normal" name="mlj-' + o(l(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || c).call(r, null != (s = null != n ? n.question : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a>\n    </p>\n"
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return "                " + r(e.lambda(null != (s = null != n ? n.question : n) ? s.answerScore : s, n)) + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.research-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n"
            },
            8: function(e, n, a, t, i) {
                var s;
                return '<div class="answer matrix-radio">\n    \x3c!--  .row --\x3e\n    \x3c!--      .col-sm-3 --\x3e\n    \x3c!--      .col-sm-9.matrix-title --\x3e\n    \x3c!--          each(options) --\x3e\n    \x3c!--              span(title=content) --\x3e\n    \x3c!--                  @echoX(content) --\x3e\n    <dl>' + (null != (s = a.each.call(null != n ? n : {}, null != (s = null != n ? n.question : n) ? s.subs : s, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</dl>\n</div>"
            },
            9: function(e, n, a, t, i) {
                var s;
                return '\n        <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n    '
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n"
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/summary/matrix/view-content": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/question/types/summary-detail/matrix/view-content"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/research-activity/question/types/summary-detail/matrix/view-content"
    }],
    "./app/exam/research-activity/question/types/summary/matrix/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.bindings = {
            question: !0,
            answer: !0
        },
        a.type = "dynamic",
        a.dataForTemplate = {
            options: function() {
                var e = this.bindings.answer.data
                  , n = this;
                return t.map(this.bindings.question.data.options, function(a, i) {
                    var s = a;
                    s.index = i,
                    s.questionId = n.bindings.question.data.id,
                    t.find(e.value, ["id", s.id]) && (s.checked = !0)
                }),
                this.bindings.question.data.options
            }
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.question.getSubQuestionById(e)
              , a = i.assign({}, n)
              , t = i.assign({}, n.answerRecord);
            return i.assign(a, {
                questionAttrs: n.questionAttrs,
                answerRecord: i.assign(t, {
                    score: t.score / 100
                })
            }),
            a
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/research-activity/question/types/summary/matrix/sub"
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this;
            return {
                question: e,
                answer: this.bindings.answer.getAnswer(e.id),
                callback: function(e) {
                    return n.module.dispatch("saveAnswer", e)
                }
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary/other/index": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/question/types/summary-detail/other/index"][0].apply(a, arguments)
    }
    , {
        drizzlejs: "drizzlejs",
        dup: "./app/exam/research-activity/question/types/summary-detail/other/index"
    }],
    "./app/exam/research-activity/question/types/summary/other/templates": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/question/types/summary-detail/other/templates"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/research-activity/question/types/summary-detail/other/templates",
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/summary/other/view-main": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/question/types/summary-detail/other/view-main"][0].apply(a, arguments)
    }
    , {
        drizzlejs: "drizzlejs",
        dup: "./app/exam/research-activity/question/types/summary-detail/other/view-main",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/question/types/summary/question-answer/index": [function(e, n, a) {
        a.items = {
            main: "main",
            "exam/research-activity/question/types/summary/question-answer/more": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                question: {
                    mixin: {
                        init: function() {}
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    this.models.question.set(e.question)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/summary/question-answer/more/index": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.items = {
            main: "main",
            head: "head"
        },
        a.title = t.get("exam.research-activity.view-detail"),
        a.large = !0,
        a.store = {
            models: {
                question: {},
                answers: {
                    url: "../exam/research-activity/front/summary-detail/question",
                    type: "pageable",
                    root: "items"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.answers;
                    return this.models.question.set(e.question),
                    n.params = {
                        questionId: e.question.id,
                        researchId: e.question.researchQuestionary.id
                    },
                    this.get(n)
                },
                search: function(e) {
                    var n = this.models.answers;
                    return n.params.answer = e.answer,
                    this.get(n)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/research-activity/question/types/summary/question-answer/more/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="head"></div>\n    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.escapeExpression, l = null != n ? n : {}, o = a.helperMissing;
                return '<form>\n    <div class="row"><div class="col-sm-12">\n        <h3>' + r(e.lambda(null != (s = null != (s = null != n ? n.question : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '</h3>\n    </div></div>\n    <div class="row"><div class="col-sm-12">\n        ' + r((a.string || n && n.string || o).call(l, "exam.research-activity.question.question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != (s = null != n ? n.question : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '\n    </div></div>\n    <hr/>\n    <div class="row"><div class="col-sm-12">\n        <div class="pull-right m-bottom">\n            <input class="input pull-left" name="answer" placeholder="' + r((a.string || n && n.string || o).call(l, "exam.research-activity.question.input-select-content", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"/>\n            <button id="search" class="btn pull-left">' + r((a.string || n && n.string || o).call(l, "query", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</button>\n        </div>\n    </div></div>\n</form>"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="row"><div class="col-sm-12">\n        <div class="list">\n            <table class="table table2 text-center train border around">\n                <thead><tr>\n                    <th width="150">' + o((a.string || n && n.string || l).call(r, "human.member.full-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                    <th>" + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.answer-content", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</th>\n                    <th width="200">' + o((a.string || n && n.string || l).call(r, "exam.research-activity.question.answer-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                </tr></thead>\n                <tbody>" + (null != (s = a.each.call(r, null != n ? n.answers : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</tbody>\n            </table>\n        </div>\n        <div id="pager" class="pagination"></div>\n    </div></div>\n'
            },
            6: function(e, n, a, t, i) {
                var s, r, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return "\n                    <tr>\n                        <td>" + l(e.lambda(null != (s = null != n ? n.member : n) ? s.fullName : s, n)) + "</td>\n                        <td>" + l((r = null != (r = a.answer || (null != n ? n.answer : n)) ? r : c,
                "function" == typeof r ? r.call(o, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : r)) + "</td>\n                        <td>" + l((a.dateMinute || n && n.dateMinute || c).call(o, null != n ? n.createTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "</td>\n                    </tr>\n                "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "head", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/summary/question-answer/more/view-head": [function(e, n, a) {
        a.bindings = {
            question: !0
        },
        a.type = "form",
        a.actions = {
            "click search": "search"
        },
        a.dataForActions = {
            search: function(e) {
                return e
            }
        }
    }
    , {}],
    "./app/exam/research-activity/question/types/summary/question-answer/more/view-main": [function(e, n, a) {
        a.bindings = {
            answers: !0
        },
        a.components = [{
            id: "pager",
            name: "pager",
            options: {
                model: "answers"
            }
        }]
    }
    , {}],
    "./app/exam/research-activity/question/types/summary/question-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.lambda, o = e.escapeExpression, c = a.helperMissing;
                return '    <p class="question ' + (null != (s = a.if.call(r, null != (s = null != n ? n.question : n) ? s.required : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '" style="display:inline;">\n        <span class="sub-text inline-block">\n            ' + o(l(null != (s = null != n ? n.question : n) ? s.index : s, n)) + ".\n            【\n            " + o((a.map || n && n.map || c).call(r, "question-types-all", null != (s = null != n ? n.question : n) ? s.type : s, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '\n            】 &nbsp;\n        </span>\n        <a class="normal" name="mlj-' + o(l(null != (s = null != n ? n.question : n) ? s.id : s, n)) + '">' + (null != (s = (a.echoX || n && n.echoX || c).call(r, null != (s = null != n ? n.question : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</a>\n    </p>\n" + (null != (s = a.if.call(r, null != n ? n.answerOne : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != n ? n.biggerThan : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            4: function(e, n, a, t, i) {
                return "oRequired"
            },
            6: function(e, n, a, t, i) {
                var s;
                return null != (s = a.each.call(null != n ? n : {}, null != n ? n.answerRecords : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            7: function(e, n, a, t, i) {
                var s, r, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '            <div class="clearfix statistics-list onlyone">\n                <div class="statistics-list-tit m-top pull-left col-sm-10">' + l(e.lambda(null != (s = null != n ? n.member : n) ? s.fullName : s, n)) + l((a.string || n && n.string || c).call(o, "exam.research-activity.question.question-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l((r = null != (r = a.answer || (null != n ? n.answer : n)) ? r : c,
                "function" == typeof r ? r.call(o, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : r)) + '</div>\n                <div class="statistics-list-time m-top pull-right">' + l((a.dateMinute || n && n.dateMinute || c).call(o, null != n ? n.createTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "</div>\n            </div>\n"
            },
            9: function(e, n, a, t, i) {
                var s;
                return null != (s = a.each.call(null != n ? n : {}, null != n ? n.answerRecords : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            10: function(e, n, a, t, i) {
                var s, r, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '            <div class="clearfix statistics-list">\n                <div class="statistics-list-tit m-top pull-left col-sm-10">' + l(e.lambda(null != (s = null != n ? n.member : n) ? s.fullName : s, n)) + l((a.string || n && n.string || c).call(o, "exam.research-activity.question.question-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l((r = null != (r = a.answer || (null != n ? n.answer : n)) ? r : c,
                "function" == typeof r ? r.call(o, {
                    name: "answer",
                    hash: {},
                    data: i
                }) : r)) + '</div>\n                <div class="statistics-list-time m-top pull-right">' + l((a.dateMinute || n && n.dateMinute || c).call(o, null != n ? n.createTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "</div>\n            </div>\n"
            },
            12: function(e, n, a, t, i) {
                return '        <a id="more" class="center-text">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.question.more", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/question/types/summary/question-answer/view-main": [function(e, n, a) {
        a.bindings = {
            question: !0
        },
        a.events = {
            "click more": "viewMore"
        },
        a.handlers = {
            viewMore: function() {
                var e = this.module.items["exam/research-activity/question/types/summary/question-answer/more"];
                this.app.viewport.modal(e, {
                    question: this.bindings.question.data
                })
            }
        },
        a.dataForTemplate = {
            question: function(e) {
                var n = e.question;
                return n.required = Boolean(n.required),
                n
            },
            biggerThan: function(e) {
                return e.question.answerRecords.length > 10
            },
            answerOne: function(e) {
                return e.question.answerRecords.length <= 1
            },
            answerRecords: function(e) {
                var n = []
                  , a = e.question.answerRecords
                  , t = 0;
                for (t = 0; t < a.length && (n.push(a[t]),
                !(t + 1 > 9)); t++)
                    ;
                return n
            }
        }
    }
    , {}],
    "./app/exam/research-activity/research-answer-batch/index": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("drizzlejs"), r = e("./app/util/maps"), l = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current"
        }, o = e("./app/util/strings");
        a.items = {
            title: "title",
            main: "main",
            side: "side",
            "business-list": "business-list"
        },
        a.large = !0,
        a.title = o.get("exam.research-activity.research-answer.research-detail"),
        a.store = {
            models: {
                state: {
                    mixin: {
                        init: function(e) {
                            var n = this.module.store.models.dimensions
                              , a = this.module.store.models.questions
                              , t = e
                              , i = n.getFirstDimension();
                            void 0 !== t && t.businessList && t.businessList.length > 0 && (t.businessList[0].selected = !0),
                            s.assign(this.data, {
                                currentDimension: i,
                                currentQuestion: i.questions[0],
                                hasPrevious: !1,
                                hasNext: a.data.length > 1
                            })
                        },
                        fillData: function(e) {
                            s.assign(this.data, {
                                batch: e.batch,
                                businessList: e.businessList,
                                researchRecords: e.researchRecords,
                                researchRecord: e.researchRecord
                            })
                        },
                        selectQuestion: function(e) {
                            var n = this.module.store.models.dimensions;
                            s.assign(this.data, {
                                currentQuestion: e,
                                currentDimension: n.getDimension(e.id)
                            })
                        },
                        resetCurrentQuestion: function() {
                            var e, n, a, t = this.module.store.models.dimensions, r = t.getCurrentQuestion();
                            s.assign(this.data, {
                                currentQuestion: r,
                                currentDimension: t.getDimension(r.id)
                            }),
                            i.forEach(t.data, function(t, l) {
                                i.forEach(t.questions, function(i, o) {
                                    i.id === r.id && (e = s.assign({}, t),
                                    n = l,
                                    a = o)
                                })
                            }),
                            this.data.hasPrevious = e.questions[a - 1] || t.data[Number(n) - 1],
                            this.data.hasNext = e.questions[a + 1] || t.data[Number(n) + 1]
                        }
                    }
                },
                researchRecord: {
                    url: "../exam/research-record/front/detail",
                    mixin: {
                        getAnswerRecordsByQuestion: function(e) {
                            var n = this
                              , a = e.id
                              , t = e.subs ? i.map(e.subs, function(e) {
                                return e.id
                            }) : []
                              , s = n.getAnswerRecordsByQuestionId(a);
                            return i.map(t, function(e) {
                                i.map(n.getAnswerRecordsByQuestionId(e) || [], function(e) {
                                    s.push(e)
                                })
                            }),
                            s
                        },
                        getAnswerRecordsByQuestionId: function(e) {
                            var n = this.data.researchQuestionary || {}
                              , a = n && n.researchAnswerRecordMaps;
                            return i.filter(i.map(a || [], function(n) {
                                return i.find(n.researchAnswerRecords, ["questionId", e])
                            }), function(e) {
                                return e
                            })
                        },
                        getQuestionIndex: function(e, n) {
                            var a = this.data.researchQuestionary && this.data.researchQuestionary.dimensions
                              , t = (a || []).findIndex(function(e) {
                                return e.id === n
                            });
                            return (~t && a[t].questions || []).findIndex(function(n) {
                                return n.id === e
                            }) + 1
                        },
                        isAnswered: function(e) {
                            var n = this
                              , a = this.getAnswerRecordsByQuestion(e) || {}
                              , t = i.filter(a || [], function(e) {
                                return e.researchRecordId === n.data.id
                            })
                              , s = this.getAnswerRecordByQuestionId(t, e.id);
                            return e.type && 9 === Number(e.type) ? i.reduce(i.map(e.subs, function(e) {
                                var a = n.getAnswerRecordByQuestionId(t, e.id);
                                return a && "" !== a.answer
                            }), function(e, n) {
                                return e && n
                            }) : s && "" !== s.answer
                        },
                        getAnswerRecordByQuestionId: function(e, n) {
                            return i.find(e || [], ["questionId", n])
                        }
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            i.forEach(e, function(e) {
                                e.questions && i.forEach(e.questions, function(e) {
                                    n.data.push(e)
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = i.find(this.data, ["id", e])
                              , a = this.module.store.models.researchRecord;
                            return s.assign(n, {
                                answerRecords: a.getAnswerRecordsByQuestion(n),
                                index: a.getQuestionIndex(n.id, n.dimensionId),
                                researchRecordId: a.data.id
                            })
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = r.get("question-types-all")
                              , a = r.get("chineseNumber")
                              , c = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            })
                              , u = this;
                            return this.data = i.map(e || [], function(e, r) {
                                var d = i.find(a, ["key", (r + 1).toString()]).value;
                                return -1 !== c && c < r && (d = i.find(a, ["key", r.toString()]).value),
                                c === r && (d = ""),
                                s.assign(e, {
                                    isCurrent: !0,
                                    dimensionIndex: d,
                                    questions: i.map(e.questions, function(e, a) {
                                        return s.assign(e, {
                                            questionIndex: a + 1,
                                            dimensionIndex: r,
                                            typeDesc: i.find(n, ["key", e.type.toString()]).value + o.get("question"),
                                            status: 0 === r && 0 === a ? l.CURRENT : t.call(u, e),
                                            class: t.call(u, e)
                                        })
                                    }),
                                    questionSize: e.questions.length,
                                    avgScorePercent: "(" + o.get("satisfaction") + (e.avgScorePercent ? parseFloat((e.avgScorePercent / 100).toFixed(2)) : 0) + ")"
                                })
                            }),
                            this.data
                        },
                        getDimension: function(e) {
                            return i.find(this.data, function(n) {
                                return i.some(n.questions, function(n) {
                                    return n.id === e
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n;
                            return i.forEach(this.data, function(a) {
                                i.forEach(a.questions, function(a) {
                                    a.id === e && (n = a)
                                })
                            }),
                            n
                        },
                        getFirstDimension: function() {
                            return this.data[0]
                        },
                        getCurrentQuestion: function() {
                            var e;
                            return i.forEach(this.data, function(n) {
                                i.forEach(n.questions, function(n) {
                                    n.status === l.CURRENT && (e = n)
                                })
                            }),
                            e
                        },
                        selectDimension: function(e) {
                            this.module.store.models.state.data.selectQuestion || (this.data[e].isCurrent = !this.data[e].isCurrent),
                            this.module.store.models.state.data.selectQuestion = !1
                        },
                        selectQuestion: function(e) {
                            var n, a = this.getDimension(e), r = a.questions.findIndex(function(e) {
                                return e.status === l.CURRENT
                            }), o = this, c = this.getQuestionById(e), u = this.module.store.models.state.data;
                            r > -1 && (a.questions[r].status = t.call(this, a.questions[r])),
                            s.assign(c, {
                                class: c.status,
                                status: l.CURRENT
                            }),
                            i.forEach(i.filter(this.data, function(n) {
                                return i.every(n.questions, function(n) {
                                    return n.id !== e
                                })
                            }), function(e) {
                                var n = e.questions.findIndex(function(e) {
                                    return e.status === l.CURRENT
                                });
                                -1 !== n && s.assign(e.questions[n], {
                                    status: t.call(o, e.questions[n])
                                })
                            }),
                            i.forEach(this.data, function(t, l) {
                                i.forEach(t.questions, function(i, o) {
                                    i.id === e && (a = s.assign({}, t),
                                    n = l,
                                    r = o)
                                })
                            }),
                            u.selectQuestion = !0,
                            u.hasPrevious = a.questions[r - 1] || this.data[Number(n) - 1],
                            u.hasNext = a.questions[r + 1] || this.data[Number(n) + 1]
                        },
                        move: function(e) {
                            var n = this.data[e.dimensionIndex]
                              , a = this.store.models.state.data
                              , i = n.questions.findIndex(function(e) {
                                return e.status === l.CURRENT
                            })
                              , s = e.offset
                              , r = n.questions[i + s]
                              , o = e.dimensionIndex;
                            n.questions[i].status = t.call(this.module, n.questions[i]),
                            r ? r.status = l.CURRENT : this.data[Number(o) + s] && (o = Number(o) + s,
                            n = this.data[o] || {},
                            i = s > 0 ? 0 : n.questions.length - 1,
                            r = n.questions[i],
                            r.status = l.CURRENT,
                            n.isCurrent = !0),
                            a.hasPrevious = s > 0 || n.questions[i + s] || this.data[Number(o) + s],
                            a.hasNext = s < 0 || n.questions[i + s] || this.data[Number(o) + s]
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.researchRecord
                      , a = this.models.questions
                      , t = this.models.dimensions
                      , s = this.models.state
                      , r = {}
                      , l = e.researchRecords;
                    return n.clear(),
                    l && l[0] && e.businessList && e.businessList[0] ? r.researchRecordId = i.find(l, ["businessId", e.businessList[0].id]).id : e.researchRecord ? r.researchRecordId = e.researchRecord.id : r = {
                        businessId: e.businessId,
                        researchId: e.researchId,
                        memberId: e.memberId,
                        researchRecordId: e.researchRecordId
                    },
                    n.params = r,
                    this.get(n, {
                        loading: !0
                    }).then(function() {
                        a.init(t.init(n.data.researchQuestionary.dimensions)),
                        t.changed(),
                        s.init({
                            businessList: e.businessList
                        }),
                        s.fillData({
                            batch: e.batch,
                            businessList: e.businessList,
                            researchRecords: l,
                            researchRecord: e.researchRecord
                        })
                    }, function() {
                        setTimeout(function() {
                            window.close()
                        }, 1500)
                    })
                },
                selectDimension: function(e) {
                    this.models.dimensions.selectDimension(e.id),
                    this.models.dimensions.changed()
                },
                selectQuestion: function(e) {
                    this.models.dimensions.selectQuestion(e.id),
                    this.models.dimensions.changed(),
                    this.models.state.selectQuestion(this.models.dimensions.getQuestionById(e.id)),
                    this.models.state.changed()
                },
                move: function(e) {
                    this.models.dimensions.move(e),
                    this.models.dimensions.changed(),
                    this.models.state.resetCurrentQuestion(),
                    this.models.state.changed()
                },
                loadRecord: function(e) {
                    var n = this.models.researchRecord
                      , a = this.models.questions
                      , t = this.models.dimensions
                      , i = this.models.state;
                    n.clear(),
                    n.params = {
                        researchRecordId: e.researchRecordId
                    },
                    this.get(n, {
                        loading: !1
                    }).then(function() {
                        a.init(t.init(n.data.researchQuestionary.dimensions)),
                        t.changed(),
                        i.init()
                    }, function() {
                        setTimeout(function() {
                            window.close()
                        }, 1500)
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        t = function(e) {
            return this.store.models.researchRecord.isAnswered(e) ? l.ACTIVE : l.INIT
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-answer-batch/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="achievement-content">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="title"></div>\n        <div class="achievement-main top-half">\n            <div data-region="business-list"></div>\n            <div data-region="main"></div>\n        </div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r, l = e.lambda, o = e.escapeExpression;
                return '    <div class="pull-left title" title="' + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '">' + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n            <li class="border right">' + o((r = null != (r = a.memberTitle || (null != n ? n.memberTitle : n)) ? r : a.helperMissing,
                "function" == typeof r ? r.call(null != n ? n : {}, {
                    name: "memberTitle",
                    hash: {},
                    data: i
                }) : r)) + ": " + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.member : s) ? s.fullName : s, n)) + "</li>\n        </ul>\n    </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.businessList : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            6: function(e, n, a, t, i) {
                return '        <div class="center-invigilate-wrap otabs">\n            <div id="tab-btn"></div>\n        </div>\n'
            },
            8: function(e, n, a, t, i) {
                var s;
                return '    <div class="preview-content">\n' + (null != (s = a.if.call(null != n ? n : {}, null != n ? n.isMutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.program(15, i, 0),
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            9: function(e, n, a, t, i) {
                var s;
                return null != (s = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return (null != (s = a.if.call(r, null != n ? n.dimensionIndex : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            11: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="h3 m-top">\n                        ' + c((r = null != (r = a.dimensionIndex || (null != n ? n.dimensionIndex : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "dimensionIndex",
                    hash: {},
                    data: i
                }) : r)) + "、" + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '\n                        <span style="margin-left:10px;color:#0099FF;">' + c((r = null != (r = a.avgScorePercent || (null != n ? n.avgScorePercent : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "avgScorePercent",
                    hash: {},
                    data: i
                }) : r)) + '</span>\n                    </div>\n                    <div style="padding-left:1em 0;">' + (null != (r = null != (r = a.description || (null != n ? n.description : n)) ? r : o,
                s = "function" == typeof r ? r.call(l, {
                    name: "description",
                    hash: {},
                    data: i
                }) : r) ? s : "") + "</div>\n                    <hr/>\n"
            },
            13: function(e, n, a, t, i) {
                var s;
                return '                    <div class="m-top" data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            15: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '            <div class="h3 m-top">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.name : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.questionIndex : s, n)) + "/" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.questionSize : s, n)) + ')</div>\n            <div style="padding-left:1em;">' + (null != (s = r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.description : s, n)) ? s : "") + '</div>\n            <div data-dynamic-key="' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n            <div class="text-right m-bottom">\n' + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.hasPrevious : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.hasNext : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border m-right" id="prev-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.dimensionIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            18: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border" id="next-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.dimensionIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            20: function(e, n, a, t, i) {
                var s;
                return '    <ul class="list">' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            21: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <div class="list-title pointer" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                \x3c!-- i.iconfont.icon-type.m-right --\x3e\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.program(24, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(24, i, 0),
                    inverse: e.program(22, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '\n                <span style="margin-left:10px;">' + c((r = null != (r = a.avgScorePercent || (null != n ? n.avgScorePercent : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "avgScorePercent",
                    hash: {},
                    data: i
                }) : r)) + '</span>\n            </div>\n            <div class="min-btn-groups  ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.program(24, i, 0),
                    data: i
                })) ? s : "") + "\">\n                \x3c!--  if(singleMode) --\x3e\n                \x3c!--      .items-pagination.sub-text --\x3e\n                \x3c!--          .up-arrow.text-hover-main-color(id='prev-' + @index) > i.iconfont.icon-arrow-up-circle-full --\x3e\n                \x3c!--          .down-arrow.text-hover-main-color(id='next-' + @index)> i.iconfont.icon-arrow-down-circle-full --\x3e\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(26, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n        </li>\n    "
            },
            22: function(e, n, a, t, i) {
                return ""
            },
            24: function(e, n, a, t, i) {
                return "hidden"
            },
            26: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "active", {
                    name: "compare",
                    hash: {},
                    fn: e.program(27, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(29, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(31, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            27: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item active" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            29: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item click ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            31: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "title", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "business-list", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/research-answer-batch/view-business-list": [function(e, n, a) {
        var t = e("lodash/collection");
        a.bindings = {
            state: !0
        },
        a.handlers = {
            callback: function(e) {
                var n, a = e, i = a.data.businessList, s = a.view.bindings.state, r = {}, l = t.find(s.data.researchRecords, ["businessId", a.id]);
                for (n = 0; n < i.length; n++)
                    i[n].selected = !1;
                i[a.index].selected = !0,
                s.changed(),
                r = l ? {
                    researchRecordId: l.id
                } : {
                    researchRecordId: s.researchRecord.id
                },
                a.view.module.dispatch("loadRecord", r)
            }
        },
        a.components = [function() {
            return {
                id: "tab-btn",
                name: "otab",
                options: {
                    data: this.bindings.state.data
                }
            }
        }
        ]
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-answer-batch/view-main": [function(e, n, a) {
        var t = e("./app/exam/research-question-types")
          , i = e("drizzlejs")
          , s = e("lodash/collection");
        a.bindings = {
            researchRecord: !0,
            dimensions: !0,
            state: !0,
            questions: !1
        },
        a.type = "dynamic",
        a.getEntity = function(e) {
            var n = this.bindings.questions.getQuestionById(e) || {}
              , a = JSON.parse(JSON.stringify(n));
            return a = i.assign({}, a, {
                questionAttrs: s.orderBy(s.map(a.questionAttrs, function(e) {
                    return e.score ? i.assign(e, {
                        score: e.score / 100
                    }) : i.assign(e, {
                        score: 0
                    })
                }), ["name"], ["asc"]),
                score: a.score / 100
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            var a = this.bindings.researchRecord.data.researchQuestionary || {};
            return a && 3 !== a.type && 1 === a.permitViewCount ? t.get(n.type, 1) : 4 === a.type && 1 === n.type ? "exam/research-activity/question/types/answer-detail/choise-satisfaction" : t.get(n.type, 2)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = [3, 4, 5]
              , a = this.bindings.researchRecord.data.researchQuestionary || {}
              , t = n.indexOf(a.type) > -1 ? 1 : 0;
            return {
                type: e.type,
                question: i.assign(e, {
                    scoreMode: t
                })
            }
        }
        ,
        a.dataForTemplate = {
            isMutiple: function(e) {
                return !e.researchRecord.researchQuestionary || 1 === e.researchRecord.researchQuestionary.answerPaperRule
            }
        },
        a.events = {
            "click prev-*": "prev",
            "click next-*": "next"
        },
        a.handlers = {
            prev: function(e) {
                return this.module.dispatch("move", {
                    dimensionIndex: e,
                    offset: -1
                })
            },
            next: function(e) {
                return this.module.dispatch("move", {
                    dimensionIndex: e,
                    offset: 1
                })
            }
        }
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-answer-batch/view-side": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs");
        a.bindings = {
            researchRecord: !0,
            dimensions: !0
        },
        a.events = {
            "click prev-*": "prev",
            "click next-*": "next",
            "click question-*": "selectQuestion",
            "click list-item-*": "toggleMore"
        },
        a.handlers = {
            prev: function(e, n) {
                return n.preventDefault(),
                this.module.dispatch("move", {
                    id: e,
                    offset: -1
                })
            },
            next: function(e, n) {
                return n.preventDefault(),
                this.module.dispatch("move", {
                    id: e,
                    offset: 1
                })
            },
            selectQuestion: function(e) {
                return this.module.dispatch("selectQuestion", {
                    id: e
                })
            },
            toggleMore: function(e) {
                return this.module.dispatch("selectDimension", {
                    id: e
                })
            }
        },
        a.dataForTemplate = {
            dimensions: function(e) {
                return t.map(e.dimensions, function(n) {
                    return i.assign(n, {
                        singleMode: 2 === e.researchRecord.researchQuestionary.answerPaperRule
                    })
                })
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-answer-batch/view-title": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings");
        a.bindings = {
            researchRecord: !1
        },
        a.dataForTemplate = {
            memberTitle: function(e) {
                var n = ""
                  , a = e.researchRecord.researchQuestionary || {}
                  , s = i.get("exam.research-activity.research-detail.research-personnel")
                  , r = i.get("exam.research-activity.research-detail.assessment-personnel")
                  , l = i.get("exam.research-activity.research-detail.score-personnel")
                  , o = {};
                return o[s] = [1, 2],
                o[r] = [3, 4],
                o[l] = [5],
                n = t.find(Object.keys(o), function(e) {
                    return -1 !== o[e].indexOf(a.type)
                }) || s,
                localStorage.setItem("memberTitleType", a.type),
                n
            }
        },
        a.afterClose = function() {
            localStorage.removeItem("memberTitleType")
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-answer/index": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("drizzlejs"), r = e("./app/util/maps"), l = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current"
        }, o = e("./app/util/strings");
        a.items = {
            title: "title",
            main: "main",
            side: "side"
        },
        a.large = !0,
        a.title = o.get("exam.research-activity.research-answer.research-detail"),
        a.store = {
            models: {
                state: {
                    mixin: {
                        init: function() {
                            var e = this.module.store.models.dimensions
                              , n = this.module.store.models.questions
                              , a = e.getFirstDimension();
                            this.data = {
                                currentDimension: a,
                                currentQuestion: a.questions[0],
                                hasPrevious: !1,
                                hasNext: n.data.length > 1
                            }
                        },
                        selectQuestion: function(e) {
                            var n = this.module.store.models.dimensions;
                            s.assign(this.data, {
                                currentQuestion: e,
                                currentDimension: n.getDimension(e.id)
                            })
                        },
                        resetCurrentQuestion: function() {
                            var e, n, a, t = this.module.store.models.dimensions, r = t.getCurrentQuestion();
                            s.assign(this.data, {
                                currentQuestion: r,
                                currentDimension: t.getDimension(r.id)
                            }),
                            i.forEach(t.data, function(t, l) {
                                i.forEach(t.questions, function(i, o) {
                                    i.id === r.id && (e = s.assign({}, t),
                                    n = l,
                                    a = o)
                                })
                            }),
                            this.data.hasPrevious = e.questions[a - 1] || t.data[Number(n) - 1],
                            this.data.hasNext = e.questions[a + 1] || t.data[Number(n) + 1]
                        }
                    }
                },
                researchRecord: {
                    url: "../exam/research-record/front/detail",
                    mixin: {
                        getAnswerRecordsByQuestion: function(e) {
                            var n = this
                              , a = e.id
                              , t = e.subs ? i.map(e.subs, function(e) {
                                return e.id
                            }) : []
                              , s = n.getAnswerRecordsByQuestionId(a);
                            return i.map(t, function(e) {
                                i.map(n.getAnswerRecordsByQuestionId(e) || [], function(e) {
                                    s.push(e)
                                })
                            }),
                            s
                        },
                        getAnswerRecordsByQuestionId: function(e) {
                            var n = this.data.researchQuestionary.researchAnswerRecordMaps;
                            return i.filter(i.map(n, function(n) {
                                return i.find(n.researchAnswerRecords, ["questionId", e])
                            }), function(e) {
                                return e
                            })
                        },
                        getQuestionIndex: function(e, n) {
                            var a = this.data.researchQuestionary.dimensions;
                            return a[a.findIndex(function(e) {
                                return e.id === n
                            })].questions.findIndex(function(n) {
                                return n.id === e
                            }) + 1
                        },
                        isAnswered: function(e) {
                            var n, a = this, t = this.getAnswerRecordsByQuestion(e) || {}, s = i.filter(t || [], function(e) {
                                return e.researchRecordId === a.data.id
                            }), r = this.getAnswerRecordByQuestionId(s, e.id);
                            return e.type && 9 === Number(e.type) ? (n = i.map(e.subs || [], function(e) {
                                var n = a.getAnswerRecordByQuestionId(s, e.id);
                                return n && "" !== n.answer
                            }).findIndex(function(e) {
                                return !0 === e
                            }),
                            Boolean(~n)) : r && "" !== r.answer
                        },
                        getAnswerRecordByQuestionId: function(e, n) {
                            return i.find(e || [], ["questionId", n])
                        }
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            i.forEach(e, function(e) {
                                e.questions && i.forEach(e.questions, function(e) {
                                    n.data.push(e)
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = i.find(this.data, ["id", e])
                              , a = this.module.store.models.researchRecord;
                            return s.assign(n, {
                                answerRecords: a.getAnswerRecordsByQuestion(n),
                                index: a.getQuestionIndex(n.id, n.dimensionId),
                                researchRecordId: a.data.id
                            })
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = r.get("question-types-all")
                              , a = r.get("chineseNumber")
                              , c = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            })
                              , u = this;
                            return this.data = i.map(e, function(e, r) {
                                var d = i.find(a, ["key", (r + 1).toString()]).value;
                                return -1 !== c && c < r && (d = i.find(a, ["key", r.toString()]).value),
                                c === r && (d = ""),
                                s.assign(e, {
                                    isCurrent: !0,
                                    dimensionIndex: d,
                                    questions: i.map(e.questions, function(e, a) {
                                        return s.assign(e, {
                                            questionIndex: a + 1,
                                            dimensionIndex: r,
                                            typeDesc: i.find(n, ["key", e.type.toString()]).value + o.get("question"),
                                            status: 0 === r && 0 === a ? l.CURRENT : t.call(u, e),
                                            class: t.call(u, e)
                                        })
                                    }),
                                    questionSize: e.questions.length,
                                    avgScorePercent: "(" + o.get("satisfaction") + (e.avgScorePercent ? parseFloat((e.avgScorePercent / 100).toFixed(2)) : 0) + ")"
                                })
                            }),
                            this.data
                        },
                        getDimension: function(e) {
                            return i.find(this.data, function(n) {
                                return i.some(n.questions, function(n) {
                                    return n.id === e
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n;
                            return i.forEach(this.data, function(a) {
                                i.forEach(a.questions, function(a) {
                                    a.id === e && (n = a)
                                })
                            }),
                            n
                        },
                        getFirstDimension: function() {
                            return this.data[0]
                        },
                        getCurrentQuestion: function() {
                            var e;
                            return i.forEach(this.data, function(n) {
                                i.forEach(n.questions, function(n) {
                                    n.status === l.CURRENT && (e = n)
                                })
                            }),
                            e
                        },
                        selectDimension: function(e) {
                            this.module.store.models.state.data.selectQuestion || (this.data[e].isCurrent = !this.data[e].isCurrent),
                            this.module.store.models.state.data.selectQuestion = !1
                        },
                        selectQuestion: function(e) {
                            var n, a = this.getDimension(e), r = a.questions.findIndex(function(e) {
                                return e.status === l.CURRENT
                            }), o = this, c = this.getQuestionById(e), u = this.module.store.models.state.data;
                            r > -1 && (a.questions[r].status = t.call(this, a.questions[r])),
                            s.assign(c, {
                                class: c.status,
                                status: l.CURRENT
                            }),
                            i.forEach(i.filter(this.data, function(n) {
                                return i.every(n.questions, function(n) {
                                    return n.id !== e
                                })
                            }), function(e) {
                                var n = e.questions.findIndex(function(e) {
                                    return e.status === l.CURRENT
                                });
                                -1 !== n && s.assign(e.questions[n], {
                                    status: t.call(o, e.questions[n])
                                })
                            }),
                            i.forEach(this.data, function(t, l) {
                                i.forEach(t.questions, function(i, o) {
                                    i.id === e && (a = s.assign({}, t),
                                    n = l,
                                    r = o)
                                })
                            }),
                            u.selectQuestion = !0,
                            u.hasPrevious = a.questions[r - 1] || this.data[Number(n) - 1],
                            u.hasNext = a.questions[r + 1] || this.data[Number(n) + 1]
                        },
                        move: function(e) {
                            var n = this.data[e.dimensionIndex]
                              , a = this.store.models.state.data
                              , i = n.questions.findIndex(function(e) {
                                return e.status === l.CURRENT
                            })
                              , s = e.offset
                              , r = n.questions[i + s]
                              , o = e.dimensionIndex;
                            n.questions[i].status = t.call(this.module, n.questions[i]),
                            r ? r.status = l.CURRENT : this.data[Number(o) + s] && (o = Number(o) + s,
                            n = this.data[o] || {},
                            i = s > 0 ? 0 : n.questions.length - 1,
                            r = n.questions[i],
                            r.status = l.CURRENT,
                            n.isCurrent = !0),
                            a.hasPrevious = s > 0 || n.questions[i + s] || this.data[Number(o) + s],
                            a.hasNext = s < 0 || n.questions[i + s] || this.data[Number(o) + s]
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.researchRecord
                      , a = this.models.questions
                      , t = this.models.dimensions
                      , s = this.models.state
                      , r = {};
                    return n.clear(),
                    e.researchRecord && e.researchRecord.researchQuestionary && e.researchRecord.researchQuestionary.dimensions ? (n.set(e.researchRecord),
                    a.init(e.researchRecord.researchQuestionary.dimensions),
                    n.changed()) : (e.researchRecordId ? r.researchRecordId = e.researchRecordId : r = {
                        businessId: e.businessId,
                        researchId: e.researchId,
                        memberId: e.memberId
                    },
                    n.params = r,
                    this.get(n, {
                        loading: !0
                    }).then(function() {
                        var e = n.data.researchQuestionary.type;
                        i.map(n.data.researchQuestionary.dimensions, function(n) {
                            var a = n;
                            a.type = 3 === e || 4 === e
                        }),
                        a.init(t.init(n.data.researchQuestionary.dimensions)),
                        t.changed(),
                        s.init()
                    }, function() {
                        setTimeout(function() {
                            window.close()
                        }, 1500)
                    }))
                },
                selectDimension: function(e) {
                    this.models.dimensions.selectDimension(e.id),
                    this.models.dimensions.changed()
                },
                selectQuestion: function(e) {
                    this.models.dimensions.selectQuestion(e.id),
                    this.models.dimensions.changed(),
                    this.models.state.selectQuestion(this.models.dimensions.getQuestionById(e.id))
                },
                move: function(e) {
                    this.models.dimensions.move(e),
                    this.models.dimensions.changed(),
                    this.models.state.resetCurrentQuestion(),
                    this.models.state.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        t = function(e) {
            return this.store.models.researchRecord.isAnswered(e) ? l.ACTIVE : l.INIT
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="achievement-content">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="title"></div>\n        <div class="achievement-main top-half" data-region="main"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r, l = e.lambda, o = e.escapeExpression;
                return '    <div class="pull-left title" title="' + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '">' + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n            <li class="border right">' + o((r = null != (r = a.memberTitle || (null != n ? n.memberTitle : n)) ? r : a.helperMissing,
                "function" == typeof r ? r.call(null != n ? n : {}, {
                    name: "memberTitle",
                    hash: {},
                    data: i
                }) : r)) + ": " + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.member : s) ? s.fullName : s, n)) + "</li>\n        </ul>\n    </div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '    <div class="preview-content">\n' + (null != (s = a.if.call(null != n ? n : {}, null != n ? n.isMutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(13, i, 0),
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s;
                return null != (s = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return (null != (s = a.if.call(r, null != n ? n.dimensionIndex : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            8: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                    <div class="h3 m-top">\n                        ' + c((r = null != (r = a.dimensionIndex || (null != n ? n.dimensionIndex : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "dimensionIndex",
                    hash: {},
                    data: i
                }) : r)) + "、" + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "\n" + (null != (s = a.if.call(l, null != n ? n.type : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                    </div>\n                    <div style="padding-left:1em 0;">' + (null != (r = null != (r = a.description || (null != n ? n.description : n)) ? r : o,
                s = "function" == typeof r ? r.call(l, {
                    name: "description",
                    hash: {},
                    data: i
                }) : r) ? s : "") + "</div>\n                    <hr/>\n"
            },
            9: function(e, n, a, t, i) {
                var s;
                return '                            <span style="margin-left:10px;color:#0099FF;">' + e.escapeExpression((s = null != (s = a.avgScorePercent || (null != n ? n.avgScorePercent : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "avgScorePercent",
                    hash: {},
                    data: i
                }) : s)) + "</span>\n"
            },
            11: function(e, n, a, t, i) {
                var s;
                return '                    <div class="m-top" data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            13: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {};
                return '            <div class="h3">\n                ' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.name : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.questionIndex : s, n)) + "/" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.questionSize : s, n)) + ")\n" + (null != (s = a.if.call(o, null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.type : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            </div>\n            <div style="padding:1em 0em;">' + (null != (s = r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.description : s, n)) ? s : "") + '</div>\n            <hr/>\n            <div data-dynamic-key="' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n            <div class="text-right m-bottom">\n' + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.hasPrevious : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(o, null != (s = null != n ? n.state : n) ? s.hasNext : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n"
            },
            14: function(e, n, a, t, i) {
                var s;
                return '                    <span style="margin-left:10px;color:#0099FF;">' + e.escapeExpression(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.avgScorePercent : s, n)) + "</span>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border m-right" id="prev-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.dimensionIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            18: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                    <div class="btn white border" id="next-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.dimensionIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            20: function(e, n, a, t, i) {
                var s;
                return '    <ul class="list">' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            21: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <div class="list-title pointer" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                \x3c!-- i.iconfont.icon-type.m-right --\x3e\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.program(24, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(24, i, 0),
                    inverse: e.program(22, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "\n" + (null != (s = a.if.call(l, null != n ? n.type : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(26, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            </div>\n            <div class="min-btn-groups  ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.program(24, i, 0),
                    data: i
                })) ? s : "") + "\">\n                \x3c!--  if(singleMode) --\x3e\n                \x3c!--      .items-pagination.sub-text --\x3e\n                \x3c!--          .up-arrow.text-hover-main-color(id='prev-' + @index) > i.iconfont.icon-arrow-up-circle-full --\x3e\n                \x3c!--          .down-arrow.text-hover-main-color(id='next-' + @index)> i.iconfont.icon-arrow-down-circle-full --\x3e\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(28, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n        </li>\n    "
            },
            22: function(e, n, a, t, i) {
                return ""
            },
            24: function(e, n, a, t, i) {
                return "hidden"
            },
            26: function(e, n, a, t, i) {
                var s;
                return '                    <span style="margin-left:10px;">' + e.escapeExpression((s = null != (s = a.avgScorePercent || (null != n ? n.avgScorePercent : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "avgScorePercent",
                    hash: {},
                    data: i
                }) : s)) + "</span>\n"
            },
            28: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "active", {
                    name: "compare",
                    hash: {},
                    fn: e.program(29, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(31, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(33, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            29: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item active" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            31: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item click ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            33: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "title", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/research-answer/view-main": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/research-answer-batch/view-main"][0].apply(a, arguments)
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/research-activity/research-answer-batch/view-main",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-answer/view-side": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/research-answer-batch/view-side"][0].apply(a, arguments)
    }
    , {
        drizzlejs: "drizzlejs",
        dup: "./app/exam/research-activity/research-answer-batch/view-side",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-answer/view-title": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings");
        a.bindings = {
            researchRecord: !0
        },
        a.dataForTemplate = {
            memberTitle: function(e) {
                var n = ""
                  , a = e.researchRecord.researchQuestionary || {}
                  , s = i.get("exam.research-activity.research-detail.research-personnel")
                  , r = i.get("exam.research-activity.research-detail.assessment-personnel")
                  , l = i.get("exam.research-activity.research-detail.score-personnel")
                  , o = {};
                return o[s] = [1, 2],
                o[r] = [3, 4],
                o[l] = [5],
                n = t.find(Object.keys(o), function(e) {
                    return -1 !== o[e].indexOf(a.type)
                }) || s,
                localStorage.setItem("memberTitleType", a.type),
                n
            }
        },
        a.afterClose = function() {
            localStorage.removeItem("memberTitleType")
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail-batch/index": [function(e, n, a) {
        var t, i, s, r = e("lodash/collection"), l = e("drizzlejs"), o = e("./app/util/maps"), c = e("./app/util/strings"), u = e("./app/exam/exam-websocket"), d = {
            INIT: "init",
            CLICK: "click",
            ACTIVE: "active",
            CURRENT: "current",
            ERROR: "error"
        }, p = {
            init: "",
            click: "click",
            active: "active",
            current: "click",
            error: "wrong"
        };
        a.items = {
            side: "side",
            submit: "submit",
            main: "main",
            switch: "switch",
            head: "head",
            "research-tips": "",
            tips: "",
            "business-list": "business-list",
            "exam/research-activity/research-detail-batch/side": {
                isModule: !0
            },
            "exam/research-activity/research-detail-batch/main": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        init: function(e) {
                            var n = this.module.store.models.dimensions
                              , a = this.module.store.models.questions
                              , t = e
                              , i = n.getFirstDimension()
                              , s = r.reduce(r.map(a.data, function(e) {
                                return e.subs ? e.subs.length : 1
                            }), function(e, n) {
                                return e + n
                            }, 0) * (e.researchRecords.length || 1)
                              , l = a.data.length * (e.researchRecords.length || 1);
                            t.businessList && t.businessList.length > 0 && (t.businessList[0].selected = !0),
                            this.data = {
                                currentDimension: i,
                                totalCount: s,
                                totalCountExcludeSub: l,
                                noAnswerCount: s,
                                noAnswerCountExcludeSub: l,
                                answeredCount: 0,
                                currentQuestion: i.questions[0],
                                isSubmit: !1,
                                hasPrevious: !1,
                                hasNext: a.data.length > 1,
                                isEdit: this.module.renderOptions.isEdit,
                                callback: this.module.renderOptions.callback,
                                extraParams: e.extraParams,
                                isScoreTable: e.isScoreTable,
                                isError: e.isError,
                                businessList: e.businessList,
                                researchRecords: e.researchRecords,
                                batch: e.batch,
                                businessType: e.businessType,
                                businessId: e.businessId
                            }
                        },
                        selectQuestion: function(e) {
                            var n = this.module.store.models.dimensions;
                            l.assign(this.data, {
                                currentQuestion: e,
                                currentDimension: n.getDimension(e.id)
                            })
                        },
                        resetCurrentQuestion: function() {
                            var e, n, a, t = this.module.store.models.dimensions, i = t.getCurrentQuestion();
                            l.assign(this.data, {
                                currentQuestion: i,
                                currentDimension: t.getDimension(i.id)
                            }),
                            r.forEach(t.data, function(t, s) {
                                r.forEach(t.questions, function(r, o) {
                                    r.id === i.id && (e = l.assign({}, t),
                                    n = s,
                                    a = o)
                                })
                            }),
                            this.data.hasPrevious = e.questions[a - 1] || t.data[Number(n) - 1],
                            this.data.hasNext = e.questions[a + 1] || t.data[Number(n) + 1]
                        },
                        calculate: function() {
                            var e = this.module.store.models.answers
                              , n = e.answeredCountTotal()
                              , a = e.answeredCountTotal(!0);
                            l.assign(this.data, {
                                answeredCount: n,
                                noAnswerCount: this.data.totalCount - n,
                                noAnswerCountExcludeSub: this.data.totalCountExcludeSub - a
                            })
                        },
                        isComplete: function() {
                            return this.calculate(),
                            0 === this.data.noAnswerCount
                        },
                        saveSubmit: function(e) {
                            this.data.isSubmit = e
                        },
                        isSubmit: function() {
                            return this.data.isSubmit
                        },
                        markSubmit: function() {
                            this.data.submitSome = !0
                        },
                        submitSome: function() {
                            return this.data.submitSome
                        },
                        findRecord: function(e) {
                            return r.find(this.data.researchRecords, ["businessId", e])
                        }
                    }
                },
                researchRecord: {
                    url: "../exam/research-record/front/research-detail",
                    mixin: {
                        getAnswerRecordsByQuestion: function(e) {
                            var n = this
                              , a = e.id
                              , t = e.subs ? r.map(e.subs, function(e) {
                                return e.id
                            }) : []
                              , i = n.getAnswerRecordsByQuestionId(a);
                            return r.map(t, function(e) {
                                r.map(n.getAnswerRecordsByQuestionId(e) || [], function(e) {
                                    i.push(e)
                                })
                            }),
                            i
                        },
                        getAnswerRecordsByQuestionId: function(e) {
                            var n = this.data.researchQuestionary.researchAnswerRecordMaps;
                            return r.filter(r.map(n, function(n) {
                                return r.find(n.researchAnswerRecords, ["questionId", e])
                            }), function(e) {
                                return e
                            })
                        },
                        getAnswerRecordsByRecordId: function(e) {
                            var n = this.data.researchQuestionary.researchAnswerRecordMaps;
                            return (r.find(n, ["researchRecordId", e]) || {}).researchAnswerRecords
                        },
                        replace: function(e) {
                            this.data.id = e.id
                        }
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            r.forEach(e, function(e) {
                                e.questions && r.forEach(e.questions, function(e, a) {
                                    n.data.push(l.assign(e, {
                                        index: a + 1
                                    }))
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = r.find(this.data, ["id", e])
                              , a = this.module.store.models.researchRecord;
                            return l.assign(n, {
                                answerRecords: a.getAnswerRecordsByQuestion(n),
                                researchRecordId: a.data.id
                            })
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = o.get("question-types-all")
                              , a = o.get("chineseNumber")
                              , t = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            });
                            return this.data = r.map(e, function(e, i) {
                                var s = r.find(a, ["key", (i + 1).toString()]).value;
                                return -1 !== t && t < i && (s = r.find(a, ["key", i.toString()]).value),
                                t === i && (s = ""),
                                l.assign(e, {
                                    isCurrent: !0,
                                    dimensionIndex: s,
                                    questions: r.map(e.questions, function(e, a) {
                                        return l.assign(e, {
                                            questionIndex: a + 1,
                                            dimensionIndex: i,
                                            typeDesc: r.find(n, ["key", e.type.toString()]).value + c.get("question"),
                                            status: 0 === i && 0 === a ? d.CURRENT : d.INIT
                                        })
                                    }),
                                    questionSize: e.questions ? e.questions.length : 0
                                })
                            }),
                            this.data
                        },
                        getDimension: function(e) {
                            return r.find(this.data, function(n) {
                                return r.some(n.questions, function(n) {
                                    return n.id === e
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n;
                            return r.forEach(this.data, function(a) {
                                r.forEach(a.questions, function(a) {
                                    a.id === e && (n = a)
                                })
                            }),
                            n
                        },
                        selectDimension: function(e) {
                            this.module.store.models.state.data.selectQuestion || (this.data[e].isCurrent = !this.data[e].isCurrent),
                            this.module.store.models.state.data.selectQuestion = !1
                        },
                        selectQuestion: function(e) {
                            var n, a, i, s = this, o = this.getQuestionById(e), c = this.module.store.models.state.data;
                            l.assign(o, {
                                class: p[o.status],
                                status: d.CURRENT
                            }),
                            r.forEach(this.data, function(o, c) {
                                r.forEach(o.questions, function(r, u) {
                                    var d = t.call(s, r.id);
                                    r.id === e ? (n = l.assign({}, o),
                                    a = c,
                                    i = u) : l.assign(r, {
                                        status: d,
                                        class: p[d]
                                    })
                                })
                            }),
                            c.selectQuestion = !0,
                            c.hasPrevious = n.questions[i - 1] || this.data[Number(a) - 1],
                            c.hasNext = n.questions[i + 1] || this.data[Number(a) + 1]
                        },
                        updateStatus: function(e, n) {
                            l.assign(this.getQuestionById(e), {
                                status: n
                            })
                        },
                        getFirstDimension: function() {
                            return this.data[0]
                        },
                        getCurrentQuestion: function() {
                            var e;
                            return r.forEach(this.data, function(n) {
                                r.forEach(n.questions, function(n) {
                                    n.status === d.CURRENT && (e = n)
                                })
                            }),
                            e
                        },
                        move: function(e) {
                            var n = this.data[e.dimensionIndex]
                              , a = this.store.models.state.data
                              , i = n.questions.findIndex(function(e) {
                                return e.status === d.CURRENT
                            })
                              , s = e.offset
                              , r = n.questions[i + s]
                              , l = e.dimensionIndex;
                            n.questions[i].status = t.call(this.module, n.questions[i].id),
                            r ? (r.class = p[r.status],
                            r.status = d.CURRENT) : this.data[Number(l) + s] && (l = Number(l) + s,
                            n = this.data[l] || {},
                            i = s > 0 ? 0 : n.questions.length - 1,
                            r = n.questions[i],
                            r.class = p[r.status],
                            r.status = d.CURRENT,
                            n.isCurrent = !0),
                            a.hasPrevious = s > 0 || n.questions[i + s] || this.data[Number(l) + s],
                            a.hasNext = s < 0 || n.questions[i + s] || this.data[Number(l) + s]
                        },
                        checkError: function() {
                            var e = this;
                            r.forEach(this.data, function(n) {
                                r.forEach(n.questions, function(n) {
                                    var a = n.status
                                      , s = i.call(e, n.id) ? t.call(e, n.id) : d.ERROR;
                                    l.assign(n, {
                                        status: a === d.CURRENT ? d.CURRENT : s,
                                        class: s === d.ERROR && a === d.CURRENT ? p[s] : ""
                                    })
                                })
                            })
                        },
                        updateQuestions: function() {
                            var e = this;
                            r.forEach(this.data, function(n) {
                                r.forEach(n.questions, function(n) {
                                    e.updateStatus(n.id, t.call(e, n.id)),
                                    l.assign(n, {
                                        class: p[n.status]
                                    })
                                })
                            })
                        }
                    }
                },
                answer: {
                    data: [],
                    mixin: {
                        init: function() {
                            var e = this
                              , n = this.store.models.researchRecord
                              , a = this.store.models.questions
                              , t = n.getAnswerRecordsByRecordId(n.data.id) || []
                              , i = r.map(t, function(e) {
                                var n = e.answer || ""
                                  , a = n.split(",")
                                  , t = r.map(a, function(e) {
                                    return {
                                        value: e
                                    }
                                });
                                return {
                                    key: e.questionId,
                                    value: t
                                }
                            });
                            this.data = r.map(a.data, function(n) {
                                var a = e.getQuestionAnswer(i, n);
                                return 9 === n.type && n.subs && (a = r.flatMap(r.map(n.subs, function(n) {
                                    return {
                                        key: n.id,
                                        value: e.getQuestionAnswer(i, n)
                                    }
                                }), function(e) {
                                    return e
                                })),
                                {
                                    key: n.id,
                                    type: n.type,
                                    value: a
                                }
                            })
                        },
                        getQuestionAnswer: function(e, n) {
                            var a = r.find(e, ["key", n.id]) || {}
                              , t = a.value
                              , i = n.questionAttrs || [{}];
                            return r.map(t, function(e) {
                                var n = e
                                  , a = n.value
                                  , t = r.find(i, ["name", a]) || i[0];
                                return n.score = t.score,
                                n.id = t.id,
                                n
                            })
                        },
                        saveAnswer: function(e) {
                            var n = r.reject(this.data, ["key", e.key]);
                            n.push(e),
                            this.data = n
                        },
                        getAnswer: function(e) {
                            return this.data ? r.find(this.data, ["key", e]) : null
                        },
                        answeredCount: function(e) {
                            var n = this;
                            return r.reduce(r.map(this.data, function(a) {
                                return e ? n.singAnswerCountExcludeSub(a) : n.singAnswerCount(a)
                            }), function(e, n) {
                                return e + n
                            }, 0)
                        },
                        getData: function() {
                            var e = this
                              , n = [];
                            return r.map(e.store.models.questions.data, function(a) {
                                var t = {};
                                if (a.type && 9 === a.type)
                                    return r.map(a.subs, function(i) {
                                        var s = r.find(e.data, ["key", a.id]) || {};
                                        t = r.find(s.value || [], ["key", i.id]) || {},
                                        n.push(e.packAnswerRecord(i.id, t))
                                    }),
                                    void n.push(e.packAnswerRecord(a.id, {}));
                                n.push(e.packAnswerRecord(a.id, r.find(e.data, ["key", a.id]) || {}))
                            }),
                            {
                                researchAnswerRecords: JSON.stringify(n)
                            }
                        },
                        checkError: function() {
                            var e = this
                              , n = !0;
                            return r.map(e.store.models.questions.data, function(a) {
                                var t = r.find(e.data, ["key", a.id]) || {}
                                  , i = t.value || [];
                                a.minChoice && a.minChoice > i.length && (n = !1)
                            }),
                            n
                        },
                        packAnswerRecord: function(e, n) {
                            return {
                                questionId: e,
                                answer: n.value ? r.map(n.value, "value").join(",") : "",
                                researchRecordId: this.store.models.researchRecord.data.id,
                                remark: n.remark
                            }
                        },
                        isAnswered: function(e) {
                            var n = r.find(this.data, ["key", e]) || {
                                value: []
                            };
                            return n.type && 9 === Number(n.type) ? r.reduce(r.map(n.value, function(e) {
                                return l.isArray(e.value) ? e.value.length > 0 && r.every(e.value, function(e) {
                                    return "" !== e.value
                                }) : "" !== e.value
                            }), function(e, n) {
                                return e && n
                            }) : n.value.length > 0 && r.every(n.value, function(e) {
                                return "" !== e.value
                            })
                        },
                        checkSingleError: function(e) {
                            var n = r.find(this.data, ["key", e]) || {
                                value: []
                            }
                              , a = n.value || []
                              , t = this.store.models.dimensions.getQuestionById(e);
                            return !(t.minChoice && t.minChoice > a.length)
                        },
                        answerCountByQuestionId: function(e) {
                            var n = r.find(this.data, ["key", e]) || {
                                value: []
                            };
                            return this.singAnswerCount(n)
                        },
                        singAnswerCount: function(e) {
                            var n;
                            return e.type && 9 === Number(e.type) ? r.reduce(r.map(e.value, function(e) {
                                var n = "" !== e.value ? 1 : 0;
                                return l.isArray(e.value) ? e.value.length > 0 && r.filter(e.value, function(e) {
                                    return "" !== e.value
                                }).length : n
                            }), function(e, n) {
                                return e + n
                            }, 0) : (n = e.value.length > 0 && r.every(e.value, function(e) {
                                return "" !== e.value
                            }),
                            n ? 1 : 0)
                        },
                        singAnswerCountExcludeSub: function(e) {
                            var n;
                            return e.type && 9 === Number(e.type) ? r.some(e.value, function(e) {
                                return "" !== e.value && r.some(e.value || [], function(e) {
                                    return "" !== e.value
                                })
                            }) ? 1 : 0 : (n = e.value.length > 0 && r.every(e.value, function(e) {
                                return "" !== e.value
                            }),
                            n ? 1 : 0)
                        },
                        isFinish: function() {
                            var e = this
                              , n = this.store.models.researchRecord.data.researchQuestionary || {}
                              , a = {
                                4: [],
                                5: [5]
                            }
                              , t = this.store.models.questions
                              , i = !0;
                            return r.forEach(t.data, function(n) {
                                var a = e.answerCountByQuestionId(n.id)
                                  , t = n.subs || []
                                  , i = n.type && 9 === Number(n.type) ? a === t.length : a > 0;
                                l.assign(n, {
                                    isFinish: i
                                })
                            }),
                            a[n.type] && (i = r.reduce(r.map(t.data, function(e) {
                                return (a[n.type] || []).indexOf(e.type) > -1 || e.isFinish
                            }), function(e, n) {
                                return e && n
                            })),
                            i
                        },
                        load: function(e) {
                            this.data = e
                        }
                    }
                },
                answers: {
                    data: [],
                    mixin: {
                        saveAnswer: function(e, n) {
                            var a = r.find(this.data, {
                                researchRecordId: e
                            });
                            a ? l.assign(a, {
                                researchRecordId: e,
                                answer: n
                            }) : this.data.push(l.assign({}, {
                                researchRecordId: e,
                                answer: n
                            }))
                        },
                        getAnswer: function(e) {
                            var n = r.find(this.data, {
                                researchRecordId: e
                            });
                            return n && n.answer || []
                        },
                        answeredCountTotal: function(e) {
                            var n = this;
                            return r.reduce(r.map(this.data, function(a) {
                                return n.answeredCount(e, a.answer)
                            }), function(e, n) {
                                return e + n
                            }, 0)
                        },
                        answeredCount: function(e, n) {
                            var a = this;
                            return r.reduce(r.map(n, function(n) {
                                return e ? a.singAnswerCountExcludeSub(n) : a.singAnswerCount(n)
                            }), function(e, n) {
                                return e + n
                            }, 0)
                        },
                        singAnswerCount: function(e) {
                            var n;
                            return e.type && 9 === Number(e.type) ? r.reduce(r.map(e.value, function(e) {
                                var n = "" !== e.value ? 1 : 0;
                                return l.isArray(e.value) ? e.value.length > 0 && r.filter(e.value, function(e) {
                                    return "" !== e.value
                                }).length : n
                            }), function(e, n) {
                                return e + n
                            }, 0) : (n = e.value.length > 0 && r.every(e.value, function(e) {
                                return "" !== e.value
                            }),
                            n ? 1 : 0)
                        },
                        singAnswerCountExcludeSub: function(e) {
                            var n;
                            return e.type && 9 === Number(e.type) ? r.some(e.value, function(e) {
                                return "" !== e.value && r.some(e.value || [], function(e) {
                                    return "" !== e.value
                                })
                            }) ? 1 : 0 : (n = e.value.length > 0 && r.every(e.value, function(e) {
                                return "" !== e.value
                            }),
                            n ? 1 : 0)
                        },
                        isFinish: function() {
                            var e = this
                              , n = this.store.models.researchRecord.data.researchQuestionary || {}
                              , a = {
                                4: [],
                                5: [5]
                            }
                              , t = this.store.models.questions
                              , i = !0;
                            return r.forEach(t.data, function(n) {
                                var a = e.answerCountByQuestionId(n.id)
                                  , t = n.subs || []
                                  , i = n.type && 9 === Number(n.type) ? a === t.length : a > 0;
                                l.assign(n, {
                                    isFinish: i
                                })
                            }),
                            a[n.type] && (i = r.reduce(r.map(t.data, function(e) {
                                return (a[n.type] || []).indexOf(e.type) > -1 || e.isFinish
                            }), function(e, n) {
                                return e && n
                            })),
                            i
                        },
                        getData: function() {
                            var e = this
                              , n = [];
                            return r.map(this.data, function(a) {
                                r.map(e.store.models.questions.data, function(t) {
                                    var i = {};
                                    if (t.type && 9 === t.type)
                                        return r.map(t.subs, function(s) {
                                            var o = {}
                                              , c = r.find(a.answer, ["key", t.id]) || {};
                                            i = r.find(c.value || [], ["key", s.id]) || {},
                                            o = e.packAnswerRecord(s.id, i, a.researchRecordId),
                                            n.push(l.assign(o, {
                                                parentQuestionId: t.id
                                            }))
                                        }),
                                        void n.push(l.assign(e.packAnswerRecord(t.id, {}), {
                                            parentQuestionId: t.id
                                        }));
                                    n.push(e.packAnswerRecord(t.id, r.find(a.answer, ["key", t.id]) || {}, a.researchRecordId))
                                })
                            }),
                            {
                                researchAnswerRecords: JSON.stringify(n)
                            }
                        },
                        packAnswerRecord: function(e, n, a) {
                            var t, i;
                            return n.value && localStorage.researchRecord && (i = n.value[0] && n.value[0].id,
                            t = JSON.parse(localStorage.researchRecord)[a][i]),
                            {
                                questionId: e,
                                answer: n.value ? r.map(n.value, "value").join(",") : "",
                                researchRecordId: a,
                                remark: t || n.remark
                            }
                        }
                    }
                },
                form: {
                    url: "../exam/research-answer-record/front/submit"
                },
                formBatch: {
                    url: "../exam/research-answer-record/front/batch-submit"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.researchRecord
                      , a = this;
                    return e.researchRecord ? (n.set(e.researchRecord),
                    a.module.dispatch("initData", e)) : (n.params = {
                        researchQuestionaryId: e.researchQuestionaryId,
                        businessId: e.businessId
                    },
                    e.batch && e.businessList && e.businessList[0] && e.businessList[0].id && (n.params.businessId = e.businessList[0].id),
                    this.get(n, {
                        loading: !0
                    }).then(function() {
                        a.module.dispatch("initData", e)
                    }, function() {
                        a.module.dispatch("errorInit"),
                        s.call(a)
                    }))
                },
                initData: function(e) {
                    var n = this.models.questions
                      , a = this.models.dimensions
                      , t = this.models.state
                      , i = this.models.researchRecord
                      , s = i.data
                      , r = s.researchQuestionary || {}
                      , l = [1, 2, 4, 5];
                    if (1 === r.type && l.indexOf(r.status) > -1)
                        return void this.app.viewport.modal(this.module.items["research-tips"]);
                    n.init(a.init(i.data.researchQuestionary.dimensions)),
                    t.init({
                        extraParams: e.extraParams || {},
                        isScoreTable: 5 === r.type,
                        isError: !1,
                        businessList: e.businessList || [],
                        batch: e.batch,
                        researchRecords: e.researchRecords || [],
                        businessType: e.businessType,
                        businessId: e.businessId
                    }),
                    n.changed()
                },
                saveResearchDetail: function() {
                    var e = this
                      , n = this.models.researchRecord
                      , a = this.models.state
                      , t = a.data.callback
                      , i = this.models.form;
                    return this.models.form.set(l.assign({}, this.models.answer.getData(), {
                        researchQuestionaryId: n.data.researchQuestionaryId,
                        businessId: n.data.businessId
                    })),
                    a.data.isEdit && (this.models.form.data.id = n.data.id),
                    this.save(i, {
                        loading: !0
                    }).then(function() {
                        t && t(i.data),
                        e.app.message.success(c.get("submit-success")),
                        e.app.viewport.modal(e.module.items.tips, {
                            callback: function() {
                                e.app.viewport.closeGround()
                            }
                        })
                    })
                },
                saveResearchDetailBatch: function() {
                    var e = this
                      , n = this.models.researchRecord
                      , a = this.models.state
                      , t = a.data.callback
                      , i = this.models.formBatch;
                    return this.models.formBatch.set(l.assign({}, this.models.answers.getData(), {
                        researchQuestionaryId: n.data.researchQuestionaryId
                    })),
                    this.save(i, {
                        loading: !0
                    }).then(function() {
                        t && t(i.data),
                        e.app.message.success(c.get("submit-success")),
                        e.app.viewport.modal(e.module.items.tips, {
                            callback: function() {
                                e.app.viewport.closeGround()
                            }
                        }),
                        localStorage.removeItem("other"),
                        localStorage.removeItem("researchRecord")
                    })
                },
                selectDimension: function(e) {
                    this.models.dimensions.selectDimension(e.id),
                    this.models.dimensions.changed()
                },
                selectQuestion: function(e) {
                    this.models.dimensions.selectQuestion(e.id),
                    this.models.dimensions.changed(),
                    this.models.state.selectQuestion(this.models.dimensions.getQuestionById(e.id)),
                    this.models.state.changed()
                },
                saveAnswer: function(e) {
                    this.models.answer.saveAnswer(e),
                    this.models.state.calculate(),
                    this.models.dimensions.updateStatus(e.key, t.call(this.module, e.key)),
                    this.models.dimensions.changed(),
                    this.module.dispatch("selectQuestion", {
                        id: e.key
                    })
                },
                move: function(e) {
                    this.models.dimensions.move(e),
                    this.models.dimensions.changed(),
                    this.models.state.resetCurrentQuestion(),
                    this.models.state.changed()
                },
                websocketConnect: function() {
                    var e = this.models.researchRecord.data
                      , n = e.researchQuestionary
                      , a = this
                      , t = function() {
                        a.app.message.alert(c.get("exam.research-activity.research-detail.research-canceled"), function() {
                            window.close()
                        })
                    };
                    return u.connect(n.id, {
                        researchCancel: t
                    }),
                    !0
                },
                calculate: function() {
                    this.models.state.calculate()
                },
                errorInit: function() {
                    this.models.state.data.isError = !0
                },
                checkError: function() {
                    this.models.dimensions.checkError(),
                    this.models.dimensions.changed()
                },
                loadRecord: function(e) {
                    var n = this
                      , a = n.models.researchRecord
                      , t = n.models.state
                      , i = n.models.answer
                      , s = n.models.answers
                      , r = this.models.dimensions;
                    s.saveAnswer(a.data.id, i.data),
                    a.replace(t.findRecord(e.businessId)),
                    i.clear(),
                    i.load(s.getAnswer(a.data.id)),
                    t.calculate(),
                    r.updateQuestions(),
                    a.changed(),
                    i.changed(),
                    t.changed(),
                    r.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.afterRender = function() {
            return this.dispatch("websocketConnect")
        }
        ,
        t = function(e) {
            var n = this.store.models.answer.isAnswered(e)
              , a = this.store.models.answer.checkSingleError(e);
            return this.store.models.state.submitSome() && !a ? d.ERROR : n ? d.ACTIVE : d.INIT
        }
        ,
        i = function(e) {
            return this.store.models.answer.checkSingleError(e)
        }
        ,
        s = function() {
            setTimeout(function() {
                window.opener ? window.close() : window.setlocationHref("#/activity/index")
            }, 3e3)
        }
    }
    , {
        "./app/exam/exam-websocket": "./app/exam/exam-websocket",
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail-batch/main/index": [function(e, n, a) {
        var t, i, s = e("lodash/collection"), r = e("drizzlejs"), l = e("./app/util/maps"), o = e("./app/util/strings"), c = {
            INIT: "init",
            CLICK: "click",
            ACTIVE: "active",
            CURRENT: "current",
            ERROR: "error"
        }, u = {
            init: "",
            click: "click",
            active: "active",
            current: "click",
            error: "wrong"
        };
        a.items = {
            main: "main"
        },
        a.store = {
            models: {
                dimensions: {
                    mixin: {
                        initBefore: function(e) {
                            this.data = e
                        },
                        init: function(e) {
                            var n = l.get("question-types-all")
                              , a = l.get("chineseNumber")
                              , t = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            });
                            return this.data = s.map(e, function(e, i) {
                                var l = s.find(a, ["key", (i + 1).toString()]).value;
                                return -1 !== t && t < i && (l = s.find(a, ["key", i.toString()]).value),
                                t === i && (l = ""),
                                r.assign(e, {
                                    isCurrent: !0,
                                    dimensionIndex: l,
                                    questions: s.map(e.questions, function(e, a) {
                                        return r.assign(e, {
                                            questionIndex: a + 1,
                                            dimensionIndex: i,
                                            typeDesc: s.find(n, ["key", e.type.toString()]).value + o.get("question"),
                                            status: 0 === i && 0 === a ? c.CURRENT : c.INIT
                                        })
                                    }),
                                    questionSize: e.questions ? e.questions.length : 0
                                })
                            }),
                            this.data
                        },
                        getDimension: function(e) {
                            return s.find(this.data, function(n) {
                                return s.some(n.questions, function(n) {
                                    return n.id === e
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n;
                            return s.forEach(this.data, function(a) {
                                s.forEach(a.questions, function(a) {
                                    a.id === e && (n = a)
                                })
                            }),
                            n
                        },
                        selectDimension: function(e) {
                            this.module.store.models.state.data.selectQuestion || (this.data[e].isCurrent = !this.data[e].isCurrent),
                            this.module.store.models.state.data.selectQuestion = !1
                        },
                        selectQuestion: function(e) {
                            var n, a, i, l = this, o = this.getQuestionById(e), d = this.module.store.models.state.data;
                            r.assign(o, {
                                class: u[o.status],
                                status: c.CURRENT
                            }),
                            s.forEach(this.data, function(o, c) {
                                s.forEach(o.questions, function(s, d) {
                                    var p = t.call(l, s.id);
                                    s.id === e ? (n = r.assign({}, o),
                                    a = c,
                                    i = d) : r.assign(s, {
                                        status: p,
                                        class: u[p]
                                    })
                                })
                            }),
                            d.selectQuestion = !0,
                            d.hasPrevious = n.questions[i - 1] || this.data[Number(a) - 1],
                            d.hasNext = n.questions[i + 1] || this.data[Number(a) + 1]
                        },
                        updateStatus: function(e, n) {
                            r.assign(this.getQuestionById(e), {
                                status: n
                            })
                        },
                        getFirstDimension: function() {
                            return this.data[0]
                        },
                        getCurrentQuestion: function() {
                            var e;
                            return s.forEach(this.data, function(n) {
                                s.forEach(n.questions, function(n) {
                                    n.status === c.CURRENT && (e = n)
                                })
                            }),
                            e
                        },
                        move: function(e) {
                            var n = this.data[e.dimensionIndex]
                              , a = this.store.models.state.data
                              , i = n.questions.findIndex(function(e) {
                                return e.status === c.CURRENT
                            })
                              , s = e.offset
                              , r = n.questions[i + s]
                              , l = e.dimensionIndex;
                            n.questions[i].status = t.call(this.module, n.questions[i].id),
                            r ? (r.class = u[r.status],
                            r.status = c.CURRENT) : this.data[Number(l) + s] && (l = Number(l) + s,
                            n = this.data[l] || {},
                            i = s > 0 ? 0 : n.questions.length - 1,
                            r = n.questions[i],
                            r.class = u[r.status],
                            r.status = c.CURRENT,
                            n.isCurrent = !0),
                            a.hasPrevious = s > 0 || n.questions[i + s] || this.data[Number(l) + s],
                            a.hasNext = s < 0 || n.questions[i + s] || this.data[Number(l) + s]
                        },
                        checkError: function() {
                            var e = this;
                            s.forEach(this.data, function(n) {
                                s.forEach(n.questions, function(n) {
                                    var a = n.status
                                      , s = i.call(e, n.id) ? t.call(e, n.id) : c.ERROR;
                                    r.assign(n, {
                                        status: a === c.CURRENT ? c.CURRENT : s,
                                        class: s === c.ERROR && a === c.CURRENT ? u[s] : ""
                                    })
                                })
                            })
                        }
                    }
                },
                researchRecord: {
                    mixin: {
                        initBefore: function(e) {
                            this.data = e
                        },
                        getAnswerRecordsByQuestion: function(e) {
                            var n = this
                              , a = e.id
                              , t = e.subs ? s.map(e.subs, function(e) {
                                return e.id
                            }) : []
                              , i = n.getAnswerRecordsByQuestionId(a);
                            return s.map(t, function(e) {
                                s.map(n.getAnswerRecordsByQuestionId(e) || [], function(e) {
                                    i.push(e)
                                })
                            }),
                            i
                        },
                        getAnswerRecordsByQuestionId: function(e) {
                            var n = this.data.researchQuestionary.researchAnswerRecordMaps;
                            return s.filter(s.map(n, function(n) {
                                return s.find(n.researchAnswerRecords, ["questionId", e])
                            }), function(e) {
                                return e
                            })
                        },
                        getAnswerRecordsByRecordId: function(e) {
                            var n = this.data.researchQuestionary.researchAnswerRecordMaps;
                            return (s.find(n, ["researchRecordId", e]) || {}).researchAnswerRecords
                        },
                        replace: function(e) {
                            this.data.id = e.id
                        }
                    }
                },
                state: {
                    mixin: {
                        initBefore: function(e) {
                            this.data = e
                        },
                        init: function() {
                            var e = this.module.store.models.dimensions
                              , n = this.module.store.models.questions
                              , a = e.getFirstDimension()
                              , t = s.reduce(s.map(n.data, function(e) {
                                return e.subs ? e.subs.length : 1
                            }), function(e, n) {
                                return e + n
                            }, 0)
                              , i = n.data.length;
                            this.data = {
                                currentDimension: a,
                                totalCount: t,
                                totalCountExcludeSub: i,
                                noAnswerCount: t,
                                noAnswerCountExcludeSub: i,
                                answeredCount: 0,
                                currentQuestion: a.questions[0],
                                isSubmit: !1,
                                hasPrevious: !1,
                                hasNext: n.data.length > 1,
                                isEdit: this.module.renderOptions.isEdit,
                                callback: this.module.renderOptions.callback
                            }
                        },
                        selectQuestion: function(e) {
                            var n = this.module.store.models.dimensions;
                            r.assign(this.data, {
                                currentQuestion: e,
                                currentDimension: n.getDimension(e.id)
                            })
                        },
                        resetCurrentQuestion: function() {
                            var e, n, a, t = this.module.store.models.dimensions, i = t.getCurrentQuestion();
                            r.assign(this.data, {
                                currentQuestion: i
                            }),
                            s.forEach(t.data, function(t, l) {
                                s.forEach(t.questions, function(s, o) {
                                    s.id === i.id && (e = r.assign({}, t),
                                    n = l,
                                    a = o)
                                })
                            }),
                            this.data.hasPrevious = e.questions[a - 1] || t.data[Number(n) - 1],
                            this.data.hasNext = e.questions[a + 1] || t.data[Number(n) + 1]
                        },
                        calculate: function() {
                            var e = this.module.store.models.answer
                              , n = e.answeredCount()
                              , a = e.answeredCount(!0);
                            r.assign(this.data, {
                                answeredCount: n,
                                noAnswerCount: this.data.totalCount - n,
                                noAnswerCountExcludeSub: this.data.totalCountExcludeSub - a
                            })
                        },
                        isComplete: function() {
                            return this.calculate(),
                            0 === this.data.noAnswerCount
                        },
                        saveSubmit: function(e) {
                            this.data.isSubmit = e
                        },
                        isSubmit: function() {
                            return this.data.isSubmit
                        },
                        markSubmit: function() {
                            this.data.submitSome = !0
                        },
                        submitSome: function() {
                            return this.data.submitSome
                        },
                        findRecord: function(e) {
                            return s.find(this.data.researchRecords, ["businessId", e])
                        }
                    }
                },
                answer: {
                    mixin: {
                        initBefore: function(e) {
                            this.data = e
                        },
                        init: function() {
                            var e = this
                              , n = this.store.models.researchRecord
                              , a = this.store.models.questions
                              , t = n.getAnswerRecordsByRecordId(n.data.id) || []
                              , i = s.map(t, function(e) {
                                var n = e.answer || ""
                                  , a = n.split(",")
                                  , t = s.map(a, function(e) {
                                    return {
                                        value: e
                                    }
                                });
                                return {
                                    key: e.questionId,
                                    value: t
                                }
                            });
                            this.data = s.map(a.data, function(n) {
                                var a = e.getQuestionAnswer(i, n);
                                return 9 === n.type && n.subs && (a = s.flatMap(s.map(n.subs, function(n) {
                                    return {
                                        key: n.id,
                                        value: e.getQuestionAnswer(i, n)
                                    }
                                }), function(e) {
                                    return e
                                })),
                                {
                                    key: n.id,
                                    type: n.type,
                                    value: a
                                }
                            })
                        },
                        getQuestionAnswer: function(e, n) {
                            var a = s.find(e, ["key", n.id]) || {}
                              , t = a.value
                              , i = n.questionAttrs || [{}];
                            return s.map(t, function(e) {
                                var n = e
                                  , a = n.value
                                  , t = s.find(i, ["name", a]) || i[0];
                                return n.score = t.score,
                                n.id = t.id,
                                n
                            })
                        },
                        saveAnswer: function(e) {
                            var n = s.reject(this.data, ["key", e.key]);
                            n.push(e),
                            this.data = n
                        },
                        getAnswer: function(e) {
                            return this.data ? s.find(this.data, ["key", e]) : null
                        },
                        answeredCount: function(e) {
                            var n = this;
                            return s.reduce(s.map(this.data, function(a) {
                                return e ? n.singAnswerCountExcludeSub(a) : n.singAnswerCount(a)
                            }), function(e, n) {
                                return e + n
                            }, 0)
                        },
                        getData: function() {
                            var e = this
                              , n = [];
                            return s.map(e.store.models.questions.data, function(a) {
                                var t = {};
                                if (a.type && 9 === a.type)
                                    return s.map(a.subs, function(i) {
                                        var r = s.find(e.data, ["key", a.id]) || {};
                                        t = s.find(r.value || [], ["key", i.id]) || {},
                                        n.push(e.packAnswerRecord(i.id, t))
                                    }),
                                    void n.push(e.packAnswerRecord(a.id, {}));
                                n.push(e.packAnswerRecord(a.id, s.find(e.data, ["key", a.id]) || {}))
                            }),
                            {
                                researchAnswerRecords: JSON.stringify(n)
                            }
                        },
                        checkError: function() {
                            var e = this
                              , n = !0;
                            return s.map(e.store.models.questions.data, function(a) {
                                var t = s.find(e.data, ["key", a.id]) || {}
                                  , i = t.value || [];
                                a.minChoice && a.minChoice > i.length && (n = !1)
                            }),
                            n
                        },
                        packAnswerRecord: function(e, n) {
                            return {
                                questionId: e,
                                answer: n.value ? s.map(n.value, "value").join(",") : "",
                                score: n.value && n.value.length > 0 ? n.value[0].score : 0,
                                researchRecordId: this.store.models.researchRecord.data.id,
                                remark: n.remark
                            }
                        },
                        isAnswered: function(e) {
                            var n = s.find(this.data, ["key", e]) || {
                                value: []
                            };
                            return n.type && 9 === Number(n.type) ? s.reduce(s.map(n.value, function(e) {
                                return r.isArray(e.value) ? e.value.length > 0 && s.every(e.value, function(e) {
                                    return "" !== e.value
                                }) : "" !== e.value
                            }), function(e, n) {
                                return e && n
                            }) : n.value.length > 0 && s.every(n.value, function(e) {
                                return "" !== e.value
                            })
                        },
                        checkSingleError: function(e) {
                            var n = s.find(this.data, ["key", e]) || {
                                value: []
                            }
                              , a = n.value || []
                              , t = this.store.models.dimensions.getQuestionById(e);
                            return !(t.minChoice && t.minChoice > a.length)
                        },
                        answerCountByQuestionId: function(e) {
                            var n = s.find(this.data, ["key", e]) || {
                                value: []
                            };
                            return this.singAnswerCount(n)
                        },
                        singAnswerCount: function(e) {
                            var n;
                            return e.type && 9 === Number(e.type) ? s.reduce(s.map(e.value, function(e) {
                                var n = "" !== e.value ? 1 : 0;
                                return r.isArray(e.value) ? e.value.length > 0 && s.filter(e.value, function(e) {
                                    return "" !== e.value
                                }).length : n
                            }), function(e, n) {
                                return e + n
                            }, 0) : (n = e.value.length > 0 && s.every(e.value, function(e) {
                                return "" !== e.value
                            }),
                            n ? 1 : 0)
                        },
                        singAnswerCountExcludeSub: function(e) {
                            var n;
                            return e.type && 9 === Number(e.type) ? s.some(e.value, function(e) {
                                return "" !== e.value && s.some(e.value || [], function(e) {
                                    return "" !== e.value
                                })
                            }) ? 1 : 0 : (n = e.value.length > 0 && s.every(e.value, function(e) {
                                return "" !== e.value
                            }),
                            n ? 1 : 0)
                        },
                        isFinish: function() {
                            var e = this
                              , n = this.store.models.researchRecord.data.researchQuestionary || {}
                              , a = {
                                4: [],
                                5: [5]
                            }
                              , t = this.store.models.questions
                              , i = !0;
                            return s.forEach(t.data, function(n) {
                                var a = e.answerCountByQuestionId(n.id)
                                  , t = n.subs || []
                                  , i = n.type && 9 === Number(n.type) ? a === t.length : a > 0;
                                r.assign(n, {
                                    isFinish: i
                                })
                            }),
                            a[n.type] && (i = s.reduce(s.map(t.data, function(e) {
                                return (a[n.type] || []).indexOf(e.type) > -1 || e.isFinish
                            }), function(e, n) {
                                return e && n
                            })),
                            i
                        },
                        load: function(e) {
                            this.data = e
                        }
                    }
                },
                questions: {
                    mixin: {
                        initBefore: function(e) {
                            this.data = e
                        },
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            s.forEach(e, function(e) {
                                e.questions && s.forEach(e.questions, function(e, a) {
                                    n.data.push(r.assign(e, {
                                        index: a + 1
                                    }))
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = s.find(this.data, ["id", e])
                              , a = this.module.store.models.researchRecord;
                            return r.assign(n, {
                                answerRecords: a.getAnswerRecordsByQuestion(n),
                                researchRecordId: a.data.id
                            })
                        }
                    }
                },
                callbacks: {
                    mixin: {
                        initBefore: function(e) {
                            this.data = e
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.dimensions
                      , a = this.models.researchRecord
                      , t = this.models.state
                      , i = this.models.answer
                      , s = this.models.questions
                      , r = this.models.callbacks;
                    n.initBefore(e.dimensions),
                    a.initBefore(e.researchRecord),
                    t.initBefore(e.state),
                    i.initBefore(e.answer),
                    s.initBefore(e.questions),
                    r.initBefore(e.callbacks)
                },
                saveAnswer: function(e) {
                    var n = this.models.callbacks.data;
                    n && n.saveAnswer && n.saveAnswer(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail-batch/main/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != n ? n.isMutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.program(10, i, 0),
                    data: i
                })) ? s : ""
            },
            4: function(e, n, a, t, i) {
                var s;
                return "        <div>" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return "\n" + (null != (s = a.if.call(r, null != n ? n.dimensionIndex : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        "
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="h3 m-bottom m-top">\n                    ' + c((r = null != (r = a.dimensionIndex || (null != n ? n.dimensionIndex : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "dimensionIndex",
                    hash: {},
                    data: i
                }) : r)) + "、" + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '\n                </div>\n                <div style="padding-left:1em;">' + (null != (r = null != (r = a.description || (null != n ? n.description : n)) ? r : o,
                s = "function" == typeof r ? r.call(l, {
                    name: "description",
                    hash: {},
                    data: i
                }) : r) ? s : "") + "</div>\n                <hr/>\n"
            },
            8: function(e, n, a, t, i) {
                var s;
                return '                <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            10: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '        <div class="h3">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.name : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.questionIndex : s, n)) + "/" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.questionSize : s, n)) + ')</div>\n        <div data-dynamic-key="' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/research-detail-batch/main/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/exam/research-question-types");
        a.type = "dynamic",
        a.bindings = {
            researchRecord: !0,
            questions: !1,
            answer: !1,
            dimensions: !0,
            state: !0
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.questions.getQuestionById(e) || {}
              , a = JSON.parse(JSON.stringify(n));
            return a = i.assign({}, a, {
                questionAttrs: t.orderBy(t.map(a.questionAttrs, function(e) {
                    return e.score ? i.assign(e, {
                        score: e.score / 100
                    }) : i.assign(e, {
                        score: 0
                    })
                }), ["name"], ["asc"]),
                score: a.score / 100
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return 4 === this.bindings.researchRecord.data.researchQuestionary.type && 1 === n.type ? "exam/research-activity/question/types/answer/choise-satisfaction" : s.get(n.type, 3)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = [3, 4, 5]
              , a = this.bindings.researchRecord.data.researchQuestionary || {}
              , t = n.indexOf(a.type) > -1 ? 1 : 0
              , s = this;
            return {
                type: e.type,
                data: i.assign(e, {
                    scoreMode: t
                }),
                multiple: 2 === e.type,
                answer: this.bindings.answer.getAnswer(e.id),
                callback: function(e) {
                    return s.module.dispatch("saveAnswer", e)
                }
            }
        }
        ,
        a.dataForTemplate = {
            isMutiple: function(e) {
                return 1 === e.researchRecord.researchQuestionary.answerPaperRule
            }
        },
        a.events = {
            "click prev-*": "prev",
            "click next-*": "next"
        },
        a.handlers = {
            prev: function(e) {
                return this.module.dispatch("move", {
                    dimensionIndex: e,
                    offset: -1
                })
            },
            next: function(e) {
                return this.module.dispatch("move", {
                    dimensionIndex: e,
                    offset: 1
                })
            }
        }
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail-batch/side/index": [function(e, n, a) {
        a.items = {
            side: "side"
        },
        a.store = {
            models: {
                dimensions: {
                    mixin: {
                        init: function(e) {
                            this.data = e
                        }
                    }
                },
                researchRecord: {
                    mixin: {
                        init: function(e) {
                            this.data = e
                        }
                    }
                },
                state: {
                    mixin: {
                        init: function(e) {
                            this.data = e
                        }
                    }
                },
                answer: {
                    mixin: {
                        init: function(e) {
                            this.data = e
                        }
                    }
                },
                callbacks: {
                    mixin: {
                        init: function(e) {
                            this.data = e
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.dimensions
                      , a = this.models.researchRecord
                      , t = this.models.state
                      , i = this.models.answer
                      , s = this.models.callbacks;
                    n.init(e.dimensions),
                    a.init(e.researchRecord),
                    t.init(e.state),
                    i.init(e.answer),
                    s.init(e.callbacks)
                },
                move: function(e) {
                    var n = this.models.callbacks.data;
                    n && n.move && n.move(e)
                },
                selectQuestion: function(e) {
                    var n = this.models.callbacks.data;
                    n && n.selectQuestion && n.selectQuestion(e)
                },
                selectDimension: function(e) {
                    var n = this.models.callbacks.data;
                    n && n.selectDimension && n.selectDimension(e)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {}],
    "./app/exam/research-activity/research-detail-batch/side/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="side"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s;
                return '    <ul class="list">' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            4: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <div class="list-title pointer" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                \x3c!-- i.iconfont.icon-type.m-right --\x3e\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.program(7, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(5, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '\n            </div>\n            <div class="min-btn-groups  ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.program(7, i, 0),
                    data: i
                })) ? s : "") + "\">\n                \x3c!--  if(singleMode) --\x3e\n                \x3c!--      .items-pagination.sub-text --\x3e\n                \x3c!--          .up-arrow.text-hover-main-color(id='prev-' + @index) > i.iconfont.icon-arrow-up-circle-full --\x3e\n                \x3c!--          .down-arrow.text-hover-main-color(id='next-' + @index)> i.iconfont.icon-arrow-down-circle-full --\x3e\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n        </li>\n    "
            },
            5: function(e, n, a, t, i) {
                return ""
            },
            7: function(e, n, a, t, i) {
                return "hidden"
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "error", {
                    name: "compare",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "active", {
                    name: "compare",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            10: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item wrong ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            12: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item active ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            14: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item click ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/research-detail-batch/side/view-side": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/util/helpers");
        a.bindings = {
            dimensions: !0,
            researchRecord: !0,
            state: !1,
            answer: !1
        },
        a.events = {
            "click prev-*": "prev",
            "click next-*": "next",
            "click question-*": "selectQuestion",
            "click list-item-*": "toggleMore"
        },
        a.handlers = {
            prev: function(e, n) {
                return n.preventDefault(),
                this.module.dispatch("move", {
                    id: e,
                    offset: -1
                })
            },
            next: function(e, n) {
                return n.preventDefault(),
                this.module.dispatch("move", {
                    id: e,
                    offset: 1
                })
            },
            selectQuestion: function(e) {
                return this.module.dispatch("selectQuestion", {
                    id: e
                })
            },
            toggleMore: function(e) {
                return this.module.dispatch("selectDimension", {
                    id: e
                })
            }
        },
        a.dataForTemplate = {
            dimensions: function(e) {
                return t.map(e.dimensions, function(n) {
                    return i.assign(n, {
                        singleMode: 2 === e.researchRecord.researchQuestionary.answerPaperRule
                    })
                })
            },
            totalScore: function(e) {
                var n = t.reduce(e.dimensions || [], function(e, n) {
                    return e + (n.totalScore || 0)
                }, 0);
                return s.restoreNumberFixed(n, 100, 2)
            }
        }
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail-batch/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="achievement-content">\n    <div class="achievement-side bg-color">\n        <div data-region="submit"></div>\n        <div data-region="side"></div>\n    </div>\n    <div class="achievement-head" data-region="head"></div>\n    <div class="achievement-main preview-content">\n        <div data-region="business-list"></div>\n        <div data-region="main"></div>\n        <div data-region="switch"></div>\n    </div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.isScoreTable : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.program(6, i, 0),
                    data: i
                })) ? s : ""
            },
            4: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '        <div class="pull-left title" title="' + l(r(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.research-detail.production", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.extraParams : s) ? s.worksName : s, n)) + '</div>\n        <div class="text-right">\n            <ul class="head-info inline-block">\n                <li class="border right">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.research-detail.competitor", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.extraParams : s) ? s.participantsName : s, n)) + "</li>\n            </ul>\n        </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r, l = e.lambda, o = e.escapeExpression, c = null != n ? n : {}, u = a.helperMissing;
                return '        <div class="pull-left title" title="' + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '">' + o((a.string || n && n.string || u).call(c, "exam.research-activity.research-detail.participating-in", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '</div>\n        <div class="text-right">\n            <ul class="head-info inline-block">\n                <li class="border right">' + o((r = null != (r = a.memberTitle || (null != n ? n.memberTitle : n)) ? r : u,
                "function" == typeof r ? r.call(c, {
                    name: "memberTitle",
                    hash: {},
                    data: i
                }) : r)) + ": " + o(l(null != (s = null != (s = null != n ? n.Global : n) ? s.currentUser : s) ? s.fullName : s, n)) + "</li>\n            </ul>\n            \x3c!--  .btn#submit > string('exam.research.research-detail.submit') --\x3e\n        </div>\n"
            },
            8: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.batch : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            9: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.businessList : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            10: function(e, n, a, t, i) {
                return '            <div class="center-invigilate-wrap otabs">\n                <div id="tab-btn"></div>\n            </div>\n'
            },
            12: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.isScoreTable : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.program(16, i, 0),
                    data: i
                })) ? s : ""
            },
            13: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '        <div class="score-table clearfix">\n            <span class="block m-top pull-left">\n                <span class="score-title">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.research-detail.total-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span>\n                <span class="score">' + c((r = null != (r = a.totalScore || (null != n ? n.totalScore : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "totalScore",
                    hash: {},
                    data: i
                }) : r)) + c((a.string || n && n.string || o).call(l, "exam.research-activity.research-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span>\n            </span>\n            <a id="submit" class="btn block m-top submit ' + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.isError : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '">' + c((r = null != (r = a.submitTitle || (null != n ? n.submitTitle : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "submitTitle",
                    hash: {},
                    data: i
                }) : r)) + "</a>\n        </div>\n"
            },
            14: function(e, n, a, t, i) {
                return "disabled"
            },
            16: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {};
                return '        <a id="submit" class="btn block w-half m-top ' + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.isError : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '">' + e.escapeExpression((r = null != (r = a.submitTitle || (null != n ? n.submitTitle : n)) ? r : a.helperMissing,
                "function" == typeof r ? r.call(l, {
                    name: "submitTitle",
                    hash: {},
                    data: i
                }) : r)) + "</a>\n"
            },
            18: function(e, n, a, t, i) {
                return '    <div data-dynamic-key="normal"></div>\n'
            },
            20: function(e, n, a, t, i) {
                var s;
                return null != (s = a.unless.call(null != n ? n : {}, null != n ? n.isMutiple : n, {
                    name: "unless",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            21: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '        <div class="text-right m-bottom">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasPrevious : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasNext : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(24, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n"
            },
            22: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                <div class="btn white border m-right" id="prev-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.dimensionIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            24: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                <div class="btn white border" id="next-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.dimensionIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            26: function(e, n, a, t, i) {
                var s;
                return '    <div class="exam-notes-content">\n        <p>' + e.escapeExpression((s = null != (s = a.submitTitle || (null != n ? n.submitTitle : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "submitTitle",
                    hash: {},
                    data: i
                }) : s)) + "</p>\n    </div>\n"
            },
            28: function(e, n, a, t, i) {
                var s;
                return "    <div>" + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.research : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "head", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "business-list", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "submit", {
                    name: "view",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "switch", {
                    name: "view",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "tips", {
                    name: "view",
                    hash: {},
                    fn: e.program(26, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "research-tips", {
                    name: "view",
                    hash: {},
                    fn: e.program(28, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/research-detail-batch/view-business-list": [function(e, n, a) {
        a.bindings = {
            state: !0
        },
        a.handlers = {
            callback: function(e) {
                var n, a = e, t = a.data.businessList;
                for (n = 0; n < t.length; n++)
                    t[n].selected = !1;
                t[a.index].selected = !0,
                a.view.bindings.state.changed(),
                a.view.module.dispatch("loadRecord", {
                    businessId: a.id
                })
            }
        },
        a.components = [function() {
            return {
                id: "tab-btn",
                name: "otab",
                options: {
                    data: this.bindings.state.data
                }
            }
        }
        ]
    }
    , {}],
    "./app/exam/research-activity/research-detail-batch/view-head": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings");
        a.bindings = {
            researchRecord: !0,
            state: !1
        },
        a.dataForTemplate = {
            memberTitle: function(e) {
                var n = e.researchRecord.researchQuestionary || {}
                  , a = {}
                  , s = i.get("exam.research-activity.research-detail.research-personnel")
                  , r = i.get("exam.research-activity.research-detail.assessment-personnel")
                  , l = i.get("exam.research-activity.research-detail.score-personnel");
                return a[s] = [1, 2],
                a[r] = [3, 4],
                a[l] = [5],
                function() {
                    return t.find(Object.keys(a), function(e) {
                        return -1 !== a[e].indexOf(n.type)
                    }) || i.get("exam.research-activity.research-detail.research-personnel")
                }()
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail-batch/view-main": [function(e, n, a) {
        a.type = "dynamic",
        a.bindings = {
            researchRecord: !0,
            questions: !1,
            answer: !1,
            dimensions: !0,
            state: !0
        },
        a.getEntityModuleName = function() {
            return "exam/research-activity/research-detail-batch/main"
        }
        ,
        a.getEntity = function() {
            var e = this;
            return {
                researchRecord: this.bindings.researchRecord.data,
                questions: this.bindings.questions.data,
                answer: this.bindings.answer.data,
                dimensions: this.bindings.dimensions.data,
                state: this.bindings.state.data,
                callbacks: {
                    saveAnswer: function(n) {
                        e.module.dispatch("saveAnswer", n)
                    }
                }
            }
        }
        ,
        a.dataForEntityModule = function(e) {
            return e
        }
    }
    , {}],
    "./app/exam/research-activity/research-detail-batch/view-research-tips": [function(e, n, a) {
        var t = e("./app/util/helpers")
          , i = e("./app/util/strings");
        a.bindings = {
            researchRecord: !0
        },
        a.dataForTemplate = {
            research: function(e) {
                var n = e.researchRecord
                  , a = n.researchQuestionary
                  , s = a.questionaryDetail
                  , r = Number(a.status);
                return this.options.closeText = i.get("exam.research-activity.research-detail.close"),
                this.options.title = i.get("exam.research.questionary-detail"),
                n.id ? 1 === r || 5 === r ? (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.not-exist")) : 2 === r ? (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.not-begin") + t.dateMinute(a.startTime) + " ~ " + t.dateMinute(a.endTime) + i.get("exam.research-activity.research-detail.research-ing")) : 4 === r && (0 === n.status ? (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.overdue")) : (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.already-involved"))) : (this.options.title = i.get("exam.research-activity.research-detail.reminder"),
                s = i.get("exam.research-activity.research-detail.not-authority")),
                {
                    content: s
                }
            }
        },
        a.events = {
            "click button-*": "doSome"
        },
        a.handlers = {
            doSome: function(e) {
                e.indexOf("answer-next-time") > -1 && this.app.viewport.closeModal()
            }
        },
        a.beforeRender = function() {}
        ,
        a.title = i.get("exam.research.questionary-detail")
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/research-activity/research-detail-batch/view-side": [function(e, n, a) {
        a.type = "dynamic",
        a.bindings = {
            dimensions: !0,
            researchRecord: !0,
            state: !1,
            answer: !1
        },
        a.getEntityModuleName = function() {
            return "exam/research-activity/research-detail-batch/side"
        }
        ,
        a.getEntity = function() {
            var e = this;
            return {
                dimensions: this.bindings.dimensions.data,
                researchRecord: this.bindings.researchRecord.data,
                state: this.bindings.state.data,
                answer: this.bindings.answer.data,
                callbacks: {
                    move: function(n) {
                        e.module.dispatch("move", n)
                    },
                    selectQuestion: function(n) {
                        e.module.dispatch("selectQuestion", n)
                    },
                    selectDimension: function(n) {
                        e.module.dispatch("selectDimension", n)
                    }
                }
            }
        }
        ,
        a.dataForEntityModule = function(e) {
            return e
        }
    }
    , {}],
    "./app/exam/research-activity/research-detail-batch/view-submit": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings")
          , s = e("jquery")
          , r = e("./app/util/helpers");
        a.bindings = {
            dimensions: !1,
            researchRecord: !0,
            state: !1,
            answer: !1,
            answers: !1
        },
        a.events = {
            "click submit": "submit"
        },
        a.handlers = {
            submit: function(e) {
                var n = this
                  , a = this.bindings.state
                  , t = i.get("exam.research.research-detail.confirm-submit")
                  , r = this.app.options.disabledClass
                  , l = this.bindings.answers
                  , o = this.bindings.answer
                  , c = this.bindings.researchRecord;
                return a.markSubmit(),
                !!s(e.target).hasClass(r) || (a.isSubmit() ? (this.app.message.error(i.get("exam.research-activity.research-detail.not-repeat-submit")),
                !0) : (l.saveAnswer(c.data.id, o.data),
                this.module.dispatch("calculate"),
                n.bindings.state.isComplete() ? (this.module.dispatch("checkError"),
                n.bindings.answer.checkError() ? (a.saveSubmit(!0),
                s(e.target).addClass(r),
                n.bindings.state.data.noAnswerCountExcludeSub > 0 && (t = i.get("exam.research-activity.research-detail.your") + i.getWithParams("exam.submit-paper-confirm.no-finish", n.bindings.state.data.noAnswerCountExcludeSub) + "，" + t),
                this.app.message.confirm(t, function() {
                    return n.module.dispatch("saveResearchDetailBatch").then(function() {
                        s(e.target).removeClass(r)
                    }, function() {
                        s(e.target).removeClass(r),
                        a.saveSubmit(!1)
                    })
                }, function() {
                    return s(e.target).removeClass(r),
                    a.saveSubmit(!1),
                    !1
                })) : (s(e.target).removeClass(r),
                this.app.message.error(i.get("exam.research-submit-error")))) : this.app.message.error(i.get("exam.research-activity.research-detail.not-allow-submit"))))
            }
        },
        a.dataForTemplate = {
            submitTitle: function(e) {
                var n = e.researchRecord.researchQuestionary || {}
                  , a = i.get("exam.research.research-detail.submit")
                  , s = i.get("submit")
                  , r = {};
                return r[a] = [1, 2, 3, 4],
                r[s] = [5],
                function() {
                    return t.find(Object.keys(r), function(e) {
                        return -1 !== r[e].indexOf(n.type)
                    }) || i.get("exam.research.research-detail.submit")
                }()
            },
            totalScore: function(e) {
                var n = t.reduce(e.dimensions || [], function(e, n) {
                    return e + (n.totalScore || 0)
                }, 0);
                return r.restoreNumberFixed(n, 100, 2)
            }
        }
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail-batch/view-switch": [function(e, n, a) {
        a.bindings = {
            researchRecord: !1,
            state: !0
        },
        a.dataForTemplate = {
            isMutiple: function(e) {
                return 1 === e.researchRecord.researchQuestionary.answerPaperRule
            }
        },
        a.events = {
            "click prev-*": "prev",
            "click next-*": "next"
        },
        a.handlers = {
            prev: function(e) {
                return this.module.dispatch("move", {
                    dimensionIndex: e,
                    offset: -1
                })
            },
            next: function(e) {
                return this.module.dispatch("move", {
                    dimensionIndex: e,
                    offset: 1
                })
            }
        }
    }
    , {}],
    "./app/exam/research-activity/research-detail-batch/view-tips": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings");
        a.auto = !0,
        a.title = i.get("exam.research-activity.research-detail.reminder"),
        a.bindings = {
            researchRecord: !0,
            state: !1
        },
        a.events = {
            "click show-answer-detail": "showDetail"
        },
        a.handlers = {
            showDetail: function() {}
        },
        a.buttons = function() {
            var e = this;
            return [{
                text: i.get("exam.research-activity.research-detail.detail"),
                fn: function() {
                    var n, a = e.bindings.researchRecord.data, t = e.bindings.state.data;
                    if (n = window.open("#/exam/research-activity/paper/" + a.researchQuestionaryId + "/" + t.businessId + "/" + t.businessType, "_blank"),
                    e.module.renderOptions.opener)
                        return void (n.opener && n.opener.close());
                    e.app.viewport.closeModal().then(function() {
                        e.renderOptions.callback && e.renderOptions.callback()
                    })
                }
            }]
        }
        ,
        a.afterClose = function() {
            if (this.module.renderOptions.opener)
                return void window.close();
            this.app.viewport.closeModal()
        }
        ,
        a.dataForTemplate = {
            submitTitle: function(e) {
                var n = e.researchRecord.researchQuestionary || {}
                  , a = i.get("exam.answer-paper.submit-success")
                  , s = i.get("exam.research-activity.research-detail.mark-success")
                  , r = {};
                return r[a] = [1, 2, 3, 4],
                r[s] = [5],
                function() {
                    return t.find(Object.keys(r), function(e) {
                        return -1 !== r[e].indexOf(n.type)
                    }) || i.get("exam.research-activity.research-detail.submit-success")
                }()
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail/backup-index": [function(e, n, a) {
        var t, i, s, r = e("lodash/collection"), l = e("drizzlejs"), o = e("./app/util/maps"), c = e("./app/util/strings"), u = e("./app/exam/exam-websocket"), d = {
            INIT: "init",
            CLICK: "click",
            ACTIVE: "active",
            CURRENT: "current",
            ERROR: "error"
        }, p = {
            init: "",
            click: "click",
            active: "active",
            current: "click",
            error: "wrong"
        };
        a.items = {
            side: "side",
            submit: "submit",
            main: "main",
            switch: "switch",
            head: "head",
            "research-tips": "",
            tips: ""
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        init: function() {
                            var e = this.module.store.models.dimensions
                              , n = this.module.store.models.questions
                              , a = e.getFirstDimension()
                              , t = r.reduce(r.map(n.data, function(e) {
                                return e.subs ? e.subs.length : 1
                            }), function(e, n) {
                                return e + n
                            }, 0)
                              , i = r.map(r.filter(n.data, function(e) {
                                return 1 === e.required
                            }), function(e) {
                                return e.id
                            })
                              , s = n.data.length;
                            this.data = {
                                requiredIdArr: i,
                                requiredCount: i.length,
                                currentDimension: a,
                                totalCount: t,
                                totalCountExcludeSub: s,
                                noAnswerCount: t,
                                noAnswerCountExcludeSub: s,
                                answeredCount: 0,
                                currentQuestion: a.questions[0],
                                isSubmit: !1,
                                hasPrevious: !1,
                                hasNext: n.data.length > 1,
                                isEdit: this.module.renderOptions.isEdit,
                                callback: this.module.renderOptions.callback
                            }
                        },
                        selectQuestion: function(e) {
                            var n = this.module.store.models.dimensions;
                            l.assign(this.data, {
                                currentQuestion: e,
                                currentDimension: n.getDimension(e.id)
                            })
                        },
                        resetCurrentQuestion: function() {
                            var e, n, a, t = this.module.store.models.dimensions, i = t.getCurrentQuestion();
                            l.assign(this.data, {
                                currentQuestion: i,
                                currentDimension: t.getDimension(i.id)
                            }),
                            r.forEach(t.data, function(t, s) {
                                r.forEach(t.questions, function(r, o) {
                                    r.id === i.id && (e = l.assign({}, t),
                                    n = s,
                                    a = o)
                                })
                            }),
                            this.data.hasPrevious = e.questions[a - 1] || t.data[Number(n) - 1],
                            this.data.hasNext = e.questions[a + 1] || t.data[Number(n) + 1]
                        },
                        calculate: function() {
                            var e = this.module.store.models.answer
                              , n = e.answeredCount()
                              , a = e.answeredCount(!0);
                            l.assign(this.data, {
                                answeredCount: n,
                                noAnswerCount: this.data.totalCount - n,
                                noAnswerCountExcludeSub: this.data.totalCountExcludeSub - a
                            })
                        },
                        isComplete: function() {
                            return this.calculate(),
                            0 === this.data.noAnswerCount
                        },
                        saveSubmit: function(e) {
                            this.data.isSubmit = e
                        },
                        isSubmit: function() {
                            return this.data.isSubmit
                        },
                        markSubmit: function() {
                            this.data.submitSome = !0
                        },
                        submitSome: function() {
                            return this.data.submitSome
                        }
                    }
                },
                researchRecord: {
                    url: "../exam/research-record/front/research-detail",
                    mixin: {
                        getAnswerRecordsByQuestion: function(e) {
                            var n = this
                              , a = e.id
                              , t = e.subs ? r.map(e.subs, function(e) {
                                return e.id
                            }) : []
                              , i = n.getAnswerRecordsByQuestionId(a);
                            return r.map(t, function(e) {
                                r.map(n.getAnswerRecordsByQuestionId(e) || [], function(e) {
                                    i.push(e)
                                })
                            }),
                            i
                        },
                        getAnswerRecordsByQuestionId: function(e) {
                            var n = this.data.researchQuestionary.researchAnswerRecordMaps;
                            return r.filter(r.map(n, function(n) {
                                return r.find(n.researchAnswerRecords, ["questionId", e])
                            }), function(e) {
                                return e
                            })
                        },
                        getAnswerRecordsByRecordId: function(e) {
                            var n = this.data.researchQuestionary.researchAnswerRecordMaps;
                            return (r.find(n, ["researchRecordId", e]) || {}).researchAnswerRecords
                        }
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            r.forEach(e, function(e) {
                                e.questions && r.forEach(e.questions, function(e, a) {
                                    n.data.push(l.assign(e, {
                                        index: a + 1
                                    }))
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = r.find(this.data, ["id", e])
                              , a = this.module.store.models.researchRecord;
                            return l.assign(n, {
                                answerRecords: a.getAnswerRecordsByQuestion(n),
                                researchRecordId: a.data.id
                            })
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = o.get("question-types-all")
                              , a = o.get("chineseNumber")
                              , t = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            });
                            return this.data = r.map(e, function(e, i) {
                                var s = r.find(a, ["key", (i + 1).toString()]).value;
                                return -1 !== t && t < i && (s = r.find(a, ["key", i.toString()]).value),
                                t === i && (s = ""),
                                l.assign(e, {
                                    isCurrent: !0,
                                    dimensionIndex: s,
                                    questions: r.map(e.questions, function(e, a) {
                                        return l.assign(e, {
                                            questionIndex: a + 1,
                                            dimensionIndex: i,
                                            typeDesc: r.find(n, ["key", e.type.toString()]).value + c.get("question"),
                                            status: 0 === i && 0 === a ? d.CURRENT : d.INIT
                                        })
                                    }),
                                    questionSize: e.questions ? e.questions.length : 0
                                })
                            }),
                            this.data
                        },
                        getDimension: function(e) {
                            return r.find(this.data, function(n) {
                                return r.some(n.questions, function(n) {
                                    return n.id === e
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n;
                            return r.forEach(this.data, function(a) {
                                r.forEach(a.questions, function(a) {
                                    a.id === e && (n = a)
                                })
                            }),
                            n
                        },
                        selectDimension: function(e) {
                            this.module.store.models.state.data.selectQuestion || (this.data[e].isCurrent = !this.data[e].isCurrent),
                            this.module.store.models.state.data.selectQuestion = !1
                        },
                        selectQuestion: function(e) {
                            var n, a, i, s = this, o = this.getQuestionById(e.id), c = this.module.store.models.state.data;
                            l.assign(o, {
                                class: e.isActive ? o.class : p[o.status],
                                status: d.CURRENT
                            }),
                            r.forEach(this.data, function(o, c) {
                                r.forEach(o.questions, function(r, u) {
                                    var d = t.call(s, r.id);
                                    r.id === e.id ? (n = l.assign({}, o),
                                    a = c,
                                    i = u) : l.assign(r, {
                                        status: d,
                                        class: p[d]
                                    })
                                })
                            }),
                            c.selectQuestion = !0,
                            c.hasPrevious = n.questions[i - 1] || this.data[Number(a) - 1],
                            c.hasNext = n.questions[i + 1] || this.data[Number(a) + 1]
                        },
                        updateStatus: function(e, n) {
                            l.assign(this.getQuestionById(e), {
                                status: n
                            })
                        },
                        getFirstDimension: function() {
                            return this.data[0]
                        },
                        getCurrentQuestion: function() {
                            var e;
                            return r.forEach(this.data, function(n) {
                                r.forEach(n.questions, function(n) {
                                    n.status === d.CURRENT && (e = n)
                                })
                            }),
                            e
                        },
                        move: function(e) {
                            var n = this.data[e.dimensionIndex]
                              , a = this.store.models.state.data
                              , i = n.questions.findIndex(function(e) {
                                return e.status === d.CURRENT
                            })
                              , s = e.offset
                              , r = n.questions[i + s]
                              , l = e.dimensionIndex;
                            n.questions[i].status = t.call(this.module, n.questions[i].id),
                            r ? (r.class = p[r.status],
                            r.status = d.CURRENT) : this.data[Number(l) + s] && (l = Number(l) + s,
                            n = this.data[l] || {},
                            i = s > 0 ? 0 : n.questions.length - 1,
                            r = n.questions[i],
                            r.class = p[r.status],
                            r.status = d.CURRENT,
                            n.isCurrent = !0),
                            a.hasPrevious = s > 0 || n.questions[i + s] || this.data[Number(l) + s],
                            a.hasNext = s < 0 || n.questions[i + s] || this.data[Number(l) + s]
                        },
                        checkError: function() {
                            var e = this;
                            r.forEach(this.data, function(n) {
                                r.forEach(n.questions, function(n) {
                                    var a = n.status
                                      , s = i.call(e, n.id) ? t.call(e, n.id) : d.ERROR;
                                    l.assign(n, {
                                        status: a === d.CURRENT ? d.CURRENT : s,
                                        class: s === d.ERROR && a === d.CURRENT ? p[s] : ""
                                    })
                                })
                            })
                        }
                    }
                },
                answer: {
                    data: [],
                    mixin: {
                        init: function() {
                            var e = this
                              , n = this.store.models.researchRecord
                              , a = this.store.models.questions
                              , t = n.getAnswerRecordsByRecordId(n.data.id) || []
                              , i = r.map(t, function(e) {
                                var n = e.answer || ""
                                  , a = n.split(",")
                                  , t = r.map(a, function(e) {
                                    return {
                                        value: e
                                    }
                                });
                                return {
                                    key: e.questionId,
                                    value: t
                                }
                            });
                            this.data = r.map(a.data, function(n) {
                                var a = e.getQuestionAnswer(i, n);
                                return 9 === n.type && n.subs && (a = r.flatMap(r.map(n.subs, function(n) {
                                    return {
                                        key: n.id,
                                        value: e.getQuestionAnswer(i, n)
                                    }
                                }), function(e) {
                                    return e
                                })),
                                {
                                    key: n.id,
                                    type: n.type,
                                    value: a
                                }
                            })
                        },
                        getQuestionAnswer: function(e, n) {
                            var a = r.find(e, ["key", n.id]) || {}
                              , t = a.value
                              , i = n.questionAttrs || [{}];
                            return r.map(t, function(e) {
                                var n = e
                                  , a = n.value
                                  , t = r.find(i, ["name", a]) || i[0];
                                return n.score = t.score,
                                n.id = t.id,
                                n
                            })
                        },
                        saveAnswer: function(e) {
                            var n;
                            n = r.reject(this.data, ["key", e.key]),
                            n.push(e),
                            this.data = n
                        },
                        getAnswer: function(e) {
                            return this.data ? r.find(this.data, ["key", e]) : null
                        },
                        answeredCount: function(e) {
                            var n = this;
                            return r.reduce(r.map(this.data, function(a) {
                                return e ? n.singAnswerCountExcludeSub(a) : n.singAnswerCount(a)
                            }), function(e, n) {
                                return e + n
                            }, 0)
                        },
                        getData: function() {
                            var e = this
                              , n = [];
                            return r.map(e.store.models.questions.data, function(a) {
                                var t = {};
                                return a.type && 9 === a.type ? (r.map(a.subs, function(i) {
                                    var s = r.find(e.data, ["key", a.id]) || {};
                                    t = r.find(s.value || [], ["key", i.id]) || {},
                                    n.push(l.assign(e.packAnswerRecord(i.id, t), {
                                        parentQuestionId: a.id
                                    }))
                                }),
                                n.push(l.assign(e.packAnswerRecord(a.id, {}), {
                                    parentQuestionId: a.id
                                }))) : n.push(e.packAnswerRecord(a.id, r.find(e.data, ["key", a.id]) || {}))
                            }),
                            {
                                researchAnswerRecords: JSON.stringify(n)
                            }
                        },
                        checkError: function() {
                            var e = this
                              , n = !0
                              , a = e.store.models.questions.data;
                            return r.map(a, function(a) {
                                var t = r.find(e.data, ["key", a.id]) || {}
                                  , i = t.value || [];
                                a.required && a.minChoice && a.minChoice > i.length ? n = !1 : i.length > 0 && a.minChoice && a.minChoice > i.length && (n = !1)
                            }),
                            n
                        },
                        packAnswerRecord: function(e, n) {
                            var a, t;
                            return n.value && localStorage.other && (t = n.value[0] && n.value[0].id,
                            a = t && JSON.parse(localStorage.other)[t]),
                            {
                                questionId: e,
                                answer: n.value ? r.map(n.value, "value").join(",") : "",
                                researchRecordId: this.store.models.researchRecord.data.id,
                                remark: a || n.remark
                            }
                        },
                        isAnswered: function(e) {
                            var n = r.find(this.data, ["key", e]) || {
                                value: []
                            };
                            return n.type && 9 === Number(n.type) ? r.reduce(r.map(n.value, function(e) {
                                return l.isArray(e.value) ? e.value.length > 0 && r.every(e.value, function(e) {
                                    return "" !== e.value
                                }) : "" !== e.value
                            }), function(e, n) {
                                return e && n
                            }) : n.value.length > 0 && r.every(n.value, function(e) {
                                return "" !== e.value
                            })
                        },
                        checkSingleError: function(e) {
                            var n = r.find(this.data, ["key", e]) || {
                                value: []
                            }
                              , a = n.value || []
                              , t = this.store.models.dimensions.getQuestionById(e);
                            return !(t.required && t.minChoice && t.minChoice > a.length) && !(a.length > 0 && t.minChoice && t.minChoice > a.length)
                        },
                        answerCountByQuestionId: function(e) {
                            var n = r.find(this.data, ["key", e]) || {
                                value: []
                            };
                            return this.singAnswerCount(n)
                        },
                        singAnswerCount: function(e) {
                            var n;
                            return e.type && 9 === Number(e.type) ? r.reduce(r.map(e.value, function(e) {
                                var n = "" !== e.value ? 1 : 0;
                                return l.isArray(e.value) ? e.value.length > 0 && r.filter(e.value, function(e) {
                                    return "" !== e.value
                                }).length : n
                            }), function(e, n) {
                                return e + n
                            }, 0) : (n = e.value.length > 0 && r.every(e.value, function(e) {
                                return "" !== e.value
                            }),
                            n ? 1 : 0)
                        },
                        singAnswerCountExcludeSub: function(e) {
                            var n;
                            return e.type && 9 === Number(e.type) ? r.some(e.value, function(e) {
                                return "" !== e.value && r.some(e.value || [], function(e) {
                                    return "" !== e.value
                                })
                            }) ? 1 : 0 : (n = e.value.length > 0 && r.every(e.value, function(e) {
                                return "" !== e.value
                            }),
                            n ? 1 : 0)
                        },
                        isFinish: function() {
                            var e = this
                              , n = this.store.models.researchRecord.data.researchQuestionary || {}
                              , a = {
                                4: [],
                                5: [5]
                            }
                              , t = this.store.models.questions
                              , i = !0;
                            return r.forEach(t.data, function(n) {
                                var a = e.answerCountByQuestionId(n.id)
                                  , t = n.subs || []
                                  , i = n.type && 9 === Number(n.type) ? a === t.length : a > 0;
                                l.assign(n, {
                                    isFinish: i
                                })
                            }),
                            a[n.type] && (i = r.reduce(r.map(t.data, function(e) {
                                return (a[n.type] || []).indexOf(e.type) > -1 || e.isFinish
                            }), function(e, n) {
                                return e && n
                            })),
                            i
                        }
                    }
                },
                form: {
                    url: "../exam/research-answer-record/front/submit"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.researchRecord
                      , a = this;
                    return e.researchRecord ? (n.set(e.researchRecord),
                    a.module.dispatch("initData", e)) : (n.params = {
                        researchQuestionaryId: e.researchQuestionaryId,
                        businessId: e.businessId
                    },
                    this.get(n, {
                        loading: !0
                    }).then(function() {
                        a.module.dispatch("initData", e)
                    }, function() {
                        a.module.dispatch("errorInit"),
                        s.call(a)
                    }))
                },
                initData: function(e) {
                    var n = this.models.questions
                      , a = this.models.dimensions
                      , t = this.models.state
                      , i = this.models.researchRecord
                      , s = i.data
                      , r = s.researchQuestionary || {}
                      , l = [1, 2, 4, 5];
                    if (1 === r.type && l.indexOf(r.status) > -1)
                        return void this.app.viewport.modal(this.module.items["research-tips"]);
                    n.init(a.init(i.data.researchQuestionary.dimensions)),
                    t.init(),
                    t.data.extraParams = e.extraParams || {},
                    t.data.isScoreTable = 5 === r.type,
                    t.data.isError = !1,
                    n.changed()
                },
                saveResearchDetail: function() {
                    var e = this
                      , n = this.models.researchRecord
                      , a = this.models.state
                      , t = a.data.callback
                      , i = this.models.form;
                    return this.models.form.set(l.assign({}, this.models.answer.getData(), {
                        researchQuestionaryId: n.data.researchQuestionaryId,
                        businessId: n.data.businessId
                    })),
                    a.data.isEdit && (this.models.form.data.id = n.data.id),
                    this.save(i, {
                        loading: !0
                    }).then(function() {
                        t && t(i.data),
                        e.app.message.success(c.get("submit-success")),
                        e.app.viewport.modal(e.module.items.tips, {
                            callback: function() {
                                e.app.viewport.closeGround()
                            }
                        }),
                        localStorage.removeItem("other")
                    })
                },
                selectDimension: function(e) {
                    this.models.dimensions.selectDimension(e.id),
                    this.models.dimensions.changed()
                },
                selectQuestion: function(e) {
                    this.models.dimensions.selectQuestion(e),
                    this.models.dimensions.changed(),
                    e.isReload || (this.models.state.selectQuestion(this.models.dimensions.getQuestionById(e.id)),
                    this.models.state.changed())
                },
                saveAnswer: function(e) {
                    this.models.answer.saveAnswer(e),
                    this.models.state.calculate(),
                    this.models.dimensions.updateStatus(e.key, t.call(this.module, e.key)),
                    this.models.dimensions.changed(),
                    this.module.dispatch("selectQuestion", {
                        id: e.key,
                        isReload: !0
                    })
                },
                move: function(e) {
                    this.models.dimensions.move(e),
                    this.models.dimensions.changed(),
                    this.models.state.resetCurrentQuestion(),
                    this.models.state.changed()
                },
                websocketConnect: function() {
                    var e = this.models.researchRecord.data
                      , n = e.researchQuestionary
                      , a = this
                      , t = function() {
                        a.app.message.alert(c.get("exam.research-activity.research-detail.research-canceled"), function() {
                            window.close()
                        })
                    };
                    return u.connect(n.id, {
                        researchCancel: t
                    }),
                    !0
                },
                calculate: function() {
                    this.models.state.calculate()
                },
                errorInit: function() {
                    this.models.state.data.isError = !0
                },
                checkError: function() {
                    this.models.dimensions.checkError(),
                    this.models.dimensions.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.afterRender = function() {
            return this.dispatch("websocketConnect")
        }
        ,
        t = function(e) {
            var n = this.store.models.answer.isAnswered(e)
              , a = this.store.models.answer.checkSingleError(e);
            return this.store.models.state.submitSome() && !a ? d.ERROR : n ? d.ACTIVE : d.INIT
        }
        ,
        i = function(e) {
            return this.store.models.answer.checkSingleError(e)
        }
        ,
        s = function() {
            setTimeout(function() {
                window.opener ? window.close() : window.setlocationHref("#/activity/index")
            }, 3e3)
        }
    }
    , {
        "./app/exam/exam-websocket": "./app/exam/exam-websocket",
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail/index": [function(e, n, a) {
        var t, i, s, r = e("lodash/collection"), l = e("drizzlejs"), o = e("./app/util/maps"), c = e("./app/util/strings"), u = e("./app/exam/exam-websocket"), d = {
            INIT: "init",
            CLICK: "click",
            ACTIVE: "active",
            CURRENT: "current",
            ERROR: "error"
        }, p = {
            init: "",
            click: "click",
            active: "active",
            current: "click",
            error: "wrong"
        };
        a.items = {
            side: "side",
            submit: "submit",
            main: "main",
            switch: "switch",
            head: "head",
            "research-tips": "",
            tips: ""
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        init: function() {
                            var e = this.module.store.models.dimensions
                              , n = this.module.store.models.questions
                              , a = e.getFirstDimension()
                              , t = r.reduce(r.map(n.data, function(e) {
                                return e.subs ? e.subs.length : 1
                            }), function(e, n) {
                                return e + n
                            }, 0)
                              , i = r.map(r.filter(n.data, function(e) {
                                return 1 === e.required
                            }), function(e) {
                                return e.id
                            })
                              , s = n.data.length;
                            this.data = {
                                requiredIdArr: i,
                                requiredCount: i.length,
                                currentDimension: a,
                                totalCount: t,
                                totalCountExcludeSub: s,
                                noAnswerCount: t,
                                noAnswerCountExcludeSub: s,
                                answeredCount: 0,
                                currentQuestion: a.questions[0],
                                isSubmit: !1,
                                hasPrevious: !1,
                                hasNext: n.data.length > 1,
                                isEdit: this.module.renderOptions.isEdit,
                                callback: this.module.renderOptions.callback
                            }
                        },
                        selectQuestion: function(e) {
                            var n = this.module.store.models.dimensions;
                            l.assign(this.data, {
                                currentQuestion: e,
                                currentDimension: n.getDimension(e.id)
                            })
                        },
                        resetCurrentQuestion: function() {
                            var e, n, a, t = this.module.store.models.dimensions, i = t.getCurrentQuestion();
                            l.assign(this.data, {
                                currentQuestion: i,
                                currentDimension: t.getDimension(i.id)
                            }),
                            r.forEach(t.data, function(t, s) {
                                r.forEach(t.questions, function(r, o) {
                                    r.id === i.id && (e = l.assign({}, t),
                                    n = s,
                                    a = o)
                                })
                            }),
                            this.data.hasPrevious = e.questions[a - 1] || t.data[Number(n) - 1],
                            this.data.hasNext = e.questions[a + 1] || t.data[Number(n) + 1]
                        },
                        calculate: function() {
                            var e = this.module.store.models.answer
                              , n = e.answeredCount()
                              , a = e.answeredCount(!0);
                            l.assign(this.data, {
                                answeredCount: n,
                                noAnswerCount: this.data.totalCount - n,
                                noAnswerCountExcludeSub: this.data.totalCountExcludeSub - a
                            })
                        },
                        isComplete: function() {
                            return this.calculate(),
                            0 === this.data.noAnswerCount
                        },
                        saveSubmit: function(e) {
                            this.data.isSubmit = e
                        },
                        isSubmit: function() {
                            return this.data.isSubmit
                        },
                        markSubmit: function() {
                            this.data.submitSome = !0
                        },
                        submitSome: function() {
                            return this.data.submitSome
                        }
                    }
                },
                researchRecord: {
                    url: "../exam/research-record/front/research-detail",
                    mixin: {
                        getAnswerRecordsByQuestion: function(e) {
                            var n = this
                              , a = e.id
                              , t = e.subs ? r.map(e.subs, function(e) {
                                return e.id
                            }) : []
                              , i = n.getAnswerRecordsByQuestionId(a);
                            return r.map(t, function(e) {
                                r.map(n.getAnswerRecordsByQuestionId(e) || [], function(e) {
                                    i.push(e)
                                })
                            }),
                            i
                        },
                        getAnswerRecordsByQuestionId: function(e) {
                            var n = this.data.researchQuestionary.researchAnswerRecordMaps;
                            return r.filter(r.map(n, function(n) {
                                return r.find(n.researchAnswerRecords, ["questionId", e])
                            }), function(e) {
                                return e
                            })
                        },
                        getAnswerRecordsByRecordId: function(e) {
                            var n = this.data.researchQuestionary.researchAnswerRecordMaps;
                            return (r.find(n, ["researchRecordId", e]) || {}).researchAnswerRecords
                        }
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            r.forEach(e, function(e) {
                                e.questions && r.forEach(e.questions, function(e, a) {
                                    n.data.push(l.assign(e, {
                                        index: a + 1
                                    }))
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = r.find(this.data, ["id", e])
                              , a = this.module.store.models.researchRecord;
                            return l.assign(n, {
                                answerRecords: a.getAnswerRecordsByQuestion(n),
                                researchRecordId: a.data.id
                            })
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = o.get("question-types-all")
                              , a = o.get("chineseNumber")
                              , t = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            });
                            return this.data = r.map(e, function(e, i) {
                                var s = r.find(a, ["key", (i + 1).toString()]).value;
                                return -1 !== t && t < i && (s = r.find(a, ["key", i.toString()]).value),
                                t === i && (s = ""),
                                l.assign(e, {
                                    isCurrent: !0,
                                    dimensionIndex: s,
                                    questions: r.map(e.questions, function(e, a) {
                                        return l.assign(e, {
                                            questionIndex: a + 1,
                                            dimensionIndex: i,
                                            typeDesc: r.find(n, ["key", e.type.toString()]).value + c.get("question"),
                                            status: 0 === i && 0 === a ? d.CURRENT : d.INIT
                                        })
                                    }),
                                    questionSize: e.questions ? e.questions.length : 0
                                })
                            }),
                            this.data
                        },
                        getDimension: function(e) {
                            return r.find(this.data, function(n) {
                                return r.some(n.questions, function(n) {
                                    return n.id === e
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n;
                            return r.forEach(this.data, function(a) {
                                r.forEach(a.questions, function(a) {
                                    a.id === e && (n = a)
                                })
                            }),
                            n
                        },
                        selectDimension: function(e) {
                            this.module.store.models.state.data.selectQuestion || (this.data[e].isCurrent = !this.data[e].isCurrent),
                            this.module.store.models.state.data.selectQuestion = !1
                        },
                        selectQuestion: function(e) {
                            var n, a, i, s = this, o = this.getQuestionById(e.id), c = this.module.store.models.state.data;
                            l.assign(o, {
                                class: e.isActive ? o.class : p[o.status],
                                status: d.CURRENT
                            }),
                            r.forEach(this.data, function(o, c) {
                                r.forEach(o.questions, function(r, u) {
                                    var d = t.call(s, r.id);
                                    r.id === e.id ? (n = l.assign({}, o),
                                    a = c,
                                    i = u) : l.assign(r, {
                                        status: d,
                                        class: p[d]
                                    })
                                })
                            }),
                            c.selectQuestion = !0,
                            c.hasPrevious = n.questions[i - 1] || this.data[Number(a) - 1],
                            c.hasNext = n.questions[i + 1] || this.data[Number(a) + 1]
                        },
                        updateStatus: function(e, n) {
                            l.assign(this.getQuestionById(e), {
                                status: n
                            })
                        },
                        getFirstDimension: function() {
                            return this.data[0]
                        },
                        getCurrentQuestion: function() {
                            var e;
                            return r.forEach(this.data, function(n) {
                                r.forEach(n.questions, function(n) {
                                    n.status === d.CURRENT && (e = n)
                                })
                            }),
                            !e && localStorage.currentQuestion ? e = JSON.parse(localStorage.currentQuestion) : localStorage.currentQuestion = JSON.stringify(e),
                            e
                        },
                        move: function(e) {
                            var n = this.data[e.dimensionIndex]
                              , a = this.store.models.state.data
                              , i = n.questions.findIndex(function(e) {
                                return e.status === d.CURRENT
                            })
                              , s = e.offset
                              , r = n.questions[i + s]
                              , l = this.module.store.models.state.data.currentQuestion
                              , o = e.dimensionIndex;
                            -1 === i && (i = l.index + s,
                            r = n.questions[i - 1]),
                            n.questions[i].status = t.call(this.module, n.questions[i].id),
                            r ? (r.class = p[r.status],
                            r.status = d.CURRENT) : this.data[Number(o) + s] && (o = Number(o) + s,
                            n = this.data[o] || {},
                            i = s > 0 ? 0 : n.questions.length - 1,
                            r = n.questions[i],
                            r.class = p[r.status],
                            r.status = d.CURRENT,
                            n.isCurrent = !0),
                            a.hasPrevious = s > 0 || n.questions[i + s] || this.data[Number(o) + s],
                            a.hasNext = s < 0 || n.questions[i + s] || this.data[Number(o) + s]
                        },
                        checkError: function() {
                            var e = this;
                            r.forEach(this.data, function(n) {
                                r.forEach(n.questions, function(n) {
                                    var a = n.status
                                      , s = i.call(e, n.id) ? t.call(e, n.id) : d.ERROR;
                                    l.assign(n, {
                                        status: a === d.CURRENT ? d.CURRENT : s,
                                        class: s === d.ERROR && a === d.CURRENT ? p[s] : ""
                                    })
                                })
                            })
                        }
                    }
                },
                answer: {
                    data: [],
                    mixin: {
                        init: function() {
                            var e = this
                              , n = this.store.models.researchRecord
                              , a = this.store.models.questions
                              , t = n.getAnswerRecordsByRecordId(n.data.id) || []
                              , i = r.map(t, function(e) {
                                var n = e.answer || ""
                                  , a = n.split(",")
                                  , t = r.map(a, function(e) {
                                    return {
                                        value: e
                                    }
                                });
                                return {
                                    key: e.questionId,
                                    value: t
                                }
                            });
                            this.data = r.map(a.data, function(n) {
                                var a = e.getQuestionAnswer(i, n);
                                return 9 === n.type && n.subs && (a = r.flatMap(r.map(n.subs, function(n) {
                                    return {
                                        key: n.id,
                                        value: e.getQuestionAnswer(i, n)
                                    }
                                }), function(e) {
                                    return e
                                })),
                                {
                                    key: n.id,
                                    type: n.type,
                                    value: a
                                }
                            })
                        },
                        getQuestionAnswer: function(e, n) {
                            var a = r.find(e, ["key", n.id]) || {}
                              , t = a.value
                              , i = n.questionAttrs || [{}];
                            return r.map(t, function(e) {
                                var n = e
                                  , a = n.value
                                  , t = r.find(i, ["name", a]) || i[0];
                                return n.score = t.score,
                                n.id = t.id,
                                n
                            })
                        },
                        saveAnswer: function(e) {
                            var n;
                            n = r.reject(this.data, ["key", e.key]),
                            n.push(e),
                            this.data = n
                        },
                        getAnswer: function(e) {
                            return this.data ? r.find(this.data, ["key", e]) : null
                        },
                        answeredCount: function(e) {
                            var n = this;
                            return r.reduce(r.map(this.data, function(a) {
                                return e ? n.singAnswerCountExcludeSub(a) : n.singAnswerCount(a)
                            }), function(e, n) {
                                return e + n
                            }, 0)
                        },
                        getData: function() {
                            var e = this
                              , n = [];
                            return r.map(e.store.models.questions.data, function(a) {
                                var t = {};
                                return a.type && 9 === a.type ? (r.map(a.subs, function(i) {
                                    var s = r.find(e.data, ["key", a.id]) || {};
                                    t = r.find(s.value || [], ["key", i.id]) || {},
                                    n.push(l.assign(e.packAnswerRecord(i.id, t), {
                                        parentQuestionId: a.id
                                    }))
                                }),
                                n.push(l.assign(e.packAnswerRecord(a.id, {}), {
                                    parentQuestionId: a.id
                                }))) : n.push(e.packAnswerRecord(a.id, r.find(e.data, ["key", a.id]) || {}))
                            }),
                            {
                                researchAnswerRecords: JSON.stringify(n)
                            }
                        },
                        checkError: function() {
                            var e = this
                              , n = !0
                              , a = e.store.models.questions.data;
                            return r.map(a, function(a) {
                                var t = r.find(e.data, ["key", a.id]) || {}
                                  , i = t.value || [];
                                a.required && a.minChoice && a.minChoice > i.length ? n = !1 : i.length > 0 && a.minChoice && a.minChoice > i.length && (n = !1)
                            }),
                            n
                        },
                        packAnswerRecord: function(e, n) {
                            var a, t, i;
                            return n.value && localStorage.other && (i = r.sortBy(n.value || [], function(e) {
                                return -e.value
                            }),
                            t = i[0] && i[0].id,
                            a = t && JSON.parse(localStorage.other)[t]),
                            {
                                questionId: e,
                                answer: n.value ? r.map(n.value, "value").join(",") : "",
                                researchRecordId: this.store.models.researchRecord.data.id,
                                remark: a || n.remark
                            }
                        },
                        isAnswered: function(e) {
                            var n = r.find(this.data, ["key", e]) || {
                                value: []
                            };
                            return n.type && 9 === Number(n.type) ? r.reduce(r.map(n.value, function(e) {
                                return l.isArray(e.value) ? e.value.length > 0 && r.every(e.value, function(e) {
                                    return "" !== e.value
                                }) : "" !== e.value
                            }), function(e, n) {
                                return e && n
                            }) : n.value.length > 0 && r.every(n.value, function(e) {
                                return "" !== e.value
                            })
                        },
                        checkSingleError: function(e) {
                            var n = r.find(this.data, ["key", e]) || {
                                value: []
                            }
                              , a = n.value || []
                              , t = this.store.models.dimensions.getQuestionById(e);
                            return !(t.required && t.minChoice && t.minChoice > a.length) && !(a.length > 0 && t.minChoice && t.minChoice > a.length)
                        },
                        answerCountByQuestionId: function(e) {
                            var n = r.find(this.data, ["key", e]) || {
                                value: []
                            };
                            return this.singAnswerCount(n)
                        },
                        singAnswerCount: function(e) {
                            var n;
                            return e.type && 9 === Number(e.type) ? r.reduce(r.map(e.value, function(e) {
                                var n = "" !== e.value ? 1 : 0;
                                return l.isArray(e.value) ? e.value.length > 0 && r.filter(e.value, function(e) {
                                    return "" !== e.value
                                }).length : n
                            }), function(e, n) {
                                return e + n
                            }, 0) : (n = e.value.length > 0 && r.every(e.value, function(e) {
                                return "" !== e.value
                            }),
                            n ? 1 : 0)
                        },
                        singAnswerCountExcludeSub: function(e) {
                            var n;
                            return e.type && 9 === Number(e.type) ? r.some(e.value, function(e) {
                                return "" !== e.value && r.some(e.value || [], function(e) {
                                    return "" !== e.value
                                })
                            }) ? 1 : 0 : (n = e.value.length > 0 && r.every(e.value, function(e) {
                                return "" !== e.value
                            }),
                            n ? 1 : 0)
                        },
                        isFinish: function() {
                            var e = this
                              , n = this.store.models.researchRecord.data.researchQuestionary || {}
                              , a = {
                                4: [],
                                5: [5]
                            }
                              , t = this.store.models.questions
                              , i = !0;
                            return r.forEach(t.data, function(n) {
                                var a = e.answerCountByQuestionId(n.id)
                                  , t = n.subs || []
                                  , i = n.type && 9 === Number(n.type) ? a === t.length : a > 0;
                                l.assign(n, {
                                    isFinish: i
                                })
                            }),
                            a[n.type] && (i = r.reduce(r.map(t.data, function(e) {
                                return (a[n.type] || []).indexOf(e.type) > -1 || e.isFinish
                            }), function(e, n) {
                                return e && n
                            })),
                            i
                        }
                    }
                },
                form: {
                    url: "../exam/research-answer-record/front/submit"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.researchRecord
                      , a = this;
                    return e.researchRecord ? (n.set(e.researchRecord),
                    a.module.dispatch("initData", e)) : (n.params = {
                        researchQuestionaryId: e.researchQuestionaryId,
                        businessId: e.businessId
                    },
                    this.get(n, {
                        loading: !0
                    }).then(function() {
                        a.module.dispatch("initData", e)
                    }, function() {
                        a.module.dispatch("errorInit"),
                        s.call(a)
                    }))
                },
                initData: function(e) {
                    var n = this.models.questions
                      , a = this.models.dimensions
                      , t = this.models.state
                      , i = this.models.researchRecord
                      , s = i.data
                      , r = s.researchQuestionary || {}
                      , l = [1, 2, 4, 5];
                    if (1 === r.type && l.indexOf(r.status) > -1)
                        return void this.app.viewport.modal(this.module.items["research-tips"]);
                    n.init(a.init(i.data.researchQuestionary.dimensions)),
                    t.init(),
                    t.data.extraParams = e.extraParams || {},
                    t.data.isScoreTable = 5 === r.type,
                    t.data.isError = !1,
                    n.changed()
                },
                saveResearchDetail: function() {
                    var e = this
                      , n = this.models.researchRecord
                      , a = this.models.state
                      , t = a.data.callback
                      , i = this.models.form;
                    return this.models.form.set(l.assign({}, this.models.answer.getData(), {
                        researchQuestionaryId: n.data.researchQuestionary.id,
                        businessId: n.data.businessId
                    })),
                    a.data.isEdit && (this.models.form.data.id = n.data.id),
                    this.save(i, {
                        loading: !0
                    }).then(function() {
                        t && t(i.data),
                        e.app.message.success(c.get("submit-success")),
                        e.app.viewport.modal(e.module.items.tips, {
                            callback: function() {
                                e.app.viewport.closeGround()
                            }
                        }),
                        localStorage.removeItem("other")
                    })
                },
                selectDimension: function(e) {
                    this.models.dimensions.selectDimension(e.id),
                    this.models.dimensions.changed()
                },
                selectQuestion: function(e) {
                    this.models.dimensions.selectQuestion(e),
                    this.models.dimensions.changed(),
                    e.isReload || (this.models.state.selectQuestion(this.models.dimensions.getQuestionById(e.id)),
                    this.models.state.changed())
                },
                saveAnswer: function(e) {
                    this.models.answer.saveAnswer(e),
                    this.models.state.calculate(),
                    this.models.dimensions.updateStatus(e.key, t.call(this.module, e.key)),
                    this.models.dimensions.changed(),
                    this.module.dispatch("selectQuestion", {
                        id: e.key,
                        isReload: !0
                    })
                },
                move: function(e) {
                    this.models.dimensions.move(e),
                    this.models.dimensions.changed(),
                    this.models.state.resetCurrentQuestion(),
                    this.models.state.changed()
                },
                websocketConnect: function() {
                    var e = this.models.researchRecord.data
                      , n = e.researchQuestionary
                      , a = this
                      , t = function() {
                        a.app.message.alert(c.get("exam.research-activity.research-detail.research-canceled"), function() {
                            window.close()
                        })
                    };
                    return u.connect(n.id, {
                        researchCancel: t
                    }),
                    !0
                },
                calculate: function() {
                    this.models.state.calculate()
                },
                errorInit: function() {
                    this.models.state.data.isError = !0
                },
                checkError: function() {
                    this.models.dimensions.checkError(),
                    this.models.dimensions.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.afterRender = function() {
            return this.dispatch("websocketConnect")
        }
        ,
        t = function(e) {
            var n = this.store.models.answer.isAnswered(e)
              , a = this.store.models.answer.checkSingleError(e);
            return this.store.models.state.submitSome() && !a ? d.ERROR : n ? d.ACTIVE : d.INIT
        }
        ,
        i = function(e) {
            return this.store.models.answer.checkSingleError(e)
        }
        ,
        s = function() {
            setTimeout(function() {
                window.opener ? window.close() : window.setlocationHref("#/activity/index")
            }, 3e3)
        }
    }
    , {
        "./app/exam/exam-websocket": "./app/exam/exam-websocket",
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="achievement-content">\n    <div class="achievement-side bg-color">\n        <div data-region="submit"></div>\n        <div data-region="side"></div>\n    </div>\n    <div class="achievement-head" data-region="head"></div>\n    <div class="achievement-main preview-content">\n        <div data-region="main"></div>\n        <div data-region="switch"></div>\n    </div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.isScoreTable : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.program(6, i, 0),
                    data: i
                })) ? s : ""
            },
            4: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression, o = null != n ? n : {}, c = a.helperMissing;
                return '        <div class="pull-left title" title="' + l(r(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.research-detail.production", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.extraParams : s) ? s.worksName : s, n)) + '</div>\n        <div class="text-right">\n            <ul class="head-info inline-block">\n                <li class="border right">' + l((a.string || n && n.string || c).call(o, "exam.research-activity.research-detail.competitor", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.extraParams : s) ? s.participantsName : s, n)) + "</li>\n            </ul>\n        </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r, l = e.lambda, o = e.escapeExpression, c = null != n ? n : {}, u = a.helperMissing;
                return '        <div class="pull-left title" title="' + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '">' + o((a.string || n && n.string || u).call(c, "exam.research-activity.research-detail.participating-in", {
                    name: "string",
                    hash: {},
                    data: i
                })) + o(l(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '</div>\n        <div class="text-right">\n            <ul class="head-info inline-block">\n                <li class="border right">' + o((r = null != (r = a.memberTitle || (null != n ? n.memberTitle : n)) ? r : u,
                "function" == typeof r ? r.call(c, {
                    name: "memberTitle",
                    hash: {},
                    data: i
                }) : r)) + ": " + o(l(null != (s = null != (s = null != n ? n.Global : n) ? s.currentUser : s) ? s.fullName : s, n)) + "</li>\n            </ul>\n            \x3c!--  .btn#submit > string('exam.research.research-detail.submit') --\x3e\n        </div>\n"
            },
            8: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != (s = null != n ? n.state : n) ? s.isScoreTable : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.program(12, i, 0),
                    data: i
                })) ? s : ""
            },
            9: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '        <div class="score-table clearfix">\n            <span class="block m-top pull-left">\n                <span class="score-title">' + c((a.string || n && n.string || o).call(l, "exam.research-activity.research-detail.total-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span>\n                <span class="score">' + c((r = null != (r = a.totalScore || (null != n ? n.totalScore : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "totalScore",
                    hash: {},
                    data: i
                }) : r)) + c((a.string || n && n.string || o).call(l, "exam.research-activity.research-detail.score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</span>\n            </span>\n            <a id="submit" class="btn block m-top submit ' + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.isError : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '">' + c((r = null != (r = a.submitTitle || (null != n ? n.submitTitle : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "submitTitle",
                    hash: {},
                    data: i
                }) : r)) + "</a>\n        </div>\n"
            },
            10: function(e, n, a, t, i) {
                return "disabled"
            },
            12: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {};
                return '        <a id="submit" class="btn block w-half m-top ' + (null != (s = a.if.call(l, null != (s = null != n ? n.state : n) ? s.isError : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '">' + e.escapeExpression((r = null != (r = a.submitTitle || (null != n ? n.submitTitle : n)) ? r : a.helperMissing,
                "function" == typeof r ? r.call(l, {
                    name: "submitTitle",
                    hash: {},
                    data: i
                }) : r)) + "</a>\n"
            },
            14: function(e, n, a, t, i) {
                var s;
                return '    <ul class="list">' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n"
            },
            15: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <div class="list-title pointer" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                \x3c!-- i.iconfont.icon-type.m-right --\x3e\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.program(18, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.program(16, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '\n            </div>\n            <div class="min-btn-groups  ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.program(18, i, 0),
                    data: i
                })) ? s : "") + "\">\n                \x3c!--  if(singleMode) --\x3e\n                \x3c!--      .items-pagination.sub-text --\x3e\n                \x3c!--          .up-arrow.text-hover-main-color(id='prev-' + @index) > i.iconfont.icon-arrow-up-circle-full --\x3e\n                \x3c!--          .down-arrow.text-hover-main-color(id='next-' + @index)> i.iconfont.icon-arrow-down-circle-full --\x3e\n" + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </div>\n        </li>\n    "
            },
            16: function(e, n, a, t, i) {
                return ""
            },
            18: function(e, n, a, t, i) {
                return "hidden"
            },
            20: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "error", {
                    name: "compare",
                    hash: {},
                    fn: e.program(21, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "active", {
                    name: "compare",
                    hash: {},
                    fn: e.program(23, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(25, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(27, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            21: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item wrong ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            23: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item active ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            25: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item click ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            27: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <a class="list-item ' + o((s = null != (s = a.class || (null != n ? n.class : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "class",
                    hash: {},
                    data: i
                }) : s)) + '" id="question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" href="#question-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            29: function(e, n, a, t, i) {
                var s;
                return null != (s = a.if.call(null != n ? n : {}, null != n ? n.isMutiple : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(30, i, 0),
                    inverse: e.program(36, i, 0),
                    data: i
                })) ? s : ""
            },
            30: function(e, n, a, t, i) {
                var s;
                return "        <div>" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(31, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n"
            },
            31: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return "\n" + (null != (s = a.if.call(r, null != n ? n.dimensionIndex : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(32, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(34, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        "
            },
            32: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                <div class="h3 m-bottom m-top">\n                    ' + c((r = null != (r = a.dimensionIndex || (null != n ? n.dimensionIndex : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "dimensionIndex",
                    hash: {},
                    data: i
                }) : r)) + "、" + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '\n                </div>\n                <div style="padding-left:1em;">' + (null != (r = null != (r = a.description || (null != n ? n.description : n)) ? r : o,
                s = "function" == typeof r ? r.call(l, {
                    name: "description",
                    hash: {},
                    data: i
                }) : r) ? s : "") + "</div>\n                <hr/>\n"
            },
            34: function(e, n, a, t, i) {
                var s;
                return '                <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            36: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '        <div class="h3 m-bottom m-top">' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.name : s, n)) + "(" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.questionIndex : s, n)) + "/" + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.questionSize : s, n)) + ')</div>\n        <div style="padding-left:1em;">' + (null != (s = r(null != (s = null != (s = null != n ? n.state : n) ? s.currentDimension : s) ? s.description : s, n)) ? s : "") + '</div>\n        <div data-dynamic-key="' + l(r(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.id : s, n)) + '"></div>\n'
            },
            38: function(e, n, a, t, i) {
                var s;
                return null != (s = a.unless.call(null != n ? n : {}, null != n ? n.isMutiple : n, {
                    name: "unless",
                    hash: {},
                    fn: e.program(39, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            39: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '        <div class="text-right m-bottom">\n' + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasPrevious : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(40, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = a.if.call(r, null != (s = null != n ? n.state : n) ? s.hasNext : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(42, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "        </div>\n"
            },
            40: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                <div class="btn white border m-right" id="prev-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.dimensionIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.last-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            42: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '                <div class="btn white border" id="next-' + r(e.lambda(null != (s = null != (s = null != n ? n.state : n) ? s.currentQuestion : s) ? s.dimensionIndex : s, n)) + '">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research-activity.preview-questionary.next-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            44: function(e, n, a, t, i) {
                var s;
                return '    <div class="exam-notes-content">\n        <p>' + e.escapeExpression((s = null != (s = a.submitTitle || (null != n ? n.submitTitle : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "submitTitle",
                    hash: {},
                    data: i
                }) : s)) + "</p>\n    </div>\n"
            },
            46: function(e, n, a, t, i) {
                var s;
                return "    <div>" + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.research : n) ? s.content : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</div>\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "head", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "submit", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(14, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(29, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "switch", {
                    name: "view",
                    hash: {},
                    fn: e.program(38, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "tips", {
                    name: "view",
                    hash: {},
                    fn: e.program(44, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "research-tips", {
                    name: "view",
                    hash: {},
                    fn: e.program(46, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/research-detail/view-head": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/research-detail-batch/view-head"][0].apply(a, arguments)
    }
    , {
        "./app/util/strings": "./app/util/strings",
        dup: "./app/exam/research-activity/research-detail-batch/view-head",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/exam/research-question-types");
        a.type = "dynamic",
        a.bindings = {
            researchRecord: !0,
            questions: !1,
            answer: !1,
            dimensions: !0,
            state: !0
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.questions.getQuestionById(e) || {}
              , a = JSON.parse(JSON.stringify(n));
            return a = i.assign({}, a, {
                questionAttrs: t.orderBy(t.map(a.questionAttrs, function(e) {
                    return e.score ? i.assign(e, {
                        score: e.score / 100
                    }) : i.assign(e, {
                        score: 0
                    })
                }), ["name"], ["asc"]),
                score: a.score / 100
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return 4 === this.bindings.researchRecord.data.researchQuestionary.type && 1 === n.type ? "exam/research-activity/question/types/answer/choise-satisfaction" : s.get(n.type, 3)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = [3, 4, 5]
              , a = this.bindings.researchRecord.data.researchQuestionary || {}
              , t = n.indexOf(a.type) > -1 ? 1 : 0
              , s = this;
            return {
                researchType: a.type,
                type: e.type,
                data: i.assign(e, {
                    scoreMode: t
                }),
                multiple: 2 === e.type,
                answer: this.bindings.answer.getAnswer(e.id),
                callback: function(e) {
                    return s.module.dispatch("saveAnswer", e)
                }
            }
        }
        ,
        a.dataForTemplate = {
            isMutiple: function(e) {
                return 1 === e.researchRecord.researchQuestionary.answerPaperRule
            }
        },
        a.events = {
            "click prev-*": "prev",
            "click next-*": "next"
        },
        a.handlers = {
            prev: function(e) {
                return this.module.dispatch("move", {
                    dimensionIndex: e,
                    offset: -1
                })
            },
            next: function(e) {
                return this.module.dispatch("move", {
                    dimensionIndex: e,
                    offset: 1
                })
            }
        }
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail/view-research-tips": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/research-detail-batch/view-research-tips"][0].apply(a, arguments)
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/strings": "./app/util/strings",
        dup: "./app/exam/research-activity/research-detail-batch/view-research-tips"
    }],
    "./app/exam/research-activity/research-detail/view-side": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings")
          , s = e("jquery")
          , r = e("drizzlejs")
          , l = e("./app/util/helpers");
        a.bindings = {
            dimensions: !0,
            researchRecord: !0,
            state: !1,
            answer: !1
        },
        a.events = {
            "click prev-*": "prev",
            "click next-*": "next",
            "click question-*": "selectQuestion",
            "click list-item-*": "toggleMore",
            "click submit": "submit"
        },
        a.handlers = {
            prev: function(e, n) {
                return n.preventDefault(),
                this.module.dispatch("move", {
                    id: e,
                    offset: -1
                })
            },
            next: function(e, n) {
                return n.preventDefault(),
                this.module.dispatch("move", {
                    id: e,
                    offset: 1
                })
            },
            selectQuestion: function(e, n) {
                return this.module.dispatch("selectQuestion", {
                    id: e,
                    isActive: s(n.target).hasClass("active")
                })
            },
            toggleMore: function(e) {
                return this.module.dispatch("selectDimension", {
                    id: e
                })
            },
            submit: function(e) {
                var n = this
                  , a = this.bindings.state
                  , t = i.get("exam.research.research-detail.confirm-submit")
                  , r = this.app.options.disabledClass;
                return !!s(e.target).hasClass(r) || (a.isSubmit() ? (this.app.message.error(i.get("exam.research-activity.research-detail.not-repeat-submit")),
                !0) : (this.module.dispatch("calculate"),
                n.bindings.answer.isFinish() ? (a.saveSubmit(!0),
                s(e.target).addClass(r),
                n.bindings.state.data.noAnswerCount > 0 && (t = i.get("exam.research-activity.research-detail.your") + i.getWithParams("exam.submit-paper-confirm.no-finish", n.bindings.state.data.noAnswerCount) + "，" + t),
                this.app.message.confirm(t, function() {
                    return n.module.dispatch("saveResearchDetail").then(function() {
                        s(e.target).removeClass(r)
                    }, function() {
                        s(e.target).removeClass(r),
                        a.saveSubmit(!1)
                    })
                }, function() {
                    return s(e.target).removeClass(r),
                    a.saveSubmit(!1),
                    !1
                })) : this.app.message.error(i.get("exam.research-activity.research-detail.not-allow-submit"))))
            }
        },
        a.dataForTemplate = {
            dimensions: function(e) {
                return t.map(e.dimensions, function(n) {
                    return r.assign(n, {
                        singleMode: 2 === e.researchRecord.researchQuestionary.answerPaperRule
                    })
                })
            },
            submitTitle: function(e) {
                var n = e.researchRecord.researchQuestionary || {}
                  , a = i.get("exam.research.research-detail.submit")
                  , s = i.get("submit")
                  , r = {};
                return r[a] = [1, 2, 3, 4],
                r[s] = [5],
                function() {
                    return t.find(Object.keys(r), function(e) {
                        return -1 !== r[e].indexOf(n.type)
                    }) || i.get("exam.research.research-detail.submit")
                }()
            },
            totalScore: function(e) {
                var n = t.reduce(e.dimensions || [], function(e, n) {
                    return e + (n.totalScore || 0)
                }, 0);
                return l.restoreNumberFixed(n, 100, 2)
            }
        }
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail/view-submit": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings")
          , s = e("jquery")
          , r = e("./app/util/helpers");
        a.bindings = {
            dimensions: !1,
            researchRecord: !0,
            state: !1,
            answer: !1
        },
        a.events = {
            "click submit": "submit"
        },
        a.handlers = {
            submit: function(e) {
                var n, a = this, r = this.bindings.state, l = i.get("exam.research.research-detail.confirm-submit"), o = this.app.options.disabledClass;
                return r.markSubmit(),
                !!s(e.target).hasClass(o) || (r.isSubmit() ? (this.app.message.error(i.get("exam.research-activity.research-detail.not-repeat-submit")),
                !0) : (n = t.map(t.filter(this.bindings.answer.data || [], function(e) {
                    return 0 !== e.value.length && "" !== e.value[0].value
                }), function(e) {
                    return e.key
                }).join(","),
                t.every(r.data.requiredIdArr, function(e) {
                    return n.indexOf(e) > -1
                }) ? (this.module.dispatch("calculate"),
                a.bindings.answer.isFinish() ? (this.module.dispatch("checkError"),
                a.bindings.answer.checkError() ? (s(e.target).addClass(o),
                a.bindings.state.data.noAnswerCountExcludeSub > 0 && (l = i.get("exam.research-activity.research-detail.your") + i.getWithParams("exam.submit-paper-confirm.no-finish", a.bindings.state.data.noAnswerCountExcludeSub) + "，" + l),
                t.map(a.bindings.dimensions.data[0].questions, function(e) {
                    e.isFinish && (e.status = "active")
                }),
                this.app.message.confirm(l, function() {
                    return localStorage.removeItem("currentQuestion"),
                    a.module.dispatch("saveResearchDetail").then(function() {
                        s(e.target).removeClass(o)
                    }, function() {
                        s(e.target).removeClass(o),
                        r.saveSubmit(!1)
                    })
                }, function() {
                    return s(e.target).removeClass(o),
                    r.saveSubmit(!1),
                    !1
                })) : (s(e.target).removeClass(o),
                this.app.message.error(i.get("exam.research-submit-error")))) : this.app.message.error(i.get("exam.research-activity.research-detail.not-allow-submit"))) : this.app.message.error(i.get("exam.research-activity.question.required"))))
            }
        },
        a.dataForTemplate = {
            submitTitle: function(e) {
                var n = e.researchRecord.researchQuestionary || {}
                  , a = i.get("exam.research.research-detail.submit")
                  , s = i.get("submit")
                  , r = {};
                return r[a] = [1, 2, 3, 4],
                r[s] = [5],
                function() {
                    return t.find(Object.keys(r), function(e) {
                        return -1 !== r[e].indexOf(n.type)
                    }) || i.get("exam.research.research-detail.submit")
                }()
            },
            totalScore: function(e) {
                var n = t.reduce(e.dimensions || [], function(e, n) {
                    return e + (n.totalScore || 0)
                }, 0);
                return r.restoreNumberFixed(n, 100, 2)
            }
        }
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/research-detail/view-switch": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/research-detail-batch/view-switch"][0].apply(a, arguments)
    }
    , {
        dup: "./app/exam/research-activity/research-detail-batch/view-switch"
    }],
    "./app/exam/research-activity/research-detail/view-tips": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings");
        a.auto = !0,
        a.title = i.get("exam.research-activity.research-detail.reminder"),
        a.bindings = {
            researchRecord: !0
        },
        a.events = {
            "click show-answer-detail": "showDetail"
        },
        a.handlers = {
            showDetail: function() {}
        },
        a.buttons = function() {
            var e = this;
            return [{
                text: i.get("exam.research-activity.research-detail.detail"),
                fn: function() {
                    var n, a = e.bindings.researchRecord.data;
                    if (n = window.open("#/exam/research-activity/research-answer/" + a.id, "_blank"),
                    e.module.renderOptions.opener)
                        return void (n.opener && n.opener.close());
                    e.app.viewport.closeModal().then(function() {
                        e.renderOptions.callback && e.renderOptions.callback()
                    })
                }
            }]
        }
        ,
        a.afterClose = function() {
            if (this.module.renderOptions.opener)
                return void window.close();
            this.app.viewport.closeModal()
        }
        ,
        a.dataForTemplate = {
            submitTitle: function(e) {
                var n = e.researchRecord.researchQuestionary || {}
                  , a = i.get("exam.answer-paper.submit-success")
                  , s = i.get("exam.research-activity.research-detail.mark-success")
                  , r = {};
                return r[a] = [1, 2, 3, 4],
                r[s] = [5],
                function() {
                    return t.find(Object.keys(r), function(e) {
                        return -1 !== r[e].indexOf(n.type)
                    }) || i.get("exam.research-activity.research-detail.submit-success")
                }()
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/summary/index": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("drizzlejs"), r = e("./app/util/maps"), l = e("./app/util/strings");
        a.items = {
            title: "title",
            main: "main",
            side: "side",
            description: ""
        },
        a.title = l.get("exam.research-activity.summary.summary"),
        a.large = !0,
        a.store = {
            models: {
                summaryDetail: {
                    url: "../exam/research-activity/front/summary-detail",
                    mixin: {
                        getAnswerRecordsByQuestionId: function(e) {
                            var n = this.data.researchAnswerRecordMaps;
                            return i.sortBy(i.filter(i.map(n, function(n) {
                                return i.find(n.researchAnswerRecords, ["questionId", e])
                            }), function(e) {
                                return e
                            }), function(e) {
                                return 0 - e.createTime
                            })
                        },
                        getQuestionIndex: function(e, n) {
                            var a = this.data.dimensions;
                            return a[a.findIndex(function(e) {
                                return e.id === n
                            })].questions.findIndex(function(n) {
                                return n.id === e
                            }) + 1
                        }
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            i.forEach(e, function(e) {
                                e.questions && i.forEach(e.questions, function(e) {
                                    n.data.push(e)
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = i.find(this.data, ["id", e])
                              , a = this.module.store.models.summaryDetail;
                            return s.assign(n, {
                                answerRecords: a.getAnswerRecordsByQuestionId(n.id),
                                index: a.getQuestionIndex(n.id, n.dimensionId)
                            })
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = r.get("question-types-all")
                              , a = r.get("chineseNumber")
                              , t = -1;
                            e && (t = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            }),
                            this.data = i.map(e, function(e, r) {
                                var o = i.find(a, ["key", (r + 1).toString()]).value;
                                return -1 !== t && t < r && (o = i.find(a, ["key", r.toString()]).value),
                                t === r && (o = ""),
                                s.assign(e, {
                                    dimensionIndex: o,
                                    questions: i.map(e.questions, function(e, a) {
                                        return s.assign(e, {
                                            questionIndex: a + 1,
                                            status: 0 === r && 0 === a ? "current" : "init",
                                            typeDesc: i.find(n, ["key", e.type.toString()]).value + l.get("question")
                                        })
                                    })
                                })
                            }))
                        },
                        selectQuestion: function(e) {
                            var n = this.data.findIndex(function(e) {
                                return i.some(e.questions, function(e) {
                                    return "current" === e.status
                                })
                            });
                            s.assign(i.find(this.data[n].questions, ["status", "current"]), {
                                status: "init"
                            }),
                            n = this.data.findIndex(function(n) {
                                return !!i.find(n.questions, ["id", e])
                            }),
                            s.assign(i.find(this.data[n].questions, ["id", e]), {
                                status: "current"
                            }),
                            this.changed()
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.summaryDetail
                      , a = this.models.questions
                      , t = this.models.dimensions;
                    if (n.clear(),
                    t.clear(),
                    t.changed(),
                    e.summaryDetail)
                        n.set(e.summaryDetail),
                        a.init(e.summaryDetail.dimensions),
                        t.init(n.data.dimensions),
                        n.changed();
                    else if (e.researchQuestionaryId)
                        return n.params = {
                            researchQuestionaryId: e.researchQuestionaryId,
                            businessId: e.businessId
                        },
                        this.get(n).then(function() {
                            a.init(n.data.dimensions),
                            t.init(n.data.dimensions),
                            a.changed(),
                            t.changed()
                        });
                    return ""
                },
                selectQuestion: function(e) {
                    this.models.dimensions.selectQuestion(e.id)
                }
            }
        },
        a.beforeRender = function() {
            return t = this.app.global.uri,
            this.dispatch("init", this.renderOptions)
        }
        ,
        a.beforeClose = function() {
            return this.app.global.uri = t
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/summary/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="achievement-content main-side">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="title"></div>\n        <div class="achievement-main top-half" data-region="main"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.lambda, l = e.escapeExpression;
                return '    <div class="pull-left title" title="' + l(r(null != (s = null != n ? n.summaryDetail : n) ? s.name : s, n)) + '">' + l(r(null != (s = null != n ? n.summaryDetail : n) ? s.name : s, n)) + "</div>\n"
            },
            5: function(e, n, a, t, i) {
                var s;
                return '    <div class="preview-content" oncontextmenu="window.event.returnValue=false;" oncopy="return false;" oncut="return false;" onpaste="return false">\n' + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return (null != (s = a.if.call(r, null != n ? n.dimensionIndex : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '            <ul class="statistics-ul">\n' + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            </ul>\n"
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                <h3>" + o((s = null != (s = a.dimensionIndex || (null != n ? n.dimensionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "dimensionIndex",
                    hash: {},
                    data: i
                }) : s)) + "、" + o((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "</h3>\n"
            },
            9: function(e, n, a, t, i) {
                var s;
                return '                    <li>\n                        <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n                    </li>\n'
            },
            11: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <ul class="list">' + (null != (s = a.each.call(r, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</ul>\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.summaryDetail : n) ? s.questionaryDetail : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(20, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            12: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '\n        <li>\n            <div class="list-title pointer" id="list-item-' + c((r = null != (r = a.index || i && i.index) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <i class="iconfont icon-type m-right"></i>\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(13, i, 0),
                    inverse: e.program(15, i, 0),
                    data: i
                })) ? s : "") + '"></i><i class="iconfont icon-triangle-down ' + (null != (s = a.if.call(l, null != n ? n.isCurrent : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(15, i, 0),
                    inverse: e.program(13, i, 0),
                    data: i
                })) ? s : "") + '"></i></span>\n                ' + c((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '\n            </div>\n            <div class="min-btn-groups">' + (null != (s = a.each.call(l, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(17, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "</div>\n        </li>\n    "
            },
            13: function(e, n, a, t, i) {
                return ""
            },
            15: function(e, n, a, t, i) {
                return "hidden"
            },
            17: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing;
                return "\n" + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "init", {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.compare || n && n.compare || l).call(r, null != n ? n.status : n, "eq", "current", {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            "
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                    <a class="list-item" href="#mlj-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" id="q-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a>\n"
            },
            20: function(e, n, a, t, i) {
                return '        <div id="questionaryDetail" class="achievement-tips pointer" style="position:absolute; left:10px; bottom:10px;">\n            ' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.research.questionary-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n            <i class="iconfont icon-info"></i>\n        </div>\n'
            },
            22: function(e, n, a, t, i) {
                var s;
                return "    " + (null != (s = (a.echoX || n && n.echoX || a.helperMissing).call(null != n ? n : {}, null != (s = null != n ? n.summaryDetail : n) ? s.questionaryDetail : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "\n"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "title", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\x3c!--  view('title') --\x3e\n" + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "description", {
                    name: "view",
                    hash: {},
                    fn: e.program(22, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-activity/summary/view-description": [function(e, n, a) {
        var t = e("./app/util/strings");
        a.title = t.get("exam.research.questionary-detail"),
        a.bindings = {
            summaryDetail: !0
        }
    }
    , {
        "./app/util/strings": "./app/util/strings"
    }],
    "./app/exam/research-activity/summary/view-main": [function(e, n, a) {
        var t = e("./app/exam/research-question-types")
          , i = e("drizzlejs")
          , s = e("lodash/collection");
        a.bindings = {
            summaryDetail: !0,
            questions: !0,
            dimensions: !0
        },
        a.type = "dynamic",
        a.getEntity = function(e) {
            var n = this.bindings.questions.getQuestionById(e);
            return i.assign({}, n, {
                questionAttrs: s.orderBy(n.questionAttrs, ["name"], ["asc"]),
                score: n.score / 100
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return t.get(n.type, 5)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = e;
            return n.researchQuestionary = this.bindings.summaryDetail.data,
            {
                type: e.type,
                question: n
            }
        }
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-activity/summary/view-side": [function(e, n, a) {
        a.bindings = {
            dimensions: !0,
            summaryDetail: !0
        },
        a.events = {
            "click q-*": "selectQuestion",
            "click questionaryDetail": "questionaryDetail"
        },
        a.handlers = {
            selectQuestion: function(e) {
                return this.module.dispatch("selectQuestion", {
                    id: e
                })
            },
            questionaryDetail: function() {
                var e = this.module.items.description;
                this.app.viewport.modal(e)
            }
        }
    }
    , {}],
    "./app/exam/research-activity/summary/view-title": [function(e, n, a) {
        a.bindings = {
            summaryDetail: !0
        }
    }
    , {}],
    "./app/exam/research-question-types": [function(e, n, a) {
        var t = {
            1: "choise",
            2: "choise",
            3: "judgement",
            4: "sentence-completion",
            5: "question-answer",
            6: "reading-comprehension",
            7: "line",
            8: "sorting",
            9: "matrix"
        }
          , i = {
            1: "summary-detail",
            2: "answer-detail",
            3: "answer",
            4: "preview",
            5: "summary",
            6: "edit"
        }
          , s = function(e, n) {
            return "exam/research-activity/question/types/" + i[n] + "/" + t[e]
        };
        a.get = function(e, n) {
            return s(e, n)
        }
        ,
        a.map = t
    }
    , {}],
    "./app/exam/research-questionary/select-research-questionary/add-research-refrence/index": [function(e, n, a) {
        var t = e("./app/util/strings")
          , i = e("drizzlejs")
          , s = {
            add: t.get("exam.research.add"),
            edit: t.get("exam.research.edit")
        }
          , r = e("lodash/collection");
        a.RESEARCH_TYPE = 2,
        a.items = {
            main: "main"
        },
        a.large = !0,
        a.title = function() {
            return s[this.renderOptions.titleType]
        }
        ,
        a.store = {
            models: {
                research: {
                    url: "../exam/research-activity"
                },
                form: {
                    url: "../exam/research-activity/front/insert-of-other-module"
                },
                img: {
                    url: "../system/file/upload"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.research;
                    return n.clear(),
                    e.researchId ? (n.set({
                        id: e.researchId,
                        sourceType: e.sourceType || 1
                    }),
                    this.chain(this.get(n), function() {
                        n.data.name = e.name || n.data.name
                    })) : (i.assign(n.data, {
                        sourceType: e.sourceType || 1,
                        type: this.module.options.RESEARCH_TYPE
                    }),
                    "")
                },
                save: function(e) {
                    return this.models.form.set(i.assign(e, {
                        sourceType: this.models.research.data.sourceType
                    })),
                    this.save(this.models.form)
                },
                changeInfo: function(e) {
                    var n = this.module.items.main.getEntities()[0];
                    i.assign(this.models.research.data, e, n.getData()),
                    this.models.research.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.buttons = [{
            text: t.get("ok"),
            fn: function() {
                var e = this.items.main.getEntities()[0]
                  , n = this.items.main.validate()
                  , a = e.getData().dimensions || []
                  , s = r.every(a, function(e) {
                    return e.questions && e.questions.length > 0
                })
                  , l = this.options.RESEARCH_TYPE
                  , o = this;
                return !!n && (a.length <= 0 ? (this.app.message.error(t.get("exam.research-questionary.select-research-questionary.questionary-content-can-not-empty")),
                !1) : s ? 4 !== l || r.some(a, function(e) {
                    return 1 === e.isSelect
                }) ? this.Promise.create(function(n, a) {
                    return o.dispatch("save", i.assign(o.items.main.getData(), {
                        dimensions: JSON.stringify(e.getData().dimensions),
                        id: o.store.models.research.data.id,
                        type: o.options.RESEARCH_TYPE
                    })).then(function() {
                        var e = o.renderOptions.callback;
                        e && e(o.store.models.form.data),
                        o.app.message.success(t.get("save-success")),
                        n()
                    }, function() {
                        a()
                    })
                }) : (this.app.message.error(t.get("exam.research-questionary.select-research-questionary.dimension-required")),
                !1) : (this.app.message.error(t.get("exam.research-questionary.select-research-questionary.dimension-content-can-not-empty")),
                !1))
            }
        }],
        a.afterClose = function() {
            this.renderOptions.close && this.renderOptions.close.call(this)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings")
          , s = e("jquery")
          , r = e("drizzlejs");
        a.items = {
            main: "main",
            side: "side",
            "exam/research-activity/add-dimension": {
                isModule: !0
            },
            "exam/research-activity/question/add-question": {
                isModule: !0
            },
            "exam/research-activity/preview-questionary": {
                isModule: !0
            },
            "exam/research-activity/import-data": {
                isModule: !0
            }
        },
        a.store = {
            models: {
                state: {
                    data: {}
                },
                research: {},
                question: {
                    url: "../exam/dimension/question"
                },
                dimension: {
                    url: "../exam/dimension"
                },
                dimensionDel: {
                    url: "../exam/dimension/question-del"
                },
                dimensions: {
                    mixin: {
                        init: function() {
                            this.data = t.orderBy(this.data, ["order"], ["asc"]),
                            t.forEach(this.data, function(e) {
                                r.assign(e, {
                                    questions: t.orderBy(e.questions, ["order"], ["asc"])
                                })
                            })
                        },
                        addDimension: function(e) {
                            var n = e
                              , a = s(this.module.items.main.$("questions")).scrollTop();
                            this.module.store.models.state.data.questionsTop = a,
                            t.forEach(this.data, function(e) {
                                r.assign(e, {
                                    checked: !1
                                })
                            }),
                            n.checked = !0,
                            this.data.push(n)
                        },
                        editDimension: function(e) {
                            var n = e
                              , a = this.data.findIndex(function(n) {
                                return n.id === e.id
                            })
                              , t = s(this.module.items.main.$("questions")).scrollTop();
                            this.module.store.models.state.data.questionsTop = t,
                            n.questions = this.data[a].questions,
                            this.data[a] = e
                        },
                        addQuestion: function(e) {
                            var n = t.find(this.data, ["id", e.dimensionId])
                              , a = this.data.findIndex(function(n) {
                                return n.id === e.dimensionId
                            })
                              , i = n.questions || []
                              , r = s(this.module.items.main.$("questions")).scrollTop();
                            this.module.store.models.state.data.questionsTop = r,
                            i.push(e),
                            this.data[a].questions = i
                        },
                        sortingDimension: function(e) {
                            var n, a = this.data.findIndex(function(n) {
                                return n.id === e.id
                            }), t = e.offset, i = s(this.module.items.main.$("questions")).scrollTop();
                            this.module.store.models.state.data.questionsTop = i,
                            t < 0 && 0 !== a && (n = this.data[a],
                            this.data[a] = this.data[a - 1],
                            this.data[a - 1] = n,
                            n = this.data[a - 1].order,
                            this.data[a - 1].order = this.data[a].order,
                            this.data[a].order = n),
                            t > 0 && a !== this.data.length - 1 && (n = this.data[a],
                            this.data[a] = this.data[a + 1],
                            this.data[a + 1] = n,
                            n = this.data[a + 1].order,
                            this.data[a + 1].order = this.data[a].order,
                            this.data[a].order = n)
                        },
                        deleteDimension: function(e) {
                            var n = s(this.module.items.main.$("questions")).scrollTop();
                            this.module.store.models.state.data.questionsTop = n,
                            this.data = t.reject(this.data, ["id", e])
                        },
                        editQuestion: function(e) {
                            var n = this.data.findIndex(function(n) {
                                return n.id === e.dimensionId
                            })
                              , a = this.data[n].questions;
                            a[a.findIndex(function(n) {
                                return n.id === e.id
                            })] = e,
                            this.data[n].questions = a
                        },
                        deleteQuestion: function(e) {
                            var n = this.data.findIndex(function(n) {
                                return n.id === e.dimensionId
                            })
                              , a = this.data[n];
                            return this.data[n].questions = t.reject(this.data[n].questions, ["id", e.id]),
                            !!(1 !== Number(a.isEmpty) || a.questions && 0 !== a.questions.length) || this.deleteDimension(a.id)
                        },
                        sortingQuestion: function(e) {
                            var n, a = t.find(this.module.store.models.questions.data, ["id", e.id]), i = this.data.findIndex(function(e) {
                                return e.id === a.dimensionId
                            }), s = this.data[i].questions, r = s.findIndex(function(n) {
                                return n.id === e.id
                            }), l = e.offset;
                            l < 0 && 0 !== r && (n = s[r],
                            s[r] = s[r - 1],
                            s[r - 1] = n,
                            n = s[r - 1].order,
                            s[r - 1].order = s[r].order,
                            s[r].order = n),
                            l > 0 && r !== s.length - 1 && (n = s[r],
                            s[r] = s[r + 1],
                            s[r + 1] = n,
                            n = s[r].order,
                            s[r].order = s[r + 1].order,
                            s[r + 1].order = n),
                            this.data[i].questions = s
                        }
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            t.forEach(e, function(e) {
                                e.questions && t.forEach(e.questions, function(e) {
                                    n.data.push(e)
                                })
                            })
                        },
                        addQuestion: function(e) {
                            this.data.push(e)
                        },
                        getQuestionById: function(e) {
                            return t.find(this.data, ["id", e])
                        },
                        editQuestion: function(e) {
                            var n = this.data.findIndex(function(n) {
                                return n.id === e.id
                            });
                            this.data[n] = e
                        },
                        deleteQuestion: function(e) {
                            this.data = t.reject(this.data, ["id", e.id])
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    this.models.research.set(e.research),
                    this.models.dimensions.set(e.research.dimensions || []),
                    this.models.dimensions.init(),
                    this.models.questions.init(e.research.dimensions)
                },
                addDimension: function(e) {
                    this.models.dimensions.addDimension(e),
                    this.models.dimensions.changed()
                },
                editDimension: function(e) {
                    this.models.dimensions.editDimension(e),
                    this.models.dimensions.changed()
                },
                addQuestion: function(e) {
                    var n = e
                      , a = this.models.dimensions
                      , i = {}
                      , s = t.find(a.data, function(n) {
                        return n.id === e.dimensionId
                    });
                    if (!s) {
                        if (i = t.find(a.data, function(e) {
                            return 1 === Number(e.isEmpty)
                        }))
                            return void (n.dimensionId = i.id);
                        s = {
                            id: e.dimensionId,
                            order: a.data.length + 1,
                            isEmpty: 1,
                            researchQuestionaryId: this.models.research.data.id
                        },
                        a.data.push(s)
                    }
                    this.models.dimensions.addQuestion(n),
                    this.models.questions.addQuestion(n),
                    this.models.dimensions.changed()
                },
                editQuestion: function(e) {
                    this.models.dimensions.editQuestion(e),
                    this.models.questions.editQuestion(e),
                    this.models.dimensions.changed()
                },
                deleteQuestion: function(e) {
                    var n = t.find(this.models.questions.data, ["id", e.id])
                      , a = this
                      , s = t.find(this.models.dimensions.data, function(e) {
                        return e.id === n.dimensionId
                    });
                    return this.models.dimensionDel.set({
                        questionId: e.id,
                        dimensionId: n.dimensionId,
                        isLast: s.questions && 1 === s.questions.length
                    }),
                    this.post(this.models.dimensionDel).then(function() {
                        a.app.message.success(i.get("delete-success")),
                        a.models.dimensions.deleteQuestion(n),
                        a.models.questions.deleteQuestion(n),
                        a.models.dimensions.changed()
                    })
                },
                sortingDimension: function(e) {
                    this.models.dimensions.sortingDimension(e),
                    this.models.dimensions.changed()
                },
                deleteDimension: function(e) {
                    var n = this;
                    return this.models.dimension.set(e),
                    this.del(this.models.dimension).then(function() {
                        n.models.dimensions.deleteDimension(e.id),
                        n.models.dimensions.changed()
                    })
                },
                sortingQuestion: function(e) {
                    this.models.dimensions.sortingQuestion(e),
                    this.models.dimensions.changed()
                },
                insertDimensions: function(e) {
                    var n = this.models.dimensions;
                    t.forEach(e, function(e) {
                        var a = t.find(n.data, ["id", e.id])
                          , i = [];
                        a ? (i = a.questions || [],
                        a.questions = i.concat(e.questions)) : n.data.push(e)
                    }),
                    this.models.questions.init(this.models.dimensions.data),
                    n.changed()
                },
                getDimension: function(e) {
                    var n = this.models.dimension
                      , a = this.models.dimensions
                      , i = t.some(a.data, function(e) {
                        return 1 === Number(e.isEmpty)
                    });
                    return !(!e.id && !i) || (n.set({
                        order: a.data.length + 1,
                        isEmpty: 1,
                        researchQuestionaryId: this.models.research.data.id
                    }),
                    !0)
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.mixin = {
            getData: function() {
                var e = this.items.main.getData()
                  , n = this.items.info ? this.items.info.getData() : {}
                  , a = r.assign(n, this.items.side.getData());
                return r.assign({}, {
                    dimensions: t.map(this.store.models.dimensions.data, function(e) {
                        return r.assign(e, {
                            questions: t.map(e.questions, function(e) {
                                return r.assign(e, {
                                    status: 1
                                })
                            })
                        })
                    })
                }, e, a)
            },
            isValidator: function(e) {
                var n = !0
                  , a = !this.items.main.validate || this.items.main.validate()
                  , s = !this.items.info || !this.items.info.validate || this.items.info.validate()
                  , r = !this.items.side.validate || this.items.side.validate();
                if (2 === e) {
                    if (this.store.models.dimensions.data.length <= 0)
                        return this.app.message.error(i.get("exam.research-questionary.select-research-questionary.questionary-content-can-not-empty")),
                        !1;
                    n = t.every(this.store.models.dimensions.data, function(e) {
                        return e.questions && e.questions.length > 0
                    }),
                    n || this.app.message.error(i.get("exam.research-questionary.select-research-questionary.dimension-content-can-not-empty"))
                }
                return a && s && r && n
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="row col-sm-left exam-base-style">\n        <div class="col-sm-9" data-region="main"></div>\n        <div class="col-sm-3" data-region="side"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i, s, r) {
                var l;
                return '    <h3 class="m-top m-bottom">' + e.escapeExpression(e.lambda(null != (l = null != n ? n.research : n) ? l.name : l, n)) + '</h3>\n    <form class="vertical">\n        <ul id="questions" class="question-list paper research-act-topic-box">' + (null != (l = a.each.call(null != n ? n : {}, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "</ul>\n    </form>\n"
            },
            4: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {};
                return "\n            <p>\n" + (null != (l = (a.compare || n && n.compare || a.helperMissing).call(o, null != n ? n.isEmpty : n, "ne", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(5, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "            </p>\n" + (null != (l = a.each.call(o, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(7, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "        "
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return "                    " + o((s = null != (s = a.dimensionIndex || (null != n ? n.dimensionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "dimensionIndex",
                    hash: {},
                    data: i
                }) : s)) + '\n                    <span class="p-left">' + o((s = null != (s = a.name || (null != n ? n.name : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "name",
                    hash: {},
                    data: i
                }) : s)) + "</span>\n"
            },
            7: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '                <li class="question-item"><div class="row col-xs-left">\n                    <div class="col-md-12 research-act-topic">\n                        \x3c!-- span.research-act-topic-s > echo(questionIndex typeDesc) --\x3e\n                        <span class="research-act-topic-s">' + d((o = null != (o = a.questionIndex || (null != n ? n.questionIndex : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : o)) + '</span>\n                        <div data-dynamic-key="' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '"></div>\n                    </div>\n                    <div class="col-md-12"><div class="row col-sm-left">\n                        <div class="col-xs-6"></div>\n                        <div class="col-xs-6"><div class="text-right">\n                            <div class="inline-block"><div class="row col-sm-left">\n' + (null != (l = (a.compare || n && n.compare || u).call(c, null != n ? n.questionIndex : n, "ne", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.compare || n && n.compare || u).call(c, null != r[1] ? r[1].questionsLength : r[1], "ne", null != n ? n.questionIndex : n, {
                    name: "compare",
                    hash: {},
                    fn: e.program(10, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '                                <div class="col-xs-3"><i class="iconfont icon-edit pointer" id="edit-question-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '"></i></div>\n                                <div class="col-xs-3"><i class="iconfont icon-delete pointer" id="delete-question-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '"></i></div>\n                            </div></div>\n                        </div></div>\n                    </div></div>\n                </div></li>\n'
            },
            8: function(e, n, a, t, i) {
                var s;
                return '                                    <div class="col-xs-3"><i class="iconfont icon-arrow-up custom-color-2 pointer" id="up-question-' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></i></div>\n'
            },
            10: function(e, n, a, t, i) {
                var s;
                return '                                    <div class="col-xs-3"><i class="iconfont icon-arrow-down pointer" id="down-question-' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></i></div>\n'
            },
            12: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {}, c = a.helperMissing, u = e.escapeExpression;
                return '<form class="vertical"><div class="row col-sm-left exam-base-style-btn">\n    <div class="col-sm-12 m-top">\n        <h3 class="clearfix">' + u((a.string || n && n.string || c).call(o, "exam.research-questionary.select-research-questionary.content-list", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</h3>\n        <h4 class="clearfix border bottom p-bottom m-top m-bottom">\n            <div id="add-dimension" class="btn pull-right">' + u((a.string || n && n.string || c).call(o, "exam.research-questionary.select-research-questionary.add-dimension", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            " + u((a.string || n && n.string || c).call(o, "exam.research-questionary.select-research-questionary.dimension-management", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        </h4>\n        <ul class="m-top">' + (null != (l = a.each.call(o, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(13, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '</ul>\n    </div>\n    <div class="col-sm-12 m-top">\n        <h4 class="clearfix border bottom p-bottom m-top m-bottom">\n            <div id="import" class="btn pull-right">' + u((a.string || n && n.string || c).call(o, "exam.research-questionary.select-research-questionary.import-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            " + u((a.string || n && n.string || c).call(o, "exam.research-questionary.select-research-questionary.add-question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n        </h4>\n        <div class="border bottom p-bottom m-top m-bottom">\n            <div id="question-1" class="inline-block pointer m-right">\n                ' + u((a.string || n && n.string || c).call(o, "exam.signle-option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                <i class="iconfont icon-add-full custom-color-4"></i>\n            </div>\n            <div id="question-2" class="inline-block pointer m-right">\n                ' + u((a.string || n && n.string || c).call(o, "exam.mutiple-option", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                <i class="iconfont icon-add-full custom-color-4"></i>\n            </div>\n            <div id="question-5" class="inline-block pointer m-right">\n                ' + u((a.string || n && n.string || c).call(o, "exam.question-and-answer", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                <i class="iconfont icon-add-full custom-color-4"></i>\n            </div>\n            <div id="question-9" class="inline-block pointer">\n                ' + u((a.string || n && n.string || c).call(o, "exam.research-activity.question.matrix-scale", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                <i class="iconfont icon-add-full custom-color-4"></i>\n            </div>\n        </div>\n    </div>\n    <div class="col-sm-12 m-top text-center">\n        <div id="preview" class="btn">' + u((a.string || n && n.string || c).call(o, "exam.research-questionary.select-research-questionary.preview", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n    </div>\n</div>\n</form>"
            },
            13: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '\n            <li>\n                <div class="clearfix">\n                    <input class="inline-block" ' + (null != (l = a.if.call(c, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(14, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + ' type="radio" id="d-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" name="dimension-radio" value="' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '"/>\n                    <div class="inline-block">\n                        <label>' + d((o = null != (o = a.name || (null != n ? n.name : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "name",
                    hash: {},
                    data: i
                }) : o)) + '</label>\n                    </div>\n                    <i class="pointer m-right iconfont icon-delete-solid custom-color-3 pull-right" id="delete-dimension-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" title="' + d((a.string || n && n.string || u).call(c, "remove", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"></i>\n' + (null != (l = (a.compare || n && n.compare || u).call(c, null != n ? n.isEmpty : n, "ne", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.compare || n && n.compare || u).call(c, null != n ? n.dimensionIndex : n, "ne", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(18, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.compare || n && n.compare || u).call(c, null != r[1] ? r[1].dimensionsLength : r[1], "ne", null != n ? n.dimensionIndex : n, {
                    name: "compare",
                    hash: {},
                    fn: e.program(20, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '                </div>\n                <div class="research-list-num clearfix p-left">' + (null != (l = a.each.call(c, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(22, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '</div>\n                <div class="hr" style="border:none;border-top:1px dashed #ddd;"></div>\n            </li>\n        '
            },
            14: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <i class="pointer m-right iconfont icon-edit-solid custom-color-4 pull-right" id="edit-dimension-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-type="' + o((s = null != (s = a.businessType || (null != n ? n.businessType : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "businessType",
                    hash: {},
                    data: i
                }) : s)) + '" title="' + o((a.string || n && n.string || l).call(r, "edit", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"></i>\n'
            },
            18: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2 pull-right" id="up-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-type="up" title="' + o((a.string || n && n.string || l).call(r, "up", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"></i>\n'
            },
            20: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2 pull-right" id="down-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '" data-type="down" title="' + o((a.string || n && n.string || l).call(r, "dowm", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"></i>\n'
            },
            22: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '\n                    <span><a href="#qi-' + o((s = null != (s = a.id || (null != n ? n.id : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '">' + o((s = null != (s = a.questionIndex || (null != n ? n.questionIndex : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "questionIndex",
                    hash: {},
                    data: i
                }) : s)) + "</a></span>\n                "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + (null != (l = (a.view || n && n.view || d).call(u, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = (a.view || n && n.view || d).call(u, "side", {
                    name: "view",
                    hash: {},
                    fn: e.program(12, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "\n"
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/exam/research-question-types")
          , r = e("./app/util/maps")
          , l = e("./app/util/strings")
          , o = e("jquery");
        a.type = "dynamic",
        a.SOURCE_TYPE = 3,
        a.HIDE_SCORE = !0,
        a.OPTION_SCORE_MODE = 0,
        a.bindings = {
            dimensions: !0,
            research: !0,
            questions: !0,
            state: !1
        },
        a.events = {
            "click edit-question-*": "editQuestion",
            "click delete-question-*": "deleteQuestion",
            "click up-question-*": "upQuestion",
            "click down-question-*": "downQuestion"
        },
        a.handlers = {
            editQuestion: function(e) {
                var n = this.module.items["exam/research-activity/question/add-question"]
                  , a = this.bindings.state
                  , t = this;
                a.data.questionsTop = o(this.$("questions")).scrollTop(),
                this.app.viewport.popup(n, {
                    titleType: "edit",
                    hideScore: t.options.HIDE_SCORE,
                    question: i.assign({}, this.bindings.questions.getQuestionById(e), {
                        sourceType: t.options.SOURCE_TYPE
                    }),
                    callback: function(e) {
                        return t.module.dispatch("editQuestion", e)
                    }
                })
            },
            deleteQuestion: function(e) {
                var n = this;
                this.bindings.state.data.questionsTop = o(this.$("questions")).scrollTop(),
                this.app.message.confirm(l.getWithParams("delete-warn", l.get("exam.question")), function() {
                    return n.module.dispatch("deleteQuestion", {
                        id: e
                    })
                }, function() {
                    return !1
                })
            },
            upQuestion: function(e) {
                return this.bindings.state.data.questionsTop = o(this.$("questions")).scrollTop(),
                this.module.dispatch("sortingQuestion", {
                    id: e,
                    offset: -1
                })
            },
            downQuestion: function(e) {
                return this.bindings.state.data.questionsTop = o(this.$("questions")).scrollTop(),
                this.module.dispatch("sortingQuestion", {
                    id: e,
                    offset: 1
                })
            }
        },
        a.dataForTemplate = {
            dimensions: function(e) {
                var n = r.get("question-types-all")
                  , a = r.get("chineseNumber")
                  , s = e.dimensions.findIndex(function(e) {
                    return 1 === e.isEmpty
                });
                return t.map(e.dimensions, function(e, r) {
                    var o = t.find(a, ["key", (r + 1).toString()]).value;
                    return -1 !== s && s < r && (o = t.find(a, ["key", r.toString()]).value),
                    s === r && (o = ""),
                    i.assign(e, {
                        dimensionIndex: o,
                        questions: t.map(e.questions, function(e, a) {
                            return i.assign(e, {
                                questionIndex: a + 1,
                                typeDesc: t.find(n, ["key", e.type.toString()]).value + l.get("question")
                            })
                        }),
                        questionsLength: e.questions ? e.questions.length : 0
                    })
                })
            }
        },
        a.getEntity = function(e) {
            var n = this.bindings.questions.getQuestionById(e)
              , a = JSON.parse(JSON.stringify(n));
            return a = i.assign({}, a, {
                questionAttrs: t.orderBy(t.map(a.questionAttrs, function(e) {
                    return e.score ? i.assign(e, {
                        score: e.score / 100
                    }) : e
                }), ["name"], ["asc"]),
                score: a.score / 100
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return s.get(n.type, 4)
        }
        ,
        a.dataForEntityModule = function(e) {
            return {
                data: i.assign(e, {
                    mode: this.options.OPTION_SCORE_MODE
                }),
                showIndex: !1,
                anchor: "qi"
            }
        }
        ,
        a.afterRender = function() {
            var e = this.bindings.state
              , n = e.data.questionsTop || 0;
            return o(this.$("questions")).scrollTop(n)
        }
        ,
        a.mixin = {
            getData: function() {
                return i.assign({}, t.reduce(o(this.$$("form")[0]).serializeArray(), function(e, n) {
                    return (e || {})[n.name] = n.value,
                    e
                }, {}))
            }
        }
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-questionary/select-research-questionary/add-research-refrence/questionary/view-side": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("jquery")
          , r = e("./app/util/strings");
        a.SOURCE_TYPE = 3,
        a.HIDE_SCORE = !0,
        a.QUESTIONARY_TYPE = 2,
        a.bindings = {
            dimensions: !0,
            research: !0,
            dimension: !0
        },
        a.events = {
            "click add-dimension": "addDimension",
            "click edit-dimension-*": "editDimension",
            "click question-*": "addQuestion",
            "click d-*": "chooseDimension",
            "click up-*": "upDimension",
            "click down-*": "downDimension",
            "click delete-dimension-*": "deleteDimension",
            "click preview": "preview",
            "click import": "importResearch"
        },
        a.handlers = {
            addDimension: function() {
                var e = this.module.items["exam/research-activity/add-dimension"]
                  , n = this;
                this.app.viewport.popup(e, {
                    titleType: "add",
                    data: {
                        researchQuestionaryId: this.module.renderOptions.id,
                        order: this.bindings.dimensions.data.length + 1,
                        type: n.options.QUESTIONARY_TYPE
                    },
                    callback: function(e) {
                        return n.module.dispatch("addDimension", e)
                    }
                })
            },
            editDimension: function(e) {
                var n = this.module.items["exam/research-activity/add-dimension"]
                  , a = this;
                return e ? (this.app.viewport.popup(n, {
                    titleType: "edit",
                    data: {
                        id: e,
                        researchQuestionaryId: this.module.renderOptions.id,
                        type: a.options.QUESTIONARY_TYPE
                    },
                    callback: function(e) {
                        return a.module.dispatch("editDimension", e)
                    }
                }),
                !0) : (this.app.message.error(r.get("exam.dimension.edit-dimension-check-tips")),
                !1)
            },
            addQuestion: function(e) {
                var n, a, i = this.module.items["exam/research-activity/question/add-question"], r = s(this.$$('[name="dimension-radio"]:checked')).val(), l = this.bindings.dimensions.data, o = this;
                return this.module.dispatch("getDimension", {
                    id: r
                }).then(function() {
                    n = t.find(l, ["id", r]),
                    n || (n = t.find(l, ["isEmpty", 1]) || {}),
                    a = n.questions || [],
                    this.app.viewport.popup(i, {
                        type: e,
                        hideScore: o.options.HIDE_SCORE,
                        data: {
                            sourceType: o.options.SOURCE_TYPE,
                            order: a.length + 1,
                            dimensionId: n.id || ""
                        },
                        callback: function(e) {
                            return o.module.dispatch("addQuestion", e)
                        }
                    })
                })
            },
            chooseDimension: function(e, n, a) {
                t.forEach(this.bindings.dimensions.data, function(n) {
                    var t = n;
                    n.id === e ? "checked" === s(a).attr("checked") ? t.checked = !1 : t.checked = !0 : t.checked = !1
                }),
                "checked" === s(a).attr("checked") ? s(a).removeAttr("checked") : (t.each(s('input:radio[name="dimension-radio"]'), function(e) {
                    "checked" === s(e).attr("checked") && s(e).removeAttr("checked")
                }),
                s(a).attr("checked", "checked"))
            },
            upDimension: function(e) {
                return this.module.dispatch("sortingDimension", {
                    id: e,
                    offset: -1
                })
            },
            downDimension: function(e) {
                return this.module.dispatch("sortingDimension", {
                    id: e,
                    offset: 1
                })
            },
            deleteDimension: function(e) {
                var n, a = this;
                return e ? (n = r.getWithParams("delete-warn", r.get("exam.research.dimension")),
                this.app.message.confirm(n, function() {
                    return a.module.dispatch("deleteDimension", {
                        id: e
                    }).then(function() {
                        a.app.message.success(r.get("delete-success"))
                    })
                }, function() {
                    return !1
                }),
                !0) : (this.app.message.error(r.get("exam.dimension.edit-dimension-check-tips")),
                !1)
            },
            preview: function() {
                var e = this.module.items["exam/research-activity/preview-questionary"];
                this.app.viewport.ground(e, {
                    hideScore: this.options.HIDE_SCORE,
                    research: i.assign(this.bindings.research.data, {
                        dimensions: this.bindings.dimensions.data
                    })
                })
            },
            importResearch: function() {
                var e = this
                  , n = this.bindings.research.data
                  , a = this.bindings.dimensions.data;
                this.app.viewport.popup(this.module.items["exam/research-activity/import-data"], {
                    type: n.type,
                    dimensions: a,
                    callback: function(n, a) {
                        return e.module.dispatch("insertDimensions", n).then(function() {
                            return a && a(e.bindings.dimensions.data)
                        })
                    }
                })
            }
        },
        a.dataForTemplate = {
            dimensions: function(e) {
                var n = e.dimensions;
                return t.map(n, function(e, n) {
                    return i.assign(e, {
                        dimensionIndex: n + 1,
                        questions: t.map(e.questions, function(e, n) {
                            return i.assign(e, {
                                questionIndex: n + 1
                            })
                        })
                    })
                })
            },
            dimensionsLength: function(e) {
                return e.dimensions.length
            }
        },
        a.mixin = {
            getData: function() {
                return i.assign({}, t.reduce(s(this.$$("form")[0]).serializeArray(), function(e, n) {
                    return (e || {})[n.name] = n.value,
                    e
                }, {}))
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-questionary/select-research-questionary/add-research-refrence/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <form class="vertical exam-base-style">\n        <div class="exam-base-info row col-sm-left">\n            <div class="col-sm-12">\n                <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.research.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <div class="row"><div class="col-md-12"><input class="input mark textLength" x-rule="required,maxLength:100" name="name" id="name" value="' + o(e.lambda(null != (s = null != n ? n.research : n) ? s.name : s, n)) + '"/><div class="tips otips">0/100</div></div></div>\n            </div>\n            <div class="col-sm-12">\n                <label>' + o((a.string || n && n.string || l).call(r, "exam.research.questionary-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <textarea id="questionary-detail" class="input" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.research-questionary.select-research-questionary.questionary-detail", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" rows="5" x-rule="maxLength:1000">' + (null != (s = (a.echoX || n && n.echoX || l).call(r, null != (s = null != n ? n.research : n) ? s.questionaryDetailRich : s, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '</textarea>\n            </div>\n        </div>\n        <div data-dynamic-key=""></div>\n    </form>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-questionary/select-research-questionary/add-research-refrence/view-main": [function(e, n, a) {
        var t = e("./app/ext/views/form/validators")
          , i = e("jquery")
          , s = e("./app/util/strings");
        a.ADD_QUESTIONARY = "exam/research-questionary/select-research-questionary/add-research-refrence/questionary",
        a.bindings = {
            research: !0,
            img: !1
        },
        a.type = "dynamic",
        a.events = {
            "change name": "changeInfo"
        },
        a.handlers = {
            changeInfo: function() {
                return this.module.dispatch("changeInfo", this.getData())
            }
        },
        a.getEntity = function() {
            return this.bindings.research.data
        }
        ,
        a.getEntityModuleName = function() {
            return this.options.ADD_QUESTIONARY
        }
        ,
        a.dataForEntityModule = function(e) {
            return {
                research: e
            }
        }
        ,
        a.mixin = {
            getData: function() {
                return {
                    name: this.$("name").value,
                    questionaryDetail: this.components["questionary-detail"].text(),
                    questionaryDetailRich: this.components["questionary-detail"].html()
                }
            },
            validate: function() {
                var e = this.$("name")
                  , n = this.components["questionary-detail"].text()
                  , a = this.$("questionary-detail");
                return t.required.fn(e.value) ? t.maxLength.fn(e.value, 100) ? (i(e).removeClass("error"),
                t.maxLength.fn(n, 1e3) ? (i(a).removeClass("error"),
                !0) : (i(a).addClass("error"),
                this.app.message.error(s.get("exam.research-questionary.select-research-questionary.questionary-detail-max-length") + ":1000"),
                !1)) : (i(e).addClass("error"),
                2 === this.module.options.RESEARCH_TYPE ? this.app.message.error(s.get("exam.research-questionary.select-research-questionary.research-name-max-length") + ":100") : 3 === this.module.options.RESEARCH_TYPE && this.app.message.error(s.get("exam.research-questionary.select-research-questionary.evaluation-name-required-max-length") + ":100"),
                !1) : (i(e).addClass("error"),
                2 === this.module.options.RESEARCH_TYPE ? this.app.message.error(s.get("exam.research-questionary.select-research-questionary.research-name-required")) : 3 === this.module.options.RESEARCH_TYPE && this.app.message.error(s.get("exam.research-questionary.select-research-questionary.evaluation-name-required")),
                !1)
            }
        },
        a.components = [function() {
            var e = this;
            return {
                id: "questionary-detail",
                name: "rich-text",
                options: {
                    model: "img",
                    abstract: !0,
                    afterBlur: function() {
                        return e.module.dispatch("changeInfo", e.getData())
                    }
                }
            }
        }
        ],
        a.afterRender = function() {
            var e, n = this, a = i(this.$$(".textLength + .tips")[0]), t = i(this.$$(".textLength")[0]), s = +n.module.options.RESEARCH_TYPE;
            a.text(t.val().length + "/100"),
            t.on("input propertychange", function() {
                e = i(this).val(),
                a.text(e.length + "/100"),
                e.length > 100 && (2 === s && n.app.message.error("调研名称最大长度为:100"),
                3 !== s && 4 !== s || n.app.message.error("评估名称必填最大长度为:100"),
                i(this).val(e.substring(0, 100)),
                a.text("100/100"))
            })
        }
    }
    , {
        "./app/ext/views/form/validators": "./app/ext/views/form/validators",
        "./app/util/strings": "./app/util/strings",
        jquery: "jquery"
    }],
    "./app/exam/research-questionary/select-research-questionary/index": [function(e, n, a) {
        var t, i = e("./app/util/strings"), s = e("drizzlejs"), r = {
            ADD: "add",
            EDIT: "edit"
        };
        t = function(e) {
            var n, a, t, l, o = e.showTextType || 0;
            switch (o) {
            case 0:
                n = i.get("select"),
                a = i.get("add"),
                t = function() {
                    var e = this.renderOptions.callback
                      , n = this.items.content
                      , a = n.getData()
                      , t = this;
                    return a ? this.dispatch("copyBusiness", {
                        id: a.id
                    }).then(function() {
                        e && e(t.store.models.copyBusiness.data)
                    }) : (this.app.message.error(i.get("select-warn")),
                    !1)
                }
                ,
                l = function() {
                    var e = this.items[this.options.SELECT_MODULE]
                      , n = this.store.models.research.data
                      , a = this
                      , t = a.renderOptions.closeFrame;
                    return a.Promise.create(function(i) {
                        this.app.viewport.ground(e, {
                            researchId: n.id,
                            sourceType: n.sourceType || 1,
                            titleType: n.id ? r.EDIT : r.ADD,
                            callback: function(e) {
                                var n = a.renderOptions.callback;
                                return n && n(e),
                                i(1 !== t ? !1 : !0)
                            },
                            close: function() {
                                return i(!1)
                            }
                        })
                    }).then(function(e) {
                        return e
                    }).catch(function() {
                        return !1
                    })
                }
                ;
                break;
            case 1:
                n = i.get("save"),
                a = i.get("next-step"),
                t = function() {
                    var e = this.renderOptions.callback
                      , n = this.items.content
                      , a = n.getData()
                      , t = {};
                    return a ? (t = {
                        id: a.id,
                        name: a.name
                    },
                    e && e(t),
                    !0) : (this.app.message.error(i.get("select-warn")),
                    !1)
                }
                ,
                l = function() {
                    var e = this.renderOptions.callback
                      , n = this.items.content
                      , a = n.getData()
                      , t = {};
                    return a ? (s.assign(t, a, {
                        nextStep: !0
                    }),
                    e && e(t),
                    !0) : (this.app.message.error(i.get("select-warn")),
                    !1)
                }
            }
            return {
                selectBtnText: n,
                addBtnText: a,
                selectBtnFn: t,
                addBtnFn: l
            }
        }
        ,
        a.RESEARCH_TYPE = 2,
        a.SELECT_MODULE = "exam/research-questionary/select-research-questionary/add-research-refrence",
        a.items = {
            search: "search",
            content: "content",
            "exam/research-questionary/select-research-questionary/add-research-refrence": {
                isModule: !0
            },
            "exam/research-activity/preview-questionary": {
                isModule: !0
            }
        },
        a.title = function() {
            return i.get("exam.research.add")
        }
        ,
        a.store = {
            models: {
                search: {},
                researchActivities: {
                    url: "../exam/research-activity/front/find-for-train",
                    type: "pageable",
                    root: "items"
                },
                copyBusiness: {
                    url: "../exam/research-activity/copy-business"
                },
                research: {}
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.research
                      , a = this.module.options.RESEARCH_TYPE
                      , t = this.models.researchActivities;
                    return t.clear(),
                    e.researchId && n.set({
                        id: e.researchId
                    }),
                    s.assign(n.data, {
                        sourceType: e.sourceType || 1
                    }),
                    a = 3 == +a ? 0 : a,
                    t.params = {
                        type: a,
                        organizationId: e.organizationId
                    },
                    this.get(t, {
                        loading: !0
                    })
                },
                doSearch: function(e) {
                    var n = e
                      , a = n.publishTime || "to";
                    return "999" === n.scoreType && (n.scoreType = null),
                    this.models.researchActivities.clear(),
                    s.assign(this.models.researchActivities.params || {}, n, {
                        publishTimeStart: a.split("to")[0].trim(),
                        publishTimeEnd: a.split("to")[1].trim()
                    }),
                    this.get(this.models.researchActivities, {
                        loading: !0
                    })
                },
                copyBusiness: function(e) {
                    var n = this.models.copyBusiness;
                    return n.set({
                        id: e.id,
                        sourceType: this.module.renderOptions.sourceType
                    }),
                    this.save(n, {
                        loading: !0
                    })
                }
            }
        },
        a.buttons = function() {
            var e, n, a = {};
            return a = t(this.renderOptions),
            e = {
                text: a.selectBtnText,
                fn: a.selectBtnFn
            },
            n = {
                text: a.addBtnText,
                fn: a.addBtnFn
            },
            [e, n]
        }
        ,
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/research-questionary/select-research-questionary/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="search"></div>\n    <div data-region="content"></div>\n'
            },
            3: function(e, n, a, t, i) {
                var s = null != n ? n : {}
                  , r = a.helperMissing
                  , l = e.escapeExpression;
                return '<form id="searchbar" class="vertical">\n    <div class="row col-sm-left">\n        <div class="col-sm-6">\n            <label>' + l((a.string || n && n.string || r).call(s, "exam.research.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n            <input class="input" name="name"/>\n        </div>\n        <div class="col-sm-6">\n            <label>' + l((a.string || n && n.string || r).call(s, "exam.research.publish-member", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n            <input class="input" name="publishMember"/>\n        </div>\n    </div>\n    <div class="row col-sm-left">\n        <div class="col-sm-12">\n            <label>' + l((a.string || n && n.string || r).call(s, "exam.research.publish-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '：</label>\n            <input id="publish-time" class="input" name="publishTime"/>\n        </div>\n    </div>\n    <br/>\n    <div class="row col-sm-left">\n        <div class="col-sm-12">\n            <div class="text-right"><div id="search" class="btn inline-block">' + l((a.string || n && n.string || r).call(s, "exam.research-questionary.select-research-questionary.search", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div></div>\n        </div>\n    </div>\n</form>"
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="list">\n        <table class="table table-add border around">\n            <thead><tr>\n                <th width="50">' + o((a.string || n && n.string || l).call(r, "exam.research-questionary.select-research-questionary.choose", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research.publish-member", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.research.publish-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n                <th>" + o((a.string || n && n.string || l).call(r, "exam.all.operator", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            </tr></thead>\n            <tbody>" + (null != (s = a.each.call(r, null != n ? n.researchActivities : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression;
                return '\n                <tr>\n                    <td><div class="radio no-margin">\n                        <input ' + (null != (s = a.if.call(l, null != n ? n.checked : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + ' type="radio" name="select-research" id="check-item' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"/>\n                        <label for="check-item' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"></label>\n                    </div></td>\n                    <td><div class="td-content" title="' + u((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((r = null != (r = a.name || (null != n ? n.name : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "name",
                    hash: {},
                    data: i
                }) : r)) + "</div></td>\n                    <td>" + u(e.lambda(null != (s = null != n ? n.publishMember : n) ? s.fullName : s, n)) + "</td>\n                    <td>" + u((a.dateMinute || n && n.dateMinute || o).call(l, null != n ? n.publishTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + '</td>\n                    <td class="operation">\n                        <a id="preview-' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="id" data-value="' + u((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((a.string || n && n.string || o).call(l, "preview", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                    </td>\n"
            },
            7: function(e, n, a, t, i) {
                return ' checked="checked"'
            },
            9: function(e, n, a, t, i) {
                return '                    <tr class="nothing-content"><td colspan="5">\n                        <div class="content-empty">\n                            <div class="img img-type-1"></div>\n                            <p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p>\n                        </div>\n                    </td></tr>\n                </tr>\n            "
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "search", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/research-questionary/select-research-questionary/view-content": [function(e, n, a) {
        var t = e("jquery")
          , i = e("drizzlejs")
          , s = e("lodash/collection");
        a.bindings = {
            researchActivities: !0,
            research: !1
        },
        a.dataForTemplate = {
            researchActivities: function(e) {
                var n = this;
                return s.map(e.researchActivities, function(e) {
                    var a = n.bindings.research.data.id;
                    return a && a === e.id ? i.assign(e, {
                        checked: !0
                    }) : e
                })
            }
        },
        a.events = {
            "click preview-*": "previewResearch"
        },
        a.handlers = {
            previewResearch: function(e) {
                var n = this.module.items["exam/research-activity/preview-questionary"];
                this.app.viewport.ground(n, {
                    researchId: e,
                    callback: function() {}
                })
            }
        },
        a.components = [{
            id: "pager",
            name: "pager",
            options: {
                model: "researchActivities"
            }
        }],
        a.mixin = {
            getData: function() {
                return s.find(this.bindings.researchActivities.data, ["id", t(this.$$('[name="select-research"]:checked')).val()])
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/research-questionary/select-research-questionary/view-search": [function(e, n, a) {
        var t = e("jquery");
        a.bindings = {
            search: !0
        },
        a.actions = {
            "click search": "doSearch"
        },
        a.events = {
            "keypress searchbar": "keysearch"
        },
        a.handlers = {
            keysearch: function(e) {
                13 === e.keyCode && t(this.$("search")).click()
            }
        },
        a.components = [{
            id: "publish-time",
            name: "flatpickr",
            options: {
                mode: "range"
            }
        }]
    }
    , {
        jquery: "jquery"
    }],
    "./app/exam/router": [function(e, n, a) {
        a.routes = {
            "index/:id": "showIndex",
            "exam/paper/:id": "showPaper",
            "exam/index/:id": "showExamIndex",
            "exam/answer-paper/:id": "showAnswerPaper",
            "exam/mark-paper/:id": "showMarkPaper",
            "exam/remark-paper/:id/:remark": "showReMarkPaper",
            "exam/mark-paper-teacher/:id": "showMarkPaperTeacher",
            "exam/remark-paper-teacher/:id/:remark": "showReMarkPaperTeacher",
            "exam/front/score-detail/:id": "showScoreDetail",
            "exam/preview-paper/:id": "showPreviewPaper",
            "exam/exam-detail/:id": "showExamDetail",
            "research-activity/research-answer/:id": "showResearchAnswerDetail",
            "research-activity/research-detail/:id/:businessId": "showResearchDetail",
            "research-activity/paper/:id/:businessId": "showResearchPaper",
            "research-activity/paper/:id/:businessId/:businessType": "showResearchPaperByType",
            "research-activity/paper-edit/:id/:businessId": "showResearchPaperEdit",
            "research-activity/index/:id": "showIndex",
            "research-activity/summary/:id/:businessId": "showResearchSummary",
            "research-activity/paper-research/:id": "showPaperResearch",
            "research-activity/research-preview/:id": "showResearchPreview",
            "research-activity/manage/detail/:id": "showEvaluation",
            "research/summary/:researchQuestionaryId/:businessId": "showSummary",
            "research/summary/satisfaction/:researchQuestionaryId/:businessId": "showSummarySatisfaction",
            "exam/score-detail/:id": "showScoreDetail",
            "exam/score-detail/:examId/:memberId": "trainScoreDetail",
            "exam/mark-paper/:examId/:memberId": "trainMarkPaper",
            "exam/mark-paper-teacher/:examId/:memberId": "trainMarkPaperTeacher",
            "research/manage/detail/:businessId/:researchId/:memberId": "showResearchManageDetail",
            "exam/score-detail-manage/:id": "showScoreDetailManage",
            "exam/vote/paper/:id/:businessId": "showVotePaper"
        },
        a.showIndex = function(e) {
            return this.app.show("content", "exam/index", {
                id: e
            })
        }
        ,
        a.showPaper = function(e) {
            return this.app.viewport.showIt("content", "exam/exam/paper", {
                examId: e
            })
        }
        ,
        a.showExamIndex = function(e) {
            return this.app.viewport.showIt("content", "exam/exam/index", {
                examId: e
            })
        }
        ,
        a.showMarkPaper = function(e) {
            return this.app.viewport.showIt("content", "exam/exam/mark-paper", {
                examRecordId: e
            })
        }
        ,
        a.showReMarkPaper = function(e, n) {
            return this.app.viewport.showIt("content", "exam/exam/mark-paper", {
                examRecordId: e,
                remark: n
            })
        }
        ,
        a.showMarkPaperTeacher = function(e) {
            return this.app.viewport.showIt("content", "exam/exam/mark-paper", {
                examRecordId: e,
                isManagement: !0
            })
        }
        ,
        a.showReMarkPaperTeacher = function(e, n) {
            return this.app.viewport.showIt("content", "exam/exam/mark-paper", {
                remark: n,
                examRecordId: e,
                isManagement: !0
            })
        }
        ,
        a.showAnswerPaper = function(e) {
            return this.app.viewport.showIt("content", "exam/exam/answer-paper", {
                examId: e
            })
        }
        ,
        a.showScoreDetail = function(e) {
            return this.app.viewport.showIt("content", "exam/exam/score-detail", {
                examRecordId: e
            })
        }
        ,
        a.showScoreDetailManage = function(e) {
            return this.app.viewport.showIt("content", "exam/exam/score-detail-manage", {
                examRecordId: e
            })
        }
        ,
        a.showPreviewPaper = function(e) {
            return this.app.viewport.showIt("content", "exam/exam/preview-paper", {
                examId: e
            })
        }
        ,
        a.showResearchDetail = function(e, n) {
            return this.app.viewport.showIt("content", "exam/research-activity/research-detail", {
                researchQuestionaryId: e,
                businessId: n,
                opener: !0
            })
        }
        ,
        a.showResearchAnswerDetail = function(e) {
            return this.app.viewport.showIt("content", "exam/research-activity/research-answer", {
                researchRecordId: e,
                opener: !0
            })
        }
        ,
        a.showResearchPaper = function(e, n) {
            return this.app.viewport.showIt("content", "exam/research-activity/paper", {
                researchId: e,
                businessId: n,
                opener: !0
            })
        }
        ,
        a.showResearchPaperByType = function(e, n, a) {
            return this.app.viewport.showIt("content", "exam/research-activity/paper", {
                researchId: e,
                businessId: n,
                businessType: a,
                opener: !0
            })
        }
        ,
        a.showResearchPaperEdit = function(e, n) {
            return this.app.viewport.showIt("content", "exam/research-activity/paper", {
                researchId: e,
                businessId: n,
                isEdit: !0,
                opener: !0
            })
        }
        ,
        a.showIndex = function(e) {
            return this.app.show("content", "exam/research-activity/index", {
                researchId: e
            })
        }
        ,
        a.showExamDetail = function(e) {
            return this.app.show("content", "exam/exam/exam-detail", {
                examId: e
            })
        }
        ,
        a.showResearchSummary = function(e, n) {
            return this.app.viewport.showIt("content", "exam/research-activity/summary", {
                researchQuestionaryId: e,
                businessId: n
            })
        }
        ,
        a.showPaperResearch = function(e) {
            return this.app.viewport.showIt("content", "exam/research-activity/paper-research", {
                researchId: e
            })
        }
        ,
        a.showResearchPreview = function(e) {
            return this.app.viewport.showIt("content", "exam/research-activity/preview-questionary", {
                researchId: e,
                opener: !0
            })
        }
        ,
        a.showSummary = function(e, n) {
            return this.app.viewport.showIt("content", "exam/research-activity/manage/summary", {
                researchQuestionaryId: e,
                businessId: n
            })
        }
        ,
        a.showSummarySatisfaction = function(e, n) {
            return this.app.viewport.showIt("content", "exam/research-activity/manage/summary-satisfaction", {
                researchQuestionaryId: e,
                businessId: n
            })
        }
        ,
        a.trainScoreDetail = function(e, n) {
            return this.app.viewport.showIt("content", "exam/exam/score-detail", {
                examId: e,
                memberId: n
            })
        }
        ,
        a.trainMarkPaper = function(e, n) {
            return this.app.viewport.showIt("content", "exam/exam/mark-paper", {
                examId: e,
                memberId: n
            })
        }
        ,
        a.trainMarkPaperTeacher = function(e, n) {
            return this.app.viewport.showIt("content", "exam/exam/mark-paper", {
                examId: e,
                memberId: n,
                isManagement: !0
            })
        }
        ,
        a.showResearchManageDetail = function(e, n, a) {
            return this.app.viewport.showIt("content", "exam/research-activity/manage/detail", {
                businessId: e,
                researchId: n,
                memberId: a
            })
        }
        ,
        a.showEvaluation = function(e) {
            return this.app.viewport.showIt("content", "exam/research-activity/manage/detail", {
                researchRecordId: e
            })
        }
        ,
        a.showVotePaper = function(e, n) {
            return this.app.viewport.showIt("content", "exam/vote/paper", {
                voteId: e,
                businessId: n,
                opener: !0
            })
        }
    }
    , {}],
    "./app/exam/util": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = function() {
            var e, n = window.navigator.userAgent.toLowerCase();
            return n.indexOf("micromessenger") >= 0 ? (e = n.match(/micromessenger\/([\d.]+)/)[1],
            {
                type: "Wechat",
                version: e
            }) : n.indexOf("edge") >= 0 ? (e = n.match(/edge\/([\d.]+)/)[1],
            {
                type: "Edge",
                version: e
            }) : n.indexOf("msie") >= 0 ? (e = n.match(/msie ([\d.]+)/)[1],
            {
                type: "IE",
                version: e
            }) : n.indexOf("firefox") >= 0 ? (e = n.match(/firefox\/([\d.]+)/)[1],
            {
                type: "Firefox",
                version: e
            }) : n.indexOf("chrome") >= 0 ? (e = n.match(/chrome\/([\d.]+)/)[1],
            {
                type: "Chrome",
                version: e
            }) : n.indexOf("opera") >= 0 ? (e = n.match(/opera.([\d.]+)/)[1],
            {
                type: "Opera",
                version: e
            }) : n.indexOf("safari") >= 0 ? (e = n.match(/version\/([\d.]+)/)[1],
            {
                type: "Safari",
                version: e
            }) : {
                type: "",
                version: ""
            }
        };
        a.getNavigatorName = function() {
            var e = i();
            return e.type + "/" + e.version
        }
        ,
        a.hasMarkMembers = function(e) {
            var n;
            if (!e)
                return !1;
            if ("string" == typeof e) {
                if (n = JSON.parse(e),
                n.markPapers && n.markPapers.length > 0)
                    return n.markPapers[0].markMembers.length > 0;
                if (n.markQuestionTypes && n.markQuestionTypes.length > 0)
                    return t.every(n.markQuestionTypes, function(e) {
                        return e.markMembers.length > 0
                    });
                if (n.markQuestions && n.markQuestions.length > 0)
                    return t.every(n.markQuestions, function(e) {
                        return e.markMembers.length > 0
                    })
            }
            return !0
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/add-vote/index": [function(e, n, a) {
        var t = e("./app/util/helpers")
          , i = e("drizzlejs")
          , s = e("lodash/collection")
          , r = e("./app/util/strings");
        a.items = {
            main: "main",
            questions: "questions"
        },
        a.large = !0,
        a.store = {
            models: {
                vote: {
                    url: "../exam/vote/front/pc",
                    data: {}
                },
                change: {
                    data: {
                        changeWindow: !0
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            s.forEach(e, function(e) {
                                e.questions && s.forEach(e.questions, function(e) {
                                    n.data.push(e)
                                })
                            }),
                            0 === this.data.length && this.addQuestion()
                        },
                        addQuestion: function(e) {
                            var n, a = [], t = e;
                            if (!t) {
                                for (n = 0; n < 2; n++)
                                    a.push({
                                        value: "",
                                        valueText: "",
                                        name: n,
                                        isRichText: !1
                                    });
                                t = {
                                    id: i.uniqueId("vote-q"),
                                    content: "",
                                    changeWindow: !0,
                                    questionAttrs: a,
                                    type: 1
                                }
                            }
                            this.data.push(t)
                        },
                        getQuestionById: function(e) {
                            return s.find(this.data, ["id", e])
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = e || [];
                            this.data = n
                        }
                    }
                },
                state: {
                    data: {}
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.vote
                      , a = this.models.dimensions
                      , t = this;
                    return n.clear(),
                    a.clear(),
                    this.models.state.set({
                        id: e.id
                    }),
                    e.id ? (this.models.vote.set({
                        id: e.id
                    }),
                    this.get(this.models.vote).then(function() {
                        return t.module.dispatch("initData")
                    })) : t.module.dispatch("initData")
                },
                initData: function() {
                    var e = this.models.dimensions
                      , n = this.models.questions
                      , a = this.models.vote
                      , t = a.data.dimensions || [];
                    e.init(t),
                    n.init(t),
                    n.changed()
                },
                addQuestion: function(e) {
                    var n = this.models.questions
                      , a = this.module.getData(!1);
                    this.models.vote.set(a),
                    this.module.dispatch("initData"),
                    n.addQuestion(e),
                    n.changed()
                },
                save: function(e) {
                    var n = this.models.vote
                      , a = this.models.state.data
                      , t = i.assign({}, e);
                    return n.set(i.assign({
                        id: a.id
                    }, t, {
                        dimensions: JSON.stringify(t.dimensions)
                    })),
                    this.save(n, {
                        loading: !0
                    })
                },
                updateChange: function(e) {
                    var n = this.models.questions
                      , a = n.data[e]
                      , t = this.module.getData(!1);
                    i.assign(t.dimensions[0].questions[e], {
                        changeWindow: !a.changeWindow
                    }),
                    n.data[e] = a,
                    n.changed(),
                    this.models.vote.set(t),
                    this.module.dispatch("initData")
                },
                removeOption: function(e) {
                    var n = this.models.questions
                      , a = this.module.getData(!1);
                    return n.data.length <= 1 ? (this.app.message.error(r.get("exam.add-vote.at-least-one-question")),
                    !1) : (this.models.vote.set(a),
                    this.module.dispatch("initData"),
                    n.data.splice(Number(e.index), 1),
                    this.app.message.success(r.get("delete-success")),
                    this.models.questions.changed())
                }
            }
        },
        a.title = function() {
            return (this.renderOptions.id ? r.get("exam.vote.add-vote.modify") : r.get("exam.buttons.add")) + r.get("exam.vote")
        }
        ,
        a.buttons = function() {
            var e = this
              , n = []
              , a = {
                text: r.get("exam.vote.add-vote.save"),
                fn: function(n) {
                    var a = !1
                      , l = this.getData(!0);
                    return !!l && (t.dateToTimeMillis(n.endTime) <= t.dateToTimeMillis(new Date) ? (e.app.message.error(r.get("exam.vote.checkout.end-time")),
                    !1) : (l = i.assign({}, l, n),
                    s.map(l.dimensions[0].questions || [], function(n) {
                        return 3 === n.maxChoice && n.questionAttrs.length < 3 ? (e.app.message.error(r.getWithParams("exam.vote.choice.num-three", [n.index])),
                        void (a = !0)) : 4 === n.maxChoice && n.questionAttrs.length < 4 ? (e.app.message.error(r.getWithParams("exam.vote.choice.num-four", [n.index])),
                        void (a = !0)) : void 0
                    }),
                    !a && this.dispatch("save", l).then(function() {
                        e.renderOptions.callbacks(),
                        e.app.message.success(r.get("exam.vote.add-vote.save-success")),
                        e.app.viewport.closeModal()
                    })))
                }
            }
              , l = {
                text: r.get("publish"),
                fn: function(n) {
                    var a = !1
                      , l = r.get("exam.vote.add-vote.publish-confirm")
                      , o = this.getData(!0);
                    return !!o && (t.dateToTimeMillis(n.endTime) <= t.dateToTimeMillis(new Date) ? (e.app.message.error(r.get("exam.vote.checkout.end-time")),
                    !1) : (s.map(o.dimensions[0].questions || [], function(n) {
                        return 3 === n.maxChoice && n.questionAttrs.length < 3 ? (e.app.message.error(r.get("exam.vote.add-vote.question") + n.index + r.get("exam.vote.choice.num-three")),
                        void (a = !0)) : 4 === n.maxChoice && n.questionAttrs.length < 4 ? (e.app.message.error(r.get("exam.vote.add-vote.question") + n.index + r.get("exam.vote.choice.num-four")),
                        void (a = !0)) : void 0
                    }),
                    !a && (o = i.assign(o, n, {
                        isPublish: 3
                    }),
                    e.app.message.confirm(l, function() {
                        return e.dispatch("save", o).then(function() {
                            e.renderOptions.callbacks(),
                            e.app.message.success(r.get("exam.vote.add-vote.publish-success")),
                            e.app.viewport.closeModal()
                        })
                    }),
                    !1)))
                }
            };
            return !0 !== this.renderOptions.readonly && (n.push(a),
            n.push(l)),
            n
        }
        ,
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        a.mixin = {
            getData: function(e) {
                var n, a = this.items.questions.getEntities() || [], t = [], r = this, l = !0, o = this.store.models.dimensions.data || [], c = o[0];
                return !(e && !r.items.main.check()) && (s.forEach(a, function(n, a) {
                    var i = n.getData(e);
                    i.index = a + 1,
                    i ? t.push(i) : l = !1
                }),
                t.length < 1 && (l = !1),
                !(e && !l) && (c = c || {
                    id: i.uniqueId("vote-d")
                },
                c.questions = t,
                n = {
                    isPublish: 1,
                    businessId: this.renderOptions.businessId,
                    sourceType: 4,
                    dimensions: [c]
                },
                n.index && delete n.index,
                n))
            }
        }
    }
    , {
        "./app/util/helpers": "./app/util/helpers",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/add-vote/question/index": [function(e, n, a) {
        var t = e("drizzlejs")
          , i = e("lodash/collection")
          , s = e("./app/util/strings");
        a.items = {
            content: "content",
            type: "type",
            options: "options"
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        isRichText: function(e) {
                            return /<[^>]+>/g.test(e) || /&nbsp;/gi.test(e)
                        }
                    }
                },
                choiceType: {
                    data: {
                        isShowCheck: !1,
                        maxChoice: 0,
                        type: 0
                    }
                },
                question: {},
                change: {
                    data: {
                        isShowCheck: !1,
                        changeWindow: !0
                    }
                },
                bottom: {
                    data: {}
                },
                img: {
                    url: "../system/file/upload"
                }
            },
            callbacks: {
                init: function(e) {
                    var n, a, s, r = this.models.state.data, l = this.models.choiceType, o = this.models.bottom, c = e.data;
                    if (c)
                        for (t.assign(l.data, {
                            maxChoice: c.maxChoice,
                            type: c.type
                        }),
                        a = c.questionAttrs,
                        o.data.score = c.score,
                        t.assign(r, c),
                        r.options = [],
                        a = i.sortBy(a, "name"),
                        n = 0; n < a.length; n++)
                            s = this.models.state.isRichText(a[n].value),
                            r.options.push({
                                content: a[n].value,
                                contentText: a[n].valueText,
                                score: a[n].score || 0,
                                isRichText: s
                            });
                    else {
                        for (r.options = [],
                        n = 0; n < 4; n++)
                            r.options.push({
                                content: "",
                                isRichText: !1
                            });
                        r.type = this.module.renderOptions.type
                    }
                    r.multiple = e.multiple || r.multiple,
                    r.mode = e.mode || r.mode,
                    l.changed(),
                    this.models.state.changed(),
                    o.changed()
                },
                updateChange: function(e) {
                    var n = this.models.change
                      , a = this.models.question;
                    t.assign(n.data, e),
                    n.changed(),
                    a.set(this.module.getData()),
                    this.module.dispatch("init", {
                        data: a.data
                    })
                },
                setValue: function(e) {
                    var n = this.models.choiceType;
                    t.assign(n.data, e),
                    n.changed()
                },
                addOption: function() {
                    var e = this.models.state.data.options;
                    if (this.models.state.data.content = this.module.items.content.$("content").value,
                    e.length + 1 > 10)
                        return void this.app.message.error(s.get("exam.vote.add-vote.question.option-can-only-add-10"));
                    e.push({
                        content: "",
                        isRichText: !1
                    }),
                    this.app.message.success(s.get("add-success")),
                    this.models.state.changed()
                },
                changeContent: function(e) {
                    this.models.state.data.options[Number(e.index)].content = e.content
                },
                removeOption: function(e) {
                    var n = this.models.state.data.options;
                    return this.models.state.data.content = this.module.items.content.$("content").value,
                    n.length <= 2 ? (this.app.message.error(s.get("exam.vote.add-vote.question.at-least-two-options-are-required")),
                    !1) : (n.splice(Number(e.index), 1),
                    this.app.message.success(s.get("exam.question.delete-success")),
                    this.models.state.changed())
                }
            }
        },
        a.mixin = {
            getData: function(e) {
                var n = this.items.options
                  , a = this.items.content
                  , i = this.items.type;
                return !!(!e || n.checkAnswer() && this.items.content.validate()) && t.assign({}, i.getData(), a.getData(), n.getResult(), {
                    changeWindow: this.renderOptions.data.changeWindow
                })
            }
        },
        a.beforeRender = function() {}
        ,
        a.afterRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/add-vote/question/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="choise form"><form class="vertical">\n    <div data-region="content"></div>\n    <div data-region="type"></div>\n    <div class="options" data-region="options"></div>\n</form>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.escapeExpression;
                return '    <div class="form-row form-m-left">\n        <label class="label required">' + r((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.vote.add-vote.question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n        <div class="content">\n            <input id="content" class="questionTitle input" name="content" x-rule="maxLength:30,required" x-marker="text-new" value="' + r(e.lambda(null != (s = null != n ? n.state : n) ? s.content : s, n)) + '" maxLength="30"/><div class="tips">0/30</div>\n        </div>\n    </div>\n'
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <div class="clearfix">\n        <div class="form-row form-m-left">\n            <label class="label required">' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.type", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n            <div class="content"><div id="checkType" x-target="type" x-marker="radiox" value="' + o(e.lambda(null != (s = null != n ? n.choiceType : n) ? s.type : s, n)) + '">\n                <div class="radio">\n                    <input class="inline-block" type="radio" name="type" id="apply-1" value="1"/>\n                    <label for="apply-1"></label>\n                </div>\n                <div class="inline-block m-right">' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.single-choose", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                <div class="radio">\n                    <input class="inline-block" type="radio" name="type" id="apply-0" value="2"/>\n                    <label for="apply-0"></label>\n                </div>\n                <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.mutiple-choose", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n            </div></div>\n        </div>\n" + (null != (s = a.if.call(r, null != (s = null != n ? n.choiceType : n) ? s.isShowCheck : s, {
                    name: "if",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '            <div id="checkNum" class="form-row form-m-left">\n                <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.max-choose", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <div class="content"><div id="maxChoice" x-target="maxChoice" x-marker="radiox" value="' + o(e.lambda(null != (s = null != n ? n.choiceType : n) ? s.maxChoice : s, n)) + '">\n                    <div class="checkNum">\n                        <div class="radio">\n                            <input id="maxChoice-1" name="maxChoice" type="radio" value="2"/>\n                            <label class="no-margin" for="maxChoice-1"></label>\n                        </div>\n                        <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.two-options", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    </div>\n                    <div class="checkNum">\n                        <div class="radio">\n                            <input id="maxChoice-2" name="maxChoice" type="radio" value="3"/>\n                            <label class="no-margin" for="maxChoice-2"></label>\n                        </div>\n                        <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.three-options", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    </div>\n                    <div class="checkNum">\n                        <div class="radio">\n                            <input id="maxChoice-3" name="maxChoice" type="radio" value="4"/>\n                            <label class="no-margin" for="maxChoice-3"></label>\n                        </div>\n                        <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.four-options", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                    </div>\n                    <div class="checkNum">\n                        <div class="radio">\n                            <input id="maxChoice-4" name="maxChoice" type="radio" value="0"/>\n                            <label class="no-margin" for="maxChoice-4"></label>\n                        </div>\n                        <div class="inline-block">' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.not-controll", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n                    </div>\n                </div></div>\n            </div>\n"
            },
            8: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return '    <div class="' + (null != (s = a.unless.call(r, null != (s = null != n ? n.change : n) ? s.changeWindow : s, {
                    name: "unless",
                    hash: {},
                    fn: e.program(9, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '">\n        <ul class="row col-sm-left">' + (null != (s = a.each.call(r, null != n ? n.options : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</ul>\n        <div id="add" class="add-options">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.vote.add-vote.question.add-options", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n    </div>\n"
            },
            9: function(e, n, a, t, i) {
                return "visibility-hidden"
            },
            11: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = "function", u = e.escapeExpression;
                return '\n            <li class="col-sm-6 options" id="item-' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">\n                <div class="input-box">\n                    <div class="text">\n                        <span class="list-option">' + u((r = null != (r = a.code || (null != n ? n.code : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "code",
                    hash: {},
                    data: i
                }) : r)) + ":</span>\n                    </div>\n" + (null != (s = a.if.call(l, null != n ? n.isRichText : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0),
                    inverse: e.program(14, i, 0),
                    data: i
                })) ? s : "") + '                </div>\n                <div class="clearfix set-row">\n' + (null != (s = (a.compare || n && n.compare || o).call(l, null != n ? n.mode : n, "eq", 1, {
                    name: "compare",
                    hash: {},
                    fn: e.program(16, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '                    <div class="pull-right text-tips m-top">\n                        <span data-dynamic-key="' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '"></span>\n                        <a class="list-option" href="javascript:;" id="remove-' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="index" data-value="' + u((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === c ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">' + u((a.string || n && n.string || o).call(l, "exam.vote.add-vote.question.delete", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n                    </div>\n                </div>\n            </li>\n        "
            },
            12: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                        <div class="input block choise-content">\n                            ' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + '\n                            <input type="hidden" id="content-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" value="' + c((r = null != (r = a.content || (null != n ? n.content : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "content",
                    hash: {},
                    data: i
                }) : r)) + '" x-rule="maxLength:5000"/>\n                        </div>\n'
            },
            14: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression;
                return '                        <textarea class="input block" placeholder="' + c((a.string || n && n.string || o).call(l, "exam.vote.add-vote.question.input-description", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" id="content-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="index" data-value="' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                "function" == typeof r ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" rows="3" x-rule="maxLength:5000">' + (null != (s = (a.echoX || n && n.echoX || o).call(l, null != n ? n.content : n, {
                    name: "echoX",
                    hash: {},
                    data: i
                })) ? s : "") + "</textarea>\n"
            },
            16: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <div class="pull-left">\n                            <input class="input" placeholder="' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.input-score", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '" value="' + o((s = null != (s = a.score || (null != n ? n.score : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "score",
                    hash: {},
                    data: i
                }) : s)) + '" id="score-' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '" x-rule="required,number,interval:0:1:10:0,keepDecimal:2"/>\n                        </div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "content", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "type", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "options", {
                    name: "view",
                    hash: {},
                    fn: e.program(8, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/vote/add-vote/question/view-content": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            change: !0,
            state: !0
        },
        a.events = {
            "click btn-change": "toggleTableCont"
        },
        a.handlers = {
            toggleTableCont: function() {
                var e = this.bindings.change.data;
                return this.module.dispatch("updateChange", {
                    changeWindow: !e.changeWindow
                })
            }
        },
        a.mixin = {
            getData: function() {
                return {
                    content: this.$("content").value
                }
            }
        }
    }
    , {}],
    "./app/exam/vote/add-vote/question/view-options": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("jquery")
          , s = e("drizzlejs")
          , r = e("./app/ext/views/form/validators")
          , l = e("./app/util/strings");
        a.type = "dynamic",
        a.bindings = {
            change: !0,
            state: !0
        },
        a.dataForTemplate = {
            options: function(e) {
                var n = this;
                return t.map(e.state.options, function(e, a) {
                    var t = e;
                    t.index = a,
                    t.code = String.fromCharCode(t.index + "A".charCodeAt(0)),
                    t.mode = n.bindings.state.data.mode
                }),
                e.state.options
            }
        },
        a.actions = {
            "click add": "addOption",
            "click remove-*": "removeOption"
        },
        a.dataForActions = {
            addOption: function(e) {
                return this.setResult(),
                e
            },
            removeOption: function(e) {
                return this.setResult(),
                e
            }
        },
        a.getEntity = function(e) {
            return e
        }
        ,
        a.getEntityModuleName = function() {
            return "exam/question/senior-editor"
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = this
              , a = n.bindings.state
              , t = a.data.options[e]
              , s = t.value;
            return s && !t.isRichText && (s = window.KindEditor.escape(s)),
            {
                data: {
                    id: e,
                    value: s
                },
                callback: function(e, a, t) {
                    n.changeOptionContent(e, a, t)
                },
                getValue: function() {
                    var a = i(n.$("content-" + e)).val();
                    return a && !t.isRichText && (a = window.KindEditor.escape(a)),
                    a
                }
            }
        }
        ,
        a.mixin = {
            checkAnswer: function() {
                return !this.checkEmptyOption() && !this.checkMaxLengthOption()
            },
            setResult: function() {
                var e, n, a = [], t = this.bindings.state.data;
                for (e = 0; e < t.options.length; e++)
                    n = i(this.$("content-" + e)).val(),
                    a.push(s.assign(t.options[e], {
                        content: n,
                        score: 1 === t.mode ? i(this.$("score-" + e)).val() : null
                    }));
                t.options = a
            },
            getResult: function() {
                var e, n, a = [], t = {}, s = this.bindings.state.data, r = s.options;
                for (this.setResult(),
                e = 0; e < r.length; e++)
                    n = i(this.$("content-" + e)).val(),
                    r[e].isRichText || (n = window.KindEditor.escape(n)),
                    a.push({
                        value: n,
                        valueText: r[e].contentText || n,
                        name: e,
                        type: s.multiple ? 2 : 1,
                        score: 1 === s.mode ? 100 * i(this.$("score-" + e)).val() : null
                    });
                return t.questionAttrs = a,
                t.id = s.id,
                t
            },
            changeOptionContent: function(e, n, a) {
                var t = this.bindings.state.isRichText(n);
                this.setResult(),
                this.bindings.state.data.options[e].content = n,
                this.bindings.state.data.options[e].contentText = a,
                this.bindings.state.data.options[e].isRichText = t,
                this.bindings.state.changed()
            },
            checkEmptyOption: function() {
                var e, n, a, t = this.bindings.state.data.options, s = 0, r = !1, o = this.bindings.state.data, c = "";
                if (t) {
                    for (s; s < t.length; s++)
                        a = String.fromCharCode(s + "A".charCodeAt(0)),
                        e = this.$("content-" + s),
                        e.value || (r = !0),
                        "" === i.trim(e.value) ? (r = !0,
                        i(e).addClass("error"),
                        c += a) : i(e).removeClass("error"),
                        1 === o.mode && (n = this.$("score-" + s),
                        i(n).removeClass("error"),
                        this.checkScore(n.value, a) ? i(n).removeClass("error") : (r = !0,
                        i(n).addClass("error")));
                    c && this.app.message.error(l.getWithParams("exam.vote.add-vote.question.option1", [c]))
                }
                return r
            },
            checkMaxLengthOption: function() {
                var e, n, a = this.bindings.state.data.options, t = 0, s = !1;
                if (a)
                    for (t; t < a.length; t++)
                        n = String.fromCharCode(t + "A".charCodeAt(0)),
                        e = this.$("content-" + t),
                        e.value.length > 5e3 ? (s = !0,
                        i(e).addClass("error"),
                        this.app.message.error(l.get("exam.vote.add-vote.question.option") + n + l.get("exam.vote.add-vote.question.exceed-max-length") + "：5000")) : i(e).removeClass("error");
                return s
            },
            checkScore: function(e, n) {
                return r.required.fn(e) ? r.number.fn(e) ? r.interval.fn(e, 0, "1", 9999999.99, "1") ? !!r.keepDecimal.fn(e, 2) || (this.app.message.error(l.get("exam.vote.add-vote.question.option") + n + l.get("exam.vote.add-vote.question.score-retain-up-to-two-decimal")),
                !1) : (this.app.message.error(l.get("exam.vote.add-vote.question.option") + n + l.get("exam.vote.add-vote.question.score-range") + "0-9999999.99"),
                !1) : (this.app.message.error(l.get("exam.vote.add-vote.question.option") + n + l.get("exam.vote.add-vote.question.score") + r.number.message),
                !1) : (this.app.message.error(l.get("exam.vote.add-vote.question.option") + n + l.get("exam.vote.add-vote.question.score") + r.required.message),
                !1)
            }
        }
    }
    , {
        "./app/ext/views/form/validators": "./app/ext/views/form/validators",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/add-vote/question/view-type": [function(e, n, a) {
        a.type = "form",
        a.bindings = {
            change: !1,
            choiceType: !0
        },
        a.dataForTemplate = {
            choiceType: function(e) {
                var n = e.choiceType;
                return n && 2 === n.type && !n.maxChoice && (n.maxChoice = 0),
                e.choiceType && 2 === e.choiceType.type && (n.isShowCheck = !0),
                n
            }
        },
        a.components = [{
            id: "checkType",
            name: "radiox"
        }, {
            id: "maxChoice",
            name: "radiox"
        }],
        a.events = {
            "change checkType": "changeCheckType",
            "change maxChoice": "changeMaxChoice",
            "change isApply": "changeApply",
            "change registrationControl": "registrationControl"
        },
        a.handlers = {
            changeMaxChoice: function() {
                return this.module.dispatch("setValue", {
                    maxChoice: this.components.maxChoice ? Number(this.components.maxChoice.getValue()) : 0
                })
            },
            changeCheckType: function() {
                var e = !1;
                return "2" === this.components.checkType.getValue() && (e = !0),
                this.module.dispatch("setValue", {
                    type: this.components.checkType ? Number(this.components.checkType.getValue()) : 2,
                    isShowCheck: e
                })
            }
        },
        a.mixin = {
            getData: function() {
                var e = this;
                return {
                    maxChoice: e.components.maxChoice ? Number(this.components.maxChoice.getValue()) : 0,
                    type: e.components.checkType ? Number(this.components.checkType.getValue()) : 1
                }
            }
        }
    }
    , {}],
    "./app/exam/vote/add-vote/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="exam-vote-form">\n        <div class="upload-knowledge-page" data-region="main"></div>\n        <div class="exam-vote" data-region="questions"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '    <form class="vertical">\n        <div class="row col-sm-left">\n            <div class="col-sm-6">\n                <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.vote.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <input id="className" class="input" name="name" x-rule="maxLength:30,required" x-marker="text-new" value="' + o(e.lambda(null != (s = null != n ? n.vote : n) ? s.name : s, n)) + '" maxLength="30"/><div class="tips">0/30</div>\n            </div>\n            <div class="col-sm-6">\n                <label class="required">' + o((a.string || n && n.string || l).call(r, "exam.vote.cut-off-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</label>\n                <div class="date"><input id="end-time" class="input" name="endTime" value="' + o((a.dateMinute || n && n.dateMinute || l).call(r, null != (s = null != n ? n.vote : n) ? s.endTime : s, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + '" x-rule="required" x-action="change"/></div>\n            </div>\n        </div>\n    </form>\n'
            },
            5: function(e, n, a, t, i) {
                var s, r = null != n ? n : {};
                return "    <div>\n" + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '        <div class="text-center">\n            <div id="addQuestion" class="btn-add-course">\n                <i class="iconfont icon-add scale-1"></i>\n                <span class="sub-text">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(r, "exam.vote.add.question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</span>\n            </div>\n        </div>\n    </div>\n"
            },
            6: function(e, n, a, t, i) {
                var s, r, l = null != n ? n : {}, o = a.helperMissing, c = e.escapeExpression, u = "function";
                return '            <div class="item-question">\n                <div class="question-title">\n                    <div class="title-value">\n                        ' + c((a.string || n && n.string || o).call(l, "exam.vote.add-vote.question", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "\n                        " + c((r = null != (r = a.titleIndex || (null != n ? n.titleIndex : n)) ? r : o,
                typeof r === u ? r.call(l, {
                    name: "titleIndex",
                    hash: {},
                    data: i
                }) : r)) + "：" + c((r = null != (r = a.content || (null != n ? n.content : n)) ? r : o,
                typeof r === u ? r.call(l, {
                    name: "content",
                    hash: {},
                    data: i
                }) : r)) + "\n                    </div>\n" + (null != (s = a.if.call(l, null != n ? n.changeWindow : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0),
                    inverse: e.program(9, i, 0),
                    data: i
                })) ? s : "") + '                    <div class="questions-remove m-right" href="javascript:;" id="remove-' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === u ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '" data-name="index" data-value="' + c((r = null != (r = a.index || (null != n ? n.index : n)) ? r : o,
                typeof r === u ? r.call(l, {
                    name: "index",
                    hash: {},
                    data: i
                }) : r)) + '">' + c((a.string || n && n.string || o).call(l, "exam.vote.add-vote.question.delete", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n                </div>\n                <div class="vote-question ' + (null != (s = a.unless.call(l, null != n ? n.changeWindow : n, {
                    name: "unless",
                    hash: {},
                    fn: e.program(11, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '">\n                    <div class="vote-question-box" data-dynamic-key="' + c((r = null != (r = a.id || (null != n ? n.id : n)) ? r : o,
                typeof r === u ? r.call(l, {
                    name: "id",
                    hash: {},
                    data: i
                }) : r)) + '"></div>\n                </div>\n            </div>\n'
            },
            7: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <div class="changeWindow">' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.min", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                            <i class="pointer m-right iconfont icon-minus-full custom-color-5" id="btn-change-' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '" title="' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.hide", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"></i></div>\n'
            },
            9: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = a.helperMissing, o = e.escapeExpression;
                return '                        <div class="changeWindow">' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.max", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '\n                            <i class="pointer m-right iconfont icon-minus-full custom-color-5" id="btn-change-' + o((s = null != (s = a.index || (null != n ? n.index : n)) ? s : l,
                "function" == typeof s ? s.call(r, {
                    name: "index",
                    hash: {},
                    data: i
                }) : s)) + '" title="' + o((a.string || n && n.string || l).call(r, "exam.vote.add-vote.question.show", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '"></i></div>\n'
            },
            11: function(e, n, a, t, i) {
                return "visibility-hidden"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + (null != (s = (a.view || n && n.view || c).call(o, "questions", {
                    name: "view",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/vote/add-vote/view-main": [function(e, n, a) {
        var t = e("jquery")
          , i = e("drizzlejs")
          , s = e("lodash/collection");
        a.type = "form",
        a.bindings = {
            vote: !0,
            state: !1
        },
        a.events = {
            "keyup className": "classNameChange"
        },
        a.handlers = {
            classNameChange: function() {}
        },
        a.dataForTemplate = {},
        a.afterRender = function() {}
        ,
        a.components = [function() {
            return {
                id: "end-time",
                name: "flatpickr",
                options: {
                    enableTime: !0,
                    minDate: "today"
                }
            }
        }
        ],
        a.mixin = {
            getData: function() {
                return i.assign(s.reduce(t(this.$$("form")[0]).serializeArray(), function(e, n) {
                    return (e || {})[n.name] = n.value,
                    e
                }, {}), {
                    endTime: new Date(t(this.$$('[name="endTime"]')).val()).getTime()
                })
            },
            check: function() {
                return this.validate()
            }
        }
    }
    , {
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/add-vote/view-questions": [function(e, n, a) {
        var t = e("lodash/collection");
        a.type = "dynamic",
        a.bindings = {
            questions: !0
        },
        a.dataForTemplate = {
            questions: function(e) {
                return t.map(e.questions, function(e, n) {
                    var a = e;
                    a.index = Number(n),
                    a.titleIndex = Number(n) + 1
                }),
                e.questions
            }
        },
        a.events = {
            "click addQuestion": "handleAddQuestion",
            "click btn-change-*": "toggleTableCont",
            "click remove-*": "removeOption"
        },
        a.handlers = {
            handleAddQuestion: function() {
                return this.module.dispatch("addQuestion")
            },
            toggleTableCont: function(e) {
                return this.module.dispatch("updateChange", e)
            },
            removeOption: function(e) {
                return this.module.dispatch("removeOption", {
                    index: e
                })
            }
        },
        a.getEntityModuleName = function() {
            return "exam/vote/add-vote/question"
        }
        ,
        a.getEntity = function(e) {
            return this.bindings.questions.getQuestionById(e)
        }
        ,
        a.dataForEntityModule = function(e) {
            return {
                data: e
            }
        }
    }
    , {
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/answer-detail/index": [function(e, n, a) {
        var t, i = e("./app/util/strings"), s = e("lodash/collection"), r = e("drizzlejs"), l = e("./app/util/maps"), o = {
            INIT: "init",
            CHECK: "check",
            ACTIVE: "active",
            CURRENT: "current"
        };
        a.items = {
            main: "main"
        },
        a.large = !0,
        a.title = i.get("train.vote.detail"),
        a.store = {
            models: {
                state: {
                    mixin: {
                        init: function() {
                            var e = this.module.store.models.dimensions
                              , n = e.getFirstDimension();
                            this.data = {
                                currentDimension: n,
                                currentQuestion: n.questions[0]
                            }
                        },
                        selectQuestion: function(e) {
                            var n = this.module.store.models.dimensions;
                            r.assign(this.data, {
                                currentQuestion: e,
                                currentDimension: n.getDimension(e.id)
                            })
                        },
                        resetCurrentQuestion: function() {
                            var e = this.module.store.models.dimensions;
                            r.assign(this.data, {
                                currentQuestion: e.getCurrentQuestion()
                            })
                        }
                    }
                },
                researchRecord: {
                    url: "../exam/vote/front/user-record-detail",
                    mixin: {
                        getAnswerRecordsByQuestion: function(e) {
                            var n = this
                              , a = e.id
                              , t = e.subs ? s.map(e.subs, function(e) {
                                return e.id
                            }) : []
                              , i = n.getAnswerRecordsByQuestionId(a);
                            return s.map(t, function(e) {
                                s.map(n.getAnswerRecordsByQuestionId(e) || [], function(e) {
                                    i.push(e)
                                })
                            }),
                            i
                        },
                        getAnswerRecordsByQuestionId: function(e) {
                            var n = this.data.researchQuestionary.researchAnswerRecordMaps;
                            return s.filter(s.map(n, function(n) {
                                return s.find(n.researchAnswerRecords, ["questionId", e])
                            }), function(e) {
                                return e
                            })
                        },
                        getQuestionIndex: function(e, n) {
                            var a = this.data.researchQuestionary.dimensions;
                            return a[a.findIndex(function(e) {
                                return e.id === n
                            })].questions.findIndex(function(n) {
                                return n.id === e
                            }) + 1
                        }
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            s.forEach(e, function(e) {
                                e.questions && s.forEach(e.questions, function(e) {
                                    n.data.push(e)
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = s.find(this.data, ["id", e])
                              , a = this.module.store.models.researchRecord;
                            return r.assign(n, {
                                answerRecords: a.getAnswerRecordsByQuestion(n),
                                index: a.getQuestionIndex(n.id, n.dimensionId),
                                researchRecordId: a.data.id
                            })
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = l.get("question-types-all")
                              , a = l.get("chineseNumber")
                              , t = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            });
                            return this.data = s.map(e, function(e, l) {
                                var c = s.find(a, ["key", (l + 1).toString()]).value;
                                return -1 !== t && t < l && (c = s.find(a, ["key", l.toString()]).value),
                                t === l && (c = ""),
                                r.assign(e, {
                                    isCurrent: !0,
                                    dimensionIndex: c,
                                    questions: s.map(e.questions, function(e, a) {
                                        return r.assign(e, {
                                            questionIndex: a + 1,
                                            typeDesc: s.find(n, ["key", e.type.toString()]).value + i.get("question"),
                                            status: 0 === l && 0 === a ? o.CURRENT : o.INIT
                                        })
                                    }),
                                    questionSize: e.questions.length
                                })
                            }),
                            this.data
                        },
                        getDimension: function(e) {
                            return s.find(this.data, function(n) {
                                return s.some(n.questions, function(n) {
                                    return n.id === e
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n;
                            return s.forEach(this.data, function(a) {
                                s.forEach(a.questions, function(a) {
                                    a.id === e && (n = a)
                                })
                            }),
                            n
                        },
                        getFirstDimension: function() {
                            return this.data[0]
                        },
                        getCurrentQuestion: function() {
                            var e;
                            return s.forEach(this.data, function(n) {
                                s.forEach(n.questions, function(n) {
                                    n.status === o.CURRENT && (e = n)
                                })
                            }),
                            e
                        },
                        selectDimension: function(e) {
                            this.module.store.models.state.data.selectQuestion || (this.data[e].isCurrent = !this.data[e].isCurrent),
                            this.module.store.models.state.data.selectQuestion = !1
                        },
                        selectQuestion: function(e) {
                            var n = this.getDimension(e)
                              , a = n.questions.findIndex(function(e) {
                                return e.status === o.CURRENT
                            })
                              , i = this
                              , l = this.getQuestionById(e);
                            a > -1 && (n.questions[a].status = t.call(this, n.questions[a].id)),
                            r.assign(l, {
                                class: l.status,
                                status: o.CURRENT
                            }),
                            s.forEach(s.filter(this.data, function(n) {
                                return s.every(n.questions, function(n) {
                                    return n.id !== e
                                })
                            }), function(e) {
                                var n = e.questions.findIndex(function(e) {
                                    return e.status === o.CURRENT
                                });
                                -1 !== n && r.assign(e.questions[n], {
                                    status: t.call(i, e.questions[n].id)
                                })
                            }),
                            this.module.store.models.state.data.selectQuestion = !0
                        },
                        move: function(e) {
                            var n = this.data[e.id]
                              , a = n.questions.findIndex(function(e) {
                                return e.status === o.CURRENT
                            })
                              , i = n.questions[a + e.offset];
                            i && (i.status = o.CURRENT,
                            n.questions[a].status = t.call(this, n.questions[a].id))
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.researchRecord
                      , a = this.models.questions
                      , t = this.models.dimensions
                      , i = this.models.state
                      , s = {};
                    return n.clear(),
                    s.researchRecordId = e.researchRecordId,
                    n.params = s,
                    this.get(n, {
                        loading: !0
                    }).then(function() {
                        a.init(t.init(n.data.researchQuestionary.dimensions)),
                        t.changed(),
                        i.init()
                    }, function() {
                        setTimeout(function() {
                            window.close()
                        }, 1500)
                    })
                },
                selectDimension: function(e) {
                    this.models.dimensions.selectDimension(e.id),
                    this.models.dimensions.changed()
                },
                selectQuestion: function(e) {
                    this.models.dimensions.selectQuestion(e.id),
                    this.models.dimensions.changed(),
                    this.models.state.selectQuestion(this.models.dimensions.getQuestionById(e.id))
                },
                move: function(e) {
                    this.models.dimensions.move(e),
                    this.models.dimensions.changed(),
                    this.models.state.resetCurrentQuestion(),
                    this.models.state.changed()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
        ,
        t = function() {
            return o.INIT
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/answer-detail/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="exam-vote-detail">\n        <div class="achievement-main" data-region="main"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.escapeExpression;
                return '    <div class="h2">' + l((a.string || n && n.string || a.helperMissing).call(r, "exam.vote.thanks", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</div>\n    <div class="h4">(' + l(e.lambda(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + ')</div>\n    <div class="preview-content">\n' + (null != (s = a.each.call(r, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s;
                return null != (s = a.each.call(null != n ? n : {}, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : ""
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                <div class="m-top" data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/vote/answer-detail/view-main": [function(e, n, a) {
        var t = e("./app/exam/research-question-types")
          , i = e("drizzlejs")
          , s = e("lodash/collection");
        a.bindings = {
            researchRecord: !0,
            dimensions: !0,
            state: !0,
            questions: !1
        },
        a.type = "dynamic",
        a.getEntity = function(e) {
            var n = this.bindings.questions.getQuestionById(e) || {}
              , a = JSON.parse(JSON.stringify(n));
            return a = i.assign({}, a, {
                questionAttrs: s.orderBy(s.map(a.questionAttrs, function(e) {
                    return e.score ? i.assign(e, {
                        score: e.score / 100
                    }) : i.assign(e, {
                        score: 0
                    })
                }), ["name"], ["asc"]),
                score: a.score / 100
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            var a = this.bindings.researchRecord.data.researchQuestionary || {};
            return a && 3 !== a.type && 1 === a.permitViewCount ? t.get(n.type, 1) : t.get(n.type, 2)
        }
        ,
        a.dataForEntityModule = function(e) {
            return {
                type: e.type,
                question: e
            }
        }
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/answer/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("jquery")
          , r = e("./app/util/maps")
          , l = e("./app/util/strings");
        a.items = {
            main: "main"
        },
        a.store = {
            models: {
                state: {
                    mixin: {
                        init: function() {
                            var e = this.module.store.models.dimensions
                              , n = this.module.store.models.questions
                              , a = e.getFirstDimension()
                              , i = t.reduce(t.map(n.data, function(e) {
                                return e.subs ? e.subs.length : 1
                            }), function(e, n) {
                                return e + n
                            }, 0);
                            this.data = {
                                currentDimension: a,
                                totalCount: i,
                                noAnswerCount: i,
                                answeredCount: 0,
                                currentQuestion: a.questions[0],
                                isSubmit: !1,
                                isEdit: this.module.renderOptions.isEdit,
                                callback: this.module.renderOptions.callback
                            }
                        },
                        calculate: function() {
                            var e = this.module.store.models.answer
                              , n = e.answeredCount();
                            i.assign(this.data, {
                                answeredCount: n,
                                noAnswerCount: this.data.totalCount - n
                            })
                        },
                        isComplete: function() {
                            return this.calculate(),
                            0 === this.data.noAnswerCount
                        },
                        saveSubmit: function(e) {
                            this.data.isSubmit = e
                        },
                        isSubmit: function() {
                            return this.data.isSubmit
                        }
                    }
                },
                researchRecord: {
                    url: "../exam/vote/front/paper",
                    mixin: {}
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            t.forEach(e, function(e) {
                                e.questions && t.forEach(e.questions, function(e, a) {
                                    n.data.push(i.assign(e, {
                                        index: a + 1
                                    }))
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = t.find(this.data, ["id", e])
                              , a = this.module.store.models.researchRecord;
                            return i.assign(n, {
                                researchRecordId: a.data.id
                            })
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = r.get("question-types-all")
                              , a = r.get("chineseNumber")
                              , s = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            });
                            return this.data = t.map(e, function(e, r) {
                                var o = t.find(a, ["key", (r + 1).toString()]).value;
                                return -1 !== s && s < r && (o = t.find(a, ["key", r.toString()]).value),
                                s === r && (o = ""),
                                i.assign(e, {
                                    isCurrent: !0,
                                    dimensionIndex: o,
                                    questions: t.map(e.questions, function(e, a) {
                                        return i.assign(e, {
                                            questionIndex: a + 1,
                                            typeDesc: t.find(n, ["key", e.type.toString()]).value + l.get("question")
                                        })
                                    }),
                                    questionSize: e.questions ? e.questions.length : 0
                                })
                            }),
                            this.data
                        },
                        getDimension: function(e) {
                            return t.find(this.data, function(n) {
                                return t.some(n.questions, function(n) {
                                    return n.id === e
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n;
                            return t.forEach(this.data, function(a) {
                                t.forEach(a.questions, function(a) {
                                    a.id === e && (n = a)
                                })
                            }),
                            n
                        },
                        getFirstDimension: function() {
                            return this.data[0]
                        }
                    }
                },
                answer: {
                    data: [],
                    mixin: {
                        saveAnswer: function(e) {
                            var n = t.reject(this.data, ["key", e.key]);
                            n.push(e),
                            this.data = n
                        },
                        getAnswer: function(e) {
                            return this.data ? t.find(this.data, ["key", e]) : null
                        },
                        answeredCount: function() {
                            var e = this;
                            return t.reduce(t.map(this.data, function(n) {
                                return e.singAnswerCount(n)
                            }), function(e, n) {
                                return e + n
                            }, 0)
                        },
                        getData: function() {
                            var e = this
                              , n = [];
                            return t.map(e.store.models.questions.data, function(a) {
                                var i = {};
                                if (a.type && 9 === a.type)
                                    return t.map(a.subs, function(s) {
                                        var r = t.find(e.data, ["key", a.id]) || {};
                                        i = t.find(r.value || [], ["key", s.id]) || {},
                                        n.push(e.packAnswerRecord(s.id, i))
                                    }),
                                    void n.push(e.packAnswerRecord(a.id, {}));
                                n.push(e.packAnswerRecord(a.id, t.find(e.data, ["key", a.id]) || {}))
                            }),
                            {
                                researchAnswerRecords: JSON.stringify(n)
                            }
                        },
                        packAnswerRecord: function(e, n) {
                            return {
                                questionId: e,
                                answer: n.value ? t.map(n.value, "value").join(",") : "",
                                score: n.value && n.value.length > 0 ? n.value[0].score : 0,
                                researchRecordId: this.store.models.researchRecord.data.id,
                                remark: n.remark
                            }
                        },
                        isAnswered: function(e) {
                            var n = t.find(this.data, ["key", e]) || {
                                value: []
                            };
                            return n.type && 9 === Number(n.type) ? t.reduce(t.map(n.value, function(e) {
                                return i.isArray(e.value) ? e.value.length > 0 && t.every(e.value, function(e) {
                                    return "" !== e.value
                                }) : "" !== e.value
                            }), function(e, n) {
                                return e && n
                            }) : n.value.length > 0 && t.every(n.value, function(e) {
                                return "" !== e.value
                            })
                        },
                        answerCountByQuestionId: function(e) {
                            var n = t.find(this.data, ["key", e]) || {
                                value: []
                            };
                            return this.singAnswerCount(n)
                        },
                        singAnswerCount: function(e) {
                            var n;
                            return e.type && 9 === Number(e.type) ? t.reduce(t.map(e.value, function(e) {
                                var n = "" !== e.value ? 1 : 0;
                                return i.isArray(e.value) ? e.value.length > 0 && t.filter(e.value, function(e) {
                                    return "" !== e.value
                                }).length : n
                            }), function(e, n) {
                                return e + n
                            }, 0) : (n = e.value.length > 0 && t.every(e.value, function(e) {
                                return "" !== e.value
                            }),
                            n ? 1 : 0)
                        }
                    }
                },
                form: {
                    url: "../exam/research-answer-record/front/vote/submit"
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.researchRecord
                      , a = this;
                    return n.params = {
                        voteId: e.researchQuestionaryId,
                        businessId: e.businessId
                    },
                    this.get(n, {
                        loading: !0
                    }).then(function() {
                        a.module.dispatch("initData", e)
                    })
                },
                initData: function() {
                    var e = this.models.questions
                      , n = this.models.dimensions
                      , a = this.models.state
                      , t = this.models.researchRecord
                      , i = t.data
                      , s = i.researchQuestionary || {}
                      , r = [1, 2, 4, 5];
                    if (1 === s.type && r.indexOf(s.status) > -1)
                        return void this.app.message.error(l.get("exam.vote.not-begin-or-end"));
                    e.init(n.init(t.data.researchQuestionary.dimensions)),
                    a.init(),
                    e.changed()
                },
                saveResearchDetail: function() {
                    var e = this
                      , n = this.models.researchRecord
                      , a = this.models.state
                      , t = a.data.callback
                      , s = this.models.form;
                    return this.models.form.set(i.assign({}, this.models.answer.getData(), {
                        voteId: n.data.researchQuestionaryId,
                        businessId: n.data.businessId
                    })),
                    this.save(s, {
                        loading: !0
                    }).then(function() {
                        t && t(s.data),
                        e.app.message.success(l.get("submit-success")),
                        window.location.reload()
                    })
                },
                saveAnswer: function(e) {
                    var n = s(window).scrollTop();
                    this.models.state.data.voteContentTop = n,
                    this.models.answer.saveAnswer(e),
                    this.models.state.calculate(),
                    this.models.dimensions.changed()
                },
                calculate: function() {
                    this.models.state.calculate()
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/answer/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="exam-vote-detail">\n    <div class="achievement-main" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i) {
                var s, r = e.escapeExpression, l = null != n ? n : {};
                return '    <div id="voteContent" class="voteContent">\n        <div class="h2">' + r(e.lambda(null != (s = null != (s = null != n ? n.researchRecord : n) ? s.researchQuestionary : s) ? s.name : s, n)) + '</div>\n        <div class="preview-content">\n            <div>' + (null != (s = a.each.call(l, null != n ? n.dimensions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + '</div>\n        </div>\n        <div class="text-center clearfix">\n            <a id="submit" class="btn m-top submit">' + r((a.string || n && n.string || a.helperMissing).call(l, "exam.vote.submit", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n        </div>\n    </div>\n"
            },
            4: function(e, n, a, t, i) {
                var s;
                return "\n" + (null != (s = a.each.call(null != n ? n : {}, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(5, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "            "
            },
            5: function(e, n, a, t, i) {
                var s;
                return '                    <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + "\n" + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/vote/answer/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/exam/research-question-types")
          , r = e("./app/util/strings")
          , l = e("jquery");
        a.type = "dynamic",
        a.bindings = {
            researchRecord: !0,
            questions: !1,
            answer: !1,
            dimensions: !0,
            state: !0
        },
        a.events = {
            "click submit": "submit"
        },
        a.afterRender = function() {
            var e = this.bindings.state
              , n = e.data.voteContentTop || 0;
            return l(window).scrollTop(n)
        }
        ,
        a.handlers = {
            submit: function(e) {
                var n = this
                  , a = this.bindings.state
                  , t = r.get("exam.research.research-detail.confirm-submit")
                  , i = this.app.options.disabledClass;
                return !!l(e.target).hasClass(i) || (a.isSubmit() ? (this.app.message.error(r.get("train.view-main.not-repeat-operations")),
                !0) : (this.module.dispatch("calculate"),
                n.bindings.state.data.noAnswerCount > 0 ? (n.app.message.error(r.get("train.view-main.question-not-filled")),
                !1) : (l(e.target).addClass(i),
                a.saveSubmit(!0),
                this.app.message.confirm(t, function() {
                    return n.module.dispatch("saveResearchDetail").then(function() {
                        l(e.target).removeClass(i)
                    }, function() {
                        l(e.target).removeClass(i),
                        a.saveSubmit(!1)
                    })
                }, function() {
                    return l(e.target).removeClass(i),
                    a.saveSubmit(!1),
                    !1
                }))))
            }
        },
        a.getEntity = function(e) {
            var n = this.module.store.models.questions.getQuestionById(e) || {}
              , a = JSON.parse(JSON.stringify(n));
            return a = i.assign({}, a, {
                questionAttrs: t.orderBy(t.map(a.questionAttrs, function(e) {
                    return e.score ? i.assign(e, {
                        score: e.score / 100
                    }) : i.assign(e, {
                        score: 0
                    })
                }), ["name"], ["asc"]),
                score: a.score / 100
            })
        }
        ,
        a.getEntityModuleName = function(e, n) {
            return s.get(n.type, 3)
        }
        ,
        a.dataForEntityModule = function(e) {
            var n = [3, 4, 5]
              , a = this.bindings.researchRecord.data.researchQuestionary || {}
              , t = n.indexOf(a.type) > -1 ? 1 : 0
              , s = this;
            return {
                type: e.type,
                data: i.assign(e, {
                    scoreMode: t
                }),
                multiple: 2 === e.type,
                answer: this.bindings.answer.getAnswer(e.id),
                callback: function(e) {
                    return s.module.dispatch("saveAnswer", e)
                }
            }
        }
        ,
        a.dataForTemplate = {
            isMutiple: function(e) {
                return 1 === e.researchRecord.researchQuestionary.answerPaperRule
            }
        }
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        jquery: "jquery",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/index": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("./app/util/strings");
        a.items = {
            main: "main",
            "exam/vote/summary": {
                isModule: !0
            },
            "exam/vote/add-vote": {
                isModule: !0
            }
        },
        a.title = i.get("exam.vote.management"),
        a.store = {
            models: {
                state: {},
                endVote: {
                    url: "../exam/vote/front/end-vote"
                },
                delVote: {
                    url: "../exam/vote/front/pc"
                },
                publishVote: {
                    url: "../exam/vote/front/publish"
                },
                votes: {
                    url: "../exam/vote/front",
                    type: "pageable",
                    root: "items",
                    mixin: {
                        getById: function(e) {
                            return t.find(this.data, {
                                id: e
                            })
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.votes;
                    return this.models.state.set(e),
                    n.params = {
                        businessId: e.businessId
                    },
                    this.get(n, {
                        loading: !0
                    })
                },
                refreshList: function() {
                    var e = this.models.votes
                      , n = this.models.state.data;
                    return e.params = {
                        businessId: n.businessId
                    },
                    this.get(this.models.votes, {
                        loading: !0
                    })
                },
                handleDel: function(e) {
                    return this.models.delVote.set(e),
                    this.del(this.models.delVote)
                },
                handleEnd: function(e) {
                    return this.models.endVote.set(e),
                    this.put(this.models.endVote)
                },
                handlePublish: function(e) {
                    return this.models.publishVote.set(e),
                    this.put(this.models.publishVote)
                }
            }
        },
        a.beforeRender = function() {
            var e = {
                businessId: this.renderOptions.businessId,
                readOnly: !!this.renderOptions.readOnly
            };
            return this.dispatch("init", e)
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/paper/index": [function(e, n, a) {
        var t = e("drizzlejs");
        a.items = {
            main: "main"
        },
        a.large = !0,
        a.store = {
            models: {
                userRecord: {
                    url: "../exam/vote/front/user-record"
                },
                state: {
                    data: {}
                }
            },
            callbacks: {
                init: function(e) {
                    var n = {
                        voteId: e.voteId,
                        businessId: e.businessId
                    };
                    return this.models.userRecord.clear(),
                    this.models.state.set(n),
                    this.models.userRecord.params = t.assign(n, {
                        clientType: 0
                    }),
                    this.get(this.models.userRecord, {
                        loading: !0
                    })
                }
            }
        },
        a.beforeRender = function() {
            return this.dispatch("init", this.renderOptions)
        }
    }
    , {
        drizzlejs: "drizzlejs"
    }],
    "./app/exam/vote/paper/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div data-region="main"></div>\n'
            },
            3: function(e, n, a, t, i) {
                return '    <div data-dynamic-key="vote-paper"></div>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/vote/paper/view-main": [function(e, n, a) {
        a.bindings = {
            userRecord: !0,
            state: !1
        },
        a.type = "dynamic",
        a.getEntity = function() {
            var e = this.bindings.userRecord.data;
            return e && 1 === e.status ? {
                researchRecordId: e.id
            } : {
                researchQuestionaryId: e.researchQuestionaryId,
                businessId: this.bindings.userRecord.params.businessId
            }
        }
        ,
        a.getEntityModuleName = function() {
            var e = this.bindings.userRecord.data;
            return e && 1 === e.status ? "exam/vote/answer-detail" : "exam/vote/answer"
        }
        ,
        a.dataForEntityModule = function(e) {
            return e
        }
    }
    , {}],
    "./app/exam/vote/summary/index": [function(e, n, a) {
        var t, i = e("lodash/collection"), s = e("drizzlejs"), r = e("./app/util/maps"), l = e("./app/util/strings");
        a.items = {
            main: "main"
        },
        a.title = l.get("exam.research-activity.summary.summary"),
        a.large = !0,
        a.store = {
            models: {
                summaryDetail: {
                    url: "../exam/research-activity/front/summary-detail",
                    mixin: {
                        getAnswerRecordsByQuestionId: function(e) {
                            var n = this.data.researchAnswerRecordMaps;
                            return i.sortBy(i.filter(i.map(n, function(n) {
                                return i.find(n.researchAnswerRecords, ["questionId", e])
                            }), function(e) {
                                return e
                            }), function(e) {
                                return 0 - e.createTime
                            })
                        },
                        getQuestionIndex: function(e, n) {
                            var a = this.data.dimensions;
                            return a[a.findIndex(function(e) {
                                return e.id === n
                            })].questions.findIndex(function(n) {
                                return n.id === e
                            }) + 1
                        }
                    }
                },
                questions: {
                    mixin: {
                        init: function(e) {
                            var n = this;
                            this.data = [],
                            i.forEach(e, function(e) {
                                e.questions && i.forEach(e.questions, function(e) {
                                    n.data.push(e)
                                })
                            })
                        },
                        getQuestionById: function(e) {
                            var n = i.find(this.data, ["id", e])
                              , a = this.module.store.models.summaryDetail;
                            return s.assign(n, {
                                answerRecords: a.getAnswerRecordsByQuestionId(n.id),
                                index: a.getQuestionIndex(n.id, n.dimensionId)
                            })
                        }
                    }
                },
                dimensions: {
                    mixin: {
                        init: function(e) {
                            var n = r.get("question-types-all")
                              , a = r.get("chineseNumber")
                              , t = -1;
                            e && (t = e.findIndex(function(e) {
                                return 1 === e.isEmpty
                            }),
                            this.data = i.map(e, function(e, r) {
                                var o = i.find(a, ["key", (r + 1).toString()]).value;
                                return -1 !== t && t < r && (o = i.find(a, ["key", r.toString()]).value),
                                t === r && (o = ""),
                                s.assign(e, {
                                    dimensionIndex: o,
                                    questions: i.map(e.questions, function(e, a) {
                                        return s.assign(e, {
                                            questionIndex: a + 1,
                                            status: 0 === r && 0 === a ? "current" : "init",
                                            typeDesc: i.find(n, ["key", e.type.toString()]).value + l.get("question")
                                        })
                                    })
                                })
                            }))
                        },
                        selectQuestion: function(e) {
                            var n = this.data.findIndex(function(e) {
                                return i.some(e.questions, function(e) {
                                    return "current" === e.status
                                })
                            });
                            s.assign(i.find(this.data[n].questions, ["status", "current"]), {
                                status: "init"
                            }),
                            n = this.data.findIndex(function(n) {
                                return !!i.find(n.questions, ["id", e])
                            }),
                            s.assign(i.find(this.data[n].questions, ["id", e]), {
                                status: "current"
                            }),
                            this.changed()
                        }
                    }
                }
            },
            callbacks: {
                init: function(e) {
                    var n = this.models.summaryDetail
                      , a = this.models.questions
                      , t = this.models.dimensions;
                    if (n.clear(),
                    t.clear(),
                    t.changed(),
                    e.summaryDetail)
                        n.set(e.summaryDetail),
                        a.init(e.summaryDetail.dimensions),
                        t.init(n.data.dimensions),
                        n.changed();
                    else if (e.researchQuestionaryId)
                        return n.params = {
                            researchQuestionaryId: e.researchQuestionaryId,
                            businessId: e.businessId
                        },
                        this.get(n).then(function() {
                            a.init(n.data.dimensions),
                            t.init(n.data.dimensions),
                            a.changed(),
                            t.changed()
                        });
                    return ""
                },
                selectQuestion: function(e) {
                    this.models.dimensions.selectQuestion(e.id)
                }
            }
        },
        a.beforeRender = function() {
            return t = this.app.global.uri,
            this.dispatch("init", this.renderOptions)
        }
        ,
        a.beforeClose = function() {
            return this.app.global.uri = t
        }
    }
    , {
        "./app/util/maps": "./app/util/maps",
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/summary/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '    <div class="exam-vote-summary">\n        <div class="achievement-main" data-region="main"></div>\n    </div>\n'
            },
            3: function(e, n, a, t, i) {
                var s, r = null != n ? n : {}, l = e.escapeExpression;
                return '    <div class="h3">' + l((a.string || n && n.string || a.helperMissing).call(r, "train.view-main.vote-activity-name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + l(e.lambda(null != (s = null != n ? n.summaryDetail : n) ? s.name : s, n)) + '</div>\n    <ul class="statistics-ul">\n' + (null != (s = a.each.call(r, null != n ? n.questions : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(4, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "") + "    </ul>\n"
            },
            4: function(e, n, a, t, i) {
                var s;
                return '            <li>\n                <div data-dynamic-key="' + e.escapeExpression((s = null != (s = a.id || (null != n ? n.id : n)) ? s : a.helperMissing,
                "function" == typeof s ? s.call(null != n ? n : {}, {
                    name: "id",
                    hash: {},
                    data: i
                }) : s)) + '"></div>\n            </li>\n'
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i) {
                var s, r, l, o = null != n ? n : {}, c = a.helperMissing, u = "";
                return r = null != (r = a.module || (null != n ? n.module : n)) ? r : c,
                l = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0),
                    inverse: e.noop,
                    data: i
                },
                s = "function" == typeof r ? r.call(o, l) : r,
                a.module || (s = a.blockHelperMissing.call(n, s, l)),
                null != s && (u += s),
                u + (null != (s = (a.view || n && n.view || c).call(o, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0),
                    inverse: e.noop,
                    data: i
                })) ? s : "")
            },
            useData: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/vote/summary/view-main": [function(e, n, a) {
        arguments[4]["./app/exam/research-activity/summary/view-main"][0].apply(a, arguments)
    }
    , {
        "./app/exam/research-question-types": "./app/exam/research-question-types",
        drizzlejs: "drizzlejs",
        dup: "./app/exam/research-activity/summary/view-main",
        "lodash/collection": "lodash/collection"
    }],
    "./app/exam/vote/templates": [function(e, n, a) {
        var t = e("handlebars/runtime").default.template;
        n.exports = t({
            1: function(e, n, a, t, i) {
                return '<div class="exam-manage-review">\n    <div class="review-main" data-region="main"></div>\n</div>'
            },
            3: function(e, n, a, t, i, s, r) {
                var l, o = null != n ? n : {}, c = a.helperMissing, u = e.escapeExpression;
                return '    <div class="clearfix">\n        <div class="pull-right">\n' + (null != (l = a.unless.call(o, null != (l = null != n ? n.state : n) ? l.readOnly : l, {
                    name: "unless",
                    hash: {},
                    fn: e.program(4, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '        </div>\n    </div>\n    <div class="list m-top">\n        <table class="table table2 text-center">\n            <th>' + u((a.string || n && n.string || c).call(o, "exam.vote.index", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + u((a.string || n && n.string || c).call(o, "exam.vote.name", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + u((a.string || n && n.string || c).call(o, "exam.vote.participants-count", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + u((a.string || n && n.string || c).call(o, "exam.vote.end-time", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + u((a.string || n && n.string || c).call(o, "exam.vote.publish-member", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + u((a.string || n && n.string || c).call(o, "exam.vote.status", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <th>" + u((a.string || n && n.string || c).call(o, "train.manage.operating", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</th>\n            <tbody>\n                " + (null != (l = a.each.call(o, null != n ? n.votes : n, {
                    name: "each",
                    hash: {},
                    fn: e.program(6, i, 0, s, r),
                    inverse: e.program(14, i, 0, s, r),
                    data: i
                })) ? l : "") + '\n            </tbody>\n        </table>\n        <div id="pager" class="pagination m-top"></div>\n    </div>\n'
            },
            4: function(e, n, a, t, i) {
                return '                <div id="btnAdd" class="btn">' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "exam.vote.add", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</div>\n"
            },
            6: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return "<tr>\n                    <td>" + d((o = null != (o = a.i || (null != n ? n.i : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "i",
                    hash: {},
                    data: i
                }) : o)) + "</td>\n                    <td>\n                        " + d((o = null != (o = a.name || (null != n ? n.name : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "name",
                    hash: {},
                    data: i
                }) : o)) + "\n                    </td>\n                    <td>" + d((o = null != (o = a.joinNumber || (null != n ? n.joinNumber : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "joinNumber",
                    hash: {},
                    data: i
                }) : o)) + "</td>\n                    <td>" + d((a.dateMinute || n && n.dateMinute || u).call(c, null != n ? n.endTime : n, {
                    name: "dateMinute",
                    hash: {},
                    data: i
                })) + "</td>\n                    <td>" + d(e.lambda(null != (l = null != n ? n.publishMember : n) ? l.fullName : l, n)) + "</td>\n                    <td>" + d((a.map || n && n.map || u).call(c, "exam-vote-status", null != n ? n.status : n, {
                    name: "map",
                    hash: {},
                    data: i
                })) + '</td>\n                    <td class="operation">\n' + (null != (l = a.if.call(c, null != n ? n.draft : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(7, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = a.if.call(c, null != n ? n.going : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(10, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + (null != (l = a.if.call(c, null != n ? n.end : n, {
                    name: "if",
                    hash: {},
                    fn: e.program(12, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + "                    </td>\n                </tr>\n"
            },
            7: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = "function", p = e.escapeExpression;
                return '                            <a id="publish-' + p((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                typeof o === d ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" data-name="id" data-value="' + p((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                typeof o === d ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" class="' + (null != (l = a.if.call(c, null != (l = null != r[1] ? r[1].state : r[1]) ? l.readOnly : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '">' + p((a.string || n && n.string || u).call(c, "exam.buttons.publish", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ' | </a>\n                            <a id="edit-' + p((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                typeof o === d ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" data-name="id" data-value="' + p((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                typeof o === d ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" class="' + (null != (l = a.if.call(c, null != (l = null != r[1] ? r[1].state : r[1]) ? l.readOnly : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '">' + p((a.string || n && n.string || u).call(c, "exam.buttons.edit", {
                    name: "string",
                    hash: {},
                    data: i
                })) + ' | </a>\n                            <a id="del-' + p((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                typeof o === d ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" data-name="id" data-value="' + p((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                typeof o === d ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" class="' + (null != (l = a.if.call(c, null != (l = null != r[1] ? r[1].state : r[1]) ? l.readOnly : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '">' + p((a.string || n && n.string || u).call(c, "exam.buttons.del", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            8: function(e, n, a, t, i) {
                return "hidden"
            },
            10: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '                            <a id="summary-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" data-name="id" data-value="' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '">' + d((a.string || n && n.string || u).call(c, "exam.vote.statistics", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n                            <span class="' + (null != (l = a.if.call(c, null != (l = null != r[1] ? r[1].state : r[1]) ? l.readOnly : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '"> | </span>\n                            <a id="end-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" data-name="id" data-value="' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" class="' + (null != (l = a.if.call(c, null != (l = null != r[1] ? r[1].state : r[1]) ? l.readOnly : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '">' + d((a.string || n && n.string || u).call(c, "exam.buttons.end", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            12: function(e, n, a, t, i, s, r) {
                var l, o, c = null != n ? n : {}, u = a.helperMissing, d = e.escapeExpression;
                return '                            <a id="summary-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" data-name="id" data-value="' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '">' + d((a.string || n && n.string || u).call(c, "exam.vote.statistics", {
                    name: "string",
                    hash: {},
                    data: i
                })) + '</a>\n                            <span class="' + (null != (l = a.if.call(c, null != (l = null != r[1] ? r[1].state : r[1]) ? l.readOnly : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '"> | </span>\n                            <a id="del-' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" data-name="id" data-value="' + d((o = null != (o = a.id || (null != n ? n.id : n)) ? o : u,
                "function" == typeof o ? o.call(c, {
                    name: "id",
                    hash: {},
                    data: i
                }) : o)) + '" class="' + (null != (l = a.if.call(c, null != (l = null != r[1] ? r[1].state : r[1]) ? l.readOnly : l, {
                    name: "if",
                    hash: {},
                    fn: e.program(8, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "") + '">' + d((a.string || n && n.string || u).call(c, "exam.buttons.del", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</a>\n"
            },
            14: function(e, n, a, t, i) {
                return '                    <tr class="nothing-content"><td colspan="9"><div class="content-empty"><div class="img-box img-type-1"></div><p>' + e.escapeExpression((a.string || n && n.string || a.helperMissing).call(null != n ? n : {}, "no-data", {
                    name: "string",
                    hash: {},
                    data: i
                })) + "</p></div></td></tr>"
            },
            compiler: [7, ">= 4.0.0"],
            main: function(e, n, a, t, i, s, r) {
                var l, o, c, u = null != n ? n : {}, d = a.helperMissing, p = "";
                return o = null != (o = a.module || (null != n ? n.module : n)) ? o : d,
                c = {
                    name: "module",
                    hash: {},
                    fn: e.program(1, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                },
                l = "function" == typeof o ? o.call(u, c) : o,
                a.module || (l = a.blockHelperMissing.call(n, l, c)),
                null != l && (p += l),
                p + "\n" + (null != (l = (a.view || n && n.view || d).call(u, "main", {
                    name: "view",
                    hash: {},
                    fn: e.program(3, i, 0, s, r),
                    inverse: e.noop,
                    data: i
                })) ? l : "")
            },
            useData: !0,
            useDepths: !0
        })
    }
    , {
        "handlebars/runtime": "handlebars/runtime"
    }],
    "./app/exam/vote/view-main": [function(e, n, a) {
        var t = e("lodash/collection")
          , i = e("drizzlejs")
          , s = e("./app/util/strings")
          , r = {
            1: {
                draft: !0
            },
            3: {
                going: !0
            },
            4: {
                end: !0
            }
        };
        a.bindings = {
            state: !1,
            votes: !0
        },
        a.components = [{
            id: "pager",
            name: "pager",
            options: {
                model: "votes"
            }
        }],
        a.events = {
            "click btnAdd": "addVote",
            "click summary-*": "summary",
            "click edit-*": "edit"
        },
        a.handlers = {
            summary: function(e) {
                var n = this.module.items["exam/vote/summary"]
                  , a = this.bindings.state.data.businessId;
                this.app.viewport.modal(n, {
                    researchQuestionaryId: e,
                    businessId: a,
                    callback: function() {}
                })
            },
            handleDel: function(e) {
                var n = this;
                this.app.viewport.ground(n.module.items["train/project/add-plan"], {
                    callbacks: function(e) {
                        return n.module.dispatch("save", e).then(function() {
                            n.module.dispatch("refreshCurrentList", n.bindings.search.getQueryParams())
                        })
                    },
                    id: e,
                    readonly: !0
                })
            },
            addVote: function() {
                var e = this.module.items["exam/vote/add-vote"]
                  , n = this.bindings.state.data.businessId
                  , a = this;
                this.app.viewport.popup(e, {
                    businessId: n,
                    callbacks: function() {
                        return a.module.dispatch("refreshList")
                    }
                })
            },
            edit: function(e) {
                var n = this.module.items["exam/vote/add-vote"]
                  , a = this
                  , t = this.bindings.state.data.businessId;
                this.app.viewport.popup(n, {
                    businessId: t,
                    id: e,
                    callbacks: function() {
                        return a.module.dispatch("refreshList")
                    }
                })
            },
            statistics: function() {
                return !0
            }
        },
        a.dataForTemplate = {
            votes: function(e) {
                var n = this.bindings.votes.params
                  , a = (n.page - 1) * n.pageSize;
                return t.map(e.votes || [], function(e, n) {
                    var t = e;
                    return t.i = a + n + 1,
                    i.assign(t, r[t.status]),
                    t
                })
            }
        },
        a.actions = {
            "click del-*": "handleDel",
            "click end-*": "handleEnd",
            "click publish-*": "handlePublish"
        },
        a.dataForActions = {
            handleDel: function(e) {
                var n = this
                  , a = {
                    id: e.id
                };
                return this.Promise.create(function(e) {
                    var t = s.get("train.view-main.whether-or-not-to-delete");
                    n.app.message.confirm(t, function() {
                        e(a)
                    }, function() {
                        e(!1)
                    })
                })
            },
            handleEnd: function(e) {
                var n = this
                  , a = {
                    id: e.id
                };
                return this.Promise.create(function(e) {
                    var t = s.get("train.view-main.determine-end-vote");
                    n.app.message.confirm(t, function() {
                        e(a)
                    }, function() {
                        e(!1)
                    })
                })
            },
            handlePublish: function(e) {
                var n = this
                  , a = {
                    id: e.id
                };
                return this.Promise.create(function(e) {
                    var t = s.get("train.view-main.determine-release-vote");
                    n.app.message.confirm(t, function() {
                        e(a)
                    }, function() {
                        e(!1)
                    })
                })
            }
        },
        a.actionCallbacks = {
            view: function() {
                this.app.viewport.popup(this.module.items.view)
            },
            handleDel: function() {
                this.app.message.success(s.get("delete-success")),
                this.module.dispatch("refreshList")
            },
            handleEnd: function() {
                this.app.message.success(s.get("train.view-main.end-vote")),
                this.module.dispatch("refreshList")
            },
            handlePublish: function() {
                this.app.message.success(s.get("publish-success")),
                this.module.dispatch("refreshList")
            }
        }
    }
    , {
        "./app/util/strings": "./app/util/strings",
        drizzlejs: "drizzlejs",
        "lodash/collection": "lodash/collection"
    }]
}, {}, []);
